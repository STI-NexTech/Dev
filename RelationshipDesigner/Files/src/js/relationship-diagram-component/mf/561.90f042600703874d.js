(self.webpackChunkapp_studio_enterprise_relationship_diagram=self.webpackChunkapp_studio_enterprise_relationship_diagram||[]).push([[561,2942],{32942:(m,h,o)=>{o.r(h),o.d(h,{CrtBaseEditInputComponent:()=>i,DISABLE_DEFAULT_COMPONENT_LOADER_VISIBILITY_DELAY_NAME:()=>_,defaultComponentLoaderVisibilityDelayProvider:()=>b});var t=o(5960),s=o(59131),r=o(56711),a=o(38495),u=o(47742),d=o(21018),p=o(62278),c=o(36486);class i extends u.CrtBaseComponent{get _isResponsible(){return this.displayLabelPosition==="auto"}set placeholder(e){this._placeholder=e}get placeholder(){return this._placeholder}set disabled(e){this._disabled=!!e,this.control&&this._setDisabledState()}get skeletonStyles(){return{height:this._displayLabelPosition==="above"?"52px":"32px"}}set control(e){e??=new r.FormControl(this.defaultValue),this.controlDestroyed$.next(),this._control=e,this._setDisabledState(),this._calculateRequired(),this._updateOnControlStatusChanged()}get control(){return this._control}set labelPosition(e){this._initialLabelPosition=e||"auto",this.isAutoLabelPosition=this._initialLabelPosition==="auto",this._initLabelPosition()}get labelPosition(){return this._initialLabelPosition}get invalid(){return this.control.invalid&&(this.control.dirty||this.control.touched)}get displayLabelPosition(){return this.containerQueryMechanismAvailable?this._initialLabelPosition:this._displayLabelPosition}get containerQueryMechanismAvailable(){return!this.disableContainerQueryMechanism}constructor(e,n,l){super(e),this.defaultValue=n,this.changeDetectorRef=l,this._initialLabelPosition="auto",this._placeholder="",this.destroyed$=new p.Subject,this.controlDestroyed$=new p.Subject,this.disableContainerQueryMechanism=!1,this.isAutoLabelPosition=!0,this._baseClass="crt-base-edit-input",this.keyUp=new s.EventEmitter,this.keyDown=new s.EventEmitter,this.blurred=new s.EventEmitter,this.focused=new s.EventEmitter,this.label="",this.ariaLabel="",this.appearance="legacy",this.labelOverModeResponsiveSize=320,this.required=!1,this.inputId=(0,a.generateGuid)(),this._initControl(n),this.disableContainerQueryMechanism=e.get(d.FEATURE_VALUES,null,{optional:!0})?.DisableContainerQueryMechanism,this._measurePerformanceService=e.get(d.MeasurePerformanceService)}_getDisplayLabelPosition(e){return this._initialLabelPosition==null||this._initialLabelPosition==="auto"?(e??=this.elementRef?.nativeElement?.getBoundingClientRect()?.width,e>this.labelOverModeResponsiveSize?"left":"above"):this._initialLabelPosition}_initLabelPosition(){this.containerQueryMechanismAvailable||this._measurePerformanceService.measure("_getDisplayLabelPosition",()=>{this._displayLabelPosition=this._getDisplayLabelPosition()})}_calculateRequired(){const e=this.control?.validator,n=e&&e(new r.FormControl(this.defaultValue));this.required=!!n?.required}_initControl(e){this.control=new r.FormControl(e)}_updateOnControlStatusChanged(){this._control.statusChanges.pipe((0,c.takeUntil)(this.controlDestroyed$),(0,c.observeOn)(p.asapScheduler)).subscribe(()=>{this._calculateRequired(),this.changeDetectorRef.detectChanges()})}_setDisabledState(){this._disabled!==void 0&&this.control.disabled!==this._disabled&&(this._disabled?this.control.disable():this.control.enable())}ngAfterViewInit(){this.isAutoLabelPosition!==!1&&(this._initLabelPosition(),this.changeDetectorRef.detectChanges())}ngOnDestroy(){this.controlDestroyed$.next(),this.controlDestroyed$.complete(),this.destroyed$.next(),this.destroyed$.complete()}onResized(e){this.containerQueryMechanismAvailable||(this._displayLabelPosition=this._getDisplayLabelPosition(e?.width))}static{this.\u0275fac=function(n){s.\u0275\u0275invalidFactory()}}static{this.\u0275dir=s.\u0275\u0275defineDirective({type:i,hostVars:4,hostBindings:function(n,l){n&2&&(s.\u0275\u0275classMap(l._baseClass),s.\u0275\u0275classProp("crt-base-edit-input-responsible",l._isResponsible))},inputs:{label:"label",ariaLabel:"ariaLabel",appearance:"appearance",placeholder:"placeholder",disabled:"disabled",tooltip:"tooltip",control:"control",labelPosition:"labelPosition"},outputs:{keyUp:"keyUp",keyDown:"keyDown",blurred:"blurred",focused:"focused"},features:[s.\u0275\u0275InheritDefinitionFeature]})}}(0,t.__decorate)([(0,a.CrtOutput)(),(0,t.__metadata)("design:type",Object)],i.prototype,"keyUp",void 0),(0,t.__decorate)([(0,a.CrtOutput)(),(0,t.__metadata)("design:type",Object)],i.prototype,"keyDown",void 0),(0,t.__decorate)([(0,a.CrtOutput)(),(0,t.__metadata)("design:type",Object)],i.prototype,"blurred",void 0),(0,t.__decorate)([(0,a.CrtOutput)(),(0,t.__metadata)("design:type",Object)],i.prototype,"focused",void 0),(0,t.__decorate)([(0,a.CrtInput)(),(0,t.__metadata)("design:type",Object)],i.prototype,"label",void 0),(0,t.__decorate)([(0,a.CrtInput)(),(0,t.__metadata)("design:type",Object)],i.prototype,"ariaLabel",void 0),(0,t.__decorate)([(0,a.CrtInput)(),(0,t.__metadata)("design:type",String)],i.prototype,"appearance",void 0),(0,t.__decorate)([(0,a.CrtInput)(),(0,t.__metadata)("design:type",String),(0,t.__metadata)("design:paramtypes",[String])],i.prototype,"placeholder",null),(0,t.__decorate)([(0,a.CrtInput)({propertyBindable:!0,defaultValue:!1,propertyName:a.ViewElementProperty.Disabled}),(0,t.__metadata)("design:type",Boolean),(0,t.__metadata)("design:paramtypes",[Boolean])],i.prototype,"disabled",null),(0,t.__decorate)([(0,a.CrtInput)(),(0,t.__metadata)("design:type",String)],i.prototype,"tooltip",void 0),(0,t.__decorate)([(0,a.CrtInput)(),(0,t.__metadata)("design:type",r.FormControl),(0,t.__metadata)("design:paramtypes",[r.FormControl])],i.prototype,"control",null),(0,t.__decorate)([(0,a.CrtInput)(),(0,t.__metadata)("design:type",Object),(0,t.__metadata)("design:paramtypes",[Object])],i.prototype,"labelPosition",null);const _="DisableDefaultComponentLoaderVisibilityDelay",b={provide:u.COMPONENT_LOADER_VISIBILITY_DELAY,useFactory:y=>y?.[_]?0:2500,deps:[[new s.Optional,d.FEATURE_VALUES]]}}}]);
