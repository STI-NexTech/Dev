(self.webpackChunkapp_studio_enterprise_schema_view=self.webpackChunkapp_studio_enterprise_schema_view||[]).push([[8902],{86521:(p,l,n)=>{n.r(l),n.d(l,{BaseFilterPreprocessor:()=>d,HandlerBasedPreprocessor:()=>u});class d{constructor(){this.isNewStructure=e=>!!e._filterOptions}_getOrCreateModelFilters(e){const t=e.modelConfig;return t.filterAttributes||(t.filterAttributes=[]),t.filterAttributes}_setFilterToModelFilters(e,t,i){const r=this.getAttributeModelFilters(e,t);r.some(o=>o.name===i)||r.push({name:i,loadOnChange:!0})}getFilterAttributeName(e,t){return`${e}_${t}`}getAttributeModelFilters(e,t){const i=e[t];return i?.modelConfig?this._getOrCreateModelFilters(i):[]}createAttributeIfNeed(e,t,i){t in e||(e[t]=i)}setFilterAttribute(e,t,i){const r=this.getFilterAttributeName(t,i),s=e.viewModelConfig.attributes;this.createAttributeIfNeed(s,r,{value:{}}),this._setFilterToModelFilters(s,i,r)}}var a=n(73308),f=n(21018);class u{getViewConfigsByType(e,t){return(f.MetadataSchemaUtils.getViewConfigInfoByPropertyForValues("type",[e],t.viewConfig)||[]).map(i=>i?.viewConfig).filter(Boolean)}processElementsOnMetadataInit(e,t,i){var r=this;return(0,a.A)(function*(){const s=r.getViewConfigsByType(e,i);yield Promise.all(s.map(o=>t?.handle({metadata:i,viewConfig:o})))})()}processElementsOnModelInit(e,t,i,r){var s=this;return(0,a.A)(function*(){const o=s.getViewConfigsByType(e,i);yield Promise.all(o.map(c=>t?.handle({metadata:i,viewConfig:c,models:r})))})()}}}}]);
