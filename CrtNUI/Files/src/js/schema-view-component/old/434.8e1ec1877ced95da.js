"use strict";(self.webpackChunkapp_studio_enterprise_schema_view=self.webpackChunkapp_studio_enterprise_schema_view||[]).push([[434],{66434:(E,h,o)=>{o.r(h),o.d(h,{GoogleAnalyticsLoginHandler:()=>c,GoogleAnalyticsLoginRequest:()=>S,GoogleAnalyticsModule:()=>O});var g=o(97270),a=o(76696),i=o(99314),p=o(93289),r=o(44537),m=o(86731),u=o(96590),b=o(16837),d=o(96091),A=o(27643),_=o(69244),y=o(24037);let c=class extends y.NM{constructor(M,f,L,R,T,k){super(f,L,R,T,k),this.translateService=M,this.httpClient=f,this.notifyService=L,this.restErrorHandler=R,this.sessionIdentifierService=T,this.window=k}getInvalidPlatformMessage(){return this.translateService.instant("GoogleAnalytics.PlatformUndefinedMessage")}getInvalidApplicationMessage(){return this.translateService.instant("GoogleAnalytics.ApplicationUndefinedMessage")}};c=(0,g.Cg)([(0,r.CrtRequestHandler)({type:"crt.GoogleAnalyticsLoginHandler",requestType:"crt.GoogleAnalyticsLogin"}),(0,g.Qj)(5,(0,r.CrtInject)(u.WINDOW_TOKEN)),(0,g.Sn)("design:paramtypes",[m.c$,_.v$,A.FL,b.xsE,y.bY,Window])],c);const x={"hr-HR":JSON.parse('{"GoogleAnalytics":{"LoginRequestTitle":"Pove\u017Eite Google Analytics","NotEnoughPermissionsMessage":"\u017Dao mi je, nije mogu\u0107e povezati va\u0161 google analytics ra\u010Dun. Molimo odobrite maksimalna dopu\u0161tenja za Creatio i poku\u0161ajte ponovno.","PlatformUndefinedMessage":"Platforma nije definirana, provjerite jeste li konfigurirali platformu za gumb","ApplicationUndefinedMessage":"Aplikacija nije definirana, provjerite jeste li konfigurirali platformu za gumb"}}'),"bg-BG":JSON.parse('{"GoogleAnalytics":{"LoginRequestTitle":"\u0421\u0432\u044A\u0440\u0436\u0438 Google Analytics","NotEnoughPermissionsMessage":"\u0417\u0430 \u0441\u044A\u0436\u0430\u043B\u0435\u043D\u0438\u0435 \u043D\u0435 \u043C\u043E\u0436\u0435 \u0434\u0430 \u0441\u0435 \u0441\u0432\u044A\u0440\u0436\u0435 \u0442\u0432\u043E\u044F\u0442 \u0430\u043A\u0430\u0443\u043D\u0442 \u0432 Google Analytics. \u041C\u043E\u043B\u044F \u0434\u0430\u0439 \u043C\u0430\u043A\u0441\u0438\u043C\u0430\u043B\u043D\u0438 \u0440\u0430\u0437\u0440\u0435\u0448\u0435\u043D\u0438\u044F \u043D\u0430 Creatio \u0438 \u043E\u043F\u0438\u0442\u0430\u0439 \u043E\u0442\u043D\u043E\u0432\u043E!","PlatformUndefinedMessage":"\u041F\u043B\u0430\u0442\u0444\u043E\u0440\u043C\u0430\u0442\u0430 \u0435 \u043D\u0435\u0434\u0435\u0444\u0438\u043D\u0438\u0440\u0430\u043D\u0430, \u043D\u0435 \u0437\u0430\u0431\u0440\u0430\u0432\u044F\u0439\u0442\u0435 \u0434\u0430 \u043A\u043E\u043D\u0444\u0438\u0433\u0443\u0440\u0438\u0440\u0430\u0442\u0435 \u043F\u043B\u0430\u0442\u0444\u043E\u0440\u043C\u0430\u0442\u0430 \u0437\u0430 \u0431\u0443\u0442\u043E\u043D\u0430","ApplicationUndefinedMessage":"\u041F\u0440\u0438\u043B\u043E\u0436\u0435\u043D\u0438\u0435\u0442\u043E \u0435 \u043D\u0435\u0434\u0435\u0444\u0438\u043D\u0438\u0440\u0430\u043D\u043E, \u043D\u0435 \u0437\u0430\u0431\u0440\u0430\u0432\u044F\u0439\u0442\u0435 \u0434\u0430 \u043A\u043E\u043D\u0444\u0438\u0433\u0443\u0440\u0438\u0440\u0430\u0442\u0435 \u043F\u043B\u0430\u0442\u0444\u043E\u0440\u043C\u0430\u0442\u0430 \u0437\u0430 \u0431\u0443\u0442\u043E\u043D\u0430"}}'),"hu-HU":JSON.parse('{"GoogleAnalytics":{"LoginRequestTitle":"Connect google analytics","NotEnoughPermissionsMessage":"Sorry, unable to connect your google analytics account. Please grant maximum permissions to Creatio and try again.","PlatformUndefinedMessage":"Platform undefined, gy\u0151z\u0151dj\xF6n meg r\xF3la, hogy konfigur\xE1lja a platform ellens\xE9get a gombbal","ApplicationUndefinedMessage":"Az alkalmaz\xE1s nincs defini\xE1lva, \xFCgyeljen arra, hogy konfigur\xE1lja a platform ellens\xE9get a gombbal"}}'),"zh-CN":JSON.parse('{"GoogleAnalytics":{"LoginRequestTitle":"Connect google analytics","NotEnoughPermissionsMessage":"Sorry, unable to connect your google analytics account. Please grant maximum permissions to Creatio and try again.","PlatformUndefinedMessage":"Platform undefined, make sure to configure platform foe the button","ApplicationUndefinedMessage":"Application undefined, make sure to configure platform foe the button"}}'),"uk-UA":JSON.parse('{"GoogleAnalytics":{"LoginRequestTitle":"\u041F\u0456\u0434\u043A\u043B\u044E\u0447\u0438\u0442\u0438 Google Analytics","NotEnoughPermissionsMessage":"\u041D\u0430 \u0436\u0430\u043B\u044C, \u043D\u0435 \u0432\u0434\u0430\u043B\u043E\u0441\u044F \u043F\u0456\u0434\u043A\u043B\u044E\u0447\u0438\u0442\u0438 \u0432\u0430\u0448 \u0430\u043A\u043A\u0430\u0443\u043D\u0442 Google analytics. \u0411\u0443\u0434\u044C \u043B\u0430\u0441\u043A\u0430, \u043D\u0430\u0434\u0430\u0439\u0442\u0435 \u043C\u0430\u043A\u0441\u0438\u043C\u0430\u043B\u044C\u043D\u0456 \u043F\u0440\u0430\u0432\u0430 \u0434\u043E\u0437\u0432\u043E\u043B\u0443 \u0434\u043B\u044F Creatio \u0456 \u0441\u043F\u0440\u043E\u0431\u0443\u0439\u0442\u0435 \u0449\u0435 \u0440\u0430\u0437.","PlatformUndefinedMessage":"\u041F\u043B\u0430\u0442\u0444\u043E\u0440\u043C\u0430 \u043D\u0435 \u0432\u0438\u0437\u043D\u0430\u0447\u0435\u043D\u0430. \u041F\u0435\u0440\u0435\u043A\u043E\u043D\u0430\u0439\u0442\u0435\u0441\u044F, \u0449\u043E \u043F\u043B\u0430\u0442\u0444\u043E\u0440\u043C\u0430 \u043D\u0430\u043B\u0430\u0448\u0442\u043E\u0432\u0430\u043D\u0430 \u0434\u043B\u044F \u043A\u043D\u043E\u043F\u043A\u0438.","ApplicationUndefinedMessage":"\u0417\u0430\u0441\u0442\u043E\u0441\u0443\u043D\u043E\u043A \u043D\u0435 \u0432\u0438\u0437\u043D\u0430\u0447\u0435\u043D\u0438\u0439. \u041F\u0435\u0440\u0435\u043A\u043E\u043D\u0430\u0439\u0442\u0435\u0441\u044F, \u0449\u043E \u043F\u043B\u0430\u0442\u0444\u043E\u0440\u043C\u0430 \u043D\u0430\u043B\u0430\u0448\u0442\u043E\u0432\u0430\u043D\u0430 \u0434\u043B\u044F \u043A\u043D\u043E\u043F\u043A\u0438."}}'),"sq-AL":JSON.parse('{"GoogleAnalytics":{"LoginRequestTitle":"Connect google analytics","NotEnoughPermissionsMessage":"Sorry, unable to connect your google analytics account. Please grant maximum permissions to Creatio and try again.","PlatformUndefinedMessage":"Platform undefined, make sure to configure platform foe the button","ApplicationUndefinedMessage":"Application undefined, make sure to configure platform foe the button"}}'),"zh-TW":JSON.parse('{"GoogleAnalytics":{"LoginRequestTitle":"Connect google analytics","NotEnoughPermissionsMessage":"Sorry, unable to connect your google analytics account. Please grant maximum permissions to Creatio and try again.","PlatformUndefinedMessage":"Platform undefined, make sure to configure platform foe the button","ApplicationUndefinedMessage":"Application undefined, make sure to configure platform foe the button"}}'),"no-NO":JSON.parse('{"GoogleAnalytics":{}}'),zh:JSON.parse('{"GoogleAnalytics":{}}'),"vi-VN":JSON.parse('{"GoogleAnalytics":{"LoginRequestTitle":"Connect google analytics","NotEnoughPermissionsMessage":"Sorry, unable to connect your google analytics account. Please grant maximum permissions to Creatio and try again.","PlatformUndefinedMessage":"Platform undefined, make sure to configure platform foe the button","ApplicationUndefinedMessage":"Application undefined, make sure to configure platform foe the button"}}'),"tr-TR":JSON.parse('{"GoogleAnalytics":{"LoginRequestTitle":"Connect google analytics","NotEnoughPermissionsMessage":"Sorry, unable to connect your google analytics account. Please grant maximum permissions to Creatio and try again.","PlatformUndefinedMessage":"Platform undefined, make sure to configure platform foe the button","ApplicationUndefinedMessage":"Application undefined, make sure to configure platform foe the button"}}'),"th-TH":JSON.parse('{"GoogleAnalytics":{"LoginRequestTitle":"Connect google analytics","NotEnoughPermissionsMessage":"Sorry, unable to connect your google analytics account. Please grant maximum permissions to Creatio and try again.","PlatformUndefinedMessage":"Platform undefined, make sure to configure platform foe the button","ApplicationUndefinedMessage":"Application undefined, make sure to configure platform foe the button"}}'),"sv-SE":JSON.parse('{"GoogleAnalytics":{"LoginRequestTitle":"Connect google analytics","NotEnoughPermissionsMessage":"Sorry, unable to connect your google analytics account. Please grant maximum permissions to Creatio and try again.","PlatformUndefinedMessage":"Platform undefined, make sure to configure platform foe the button","ApplicationUndefinedMessage":"Application undefined, make sure to configure platform foe the button"}}'),"ro-RO":JSON.parse('{"GoogleAnalytics":{"LoginRequestTitle":"Connect google analytics","NotEnoughPermissionsMessage":"Sorry, unable to connect your google analytics account. Please grant maximum permissions to Creatio and try again.","PlatformUndefinedMessage":"Platform\u0103 nedefinit\u0103, asigura\u021Bi-v\u0103 c\u0103 a\u021Bi configurat platforma","ApplicationUndefinedMessage":"Aplica\u021Bie nedefinit\u0103, asigura\u021Bi-v\u0103 c\u0103 a\u021Bi configurat platforma"}}'),"pt-PT":JSON.parse('{"GoogleAnalytics":{"LoginRequestTitle":"Connect google analytics","NotEnoughPermissionsMessage":"Sorry, unable to connect your google analytics account. Please grant maximum permissions to Creatio and try again.","PlatformUndefinedMessage":"Platform undefined, make sure to configure platform foe the button","ApplicationUndefinedMessage":"Application undefined, make sure to configure platform foe the button"}}'),"pt-BR":JSON.parse('{"GoogleAnalytics":{"LoginRequestTitle":"Conectar-se ao Google Analytics","NotEnoughPermissionsMessage":"Desculpe-nos, n\xE3o foi poss\xEDvel conectar-se \xE0 sua conta do Google Analytics. Favor, conceder permiss\xF5es m\xE1ximas ao Creatio e tentar novamente.","PlatformUndefinedMessage":"Plataforma indefinida, certificar-se de configurar a plataforma para o bot\xE3o","ApplicationUndefinedMessage":"Aplica\xE7\xE3o indefinida, certificar-se de configurar a plataforma para o bot\xE3o"}}'),"pl-PL":JSON.parse('{"GoogleAnalytics":{"LoginRequestTitle":"Po\u0142\u0105cz Google Analytics","NotEnoughPermissionsMessage":"Przepraszamy, nie mo\u017Cna po\u0142\u0105czy\u0107 konta Google Analytics. Prosz\u0119 przyzna\u0107 Creatio maksymalne uprawnienia i spr\xF3bowa\u0107 ponownie.","PlatformUndefinedMessage":"Platforma niezdefiniowana, upewnij si\u0119, \u017Ce platforma przycisku jest skonfigurowana","ApplicationUndefinedMessage":"Aplikacja niezdefiniowana, upewnij si\u0119, \u017Ce platforma przycisku jest skonfigurowana"}}'),no:JSON.parse('{"GoogleAnalytics":{}}'),"nl-NL":JSON.parse('{"GoogleAnalytics":{"LoginRequestTitle":"Connect google analytics","NotEnoughPermissionsMessage":"Sorry, unable to connect your google analytics account. Please grant maximum permissions to Creatio and try again.","PlatformUndefinedMessage":"Platform undefined, make sure to configure platform foe the button","ApplicationUndefinedMessage":"Application undefined, make sure to configure platform foe the button"}}'),"lv-LV":JSON.parse('{"GoogleAnalytics":{"LoginRequestTitle":"Connect google analytics","NotEnoughPermissionsMessage":"Sorry, unable to connect your google analytics account. Please grant maximum permissions to Creatio and try again.","PlatformUndefinedMessage":"Platform undefined, make sure to configure platform foe the button","ApplicationUndefinedMessage":"Application undefined, make sure to configure platform foe the button"}}'),"ko-KR":JSON.parse('{"GoogleAnalytics":{"LoginRequestTitle":"Connect google analytics","NotEnoughPermissionsMessage":"Sorry, unable to connect your google analytics account. Please grant maximum permissions to Creatio and try again.","PlatformUndefinedMessage":"\uD50C\uB7AB\uD3FC\uC774 \uC815\uC758\uB418\uC9C0 \uC54A\uC558\uC2B5\uB2C8\uB2E4. \uBC84\uD2BC\uC5D0 \uB300\uD574 \uD50C\uB7AB\uD3FC\uC744 \uAD6C\uC131\uD574\uC57C \uD569\uB2C8\uB2E4","ApplicationUndefinedMessage":"\uC751\uC6A9 \uD504\uB85C\uADF8\uB7A8\uC774 \uC815\uC758\uB418\uC9C0 \uC54A\uC558\uC2B5\uB2C8\uB2E4. \uBC84\uD2BC\uC5D0 \uB300\uD574 \uD50C\uB7AB\uD3FC\uC744 \uAD6C\uC131\uD574\uC57C \uD569\uB2C8\uB2E4"}}'),"kk-KZ":JSON.parse('{"GoogleAnalytics":{}}'),"ja-JP":JSON.parse('{"GoogleAnalytics":{"LoginRequestTitle":"Connect google analytics","NotEnoughPermissionsMessage":"Sorry, unable to connect your google analytics account. Please grant maximum permissions to Creatio and try again.","PlatformUndefinedMessage":"\u30D7\u30E9\u30C3\u30C8\u30D5\u30A9\u30FC\u30E0\u304C\u672A\u5B9A\u7FA9\u3067\u3059\u3002\u30D7\u30E9\u30C3\u30C8\u30D5\u30A9\u30FC\u30E0\u304C\u30DC\u30BF\u30F3\u3092\u76F8\u624B\u306B\u8A2D\u5B9A\u3059\u308B\u3088\u3046\u306B\u3057\u3066\u304F\u3060\u3055\u3044\u3002","ApplicationUndefinedMessage":"\u30A2\u30D7\u30EA\u30B1\u30FC\u30B7\u30E7\u30F3\u304C\u672A\u5B9A\u7FA9\u3067\u3059\u3002\u30D7\u30E9\u30C3\u30C8\u30D5\u30A9\u30FC\u30E0\u304C\u30DC\u30BF\u30F3\u3092\u76F8\u624B\u306B\u8A2D\u5B9A\u3059\u308B\u3088\u3046\u306B\u3057\u3066\u304F\u3060\u3055\u3044\u3002"}}'),"it-IT":JSON.parse('{"GoogleAnalytics":{"LoginRequestTitle":"Connetti Google Analytics","NotEnoughPermissionsMessage":"Siamo spiacenti, non siamo in grado di collegare il tuo account Google analytics. Per favore concedi il massimo dei permessi a Creatio e riprova.","PlatformUndefinedMessage":"Piattaforma indefinita, assicurati di configurare la piattaforma per il pulsante","ApplicationUndefinedMessage":"Applicazione non definita, assicurati di configurare la piattaforma per il pulsante"}}'),"id-ID":JSON.parse('{"GoogleAnalytics":{"LoginRequestTitle":"Connect google analytics","NotEnoughPermissionsMessage":"Sorry, unable to connect your google analytics account. Please grant maximum permissions to Creatio and try again.","PlatformUndefinedMessage":"Platform undefined, make sure to configure platform foe the button","ApplicationUndefinedMessage":"Application undefined, make sure to configure platform foe the button"}}'),"he-IL":JSON.parse('{"GoogleAnalytics":{"LoginRequestTitle":"Connect google analytics","NotEnoughPermissionsMessage":"Sorry, unable to connect your google analytics account. Please grant maximum permissions to Creatio and try again.","PlatformUndefinedMessage":"Platform undefined, make sure to configure platform foe the button","ApplicationUndefinedMessage":"Application undefined, make sure to configure platform foe the button"}}'),"fr-FR":JSON.parse('{"GoogleAnalytics":{"LoginRequestTitle":"Connect google analytics","NotEnoughPermissionsMessage":"Sorry, unable to connect your google analytics account. Please grant maximum permissions to Creatio and try again.","PlatformUndefinedMessage":"Plateforme non d\xE9finie, assurez-vous de configurer la plateforme pour le bouton","ApplicationUndefinedMessage":"Application non d\xE9finie, assurez-vous de configurer la plateforme pour le bouton"}}'),"fr-CA":JSON.parse('{"GoogleAnalytics":{}}'),"fa-IR":JSON.parse('{"GoogleAnalytics":{}}'),"es-ES":JSON.parse('{"GoogleAnalytics":{"LoginRequestTitle":"Connect google analytics","NotEnoughPermissionsMessage":"Sorry, unable to connect your google analytics account. Please grant maximum permissions to Creatio and try again.","PlatformUndefinedMessage":"Plataforma indefinida, aseg\xFArate de configurar el bot\xF3n foe de la plataforma","ApplicationUndefinedMessage":"Aplicaci\xF3n indefinida, aseg\xFArate de configurar el bot\xF3n foe de la plataforma"}}'),"de-DE":JSON.parse('{"GoogleAnalytics":{"LoginRequestTitle":"Connect google analytics","NotEnoughPermissionsMessage":"Sorry, unable to connect your google analytics account. Please grant maximum permissions to Creatio and try again.","PlatformUndefinedMessage":"Platform undefined, make sure to configure platform foe the button","ApplicationUndefinedMessage":"Application undefined, make sure to configure platform foe the button"}}'),"cs-CZ":JSON.parse('{"GoogleAnalytics":{"LoginRequestTitle":"Connect google analytics","NotEnoughPermissionsMessage":"Sorry, unable to connect your google analytics account. Please grant maximum permissions to Creatio and try again.","PlatformUndefinedMessage":"Platform undefined, make sure to configure platform foe the button","ApplicationUndefinedMessage":"Application undefined, make sure to configure platform foe the button"}}'),"ar-SA":JSON.parse('{"GoogleAnalytics":{"LoginRequestTitle":"Connect google analytics","NotEnoughPermissionsMessage":"Sorry, unable to connect your google analytics account. Please grant maximum permissions to Creatio and try again.","PlatformUndefinedMessage":"Platform undefined, make sure to configure platform foe the button","ApplicationUndefinedMessage":"Application undefined, make sure to configure platform foe the button"}}'),"en-US":JSON.parse('{"GoogleAnalytics":{"LoginRequestTitle":"Connect google analytics","NotEnoughPermissionsMessage":"Sorry, unable to connect your google analytics account. Please grant maximum permissions to Creatio and try again.","PlatformUndefinedMessage":"Platform undefined, make sure to configure platform foe the button","ApplicationUndefinedMessage":"Application undefined, make sure to configure platform foe the button"}}'),"ru-RU":JSON.parse('{"GoogleAnalytics":{"LoginRequestTitle":"\u041F\u043E\u0434\u043A\u043B\u044E\u0447\u0438\u0442\u044C \u0440\u0435\u043A\u043B\u0430\u043C\u043D\u0443\u044E \u043F\u043B\u0430\u0442\u0444\u043E\u0440\u043C\u0443","NotEnoughPermissionsMessage":"\u041D\u0435 \u0443\u0434\u0430\u043B\u043E\u0441\u044C \u043F\u043E\u0434\u043A\u043B\u044E\u0447\u0438\u0442\u044C \u0432\u0430\u0448 \u0430\u043A\u043A\u0430\u0443\u043D\u0442. \u041F\u043E\u0436\u0430\u043B\u0443\u0439\u0441\u0442\u0430, \u043F\u043E\u043F\u0440\u043E\u0431\u0443\u0439\u0442\u0435 \u0435\u0449\u0435 \u0440\u0430\u0437 \u0438 \u043F\u0440\u0435\u0434\u043E\u0441\u0442\u0430\u0432\u044C\u0442\u0435 Creatio \u043C\u0430\u043A\u0441\u0438\u043C\u0430\u043B\u044C\u043D\u044B\u0435 \u043F\u0440\u0430\u0432\u0430.","PlatformUndefinedMessage":"\u0417\u043D\u0430\u0447\u0435\u043D\u0438\u0435 \u043F\u043B\u0430\u0442\u0444\u043E\u0440\u043C\u044B \u043D\u0435 \u0437\u0430\u0434\u0430\u043D\u043D\u043E \u0432 \u043D\u0430\u0441\u0442\u0440\u043E\u0439\u043A\u0435 \u043A\u043D\u043E\u043F\u043A\u0438","ApplicationUndefinedMessage":"\u0417\u043D\u0430\u0447\u0435\u043D\u0438\u0435 \u043F\u0440\u0438\u043B\u043E\u0436\u0435\u043D\u0438\u044F \u043D\u0435 \u0437\u0430\u0434\u0430\u043D\u043D\u043E \u0432 \u043D\u0430\u0441\u0442\u0440\u043E\u0439\u043A\u0435 \u043A\u043D\u043E\u043F\u043A\u0438"}}')};function I(N,M){return()=>(0,d.lastValueFrom)(N.loadCurrentUserInfo().pipe((0,d.tap)(f=>{M.use(f?.userInfo?.cultureInfo?.sysCultureName)})),{defaultValue:null})}let O=class C{static{this.\u0275fac=function(f){return new(f||C)}}static{this.\u0275mod=i.\u0275\u0275defineNgModule({type:C})}static{this.\u0275inj=i.\u0275\u0275defineInjector({providers:[u.WINDOW_PROVIDER,{provide:i.APP_INITIALIZER,useFactory:I,deps:[b.fvr,m.c$],multi:!0}],imports:[a.CommonModule,u.CrtLibTranslateModule.forRoot({i18n:x}),p._T]})}};O=(0,g.Cg)([(0,r.CrtModule)({requestHandlers:[c]})],O),function(){(typeof ngJitMode>"u"||ngJitMode)&&i.\u0275\u0275setNgModuleScope(O,{imports:[a.CommonModule,u.CrtLibTranslateModule,p._T]})}();let S=class extends y.i8{constructor(){super(...arguments),this.type="crt.GoogleAnalyticsLogin"}};S=(0,g.Cg)([(0,r.CrtRequest)({type:"crt.GoogleAnalyticsLogin",scopes:["WebAnalytics_SectionPage"],propertiesPanelComponentTypeName:"crt.GoogleAnalyticsLoginPropertiesPanel",position:960,title:"GoogleAnalytics.LoginRequestTitle"})],S)},24037:(E,h,o)=>{o.d(h,{NM:()=>c,i8:()=>v,bY:()=>i});var g=o(35293),a=o(99314);let i=(()=>{class l{constructor(){this._storageKey="uniqueIdentifier",sessionStorage.removeItem(this._storageKey)}get identifier(){let e=sessionStorage.getItem(this._storageKey);return e||(e=(0,g.A)(),sessionStorage.setItem(this._storageKey,e)),e}static{this.\u0275fac=function(t){return new(t||l)}}static{this.\u0275prov=a.\u0275\u0275defineInjectable({token:l,factory:l.\u0275fac,providedIn:"root"})}}return l})();var p=o(73308),r=o(97270),m=o(44537),u=o(27643),b=o(96590),d=o(69244),A=o(16837),_=o(96091);class y{constructor(n,e,t){this.application=n,this.platform=e,this.websocketSessionId=t}}let c=class j extends m.BaseRequestHandler{constructor(n,e,t,s,P){super(),this.httpClient=n,this.notifyService=e,this.restErrorHandler=t,this.sessionIdentifierService=s,this.window=P,this._snackbarDuration=3e3}_validateRequest(n){return n.platform===void 0?(this._showMessage(this.getInvalidPlatformMessage()),!1):n.app===void 0?(this._showMessage(this.getInvalidApplicationMessage()),!1):!0}_getFlowUrl(n){const e=this.sessionIdentifierService.identifier,t=new y(n.app,n.platform,e);return this.restErrorHandler.handleRequest(this.httpClient.post("/rest/SocialOAuthProxyService/AuthenticateToPlatform",t,{responseType:"json"})).pipe((0,_.map)(s=>{if(s.body!=="")return new URL(s.body)}))}_showMessage(n){var e=this;return(0,p.A)(function*(){yield e.notifyService.show({message:n,duration:e._snackbarDuration})})()}_showLoginWindow(n){const e="Login",P=window.screenLeft+(window.innerWidth-650)/2,U=window.screenTop+(window.innerHeight-650)/2,G=`width=650,height=650,left=${P},top=${U},
		  scrollbars=no,resizable=no,status=no,location=no,toolbar=no,menubar=no`;this.window.open(n.toString(),e,G)}handle(n){var e=this;return(0,p.A)(function*(){e._context=n.$context;const t=e._context.attributes.Connect_account_button_enabled;if(t&&t===!0){e._context.attributes.Connect_account_button_enabled=!1;try{if(!e._validateRequest(n))return;e._getFlowUrl(n).subscribe(s=>{s&&e._showLoginWindow(s)})}finally{e._context.attributes.Connect_account_button_enabled=!0,yield e.next?.handle(n)}}})()}static{this.\u0275fac=function(e){return new(e||j)(a.\u0275\u0275inject(d.v$),a.\u0275\u0275inject(u.FL),a.\u0275\u0275inject(A.xsE),a.\u0275\u0275inject(i),a.\u0275\u0275inject(Window))}}static{this.\u0275prov=a.\u0275\u0275defineInjectable({token:j,factory:j.\u0275fac})}};c=(0,r.Cg)([(0,r.Qj)(4,(0,m.CrtInject)(b.WINDOW_TOKEN)),(0,r.Sn)("design:paramtypes",[d.v$,u.FL,A.xsE,i,Window])],c);class v extends m.BaseRequest{}}}]);
