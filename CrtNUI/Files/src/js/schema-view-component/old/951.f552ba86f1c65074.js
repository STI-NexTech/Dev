(self.webpackChunkapp_studio_enterprise_schema_view=self.webpackChunkapp_studio_enterprise_schema_view||[]).push([[951],{41056:(q,W,m)=>{var o={"./forward-message.svg":71348,"./message-composer.svg":62127,"./reply-all-message.svg":90277,"./reply-message.svg":5719};function s(N){var x=d(N);return m(x)}function d(N){if(!m.o(o,N)){var x=new Error("Cannot find module '"+N+"'");throw x.code="MODULE_NOT_FOUND",x}return o[N]}s.keys=function(){return Object.keys(o)},s.resolve=d,q.exports=s,s.id=41056},58551:(q,W,m)=>{"use strict";m.d(W,{l:()=>B});var o=m(97270),s=m(99314),d=m.n(s),N=m(37222),x=m(93289),l=m(44537),V=m.n(l),v=m(86731),M=m(69244),I=m(59861),E=m(38628),$=m(99889),k=m(16837),Q=m(62441),H=m(39554),O=m(7557),K=m(96091),de=m.n(K),re=m(72831),se=m(60021),pe=m(68642),me=m(850),ae=m(76696),ye=m.n(ae),le=m(62115),he=m(84137),ge=m(26182),fe=m(50340),be=m(52606),ue=m(78027),_e=m(59834);const C=["crtRichTextInput"],Y=["attachUploadElement"],e=["baseMessageComposerWrap"],i=L=>({"extendable-message-composer":L});function c(L,g){if(L&1&&(s.\u0275\u0275elementStart(0,"div",22),s.\u0275\u0275element(1,"img",23),s.\u0275\u0275pipe(2,"bypassSecurityTrust"),s.\u0275\u0275elementEnd()),L&2){const b=s.\u0275\u0275nextContext().$implicit,_=s.\u0275\u0275nextContext();s.\u0275\u0275advance(),s.\u0275\u0275property("src",s.\u0275\u0275pipeBind2(2,1,_.getFilePreview(b),"resourceUrl"),s.\u0275\u0275sanitizeUrl)}}function h(L,g){if(L&1&&s.\u0275\u0275element(0,"mat-icon",24),L&2){const b=s.\u0275\u0275nextContext().$implicit,_=s.\u0275\u0275nextContext();s.\u0275\u0275property("svgIcon",_.getFileIcon(b.file.name))}}function y(L,g){if(L&1){const b=s.\u0275\u0275getCurrentView();s.\u0275\u0275elementStart(0,"div",16),s.\u0275\u0275template(1,c,3,4,"div",17)(2,h,1,1,"mat-icon",18),s.\u0275\u0275elementStart(3,"span",19),s.\u0275\u0275text(4),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementStart(5,"span",20),s.\u0275\u0275text(6),s.\u0275\u0275pipe(7,"memoryFormat"),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementStart(8,"mat-icon",21),s.\u0275\u0275pipe(9,"translate"),s.\u0275\u0275listener("click",function(){const S=s.\u0275\u0275restoreView(b).$implicit,t=s.\u0275\u0275nextContext();return s.\u0275\u0275resetView(t.onRemoveAttachClick(S.id))}),s.\u0275\u0275elementEnd()()}if(L&2){const b=g.$implicit,_=s.\u0275\u0275nextContext();s.\u0275\u0275advance(),s.\u0275\u0275property("ngIf",_.canShowPreview(b)),s.\u0275\u0275advance(),s.\u0275\u0275property("ngIf",!_.canShowPreview(b)),s.\u0275\u0275advance(2),s.\u0275\u0275textInterpolate(b.file.name),s.\u0275\u0275advance(2),s.\u0275\u0275textInterpolate(s.\u0275\u0275pipeBind1(7,5,b.file.size||b.size)),s.\u0275\u0275advance(2),s.\u0275\u0275property("crtTooltip",s.\u0275\u0275pipeBind1(9,7,"MessageComposer.RemoveAttachmentHint"))}}function P(L,g){L&1&&s.\u0275\u0275elementContainer(0)}function U(L,g){if(L&1&&(s.\u0275\u0275elementStart(0,"div"),s.\u0275\u0275template(1,P,1,0,"ng-container",11),s.\u0275\u0275elementEnd()),L&2){const b=s.\u0275\u0275nextContext();s.\u0275\u0275advance(),s.\u0275\u0275property("ngTemplateOutlet",b.channelSelector)}}function Z(L,g){L&1&&s.\u0275\u0275elementContainer(0)}function G(L,g){if(L&1){const b=s.\u0275\u0275getCurrentView();s.\u0275\u0275elementStart(0,"crt-button",25),s.\u0275\u0275pipe(1,"translate"),s.\u0275\u0275listener("clicked",function(){s.\u0275\u0275restoreView(b);const S=s.\u0275\u0275nextContext();return s.\u0275\u0275resetView(S.onCancelClick())}),s.\u0275\u0275text(2),s.\u0275\u0275pipe(3,"translate"),s.\u0275\u0275elementEnd()}L&2&&(s.\u0275\u0275propertyInterpolate("title",s.\u0275\u0275pipeBind1(1,2,"MessageComposer.CancelButtonHint")),s.\u0275\u0275advance(2),s.\u0275\u0275textInterpolate1("",s.\u0275\u0275pipeBind1(3,4,"MessageComposer.CancelButtonText")," "))}function ce(L,g){if(L&1){const b=s.\u0275\u0275getCurrentView();s.\u0275\u0275elementStart(0,"crt-button",26),s.\u0275\u0275pipe(1,"translate"),s.\u0275\u0275listener("clicked",function(){s.\u0275\u0275restoreView(b);const S=s.\u0275\u0275nextContext();return s.\u0275\u0275resetView(S.onSaveDraftClick())}),s.\u0275\u0275text(2),s.\u0275\u0275pipe(3,"translate"),s.\u0275\u0275elementEnd()}L&2&&(s.\u0275\u0275propertyInterpolate("title",s.\u0275\u0275pipeBind1(1,2,"MessageComposer.SaveDraftButtonText")),s.\u0275\u0275advance(2),s.\u0275\u0275textInterpolate1("",s.\u0275\u0275pipeBind1(3,4,"MessageComposer.SaveDraftButtonText")," "))}let B=class rt{set height(g){g&&(this._height=g+"px")}set dataCachingService(g){this._dataCachingService=g}get dataCachingService(){return(0,Q.A)(this._dataCachingService)&&(this._dataCachingService=this._injector.get(me.$s)),this._dataCachingService}constructor(g,b,_,S,t,j,oe,w){this._injector=g,this._fileService=b,this._fileIconService=_,this._richTextEditorUploadService=S,this._sysSettingsService=t,this._changeDetectorRef=j,this._messageDialogProvider=oe,this._copilotToEditorCommunicationService=w,this._publishMessageHotKeys=["ctrl+enter","command+enter"],this._publishKeyboardAction="publishMessage",this._bytesInMegabyte=1024*1024,this._setCacheDraftDataDebounce=300,this._filterExtensions="",this._disableFileSecurityMode="9801c625-fafb-4ed3-9383-c3c942a5c1e3",this._denyFileSecurityMode="60849c6e-24b4-45df-9aad-2f69d419823c",this._fileSecurityMode=this._denyFileSecurityMode,this._maxFileSize=0,this.keyboardHotkeysMap={keydown:{[this._publishKeyboardAction]:{sequence:this._publishMessageHotKeys}}},this.inputControl=new N.MJ(null),this.attachments=[],this.disabled=!1,this.sendingButtonDisabled=!1,this.footerPanelExpanded=!1,this.selectionChange=new s.EventEmitter,this.footerPanelIndent=0,this.useTemplates=!1,this.useDrafts=!1,this.discardBtnVisible=!1,this.maxAttachmentsSize=0,this.messageChangesCancel=new s.EventEmitter,this.composerCleared=new s.EventEmitter,this.messageInputFocus=new s.EventEmitter,this.messageInputBlur=new s.EventEmitter,this.messageInputClick=new s.EventEmitter,this.messageChanged=new s.EventEmitter,this.messagePublish=new s.EventEmitter,this.selectTemplate=new s.EventEmitter,this.attachmentAdded=new s.EventEmitter,this.saveDraft=new s.EventEmitter,this.newMention=new s.EventEmitter,this._snackBar=g.get(x.UG),this._translateService=g.get(v.c$),this._featureValues=g.get(k.G2Y);const R="FileExtensionsDenyList",D="FileExtensionsAllowList";this._sysSettingsService.getByCodes(["FileSecurityMode","MaxFileSize",R,D]).subscribe(A=>{if(A?.success&&(this._maxFileSize=A.values.MaxFileSize?.value||0,this._fileSecurityMode=A.values.FileSecurityMode?.value.toLowerCase()||this._denyFileSecurityMode,this._fileSecurityMode!==this._disableFileSecurityMode)){const Ke=this._fileSecurityMode===this._denyFileSecurityMode?R:D;this._filterExtensions=A.values[Ke]?.value||""}})}get extendableMessageComposer(){return this._featureValues.ExtendableMessageComposer}_blurCurrentElement(){document.activeElement.blur()}_isContentTypeString(g){return g?.byteLength===void 0}_convertToBase64String(g){return this._isContentTypeString(g)?g:(0,k.M6v)(g)}_cacheInputMessage(){if((0,Q.A)(this.inputControl?.value))this.dataCachingService.remove(this.composerCacheCode);else try{this.dataCachingService.set(this.composerCacheCode,this.inputControl.value)}catch(g){console.error(g),this.dataCachingService.remove(this.composerCacheCode)}}_setCacheDraftData(g){if((0,Q.A)(g))return;const b=this.dataCachingService.get(g)??"";if(!(0,Q.A)(b)){const _=this.inputControl?.value??"";if(_.includes(b))return;this.inputControl.setValue(b+_)}}_waitScrollEnd(){return new Promise(g=>{const b=this.baseMessageComposerWrap?.nativeElement;if(!b){g(!0);return}const _=new IntersectionObserver(S=>{const[t]=S;t.isIntersecting&&(_?.unobserve(b),g(!0))});_.observe(b)})}_getOversizeAttachmentsErrorMessage(g){g=g.reverse();const b=this._translateService.instant("InfoDialog.FileUpload.MaxFileSizeExceededExceptionMessage"),_=`\r
\r
`,S=this._translateService.instant("InfoDialog.FileUpload.FileListHeader"),t=b+_+S+`:\r
{1}`;let j="";return j+=(0,pe.JT)(t,this._maxFileSize,g.map(oe=>"- "+oe).join(`\r
`)),j+=_,j+=this._translateService.instant("InfoDialog.FileUpload.ChangeFileSizeInfoMessage"),j}_getExtensionAttachmentsErrorMessage(g){const b=(0,H.A)(g,w=>w.name.split(".").pop().toLowerCase()),_=this._fileSecurityMode===this._denyFileSecurityMode?"InvalidExtension.Deny":"InvalidExtension.Allow",S=this._translateService.instant("InfoDialog.FileUpload."+_),t=`\r
\r
`,j=this._translateService.instant("InfoDialog.FileUpload.FileListHeader");let oe="";for(const w in b)if(Object.prototype.hasOwnProperty.call(b,w)){const R=b[w];let D=(0,pe.JT)(S+t+j+`:\r
`,w);R.forEach(A=>{D+="- "+A.name+`\r
`}),oe+=D+`\r
`}return oe}_isFileExtensionAllowed(g){if(this._fileSecurityMode===this._disableFileSecurityMode)return!0;const b=g.name.split(".").pop().toLowerCase(),_=this._filterExtensions.toLowerCase();return this._fileSecurityMode===this._denyFileSecurityMode?_.indexOf(b)===-1:_.indexOf(b)>=0}_validateAttachmentsSize(g){if(this.maxAttachmentsSize<=0)return!0;let b=0;this.attachments.forEach(S=>b+=S.size?S.size:S.file.size);for(const S in g)if(Object.prototype.hasOwnProperty.call(g,S)){const t=g[S].size;t&&(b+=t)}const _=b/this._bytesInMegabyte<=this.maxAttachmentsSize;if(!_){const S=(0,pe.JT)(this._translateService.instant("MessageComposer.Email.AttachmentsSizeLimitReached"),this.maxAttachmentsSize);this._messageDialogProvider.open({data:{message:S,actions:[E.NNA.OK]}})}return _}_removeCopilotHighlighting(){this._copilotToEditorCommunicationService?.notify({editorAction:k.uB4.RemoveHighlighting})}showSnackbar(g){this._snackBar.openFromComponent(g,{duration:3e3,panelClass:"message-action-snackbar-container"})}onMessageInputBlur(){this._cacheInputMessage(),this.messageInputBlur.emit()}onMessageInputFocus(){this.disabled||this.messageInputFocus.emit()}onMessagePublish(){this._removeCopilotHighlighting(),this.messagePublish.emit()}focus(){this.disabled||(this.footerPanelExpanded=!0,this._waitScrollEnd().then(()=>{this.crtRichTextInput?.focus(),this.messageInputFocus.emit()}))}onInputClick(){this.disabled||(this.footerPanelExpanded=!0,this.messageInputClick.emit())}onHotKeyPressed({action:g,event:b}){g===this._publishKeyboardAction&&!this.sendingButtonDisabled&&(b.preventDefault(),this._blurCurrentElement(),this.onMessagePublish())}onCancelClick(){this._messageDialogProvider.open({data:{message:"MessageComposer.CanDiscardUnsavedData",actions:[E.NNA.NO,E.NNA.YES]}}).subscribe(g=>{g===E.NNA.YES.key&&(this.clear(),this.messageChangesCancel.emit())})}onSaveDraftClick(){this._removeCopilotHighlighting(),this.dataCachingService.remove(this.composerCacheCode),this.saveDraft.emit()}onRichTextFilesUploaded(g){const b=g.map(({file:_,fileId:S})=>(_.id=S,_));this.uploadFiles({target:{files:b}})}uploadFiles({target:g}){if(!this._validateAttachmentsSize(g.files))return;const b=[],_=[],S=Array.from(g.files).map(j=>this._maxFileSize>0&&j.size/this._bytesInMegabyte>=this._maxFileSize?(b.push(j.name),(0,K.of)(!0)):this._isFileExtensionAllowed(j)?this._fileService.read(j).pipe((0,re.n)(R=>(R.id=(0,Q.A)(j.id)?(0,l.generateGuid)():j.id,this.attachments.some(D=>D.file.id===R.id)||(this.attachments=[...this.attachments,R]),this._changeDetectorRef.markForCheck(),(0,K.of)(!0)))):(_.push(j),(0,K.of)(!0)));let t="";_.length>0&&(t+=this._getExtensionAttachmentsErrorMessage(_)),b.length>0?t+=this._getOversizeAttachmentsErrorMessage(b):(0,Q.A)(t)||(t=t.slice(0,-4)),(0,Q.A)(t)||this._messageDialogProvider.open({data:{message:t,actions:[E.NNA.OK]}}),g.value="",(0,K.forkJoin)(S).subscribe(()=>{this.attachmentAdded.emit(),this._changeDetectorRef.markForCheck()})}onRemoveAttachClick(g){this.attachments=this.attachments.filter(b=>b.id!==g),this.crtRichTextInput.removeReadyToUploadFile(g),this._changeDetectorRef.markForCheck()}onMessageChanged(){this.messageChanged.emit()}clear(){this.crtRichTextInput?.focus(),this.dataCachingService.remove(this.composerCacheCode),this.inputControl.setValue(""),this.crtRichTextInput?.clearSelection(),this.attachments.forEach(g=>this.crtRichTextInput.removeReadyToUploadFile(g.id)),this.attachments=[],this._blurCurrentElement(),this._changeDetectorRef.markForCheck(),this.composerCleared.emit()}getValue(){return this.inputControl.value}setValue(g){this.inputControl.setValue(g)}onSelectAttachments(){this.attachUploadElement.nativeElement.click()}canShowPreview(g){return(this._isContentTypeString(g.content)?g.content!=="":g.content.byteLength>0)&&this.getFileIcon(g.file.name).startsWith(I.kg.IMAGE)}getFilePreview(g){return this.canShowPreview(g)?`data:${g.file.type};base64,${this._convertToBase64String(g.content)}`:""}getFileIcon(g){return this._fileIconService.getFileIcon(g,"large")}saveInlineImagesToDb(g){return this._richTextEditorUploadService.uploadImages([this.crtRichTextInput.currentEditor],g).pipe((0,se.H)())}onSelectTemplate(){this.selectTemplate.emit()}onBeforeUnload(){this.crtRichTextInput?.isFocused&&this._cacheInputMessage()}isValueEmpty(){return(0,Q.A)(this.inputControl.value)}isDiscardBtnVisible(){return this.discardBtnVisible||!this.isValueEmpty()}onNewMention(g){this.newMention.next(g)}ngOnChanges(g){const b=g.composerCacheCode?.currentValue;(0,O.A)(()=>this._setCacheDraftData(b),this._setCacheDraftDataDebounce)()}onSelectionChange(g){this.selectionChange.next(g)}static{this.\u0275fac=function(b){return new(b||rt)(s.\u0275\u0275directiveInject(s.Injector),s.\u0275\u0275directiveInject(k.dh$),s.\u0275\u0275directiveInject(I.H3),s.\u0275\u0275directiveInject($.RichTextEditorUploadService),s.\u0275\u0275directiveInject(M.AS),s.\u0275\u0275directiveInject(s.ChangeDetectorRef),s.\u0275\u0275directiveInject(E.rRR),s.\u0275\u0275directiveInject(k.iKh))}}static{this.\u0275cmp=s.\u0275\u0275defineComponent({type:rt,selectors:[["crt-base-message-composer"]],viewQuery:function(b,_){if(b&1&&(s.\u0275\u0275viewQuery(C,5),s.\u0275\u0275viewQuery(Y,5),s.\u0275\u0275viewQuery(e,5)),b&2){let S;s.\u0275\u0275queryRefresh(S=s.\u0275\u0275loadQuery())&&(_.crtRichTextInput=S.first),s.\u0275\u0275queryRefresh(S=s.\u0275\u0275loadQuery())&&(_.attachUploadElement=S.first),s.\u0275\u0275queryRefresh(S=s.\u0275\u0275loadQuery())&&(_.baseMessageComposerWrap=S.first)}},hostVars:2,hostBindings:function(b,_){b&1&&s.\u0275\u0275listener("beforeunload",function(){return _.onBeforeUnload()},!1,s.\u0275\u0275resolveWindow),b&2&&s.\u0275\u0275styleProp("--height",_._height)},inputs:{disabled:"disabled",sendingButtonDisabled:"sendingButtonDisabled",footerPanelExpanded:"footerPanelExpanded",footerPanelOptions:"footerPanelOptions",channelSelector:"channelSelector",selectionActions:"selectionActions",disableSelectionOptions:"disableSelectionOptions",footerPanelIndent:"footerPanelIndent",inputPlaceHolder:"inputPlaceHolder",useTemplates:"useTemplates",useDrafts:"useDrafts",composerCacheCode:"composerCacheCode",discardBtnVisible:"discardBtnVisible",sendButtonIcon:"sendButtonIcon",maxAttachmentsSize:"maxAttachmentsSize",mentionsService:"mentionsService",height:"height",dataCachingService:"dataCachingService"},outputs:{selectionChange:"selectionChange",messageChangesCancel:"messageChangesCancel",composerCleared:"composerCleared",messageInputFocus:"messageInputFocus",messageInputBlur:"messageInputBlur",messageInputClick:"messageInputClick",messageChanged:"messageChanged",messagePublish:"messagePublish",selectTemplate:"selectTemplate",attachmentAdded:"attachmentAdded",saveDraft:"saveDraft",newMention:"newMention"},features:[s.\u0275\u0275NgOnChangesFeature],decls:19,vars:29,consts:[["baseMessageComposerWrap",""],["crtRichTextInput",""],["attachUploadElement",""],[1,"base-message-composer"],[1,"base-message-composer-input"],["labelPosition","hidden","data-qa","base-message-composer-text-input",1,"base-message-composer-input-field",3,"editorBlur","editorFocus","editorValueChanged","crtKeyboardHotkeyPressed","click","selectAttachments","selectTemplate","newMention","selectionChange","filesUploaded","crtKeyboardHotkeys","control","showClip","useTemplates","readonly","placeholder","mentionsService","useBodyFilesLinks","selectionActions","disableSelectionOptions"],[1,"message-composer-attachments"],["class","message-composer-attachment",4,"ngFor","ngForOf"],["data-qa","base-message-composer-footer",1,"base-message-composer-footer",3,"hidden","ngClass"],["type","file","multiple","",2,"display","none",3,"change"],[4,"ngIf"],[4,"ngTemplateOutlet"],[1,"base-message-composer-footer-actions"],["alt","discard","color","default","size","large","class","base-message-composer-footer-actions-button","data-qa","base-message-composer-cancel-btn",3,"title","clicked",4,"ngIf"],["alt","save draft","color","default","size","large","class","base-message-composer-footer-actions-button","data-qa","base-message-composer-save-draft-btn",3,"title","clicked",4,"ngIf"],["alt","send","color","accent","size","large","iconPosition","left-icon","data-qa","base-message-composer-submit-btn",1,"base-message-composer-footer-actions-button",3,"clicked","title","icon","disabled"],[1,"message-composer-attachment"],["class","message-composer-attachment-icon",4,"ngIf"],["matSuffix","","class","message-composer-attachment-icon",3,"svgIcon",4,"ngIf"],[1,"message-composer-attachment-name"],[1,"message-composer-attachment-size"],["svgIcon","message-composer-attach-cross","data-qa","message-composer-attachment-remove-icon",1,"message-composer-attachment-remove-icon",3,"click","crtTooltip"],[1,"message-composer-attachment-icon"],[3,"src"],["matSuffix","",1,"message-composer-attachment-icon",3,"svgIcon"],["alt","discard","color","default","size","large","data-qa","base-message-composer-cancel-btn",1,"base-message-composer-footer-actions-button",3,"clicked","title"],["alt","save draft","color","default","size","large","data-qa","base-message-composer-save-draft-btn",1,"base-message-composer-footer-actions-button",3,"clicked","title"]],template:function(b,_){if(b&1){const S=s.\u0275\u0275getCurrentView();s.\u0275\u0275elementStart(0,"div",3)(1,"div",4,0)(3,"crt-rich-text-editor",5,1),s.\u0275\u0275listener("editorBlur",function(){return s.\u0275\u0275restoreView(S),s.\u0275\u0275resetView(_.onMessageInputBlur())})("editorFocus",function(){return s.\u0275\u0275restoreView(S),s.\u0275\u0275resetView(_.onMessageInputFocus())})("editorValueChanged",function(){return s.\u0275\u0275restoreView(S),s.\u0275\u0275resetView(_.onMessageChanged())})("crtKeyboardHotkeyPressed",function(j){return s.\u0275\u0275restoreView(S),s.\u0275\u0275resetView(_.onHotKeyPressed(j))})("click",function(){return s.\u0275\u0275restoreView(S),s.\u0275\u0275resetView(_.onInputClick())})("selectAttachments",function(){return s.\u0275\u0275restoreView(S),s.\u0275\u0275resetView(_.onSelectAttachments())})("selectTemplate",function(){return s.\u0275\u0275restoreView(S),s.\u0275\u0275resetView(_.onSelectTemplate())})("newMention",function(j){return s.\u0275\u0275restoreView(S),s.\u0275\u0275resetView(_.onNewMention(j))})("selectionChange",function(j){return s.\u0275\u0275restoreView(S),s.\u0275\u0275resetView(_.onSelectionChange(j))})("filesUploaded",function(j){return s.\u0275\u0275restoreView(S),s.\u0275\u0275resetView(_.onRichTextFilesUploaded(j))}),s.\u0275\u0275elementEnd()(),s.\u0275\u0275elementStart(5,"div",6),s.\u0275\u0275template(6,y,10,9,"div",7),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementStart(7,"div",8)(8,"input",9,2),s.\u0275\u0275listener("change",function(j){return s.\u0275\u0275restoreView(S),s.\u0275\u0275resetView(_.uploadFiles(j))}),s.\u0275\u0275elementEnd(),s.\u0275\u0275template(10,U,2,1,"div",10)(11,Z,1,0,"ng-container",11),s.\u0275\u0275elementStart(12,"div",12),s.\u0275\u0275template(13,G,4,6,"crt-button",13)(14,ce,4,6,"crt-button",14),s.\u0275\u0275elementStart(15,"crt-button",15),s.\u0275\u0275pipe(16,"translate"),s.\u0275\u0275listener("clicked",function(){return s.\u0275\u0275restoreView(S),s.\u0275\u0275resetView(_.onMessagePublish())}),s.\u0275\u0275text(17),s.\u0275\u0275pipe(18,"translate"),s.\u0275\u0275elementEnd()()()()}b&2&&(s.\u0275\u0275advance(3),s.\u0275\u0275property("crtKeyboardHotkeys",_.keyboardHotkeysMap)("control",_.inputControl)("showClip",!0)("useTemplates",_.useTemplates)("readonly",_.disabled)("placeholder",_.inputPlaceHolder)("mentionsService",_.mentionsService)("useBodyFilesLinks",!1)("selectionActions",_.selectionActions)("disableSelectionOptions",_.disableSelectionOptions),s.\u0275\u0275advance(3),s.\u0275\u0275property("ngForOf",_.attachments),s.\u0275\u0275advance(),s.\u0275\u0275styleProp("margin-inline-start",_.footerPanelIndent,"px"),s.\u0275\u0275property("hidden",!_.footerPanelExpanded)("ngClass",s.\u0275\u0275pureFunction1(27,i,_.extendableMessageComposer)),s.\u0275\u0275advance(3),s.\u0275\u0275property("ngIf",_.extendableMessageComposer),s.\u0275\u0275advance(),s.\u0275\u0275property("ngTemplateOutlet",_.footerPanelOptions),s.\u0275\u0275advance(2),s.\u0275\u0275property("ngIf",_.isDiscardBtnVisible()),s.\u0275\u0275advance(),s.\u0275\u0275property("ngIf",_.useDrafts&&!_.isValueEmpty()),s.\u0275\u0275advance(),s.\u0275\u0275propertyInterpolate("title",s.\u0275\u0275pipeBind1(16,23,"MessageComposer.SendButtonHint")),s.\u0275\u0275property("icon",_.sendButtonIcon)("disabled",_.sendingButtonDisabled),s.\u0275\u0275advance(2),s.\u0275\u0275textInterpolate1("",s.\u0275\u0275pipeBind1(18,25,"MessageComposer.SendButtonText")," "))},dependencies:[ae.NgClass,ae.NgForOf,ae.NgIf,ae.NgTemplateOutlet,le.B,he.d,ge.An,fe.R,be.h,v.D9,ue.v,_e.l],styles:[`.base-message-composer{position:relative}.base-message-composer-footer{margin-top:7px;display:flex;justify-content:flex-end;align-items:center}.base-message-composer-footer.extendable-message-composer{justify-content:space-between}.base-message-composer-footer[hidden]{display:none;height:0px}.base-message-composer-footer-actions{display:flex}.base-message-composer-footer-actions .base-message-composer-footer-actions-button .crt-button.button-size-large{border-radius:4px;margin-inline-start:8px}.base-message-composer-input{display:flex}.base-message-composer-input-field{width:100%;margin-inline-start:0}.base-message-composer-input-field .crt-input,.base-message-composer-input-field .crt-input-control{padding-inline-end:0!important}.base-message-composer-input-field .rich-editor-wrapper{min-height:48px;border:1px solid var(--crt-palette-border-500);border-radius:8px}.base-message-composer-input-field .rich-editor-wrapper:hover,.base-message-composer-input-field .rich-editor-wrapper:focus-within{border:1px solid var(--crt-palette-primary-500)}.base-message-composer-input-field .rich-editor-wrapper [data-cke-editorplaceholder]:before{max-width:calc(100% - 44px)}.base-message-composer-input-field .rich-editor-wrapper .cke_editable{line-height:20px;padding-inline-start:16px;padding-top:16px;padding-bottom:16px;width:calc(100% - 22px);height:var(--height, unset)}.base-message-composer .message-composer-attachments{display:flex;flex-wrap:wrap;font-family:var(--crt-caption-font-family);font-size:var(--crt-caption-font-size);line-height:var(--crt-caption-line-height);font-weight:var(--crt-caption-font-weight);letter-spacing:var(--crt-caption-letter-spacing);text-transform:var(--crt-caption-text-transform);-webkit-font-smoothing:antialiased}.base-message-composer .message-composer-attachments .message-composer-attachment{display:flex;max-width:100%;margin-inline-end:30px;margin-top:10px}.base-message-composer .message-composer-attachments .message-composer-attachment-icon{width:24px;min-width:24px;height:17px;margin-inline-end:10px;border:1px solid var(--crt-palette-label-100);border-radius:4px}.base-message-composer .message-composer-attachments .message-composer-attachment-icon img{object-fit:contain;height:100%;width:100%}.base-message-composer .message-composer-attachments .message-composer-attachment-name{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;margin-inline-end:10px}.base-message-composer .message-composer-attachments .message-composer-attachment-size{color:var(--crt-palette-label-500);margin-inline-end:14px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.base-message-composer .message-composer-attachments .message-composer-attachment-remove-icon{width:8px;min-width:8px;height:17px;cursor:pointer;color:var(--crt-palette-label-500)}.base-message-composer .message-composer-attachments .message-composer-attachment-remove-icon svg{height:8px}.base-message-composer .base-message-composer-input .base-message-composer-input-field .rich-editor-wrapper div.icons{padding-inline-end:5px;position:absolute;right:0;background:var(--crt-palette-background-50);border-top-left-radius:12px;padding-top:2px}[dir=rtl] .base-message-composer .base-message-composer-input .base-message-composer-input-field .rich-editor-wrapper div.icons{left:0;border-top-right-radius:12px;border-top-left-radius:initial;right:auto}
`],encapsulation:2})}};(0,o.Cg)([(0,l.CrtInput)(),(0,o.Sn)("design:type",Object)],B.prototype,"disabled",void 0),(0,o.Cg)([(0,l.CrtInput)(),(0,o.Sn)("design:type",Object)],B.prototype,"sendingButtonDisabled",void 0),(0,o.Cg)([(0,l.CrtInput)(),(0,o.Sn)("design:type",Object)],B.prototype,"footerPanelExpanded",void 0),(0,o.Cg)([(0,l.CrtInput)(),(0,o.Sn)("design:type",s.TemplateRef)],B.prototype,"footerPanelOptions",void 0),(0,o.Cg)([(0,l.CrtInput)(),(0,o.Sn)("design:type",s.TemplateRef)],B.prototype,"channelSelector",void 0),(0,o.Cg)([(0,l.CrtInput)(),(0,o.Sn)("design:type",s.TemplateRef)],B.prototype,"selectionActions",void 0),(0,o.Cg)([(0,l.CrtOutput)(),(0,o.Sn)("design:type",Object)],B.prototype,"selectionChange",void 0),(0,o.Cg)([(0,l.CrtInput)(),(0,o.Sn)("design:type",Boolean)],B.prototype,"disableSelectionOptions",void 0),(0,o.Cg)([(0,l.CrtInput)(),(0,o.Sn)("design:type",Object)],B.prototype,"footerPanelIndent",void 0),(0,o.Cg)([(0,l.CrtInput)(),(0,o.Sn)("design:type",String)],B.prototype,"inputPlaceHolder",void 0),(0,o.Cg)([(0,l.CrtInput)(),(0,o.Sn)("design:type",Object)],B.prototype,"useTemplates",void 0),(0,o.Cg)([(0,l.CrtInput)(),(0,o.Sn)("design:type",Object)],B.prototype,"useDrafts",void 0),(0,o.Cg)([(0,l.CrtInput)(),(0,o.Sn)("design:type",String)],B.prototype,"composerCacheCode",void 0),(0,o.Cg)([(0,l.CrtInput)(),(0,o.Sn)("design:type",Object)],B.prototype,"discardBtnVisible",void 0),(0,o.Cg)([(0,l.CrtInput)(),(0,o.Sn)("design:type",String)],B.prototype,"sendButtonIcon",void 0),(0,o.Cg)([(0,l.CrtInput)(),(0,o.Sn)("design:type",Object)],B.prototype,"maxAttachmentsSize",void 0),(0,o.Cg)([(0,l.CrtOutput)(),(0,o.Sn)("design:type",Object)],B.prototype,"messageChangesCancel",void 0),(0,o.Cg)([(0,l.CrtOutput)(),(0,o.Sn)("design:type",Object)],B.prototype,"composerCleared",void 0),(0,o.Cg)([(0,l.CrtOutput)(),(0,o.Sn)("design:type",Object)],B.prototype,"messageInputFocus",void 0),(0,o.Cg)([(0,l.CrtOutput)(),(0,o.Sn)("design:type",Object)],B.prototype,"messageInputBlur",void 0),(0,o.Cg)([(0,l.CrtOutput)(),(0,o.Sn)("design:type",Object)],B.prototype,"messageInputClick",void 0),(0,o.Cg)([(0,l.CrtOutput)(),(0,o.Sn)("design:type",Object)],B.prototype,"messageChanged",void 0),(0,o.Cg)([(0,l.CrtOutput)(),(0,o.Sn)("design:type",Object)],B.prototype,"messagePublish",void 0),(0,o.Cg)([(0,l.CrtOutput)(),(0,o.Sn)("design:type",Object)],B.prototype,"selectTemplate",void 0),(0,o.Cg)([(0,l.CrtOutput)(),(0,o.Sn)("design:type",Object)],B.prototype,"attachmentAdded",void 0),(0,o.Cg)([(0,l.CrtOutput)(),(0,o.Sn)("design:type",Object)],B.prototype,"saveDraft",void 0),(0,o.Cg)([(0,l.CrtInput)(),(0,o.Sn)("design:type",Object)],B.prototype,"mentionsService",void 0),(0,o.Cg)([(0,l.CrtInput)(),(0,o.Sn)("design:type",Number),(0,o.Sn)("design:paramtypes",[Number])],B.prototype,"height",null),(0,o.Cg)([(0,l.CrtOutput)(),(0,o.Sn)("design:type",Object)],B.prototype,"newMention",void 0),(0,o.Cg)([(0,l.CrtInput)(),(0,o.Sn)("design:type",me.$s),(0,o.Sn)("design:paramtypes",[me.$s])],B.prototype,"dataCachingService",null),B=(0,o.Cg)([(0,l.CrtViewElement)({type:"crt.BaseMessageComposer",reuseStrategy:l.ViewElementReuseStrategy.Reuse}),(0,o.Sn)("design:paramtypes",[s.Injector,k.dh$,I.H3,$.RichTextEditorUploadService,M.AS,s.ChangeDetectorRef,E.rRR,k.iKh])],B)},78373:(q,W,m)=>{"use strict";m.d(W,{l:()=>o.l});var o=m(58551)},59937:(q,W,m)=>{"use strict";m.d(W,{l:()=>x});var o=m(79076),s=m(99314),d=m(79111),N=m(86731);let x=(()=>{class l extends o.K0{constructor(){super(...arguments),this.labelText="MessageComposer.MessageSent"}static{this.\u0275fac=(()=>{let v;return function(I){return(v||(v=s.\u0275\u0275getInheritedFactory(l)))(I||l)}})()}static{this.\u0275cmp=s.\u0275\u0275defineComponent({type:l,selectors:[["crt-base-snackbar-label"]],features:[s.\u0275\u0275InheritDefinitionFeature],decls:4,vars:3,consts:[[1,"message-snackbar-label-container"],["labelTextAlign","center"]],template:function(M,I){M&1&&(s.\u0275\u0275elementStart(0,"div",0)(1,"crt-label",1),s.\u0275\u0275text(2),s.\u0275\u0275pipe(3,"translate"),s.\u0275\u0275elementEnd()()),M&2&&(s.\u0275\u0275advance(2),s.\u0275\u0275textInterpolate(s.\u0275\u0275pipeBind1(3,1,I.labelText)))},dependencies:[d.V,N.D9],styles:[`.message-action-snackbar-container{--mdc-snackbar-container-color: var(--crt-color-primary-black);opacity:.6!important}.message-action-snackbar-container .message-snackbar-label-container{width:100%}.message-action-snackbar-container .message-snackbar-label-container .crt-label{width:100%;color:var(--crt-palette-background-50)}
`],encapsulation:2})}}return l})()},52808:(q,W,m)=>{"use strict";m.d(W,{B:()=>k});var o=m(97270),s=m(99314),d=m.n(s),N=m(44537),x=m.n(N),l=m(79076),V=m(76696),v=m.n(V),M=m(62115);const I=Q=>({"selected-composer":Q});function E(Q,H){if(Q&1){const O=s.\u0275\u0275getCurrentView();s.\u0275\u0275elementContainerStart(0),s.\u0275\u0275elementStart(1,"crt-button",2),s.\u0275\u0275listener("clicked",function(){const de=s.\u0275\u0275restoreView(O).$implicit,re=s.\u0275\u0275nextContext(2);return s.\u0275\u0275resetView(re.showComposer(de))}),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementContainerEnd()}if(Q&2){const O=H.$implicit,K=s.\u0275\u0275nextContext(2);s.\u0275\u0275advance(),s.\u0275\u0275property("ngClass",s.\u0275\u0275pureFunction1(3,I,K.isComposerSelected(O)))("icon",K.getComposerIcon(O))("caption",K.getComposerCaption(O))}}function $(Q,H){if(Q&1&&(s.\u0275\u0275elementContainerStart(0),s.\u0275\u0275template(1,E,2,5,"ng-container",1),s.\u0275\u0275elementContainerEnd()),Q&2){const O=s.\u0275\u0275nextContext();s.\u0275\u0275advance(),s.\u0275\u0275property("ngForOf",O.visibleChannels)}}let k=class ze extends l.K0{constructor(){super(...arguments),this._iconsMap={Email:"email-composer-icon",Feed:"feed-composer-icon"},this.selectedChannelIndexChange=new s.EventEmitter}get isVisible(){return this.visibleChannels?.length>1}get visibleChannels(){return this.channels?.filter(H=>H.visible!==!1)}set selectedChannelIndex(H){this._selectedChannelIndex=H,this.changeDetectorRef.markForCheck()}showComposer(H){this.selectedChannelIndex=this.channels.indexOf(H),this.selectedChannelIndexChange.emit(this._selectedChannelIndex)}getComposerIcon(H){const O=H.data;return O?.icon?O?.icon:this._iconsMap[O?.schemaType]||"send-icon"}getComposerCaption(H){return H.data?.caption||""}isComposerSelected(H){return this.channels.indexOf(H)===this._selectedChannelIndex}static{this.\u0275fac=(()=>{let H;return function(K){return(H||(H=s.\u0275\u0275getInheritedFactory(ze)))(K||ze)}})()}static{this.\u0275cmp=s.\u0275\u0275defineComponent({type:ze,selectors:[["crt-channel-selector"]],inputs:{channels:"channels",selectedChannelIndex:"selectedChannelIndex"},outputs:{selectedChannelIndexChange:"selectedChannelIndexChange"},features:[s.\u0275\u0275ProvidersFeature([]),s.\u0275\u0275InheritDefinitionFeature],decls:1,vars:1,consts:[[4,"ngIf"],[4,"ngFor","ngForOf"],["size","large","iconPosition","only-icon",1,"select-composer-button",3,"clicked","ngClass","icon","caption"]],template:function(O,K){O&1&&s.\u0275\u0275template(0,$,2,1,"ng-container",0),O&2&&s.\u0275\u0275property("ngIf",K.isVisible)},dependencies:[V.NgClass,V.NgForOf,V.NgIf,M.B],styles:[`.select-composer-button{margin-inline-end:4px;border-radius:8px}.select-composer-button button:hover{border-radius:8px}.select-composer-button.selected-composer{background-color:var(--crt-button-default-hover-color)}.select-composer-button.selected-composer button{color:var(--crt-palette-primary-500)!important}
`],encapsulation:2})}};(0,o.Cg)([(0,N.CrtInput)(),(0,o.Sn)("design:type",Array)],k.prototype,"channels",void 0),(0,o.Cg)([(0,N.CrtInput)(),(0,o.Sn)("design:type",Number),(0,o.Sn)("design:paramtypes",[Number])],k.prototype,"selectedChannelIndex",null),(0,o.Cg)([(0,N.CrtOutput)(),(0,o.Sn)("design:type",Object)],k.prototype,"selectedChannelIndexChange",void 0),k=(0,o.Cg)([(0,N.CrtViewElement)({type:"crt.ChannelSelector"})],k)},84476:(q,W,m)=>{"use strict";m.d(W,{B:()=>o.B});var o=m(52808)},42218:(q,W,m)=>{"use strict";m.d(W,{Z:()=>v});var o=m(97270),s=m(99314),d=m(44537),N=m(79076),x=m(10138),l=m(78373);const V=["baseComposer"];class v extends N.K0{constructor(I){super(I),this.injector=I,this.footerPanelExpanded=!1,this.maxAttachmentsSize=0,this.composerEventChange=new s.EventEmitter,this.selectionChange=new s.EventEmitter,this._elementRef=I.get(s.ElementRef)}publishInputFocusEvent(){this.composerEventChange.emit([{name:x.An,params:{isFocused:this.footerPanelExpanded}}]),this.baseComposer&&(this.baseComposer.maxAttachmentsSize=this.maxAttachmentsSize)}onMessageInputFocus(){this.footerPanelExpanded=!0,this.publishInputFocusEvent()}onMessageInputBlur(){this.baseComposer?.getValue()||(this.footerPanelExpanded=!1,this.publishInputFocusEvent())}onMessageInputClick(){this.baseComposer?.getValue()||(this.footerPanelExpanded=!0,this.publishInputFocusEvent())}sendComponentReadyEvent(I){this.composerEventChange.emit([{name:x.iQ,params:{composerSchemaType:I}}])}get element(){return this.elementRef?.nativeElement}onSelectionChange(I){this.selectionChange.next(I)}static{this.\u0275fac=function(E){return new(E||v)(s.\u0275\u0275directiveInject(s.Injector))}}static{this.\u0275dir=s.\u0275\u0275defineDirective({type:v,viewQuery:function(E,$){if(E&1&&s.\u0275\u0275viewQuery(V,5),E&2){let k;s.\u0275\u0275queryRefresh(k=s.\u0275\u0275loadQuery())&&($.baseComposer=k.first)}},inputs:{maxAttachmentsSize:"maxAttachmentsSize",selection:"selection",disableSelectionOptions:"disableSelectionOptions"},outputs:{composerEventChange:"composerEventChange",selectionChange:"selectionChange"},features:[s.\u0275\u0275InheritDefinitionFeature]})}}(0,o.Cg)([(0,d.CrtOutput)(),(0,o.Sn)("design:type",Object)],v.prototype,"composerEventChange",void 0),(0,o.Cg)([(0,d.CrtInput)(),(0,o.Sn)("design:type",String)],v.prototype,"selection",void 0),(0,o.Cg)([(0,d.CrtOutput)(),(0,o.Sn)("design:type",Object)],v.prototype,"selectionChange",void 0),(0,o.Cg)([(0,d.CrtInput)(),(0,o.Sn)("design:type",Boolean)],v.prototype,"disableSelectionOptions",void 0)},23854:(q,W,m)=>{"use strict";m.d(W,{r:()=>C});var o=m(73308),s=m(97270),d=m(99314),N=m.n(d),x=m(44537),l=m.n(x),V=m(86731),v=m(27643),M=m(69244),I=m(38628),E=m(16837),$=m(62441),k=m(96091),Q=m.n(k),H=m(10138),O=m(850),K=m(59937),de=m(84476),re=m(42218),se=m(76696),pe=m.n(se),me=m(84137),ae=m(90262),ye=m(58551);const le=[[["","channelsPanel",""]],[["","selectionActions",""]]],he=["[channelsPanel]","[selectionActions]"];function ge(Y,e){Y&1&&d.\u0275\u0275projection(0)}function fe(Y,e){Y&1&&d.\u0275\u0275projection(0,1)}function be(Y,e){Y&1&&d.\u0275\u0275element(0,"div",10)}function ue(Y,e){if(Y&1){const i=d.\u0275\u0275getCurrentView();d.\u0275\u0275elementStart(0,"div",6),d.\u0275\u0275template(1,be,1,0,"div",7),d.\u0275\u0275elementStart(2,"div",8),d.\u0275\u0275pipe(3,"translate"),d.\u0275\u0275elementStart(4,"crt-slide-toggle",9),d.\u0275\u0275listener("toggleChange",function(h){d.\u0275\u0275restoreView(i);const y=d.\u0275\u0275nextContext(2);return d.\u0275\u0275resetView(y.onExternalPublishingChange(h))}),d.\u0275\u0275elementEnd()()()}if(Y&2){const i=d.\u0275\u0275nextContext(2);d.\u0275\u0275advance(),d.\u0275\u0275property("ngIf",i.showFooterDivider),d.\u0275\u0275advance(),d.\u0275\u0275property("crtTooltip",d.\u0275\u0275pipeBind1(3,4,"Feed.ExternalUserTagTooltip")),d.\u0275\u0275advance(2),d.\u0275\u0275property("default",i.forExternal)("useDefaultWidth",!0)}}function _e(Y,e){if(Y&1&&d.\u0275\u0275template(0,ue,5,6,"div",5),Y&2){const i=d.\u0275\u0275nextContext();d.\u0275\u0275property("ngIf",i.allowExternalPost)}}let C=class lt extends re.Z{set composerEvent(e){e?.forEach(i=>{i?.name===H.Od&&(this.footerPanelIndent=i?.params.offset)})}set allowExternalPost(e){this._allowExternalPost=e}get allowExternalPost(){return this._allowExternalPost&&!this._userInfo.isSSP}get showFooterDivider(){return!!(this.footerPanelIndent>0||this.channelsPanel?.length>0&&this.channelsPanel.first?.isVisible)}constructor(e,i,c,h,y,P,U){super(e),this._feedMessageComposerService=i,this._messageDialogProvider=c,this._maskService=h,this._feedMentionServiceFactory=y,this._translateService=P,this._userInfo=U,this._attachments=[],this._forExternal=!1,this._allowExternalPost=!1,this._feedComposerTypeName="Feed",this._sendExternalBtnIcon="send-external-button-icon",this.footerPanelIndent=0,this.messageChangesCanceled=new d.EventEmitter,this.messagePosted=new d.EventEmitter,this.feedMentionService=this._feedMentionServiceFactory.getInstance(null,null),this._googleTagManager=e.get(M.AR)}get _isNewMessage(){return(0,$.A)(this._messageId)}get _isChildMessage(){return!(0,$.A)(this._parentMessageId)}set parentMessageId(e){this._parentMessageId=e}set messageId(e){this._messageId=e}set message(e){this._message=e}set schemaUId(e){this._schemaUId=e}set forExternal(e){this._forExternal=e}get forExternal(){return this._forExternal}get disabled(){return this.cardState===x.ModelInPageAction.Add}get sendButtonIcon(){return this.allowExternalPost&&this.forExternal?this._sendExternalBtnIcon:""}get placeholder(){const e=this.disabled?"Feed.Publisher.DisabledInputPlaceholder":"Feed.Publisher.DefaultInputPlaceholder";return this._translateService.instant(e)}get cacheCode(){const e=this._userInfo?.id;if(!this._isNewMessage||this._isChildMessage||(0,$.A)(e)||!(0,$.A)(this.entitySchemaName)&&(0,$.A)(this.primaryColumnValue))return"";let i=`feed_composer_cache_data_${e}_`;return!(0,$.A)(this.entitySchemaName)&&!(0,$.A)(this.primaryColumnValue)&&(i+=`${this.entitySchemaName}_${this.primaryColumnValue}`),i}_getMessage(){const e=this._isNewMessage?(0,x.generateGuid)():this._messageId,i=this.baseComposer.attachments.map(c=>({...c,recordId:e,fileEntitySchemaName:"FeedFile",recordEntitySchemaName:"SocialMessage",recordColumnName:"RecordId"}));return this.baseComposer.saveInlineImagesToDb({schemaName:"SocialMessage",recordId:e,fileSchemaName:"FeedFile",recordColumnName:"RecordId"}).pipe((0,k.map)(()=>({Id:e,Message:this.baseComposer.getValue(),EntityId:this.primaryColumnValue,EntitySchemaName:this.entitySchemaName,Attachments:i,EntitySchemaUId:this._schemaUId,UserAccess:this._allowExternalPost&&this._forExternal?E.Uo.External:E.Uo.General})))}_onFeedMessagePublishError(){this._messageDialogProvider.open({data:{message:"Feed.Publisher.PostingErrorMsg",actions:[I.NNA.OK]}}),this._maskService.hideBodyMask()}_onFeedMessageSuccesfullyPosted(e){this.baseComposer.clear(),this._forExternal=!1,this._maskService.hideBodyMask(),this.baseComposer.showSnackbar(K.l),this.messagePosted.emit(e),this._sendGTMData()}_sendGTMData(){const e={moduleName:this._feedComposerTypeName,schemaName:"FeedComposer",action:"FeedPostAdded"};this._googleTagManager.track(e)}_createOrUpdateChildMessage(e){return this._isNewMessage?this._feedMessageComposerService.postChildMessage(e,this._parentMessageId):this._feedMessageComposerService.updateChildMessage(e)}_createOrUpdateMessage(e){return this._isNewMessage?this._feedMessageComposerService.postMessage(e):this._feedMessageComposerService.updateMessage(e)}_composeFeedMessage(e){return this._isChildMessage?this._createOrUpdateChildMessage(e):this._createOrUpdateMessage(e)}_validate(){const i=(this.baseComposer?.getValue()||"").replace(/<(?!img)[^>]*>|\s|&nbsp;/g,""),c=!(0,$.A)(i);return c||this._messageDialogProvider.open({data:{message:"Feed.Publisher.PostingEmptyMsg",actions:[I.NNA.OK]}}),c}_confirmPublish(){var e=this;return(0,o.A)(function*(){if(e._isNewMessage||!e.allowExternalPost||!e.forExternal)return!0;const i=e._isChildMessage?"Feed.Publisher.ConfirmCommentAccessLevelChange":"Feed.Publisher.ConfirmMessageAccessLevelChange";return(yield(0,k.lastValueFrom)(e._messageDialogProvider.open({data:{message:i,actions:[I.NNA.NO,I.NNA.YES]}})))===I.NNA.YES.key})()}_notifyExternalPostDisabled(){!this.allowExternalPost&&!this._userInfo.isSSP&&this.forExternal&&this._messageDialogProvider.open({data:{message:"Feed.Publisher.ExternalMessagesDisabled",actions:[I.NNA.OK]}})}_loadAttachments(e,i,c){this._feedMessageComposerService.loadAttachments(e,i,c).subscribe(h=>{this._attachments=h?h.map(y=>{const P=new File([],y.fileName);return{id:y.fileId,size:y.fileSize,file:P,content:new ArrayBuffer(0)}}):[],this.baseComposer&&(this.baseComposer.attachments=this._attachments,this.changeDetectorRef.detectChanges())})}ngOnChanges(e){const i=e.primaryColumnValue?.currentValue||this.primaryColumnValue,c=e.entitySchemaName?.currentValue||this.entitySchemaName,h=e.schemaUId?.currentValue||this._schemaUId,y=e.messageId?.currentValue;(0,$.A)(y)||this._loadAttachments(y,h,i),i&&(h||c)&&(this.feedMentionService=this._feedMentionServiceFactory.getInstance(i,c,h))}onMessagePublish(){var e=this;return(0,o.A)(function*(){if(!(!e._validate()||!(yield e._confirmPublish()))){e._notifyExternalPostDisabled(),e._maskService.showBodyMask();try{e._getMessage().pipe((0,k.concatMap)(i=>e._composeFeedMessage(i)),(0,k.concatMap)(i=>((0,x.isEmptyGuid)(i)?e._onFeedMessagePublishError():e._onFeedMessageSuccesfullyPosted(i),(0,k.of)(!0)))).subscribe({error:()=>e._onFeedMessagePublishError()})}catch{e._onFeedMessagePublishError()}}})()}onMessageChangesCancel(){this._forExternal=!1,this.messageChangesCanceled.emit()}ngAfterViewInit(){(0,$.A)(this._message)||this.baseComposer.setValue(this._message),this.baseComposer.attachments=this._attachments,this.sendComponentReadyEvent(this._feedComposerTypeName)}focus(){this.baseComposer?.focus()}onExternalPublishingChange(e){this._forExternal=e?.checked??!1,this.focus()}onNewMention(e){if(this.forExternal)return;const i=!!e?.find(c=>c.connectionType===`${E.Uo.External}`);this._forExternal=i,this.changeDetectorRef.detectChanges()}static{this.\u0275fac=function(i){return new(i||lt)(d.\u0275\u0275directiveInject(d.Injector),d.\u0275\u0275directiveInject(O.D7),d.\u0275\u0275directiveInject(I.rRR),d.\u0275\u0275directiveInject(v.sz),d.\u0275\u0275directiveInject(O.oe),d.\u0275\u0275directiveInject(V.c$),d.\u0275\u0275directiveInject(E.oqB))}}static{this.\u0275cmp=d.\u0275\u0275defineComponent({type:lt,selectors:[["crt-feed-composer"]],contentQueries:function(i,c,h){if(i&1&&d.\u0275\u0275contentQuery(h,de.B,4),i&2){let y;d.\u0275\u0275queryRefresh(y=d.\u0275\u0275loadQuery())&&(c.channelsPanel=y)}},inputs:{primaryColumnValue:"primaryColumnValue",cardState:"cardState",entitySchemaName:"entitySchemaName",composerEvent:"composerEvent",allowExternalPost:"allowExternalPost",parentMessageId:"parentMessageId",messageId:"messageId",message:"message",schemaUId:"schemaUId",forExternal:"forExternal"},outputs:{messageChangesCanceled:"messageChangesCanceled",messagePosted:"messagePosted"},features:[d.\u0275\u0275InheritDefinitionFeature,d.\u0275\u0275NgOnChangesFeature],ngContentSelectors:he,decls:8,vars:12,consts:[["baseComposer",""],["channelSelector",""],["selectionActions",""],["footerPanelOptions",""],[3,"selectionChange","messageInputFocus","messageInputBlur","messageInputClick","messagePublish","messageChangesCancel","newMention","composerCacheCode","inputPlaceHolder","footerPanelExpanded","mentionsService","sendingButtonDisabled","disabled","footerPanelIndent","footerPanelOptions","channelSelector","selectionActions","disableSelectionOptions","sendButtonIcon"],["class","feed-composer-footer",4,"ngIf"],[1,"feed-composer-footer"],["class","feed-composer-footer-divider",4,"ngIf"],[1,"feed-composer-footer-external-slide-wrap",3,"crtTooltip"],["data-qa","post-for-external","title","External","labelPosition","'after'",3,"toggleChange","default","useDefaultWidth"],[1,"feed-composer-footer-divider"]],template:function(i,c){if(i&1){const h=d.\u0275\u0275getCurrentView();d.\u0275\u0275projectionDef(le),d.\u0275\u0275elementStart(0,"crt-base-message-composer",4,0),d.\u0275\u0275listener("selectionChange",function(P){return d.\u0275\u0275restoreView(h),d.\u0275\u0275resetView(c.onSelectionChange(P))})("messageInputFocus",function(){return d.\u0275\u0275restoreView(h),d.\u0275\u0275resetView(c.onMessageInputFocus())})("messageInputBlur",function(){return d.\u0275\u0275restoreView(h),d.\u0275\u0275resetView(c.onMessageInputBlur())})("messageInputClick",function(){return d.\u0275\u0275restoreView(h),d.\u0275\u0275resetView(c.onMessageInputClick())})("messagePublish",function(){return d.\u0275\u0275restoreView(h),d.\u0275\u0275resetView(c.onMessagePublish())})("messageChangesCancel",function(){return d.\u0275\u0275restoreView(h),d.\u0275\u0275resetView(c.onMessageChangesCancel())})("newMention",function(P){return d.\u0275\u0275restoreView(h),d.\u0275\u0275resetView(c.onNewMention(P))}),d.\u0275\u0275elementEnd(),d.\u0275\u0275template(2,ge,1,0,"ng-template",null,1,d.\u0275\u0275templateRefExtractor)(4,fe,1,0,"ng-template",null,2,d.\u0275\u0275templateRefExtractor)(6,_e,1,1,"ng-template",null,3,d.\u0275\u0275templateRefExtractor)}if(i&2){const h=d.\u0275\u0275reference(3),y=d.\u0275\u0275reference(5),P=d.\u0275\u0275reference(7);d.\u0275\u0275property("composerCacheCode",c.cacheCode)("inputPlaceHolder",c.placeholder)("footerPanelExpanded",c.footerPanelExpanded)("mentionsService",c.feedMentionService)("sendingButtonDisabled",c.disabled)("disabled",c.disabled)("footerPanelIndent",c.footerPanelIndent)("footerPanelOptions",P)("channelSelector",h)("selectionActions",y)("disableSelectionOptions",c.disableSelectionOptions)("sendButtonIcon",c.sendButtonIcon)}},dependencies:[se.NgIf,me.d,ae.G,ye.l,V.D9],styles:[".feed-composer-footer[_ngcontent-%COMP%]{display:flex;flex:auto}.feed-composer-footer-external-slide-wrap[_ngcontent-%COMP%]{width:auto}.feed-composer-footer-divider[_ngcontent-%COMP%]{margin-top:4px;margin-inline-end:24px;margin-inline-start:20px;height:16px;border-left:1px solid var(--crt-palette-border-500)}"]})}};(0,s.Cg)([(0,x.CrtInput)(),(0,s.Sn)("design:type",String)],C.prototype,"primaryColumnValue",void 0),(0,s.Cg)([(0,x.CrtInput)(),(0,s.Sn)("design:type",String)],C.prototype,"cardState",void 0),(0,s.Cg)([(0,x.CrtInput)(),(0,s.Sn)("design:type",String)],C.prototype,"entitySchemaName",void 0),(0,s.Cg)([(0,x.CrtInput)(),(0,s.Sn)("design:type",Array),(0,s.Sn)("design:paramtypes",[Array])],C.prototype,"composerEvent",null),(0,s.Cg)([(0,x.CrtInput)(),(0,s.Sn)("design:type",Boolean),(0,s.Sn)("design:paramtypes",[Boolean])],C.prototype,"allowExternalPost",null),(0,s.Cg)([(0,x.CrtOutput)(),(0,s.Sn)("design:type",Object)],C.prototype,"messageChangesCanceled",void 0),(0,s.Cg)([(0,x.CrtOutput)(),(0,s.Sn)("design:type",d.EventEmitter)],C.prototype,"messagePosted",void 0),(0,s.Cg)([(0,x.CrtInput)(),(0,s.Sn)("design:type",String),(0,s.Sn)("design:paramtypes",[String])],C.prototype,"parentMessageId",null),(0,s.Cg)([(0,x.CrtInput)(),(0,s.Sn)("design:type",String),(0,s.Sn)("design:paramtypes",[String])],C.prototype,"messageId",null),(0,s.Cg)([(0,x.CrtInput)(),(0,s.Sn)("design:type",String),(0,s.Sn)("design:paramtypes",[String])],C.prototype,"message",null),(0,s.Cg)([(0,x.CrtInput)(),(0,s.Sn)("design:type",String),(0,s.Sn)("design:paramtypes",[String])],C.prototype,"schemaUId",null),(0,s.Cg)([(0,x.CrtInput)(),(0,s.Sn)("design:type",Boolean),(0,s.Sn)("design:paramtypes",[Boolean])],C.prototype,"forExternal",null),C=(0,s.Cg)([(0,x.CrtViewElement)({type:"crt.FeedComposer",contentSlots:["channelsPanel","selectionActions"],reuseStrategy:x.ViewElementReuseStrategy.Reuse}),(0,x.CrtInterfaceDesignerItem)({propertiesPanelComponentTypeName:"crt.FeedComposerPropertiesPanel",viewElementGroupType:x.ViewElementGroupType.CustomElements,typeCaption:"MessageComposer.Feed.Caption"}),(0,s.Sn)("design:paramtypes",[d.Injector,O.D7,I.rRR,v.sz,O.oe,V.c$,E.oqB])],C)},77951:(q,W,m)=>{"use strict";m.r(W),m.d(W,{COMPOSER_BLIND_ZONE_WIDTH_EVENT:()=>D.Od,COMPOSER_EMAIL_SAVED_EVENT:()=>D.J3,COMPOSER_FOCUS_INPUT_EVENT:()=>D.An,COMPOSER_READY_EVENT:()=>D.iQ,COMPOSER_REPLY_EMAIL_EVENT:()=>D.M7,CaseSenderComposerHandler:()=>Oe,CaseSenderComposerRequest:()=>st,ChangeComposerHandler:()=>Ae,ChangeComposerRequest:()=>et,ChangeComposerService:()=>A.IS,ComposerDataCachingService:()=>A.$s,ComposerEvent:()=>D.Z4,ConditionalEmailIdConverter:()=>xe,CreateEmailRequestHandler:()=>ke,CrtBaseMessageComposerComponent:()=>Ie.l,CrtBaseMessageComposerSkeletonComponent:()=>Ce,CrtBaseSnackbarLabelComponent:()=>Te.l,CrtChannelSelectorComponent:()=>Re.B,CrtCommonMessageComposerComponent:()=>dt.Z,CrtDraftSavedSnackbarLabelComponent:()=>qe,CrtEmailComposerComponent:()=>F,CrtEmailSentSnackbarLabelComponent:()=>Ge,CrtFeedComposerComponent:()=>Me.r,CrtMessageComposerSelectorComponent:()=>te,CrtMessageComposerSelectorModule:()=>Ue,CrtRecipientSearchComponent:()=>Je,DefaultSenderComposerHandler:()=>je,DefaultSenderComposerRequest:()=>nt,EditDraftEmailComposerRequest:()=>it,EditDraftEmailComposerRequestHandler:()=>Ve,EmailComposerDataCachingService:()=>A.vP,EmailComposerSavedHandler:()=>Ne,EmailComposerSavedRequest:()=>Ze,EmailFormPageViewModelInitRequestHandler:()=>He,EmailSignatureService:()=>A.S9,EmailTemplatesService:()=>A.BG,EmailsService:()=>A.d$,FeedMentionService:()=>A.Og,FeedMentionServiceFactory:()=>A.oe,FeedMessageComposerService:()=>A.D7,ForwardEmailComposerRequest:()=>tt,ForwardEmailComposerRequestHandler:()=>Pe,MailboxesService:()=>A.W3,RecipientsService:()=>A.eY,RecipientsWrap:()=>Ye,RefreshEmailRecipientsHandler:()=>Le,RefreshEmailRecipientsRequest:()=>Xe,ReplyAction:()=>D.TF,ReplyAllEmailComposerRequest:()=>at,ReplyAllEmailComposerRequestHandler:()=>Fe,ReplyEmailComposerRequest:()=>Ee,ReplyEmailComposerRequestHandler:()=>we,SendEmailService:()=>A.yY,ToRecipientsMailboxesConverter:()=>Be,ToSendersMailboxesConverter:()=>De});var o=m(97270),s=m(76696),d=m(26182),N=m(93289),x=m(49147),l=m(44537),V=m(27643),v=m(96590),M=m(38628),I=m(99889),E=m(16837);const _={"hr-HR":JSON.parse(`{"MessageComposer":{"CanDiscardUnsavedData":"Imate nespremljene promjene koje \u0107e biti izgubljene. \u017Delite li nastaviti?","CancelButtonHint":"Odbaci","CancelButtonText":"Odbaci","SaveDraftButtonText":"Spremi skicu","SendButtonHint":"Po\u0161alji poruku (Ctrl + Enter)","MessageSent":"Poruka poslana","SendButtonText":"Po\u0161alji","RemoveAttachmentHint":"Ukloni prilog","Caption":"Sastavlja\u010D poruke","Email":{"Caption":"Sastavlja\u010D e-po\u0161te","From":"Od","To":"Za","CC":"CC","BCC":"BCC","Subject":"Predmet","PublishError":"Slanje poruke nije uspjelo. Primljena je sljede\u0107a gre\u0161ka: {0}","SaveDraftError":"Nemogu\u0107e spremiti skicu. Molimo poku\u0161ajte ponovo kasnije","TemplateInsertError":"Nemogu\u0107e je dodati predlo\u017Eak. Molimo poku\u0161ajte ponovno kasnije.","AttachmentsSizeLimitReached":"Ukupna veli\u010Dina priloga ve\u0107a je od dopu\u0161tenih {0} MB. Molimo uklonite neke priloge.","FromValidationErrorMessage":"Polje 'Od' ne mo\u017Ee biti prazno. Molimo odaberite po\u0161tanski sandu\u010Di\u0107.","ToValidationErrorMessage":"Polje 'Za' ne mo\u017Ee biti prazno. Molimo unesite barem jednog primatelja.","SubjectValidationErrorMessage":"Polje 'Predmet' ne mo\u017Ee biti prazno. Molimo unesite predmet e-po\u0161te.","Draft":"Skica","BodyPlaceholder":"Napi\u0161i poruku","Reply":"Odgovori","ReplyAll":"Odgovori svima","Forward":"Proslijedi","SentOn":"Poslano dana","SubjectToggleCaption":"Predmet","CcToggleCaption":"CC","BccToggleCaption":"BCC","NotContainsEmail":"ne sadr\u017Ei e-po\u0161tu u sebi","ChangeReplyAction":"Promijeni radnju odgovora","ShowTrimmedEmailTitle":"Prika\u017Ei skra\u0107enu e-po\u0161tu","EmailTemplatesLookupCaption":"Odaberi predlo\u017Eak","EmailTemplatesDisplayColumnCaption":"Ime predlo\u0161ka","ContinueEditing":"Nastavi ure\u0111ivanje","SaveDraft":"Spremi skicu","DraftSaved":"Skica spremljena","EmailSent":"E-mail poslan"},"Feed":{"Caption":"Kreator feeda"},"Selector":{"Caption":"Sastavlja\u010D poruke"}}}`),"hu-HU":JSON.parse('{"MessageComposer":{"CanDiscardUnsavedData":"Vannak nem mentett m\xF3dos\xEDt\xE1sai, amelyek elvesznek. Folytatja?","CancelButtonHint":"Eldob\xE1s","CancelButtonText":"Eldob\xE1s","SaveDraftButtonText":"Piszkozat ment\xE9se","SendButtonHint":"\xDCzenet k\xFCld\xE9se (Ctrl + Enter)","MessageSent":"\xDCzenet elk\xFCldve","SendButtonText":"K\xFCld\xE9s","RemoveAttachmentHint":"T\xE1vol\xEDtsa el a mell\xE9kletet","Caption":"\xDCzenetk\xE9sz\xEDt\u0151","Email":{"Caption":"E-mail zeneszerz\u0151","From":"Ett\u0151l","To":"C\xEDmzett","CC":"CC","BCC":"Titkos m\xE1solat","Subject":"T\xE1rgy","PublishError":"Nem siker\xFClt \xFCzenetet k\xFCldeni. A k\xF6vetkez\u0151 hiba\xFCzenet \xE9rkezett: {0}","SaveDraftError":"Nem siker\xFClt menteni a piszkozatot. K\xE9rlek, pr\xF3b\xE1ld \xFAjra k\xE9s\u0151bb","TemplateInsertError":"Nem siker\xFClt hozz\xE1adni a sablont. K\xE9rlek, pr\xF3b\xE1ld \xFAjra k\xE9s\u0151bb.","AttachmentsSizeLimitReached":"A mell\xE9kletek teljes m\xE9rete meghaladja a megengedett {0} MB-ot. K\xE9rj\xFCk, t\xE1vol\xEDtson el n\xE9h\xE1ny mell\xE9kletet.","FromValidationErrorMessage":"A \u201EFelad\xF3\u201D mez\u0151 nem lehet \xFCres. K\xE9rj\xFCk, v\xE1lasszon egy postafi\xF3kot.","ToValidationErrorMessage":"A \u201EC\xEDmzett\u201D mez\u0151 nem lehet \xFCres. K\xE9rj\xFCk, adjon meg legal\xE1bb egy c\xEDmzettet.","SubjectValidationErrorMessage":"A \u201ET\xE1rgy\u201D mez\u0151 nem lehet \xFCres. K\xE9rj\xFCk, adja meg az e-mail t\xE1rgy\xE1t.","Draft":"V\xE1zlat","BodyPlaceholder":"\xCDrjon be egy \xFCzenetet","Reply":"V\xE1lasz","ReplyAll":"V\xE1lasz mindenkinek","Forward":"El\u0151re","SentOn":"Elk\xFCldve","SubjectToggleCaption":"T\xE1rgy","CcToggleCaption":"CC","BccToggleCaption":"Titkos m\xE1solat","NotContainsEmail":"nem tartalmaz e-mailt","ChangeReplyAction":"V\xE1laszm\u0171velet m\xF3dos\xEDt\xE1sa","ShowTrimmedEmailTitle":"V\xE1gott e-mail megjelen\xEDt\xE9se","EmailTemplatesLookupCaption":"V\xE1lassz egy sablont","EmailTemplatesDisplayColumnCaption":"Sablon neve","ContinueEditing":"Szerkeszt\xE9s folytat\xE1sa","SaveDraft":"Piszkozat ment\xE9se","DraftSaved":"Piszkozat mentve","EmailSent":"Az e-mail elk\xFCldve"},"Feed":{"Caption":"H\xEDrfolyam k\xE9sz\xEDt\u0151"},"Selector":{"Caption":"\xDCzenetk\xE9sz\xEDt\u0151"}}}'),"zh-CN":JSON.parse('{"MessageComposer":{"CanDiscardUnsavedData":"You have unsaved changes that will be lost. Continue?","CancelButtonHint":"Discard","CancelButtonText":"Discard","SaveDraftButtonText":"Save draft","SendButtonHint":"Send Message (Ctrl + Enter)","MessageSent":"Message sent","SendButtonText":"Send","RemoveAttachmentHint":"Remove attachment","Caption":"Message composer","Email":{"Caption":"Email composer","From":"\u6765\u81EA","To":"\u7ED9","CC":"CC","BCC":"BCC","Subject":"\u4E3B\u9898","PublishError":"Failed to send a message. The following error was received: {0}","SaveDraftError":"Unable to save the draft. Please try again later","TemplateInsertError":"Unable to add the template. Please try again later.","AttachmentsSizeLimitReached":"Total attachments size is more than allowed {0} MB. Please remove some attachments.","FromValidationErrorMessage":"\u201CFrom\u201D field cannot be blank. Please select a mailbox.","ToValidationErrorMessage":"\u201CTo\u201D field cannot be blank. Please enter at least one recipient.","SubjectValidationErrorMessage":"\u201CSubject\u201D field cannot be blank. Please enter the email subject.","Draft":"Draft","BodyPlaceholder":"Type a message","Reply":"Reply","ReplyAll":"Reply all","Forward":"Forward","SentOn":"\u53D1\u9001","SubjectToggleCaption":"Subj","CcToggleCaption":"CC","BccToggleCaption":"BCC","NotContainsEmail":"does not contain email in it","ChangeReplyAction":"Change reply action","ShowTrimmedEmailTitle":"Show trimmed email","EmailTemplatesLookupCaption":"Select a template","EmailTemplatesDisplayColumnCaption":"Template name","ContinueEditing":"Continue editing","SaveDraft":"Save draft","DraftSaved":"Draft saved","EmailSent":"Email sent"},"Feed":{"Caption":"Feed composer"},"Selector":{"Caption":"Message composer"}}}'),"sq-AL":JSON.parse('{"MessageComposer":{"CanDiscardUnsavedData":"Ti ke ndryshime t\xEB paruajtura q\xEB do t\xEB humbasin. Vazhdo?","CancelButtonHint":"Hidhni","CancelButtonText":"Hidhni","SaveDraftButtonText":"Save draft","SendButtonHint":"Send Message (Ctrl + Enter)","MessageSent":"Message sent","SendButtonText":"Send","RemoveAttachmentHint":"Remove attachment","Caption":"Message composer","Email":{"Caption":"Email composer","From":"Nga","To":"P\xEBr","CC":"CC","BCC":"BCC","Subject":"Subjekti","PublishError":"Failed to send a message. The following error was received: {0}","SaveDraftError":"Unable to save the draft. Please try again later","TemplateInsertError":"Unable to add the template. Please try again later.","AttachmentsSizeLimitReached":"Totali i madh\xEBsis\xEB s\xEB bashk\xEBlidhjeve \xEBsht\xEB m\xEB shum\xEB se {0} MB e lejuar. T\xEB lutem hiq disa bashk\xEBlidhje.","FromValidationErrorMessage":"\u201CFrom\u201D field cannot be blank. Please select a mailbox.","ToValidationErrorMessage":"\u201CTo\u201D field cannot be blank. Please enter at least one recipient.","SubjectValidationErrorMessage":"\u201CSubject\u201D field cannot be blank. Please enter the email subject.","Draft":"Draft","BodyPlaceholder":"Shkruaj nj\xEB mesazh","Reply":"P\xEBrgjigju","ReplyAll":"Reply all","Forward":"Forward","SentOn":"D\xEBrguar m\xEB","SubjectToggleCaption":"Subj","CcToggleCaption":"CC","BccToggleCaption":"BCC","NotContainsEmail":"does not contain email in it","ChangeReplyAction":"Change reply action","ShowTrimmedEmailTitle":"Show trimmed email","EmailTemplatesLookupCaption":"Select a template","EmailTemplatesDisplayColumnCaption":"Emri i shabllonit","ContinueEditing":"Continue editing","SaveDraft":"Save draft","DraftSaved":"Draft saved","EmailSent":"Email sent"},"Feed":{"Caption":"Feed composer"},"Selector":{"Caption":"Message composer"}}}'),"en-GB":JSON.parse('{"MessageComposer":{"CancelButtonHint":"Discard","CancelButtonText":"Discard","SendButtonHint":"Send message. Keyboard Shortcut - Ctrl+Enter","SendButtonText":"Send","RemoveAttachmentHint":"Remove attachment","Caption":"Message composer","Email":{"Caption":"Email composer","From":"From","To":"To","CC":"Cc","BCC":"Bcc","Subject":"Subject","PublishError":"Failed to send a message. The following error was received: {0}","AttachmentsSizeLimitReached":"Total attachments size is more than allowed. Please remove some attachments.","FromValidationErrorMessage":"\u201CFrom\u201D field cannot be blank. Please select a mailbox.","ToValidationErrorMessage":"\u201CTo\u201D field cannot be blank. Please enter at least one recipient.","SubjectValidationErrorMessage":"\u201CSubject\u201D field cannot be blank. Please enter the email subject.","BodyPlaceholder":"Type a message","Reply":"Reply","ReplyAll":"Reply all","Forward":"Forward","SentOn":"Sent on","SubjectToggleCaption":"Subj","CcToggleCaption":"CC","BccToggleCaption":"BCC","NotContainsEmail":"does not contain email in it"},"Feed":{"Caption":"Feed composer"},"Selector":{"Caption":"Message composer"}}}'),"bg-BG":JSON.parse('{"MessageComposer":{"CanDiscardUnsavedData":"\u0412\u0441\u0438\u0447\u043A\u0438 \u043D\u0435\u0437\u0430\u043F\u0430\u0437\u0435\u043D\u0438 \u043F\u0440\u043E\u043C\u0435\u043D\u0438 \u0449\u0435 \u0431\u044A\u0434\u0430\u0442 \u0437\u0430\u0433\u0443\u0431\u0435\u043D\u0438. \u0414\u0430 \u0441\u0435 \u043F\u0440\u043E\u0434\u044A\u043B\u0436\u0438 \u043B\u0438?","CancelButtonHint":"\u041E\u0442\u0445\u0432\u044A\u0440\u043B\u0438","CancelButtonText":"\u041E\u0442\u0445\u0432\u044A\u0440\u043B\u0438","SaveDraftButtonText":"\u0417\u0430\u043F\u0430\u0437\u0438 \u0447\u0435\u0440\u043D\u043E\u0432\u0430","SendButtonHint":"\u0418\u0437\u043F\u0440\u0430\u0442\u0438 \u0441\u044A\u043E\u0431\u0449\u0435\u043D\u0438\u0435 (Ctrl + Enter)","MessageSent":"\u0421\u044A\u043E\u0431\u0449\u0435\u043D\u0438\u0435\u0442\u043E \u0435 \u0438\u0437\u043F\u0440\u0430\u0442\u0435\u043D\u043E","SendButtonText":"\u0418\u0437\u043F\u0440\u0430\u0442\u0438","RemoveAttachmentHint":"\u041F\u0440\u0435\u043C\u0430\u0445\u043D\u0438 \u043F\u0440\u0438\u043A\u0430\u0447\u0435\u043D\u0438\u044F \u0444\u0430\u0439\u043B","Caption":"\u041A\u043E\u043C\u043F\u043E\u0437\u0438\u0442\u043E\u0440 \u043D\u0430 \u0441\u044A\u043E\u0431\u0449\u0435\u043D\u0438\u0435","Email":{"Caption":"\u041A\u043E\u043C\u043F\u043E\u0437\u0438\u0442\u043E\u0440 \u043D\u0430 \u0438\u043C\u0435\u0439\u043B","From":"\u041E\u0442","To":"\u041A\u044A\u043C","CC":"CC","BCC":"BCC","Subject":"\u0422\u0435\u043C\u0430","PublishError":"\u041D\u0435\u0443\u0441\u043F\u0435\u0448\u043D\u043E \u0438\u0437\u043F\u0440\u0430\u0449\u0430\u043D\u0435 \u043D\u0430 \u0441\u044A\u043E\u0431\u0449\u0435\u043D\u0438\u0435. \u041F\u043E\u043B\u0443\u0447\u0435\u043D\u0430 \u0435 \u0441\u043B\u0435\u0434\u043D\u0430\u0442\u0430 \u0433\u0440\u0435\u0448\u043A\u0430: {0}","SaveDraftError":"\u0427\u0435\u0440\u043D\u043E\u0432\u0430\u0442\u0430 \u043D\u0435 \u043C\u043E\u0436\u0435 \u0434\u0430 \u0431\u044A\u0434\u0435 \u0437\u0430\u043F\u0430\u0437\u0435\u043D\u0430. \u041C\u043E\u043B\u044F, \u043E\u043F\u0438\u0442\u0430\u0439 \u043E\u0442\u043D\u043E\u0432\u043E \u043F\u043E-\u043A\u044A\u0441\u043D\u043E","TemplateInsertError":"\u041D\u0435 \u043C\u043E\u0436\u0435 \u0434\u0430 \u0441\u0435 \u0434\u043E\u0431\u0430\u0432\u0438 \u0448\u0430\u0431\u043B\u043E\u043D\u044A\u0442. \u041C\u043E\u043B\u044F, \u043E\u043F\u0438\u0442\u0430\u0439 \u043E\u0442\u043D\u043E\u0432\u043E \u043F\u043E-\u043A\u044A\u0441\u043D\u043E.","AttachmentsSizeLimitReached":"\u041E\u0431\u0449\u0438\u044F\u0442 \u0440\u0430\u0437\u043C\u0435\u0440 \u043D\u0430 \u043F\u0440\u0438\u043A\u0430\u0447\u0435\u043D\u0438\u0442\u0435 \u0444\u0430\u0439\u043B\u043E\u0432\u0435 \u0435 \u043F\u043E\u0432\u0435\u0447\u0435 \u043E\u0442 \u0440\u0430\u0437\u0440\u0435\u0448\u0435\u043D\u0438\u0442\u0435 {0} MB. \u041C\u043E\u043B\u044F, \u043F\u0440\u0435\u043C\u0430\u0445\u043D\u0438 \u043D\u044F\u043A\u043E\u0438 \u043F\u0440\u0438\u043A\u0430\u0447\u0435\u043D\u0438 \u0444\u0430\u0439\u043B\u043E\u0432\u0435.","FromValidationErrorMessage":"\u041F\u043E\u043B\u0435\u0442\u043E \u201E\u041E\u0442\u201C \u043D\u0435 \u043C\u043E\u0436\u0435 \u0434\u0430 \u0431\u044A\u0434\u0435 \u043F\u0440\u0430\u0437\u043D\u043E. \u041C\u043E\u043B\u044F, \u0438\u0437\u0431\u0435\u0440\u0438 \u043F\u043E\u0449\u0435\u043D\u0441\u043A\u0430 \u043A\u0443\u0442\u0438\u044F.","ToValidationErrorMessage":"\u041F\u043E\u043B\u0435\u0442\u043E \u201E\u0414\u043E\u201C \u043D\u0435 \u043C\u043E\u0436\u0435 \u0434\u0430 \u0431\u044A\u0434\u0435 \u043F\u0440\u0430\u0437\u043D\u043E. \u041C\u043E\u043B\u044F, \u0432\u044A\u0432\u0435\u0434\u0438 \u043F\u043E\u043D\u0435 \u0435\u0434\u0438\u043D \u043F\u043E\u043B\u0443\u0447\u0430\u0442\u0435\u043B.","SubjectValidationErrorMessage":"\u041F\u043E\u043B\u0435\u0442\u043E \u201E\u0422\u0435\u043C\u0430\u201C \u043D\u0435 \u043C\u043E\u0436\u0435 \u0434\u0430 \u0431\u044A\u0434\u0435 \u043F\u0440\u0430\u0437\u043D\u043E. \u041C\u043E\u043B\u044F, \u0432\u044A\u0432\u0435\u0434\u0438 \u0442\u0435\u043C\u0430\u0442\u0430 \u043D\u0430 \u0438\u043C\u0435\u0439\u043B\u0430.","Draft":"\u0427\u0435\u0440\u043D\u043E\u0432\u0430","BodyPlaceholder":"\u0412\u044A\u0432\u0435\u0434\u0438 \u0441\u044A\u043E\u0431\u0449\u0435\u043D\u0438\u0435","Reply":"\u041E\u0442\u0433\u043E\u0432\u043E\u0440\u0438","ReplyAll":"\u041E\u0442\u0433\u043E\u0432\u043E\u0440\u0438 \u043D\u0430 \u0432\u0441\u0438\u0447\u043A\u043E","Forward":"\u041D\u0430\u043F\u0440\u0435\u0434","SentOn":"\u0418\u0437\u043F\u0440\u0430\u0442\u0435\u043D\u043E \u043D\u0430","SubjectToggleCaption":"\u0422\u0435\u043C\u0430","CcToggleCaption":"CC","BccToggleCaption":"BCC","NotContainsEmail":"\u043D\u0435 \u0441\u044A\u0434\u044A\u0440\u0436\u0430 \u0438\u043C\u0435\u0439\u043B \u0432 \u043D\u0435\u0433\u043E","ChangeReplyAction":"\u041F\u0440\u043E\u043C\u0435\u043D\u0438 \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0435\u0442\u043E \u0437\u0430 \u043E\u0442\u0433\u043E\u0432\u043E\u0440","ShowTrimmedEmailTitle":"\u041F\u043E\u043A\u0430\u0436\u0438 \u0438\u0437\u0440\u044F\u0437\u0430\u043D\u0438\u044F \u0438\u043C\u0435\u0439\u043B","EmailTemplatesLookupCaption":"\u0418\u0437\u0431\u0435\u0440\u0438 \u0448\u0430\u0431\u043B\u043E\u043D","EmailTemplatesDisplayColumnCaption":"\u0418\u043C\u0435 \u043D\u0430 \u0448\u0430\u0431\u043B\u043E\u043D\u0430","ContinueEditing":"\u041F\u0440\u043E\u0434\u044A\u043B\u0436\u0438 \u0440\u0435\u0434\u0430\u043A\u0442\u0438\u0440\u0430\u043D\u0435\u0442\u043E","SaveDraft":"\u0417\u0430\u043F\u0430\u0437\u0438 \u0447\u0435\u0440\u043D\u043E\u0432\u0430","DraftSaved":"\u0427\u0435\u0440\u043D\u043E\u0432\u0430\u0442\u0430 \u0435 \u0437\u0430\u043F\u0430\u0437\u0435\u043D\u0430","EmailSent":"\u0418\u043C\u0435\u0439\u043B\u044A\u0442 \u0435 \u0438\u0437\u043F\u0440\u0430\u0442\u0435\u043D"},"Feed":{"Caption":"\u041A\u043E\u043C\u043F\u043E\u0437\u0438\u0442\u043E\u0440 \u043D\u0430 \u043F\u0443\u0431\u043B\u0438\u043A\u0430\u0446\u0438\u0438"},"Selector":{"Caption":"\u041A\u043E\u043C\u043F\u043E\u0437\u0438\u0442\u043E\u0440 \u043D\u0430 \u0441\u044A\u043E\u0431\u0449\u0435\u043D\u0438\u0435"}}}'),"zh-TW":JSON.parse('{"MessageComposer":{"CancelButtonHint":"\u653E\u68C4","CancelButtonText":"\u653E\u68C4","SendButtonHint":"\u53D1\u9001\u6D88\u606F(Ctrl + Enter)","SendButtonText":"\u5BC4\u9001","RemoveAttachmentHint":"\u79FB\u9664\u9644\u4EF6","Caption":"\u8A0A\u606F\u7DE8\u8F2F\u5668","Email":{"Caption":"\u96FB\u5B50\u90F5\u4EF6\u7DE8\u8F2F\u5668","From":"\u53D1\u4EF6\u4EBA","To":"\u7ED9","CC":"\u6284\u9001","BCC":"\u5BC6\u9001","Subject":"\u4E3B\u65E8","PublishError":"\u53D1\u9001\u6D88\u606F\u5931\u8D25\u3002\u6536\u5230\u4EE5\u4E0B\u9519\u8BEF\uFF1A {0}","AttachmentsSizeLimitReached":"\u7E3D\u9644\u4EF6\u5927\u5C0F\u8D85\u904E\u5141\u8A31\u7684 {0} MB\u3002\u8ACB\u79FB\u9664\u4E00\u4E9B\u9644\u4EF6\u3002","FromValidationErrorMessage":"\u201C\u53D1\u4EF6\u4EBA\u201D\u5B57\u6BB5\u4E0D\u80FD\u4E3A\u7A7A\u3002\u8BF7\u9009\u62E9\u4E00\u4E2A\u90AE\u7BB1\u3002","ToValidationErrorMessage":"\u201C\u6536\u4EF6\u4EBA\u201D\u5B57\u6BB5\u4E0D\u80FD\u4E3A\u7A7A\u3002\u8BF7\u8F93\u5165\u81F3\u5C11\u4E00\u4E2A\u6536\u4EF6\u4EBA\u3002","SubjectValidationErrorMessage":"\u201C\u4E3B\u9898\u201D\u5B57\u6BB5\u4E0D\u80FD\u4E3A\u7A7A\u3002\u8BF7\u8F93\u5165\u7535\u5B50\u90AE\u4EF6\u4E3B\u9898\u3002","BodyPlaceholder":"\u8F38\u5165\u8A0A\u606F","Reply":"\u56DE\u590D","ReplyAll":"\u56DE\u590D\u5168\u90E8","Forward":"\u8F6C\u53D1","SentOn":"\u53D1\u9001\u4E8E","SubjectToggleCaption":"\u5B50\u9879","CcToggleCaption":"\u6284\u9001","BccToggleCaption":"\u5BC6\u9001","SaveDraftError":"\u7121\u6CD5\u5132\u5B58\u8349\u7A3F\u3002\u8ACB\u7A0D\u5F8C\u5617\u8A66","TemplateInsertError":"\u65E0\u6CD5\u6DFB\u52A0\u6A21\u677F\u3002\u8BF7\u7A0D\u540E\u518D\u8BD5\u3002","Draft":"\u7C97\u7A3F","NotContainsEmail":"\u5176\u5185\u4E0D\u5305\u542B\u90AE\u4EF6\u5730\u5740","ChangeReplyAction":"\u66F4\u6539\u56DE\u590D\u52A8\u4F5C","ShowTrimmedEmailTitle":"\u663E\u793A\u4FEE\u590D\u90AE\u4EF6","EmailTemplatesLookupCaption":"\u9078\u64C7\u6A21\u677F","EmailTemplatesDisplayColumnCaption":"\u6A21\u677F\u540D\u7A31","ContinueEditing":"\u7EE7\u7EED\u7F16\u8F91","SaveDraft":"\u5132\u5B58\u8349\u7A3F","DraftSaved":"\u8349\u7A3F\u5DF2\u5132\u5B58","EmailSent":"\u90AE\u4EF6\u5DF2\u53D1\u9001"},"CanDiscardUnsavedData":"\u5C07\u6703\u5931\u53BB\u672A\u5132\u5B58\u7684\u8CC7\u6599, \u78BA\u8A8D\u662F\u5426\u7E7C\u7E8C\uFF1F","SaveDraftButtonText":"\u5132\u5B58\u8349\u7A3F","MessageSent":"\u6D88\u606F\u5DF2\u53D1\u9001","Feed":{"Caption":"\u4F9B\u7A3F\u4F5C\u8005"},"Selector":{"Caption":"\u8A0A\u606F\u7DE8\u8F2F\u5668"}}}'),"no-NO":JSON.parse('{"MessageComposer":{"CancelButtonHint":"Forkast","CancelButtonText":"Forkast","SendButtonHint":"Sende melding, Tastatursnarvei - Ctrl+Enter","SendButtonText":"Sende","RemoveAttachmentHint":"Fjern vedlegg","Caption":"Meldings komponist","Email":{"Caption":"E-post meldings-komponist","From":"Fra","To":"Til","CC":"Cc","BCC":"Blindkopi","Subject":"Emne","PublishError":"Kunne ikke sende en melding. F\xF8lgende feil ble mottatt: {0}","AttachmentsSizeLimitReached":"Total filst\xF8rrelse er mer enn tillatt. Vennligst fjern noen vedlegg.","FromValidationErrorMessage":"feltet \\"Fra\\" kan ikke v\xE6re blankt. Vennligst velg en postboks.","ToValidationErrorMessage":"\\"Til\\"-feltet kan ikke v\xE6re tomt. Skriv inn minst \xE9n mottaker.","SubjectValidationErrorMessage":"feltet \\"Emne\\" kan ikke v\xE6re tomt. Skriv inn e-postpersonen.","BodyPlaceholder":"Skriv inn en melding"}}}'),"ko-KR":JSON.parse('{"MessageComposer":{"CancelButtonHint":"\uBC84\uB9AC\uB2E4","CancelButtonText":"\uBC84\uB9AC\uB2E4","SendButtonHint":"\uBA54\uC2DC\uC9C0 \uBCF4\uB0B4\uAE30(Ctrl + Enter)","SendButtonText":"\uBCF4\uB0B4\uAE30","RemoveAttachmentHint":"\uCCA8\uBD80\uD30C\uC77C \uC81C\uAC70","Caption":"\uBA54\uC2DC\uC9C0 \uC791\uACE1\uAC00","Email":{"Caption":"\uC774\uBA54\uC77C \uC791\uACE1\uAC00","From":"\uC5D0\uC11C","To":"\uC5D0\uAC8C","CC":"CC","BCC":"BCC","Subject":"\uD654\uC81C","PublishError":"\uBA54\uC2DC\uC9C0\uB97C \uBCF4\uB0B4\uC9C0 \uBABB\uD588\uC2B5\uB2C8\uB2E4. \uB2E4\uC74C \uC624\uB958\uAC00 \uC218\uC2E0\uB418\uC5C8\uC2B5\uB2C8\uB2E4: {0}","AttachmentsSizeLimitReached":"\uCD1D \uCCA8\uBD80 \uD30C\uC77C \uD06C\uAE30\uAC00 \uD5C8\uC6A9\uB41C {0}MB\uB97C \uCD08\uACFC\uD569\uB2C8\uB2E4. \uC77C\uBD80 \uCCA8\uBD80 \uD30C\uC77C\uC744 \uC81C\uAC70\uD558\uC2ED\uC2DC\uC624.","FromValidationErrorMessage":"\uBC1C\uC1A1\uC778 \uD544\uB4DC\uB294 \uBE44\uC6CC \uB458 \uC218 \uC5C6\uC2B5\uB2C8\uB2E4. \uC6B0\uD3B8\uD568\uC744 \uC120\uD0DD\uD558\uC2ED\uC2DC\uC624.","ToValidationErrorMessage":"\uBC1B\uB294\uC0AC\uB78C \uD544\uB4DC\uB294 \uBE44\uC6CC \uB458 \uC218 \uC5C6\uC2B5\uB2C8\uB2E4. \uC218\uC2E0\uC778\uC744 \uD558\uB098 \uC774\uC0C1 \uC785\uB825\uD558\uC2ED\uC2DC\uC624.","SubjectValidationErrorMessage":"\uC81C\uBAA9 \uD544\uB4DC\uB294 \uBE44\uC6CC\uB458 \uC218 \uC5C6\uC2B5\uB2C8\uB2E4. \uC774\uBA54\uC77C \uC81C\uBAA9\uC744 \uC785\uB825\uD558\uC2ED\uC2DC\uC624.","BodyPlaceholder":"\uBA54\uC2DC\uC9C0\uB97C \uC785\uB825\uD569\uB2C8\uB2E4","SaveDraftError":"\uCD08\uC548\uC744 \uC800\uC7A5\uD560 \uC218 \uC5C6\uC2B5\uB2C8\uB2E4. \uB098\uC911\uC5D0 \uB2E4\uC2DC \uC2DC\uB3C4\uD558\uC2ED\uC2DC\uC624","TemplateInsertError":"\uD15C\uD50C\uB9BF\uC744 \uCD94\uAC00\uD560 \uC218 \uC5C6\uC2B5\uB2C8\uB2E4. \uB098\uC911\uC5D0 \uB2E4\uC2DC \uC2DC\uB3C4\uD558\uC2ED\uC2DC\uC624.","Draft":"\uC6D0\uACE0","Reply":"\uB2F5\uAE00","ReplyAll":"\uC804\uC6D0\uC5D0\uAC8C \uB2F5\uC7A5","Forward":"\uC55E\uC73C\uB85C","SentOn":"Sent on","SubjectToggleCaption":"Subj","CcToggleCaption":"CC","BccToggleCaption":"BCC","NotContainsEmail":"\uC774\uBA54\uC77C\uC774 \uD3EC\uD568\uB418\uC5B4 \uC788\uC9C0 \uC54A\uC2B5\uB2C8\uB2E4","ChangeReplyAction":"\uD68C\uC2E0\uC870\uCE58 \uBCC0\uACBD","ShowTrimmedEmailTitle":"\uC798\uB77C\uB0B8 \uC774\uBA54\uC77C \uD45C\uC2DC","EmailTemplatesLookupCaption":"\uD15C\uD50C\uB9BF \uC120\uD0DD","EmailTemplatesDisplayColumnCaption":"\uD15C\uD50C\uB9BF \uC774\uB984","ContinueEditing":"\uD3B8\uC9D1 \uACC4\uC18D","SaveDraft":"\uCD08\uC548 \uC800\uC7A5","DraftSaved":"\uC800\uC7A5\uB41C \uCD08\uC548","EmailSent":"\uBCF4\uB0B8 \uC774\uBA54\uC77C"},"CanDiscardUnsavedData":"You have unsaved changes that will be lost. Continue?","SaveDraftButtonText":"\uCD08\uC548 \uC800\uC7A5","MessageSent":"\uBCF4\uB0B8 \uBA54\uC2DC\uC9C0","Feed":{"Caption":"\uD53C\uB4DC \uC791\uACE1\uAC00"},"Selector":{"Caption":"\uBA54\uC2DC\uC9C0 \uC791\uACE1\uAC00"}}}'),"ja-JP":JSON.parse('{"MessageComposer":{"CanDiscardUnsavedData":"\u4FDD\u5B58\u3057\u3066\u3044\u306A\u3044\u5909\u66F4\u306F\u5931\u308F\u308C\u307E\u3059\u3002\u7D9A\u884C\u3057\u307E\u3059\u304B\uFF1F","CancelButtonHint":"\u7834\u68C4","CancelButtonText":"\u7834\u68C4","SaveDraftButtonText":"\u4E0B\u66F8\u304D\u3092\u4FDD\u5B58","SendButtonHint":"\u30E1\u30C3\u30BB\u30FC\u30B8\u3092\u9001\u4FE1 (Ctrl + Enter)","MessageSent":"\u9001\u4FE1\u6E08\u307F\u30E1\u30C3\u30BB\u30FC\u30B8","SendButtonText":"\u9001\u4FE1","RemoveAttachmentHint":"\u6DFB\u4ED8\u30D5\u30A1\u30A4\u30EB\u306E\u524A\u9664","Caption":"\u30E1\u30C3\u30BB\u30FC\u30B8\u4F5C\u6210","Email":{"Caption":"\u96FB\u5B50\u30E1\u30FC\u30EB\u306E\u4F5C\u6210\u8005","From":"\u9001\u4FE1\u5143","To":"\u5B9B\u5148","CC":"CC","BCC":"BCC","Subject":"\u4EF6\u540D","PublishError":"\u30E1\u30C3\u30BB\u30FC\u30B8\u306E\u9001\u4FE1\u306B\u5931\u6557\u3057\u307E\u3057\u305F\u3002\u6B21\u306E\u30A8\u30E9\u30FC\u304C\u53D7\u4FE1\u3055\u308C\u307E\u3057\u305F: {0}","SaveDraftError":"\u4E0B\u66F8\u304D\u3092\u4FDD\u5B58\u3067\u304D\u307E\u305B\u3093\u3002\u3057\u3070\u3089\u304F\u3057\u3066\u304B\u3089\u3082\u3046\u4E00\u5EA6\u304A\u8A66\u3057\u304F\u3060\u3055\u3044","TemplateInsertError":"\u30C6\u30F3\u30D7\u30EC\u30FC\u30C8\u3092\u8FFD\u52A0\u3067\u304D\u307E\u305B\u3093\u3002\u3057\u3070\u3089\u304F\u3057\u3066\u304B\u3089\u3082\u3046\u4E00\u5EA6\u304A\u8A66\u3057\u304F\u3060\u3055\u3044\u3002","AttachmentsSizeLimitReached":"\u6DFB\u4ED8\u30D5\u30A1\u30A4\u30EB\u306E\u5408\u8A08\u30B5\u30A4\u30BA\u304C {0} MB\u3092\u8D85\u3048\u3066\u3044\u307E\u3059\u3002\u3044\u304F\u3064\u304B\u306E\u6DFB\u4ED8\u30D5\u30A1\u30A4\u30EB\u3092\u524A\u9664\u3057\u3066\u304F\u3060\u3055\u3044\u3002","FromValidationErrorMessage":"\u300CFrom\u300D\u30D5\u30A3\u30FC\u30EB\u30C9\u306F\u7A7A\u767D\u306B\u3067\u304D\u307E\u305B\u3093\u3002\u30E1\u30FC\u30EB\u30DC\u30C3\u30AF\u30B9\u3092\u9078\u629E\u3057\u3066\u304F\u3060\u3055\u3044\u3002","ToValidationErrorMessage":"\u300CTo\u300D\u30D5\u30A3\u30FC\u30EB\u30C9\u306F\u7A7A\u767D\u306B\u3067\u304D\u307E\u305B\u3093\u3002\u5C11\u306A\u304F\u3068\u30821\u3064\u306E\u5B9B\u5148\u3092\u5165\u529B\u3057\u3066\u304F\u3060\u3055\u3044\u3002","SubjectValidationErrorMessage":"\u300CSubject\u300D\u30D5\u30A3\u30FC\u30EB\u30C9\u306F\u7A7A\u6B04\u306B\u3067\u304D\u307E\u305B\u3093\u3002\u30E1\u30FC\u30EB\u306E\u4EF6\u540D\u3092\u5165\u529B\u3057\u3066\u304F\u3060\u3055\u3044\u3002","Draft":"\u4E0B\u66F8\u304D","BodyPlaceholder":"\u30E1\u30C3\u30BB\u30FC\u30B8\u3092\u5165\u529B","Reply":"\u8FD4\u4FE1","ReplyAll":"\u5168\u8FD4\u4FE1","Forward":"\u8EE2\u9001","SentOn":"\u9001\u4FE1\u65E5\u6642","SubjectToggleCaption":"\u30B5\u30D6\u30B8\u30A7\u30AF\u30C8","CcToggleCaption":"CC","BccToggleCaption":"BCC","NotContainsEmail":"\u30E1\u30FC\u30EB\u304C\u542B\u307E\u308C\u3066\u3044\u307E\u305B\u3093","ChangeReplyAction":"\u8FD4\u4FE1\u64CD\u4F5C\u3092\u5909\u66F4","ShowTrimmedEmailTitle":"\u30C8\u30EA\u30DF\u30F3\u30B0\u3055\u308C\u305F\u30E1\u30FC\u30EB\u3092\u8868\u793A","EmailTemplatesLookupCaption":"\u30C6\u30F3\u30D7\u30EC\u30FC\u30C8\u306E\u9078\u629E","EmailTemplatesDisplayColumnCaption":"\u30C6\u30F3\u30D7\u30EC\u30FC\u30C8\u540D","ContinueEditing":"\u7DE8\u96C6\u3092\u7D9A\u884C","SaveDraft":"\u4E0B\u66F8\u304D\u3092\u4FDD\u5B58","DraftSaved":"\u4E0B\u66F8\u304D\u3092\u4FDD\u5B58\u3057\u307E\u3057\u305F","EmailSent":"\u30E1\u30FC\u30EB\u3092\u9001\u4FE1\u3057\u307E\u3057\u305F"},"Feed":{"Caption":"\u30D5\u30A3\u30FC\u30C9\u306E\u4F5C\u6210"},"Selector":{"Caption":"\u30E1\u30C3\u30BB\u30FC\u30B8\u4F5C\u6210"}}}'),"fr-CA":{},zh:{},"vi-VN":JSON.parse('{"MessageComposer":{"CancelButtonHint":"Discard","CancelButtonText":"Discard","SendButtonHint":"Send Message (Ctrl + Enter)","SendButtonText":"Send","RemoveAttachmentHint":"Remove attachment","Caption":"Message composer","Email":{"Caption":"Email composer","From":"t\u1EEB","To":"\u0111\u1EBFn","CC":"CC","BCC":"BCC","Subject":"Ti\xEAu \u0111\u1EC1","PublishError":"Failed to send a message. The following error was received: {0}","AttachmentsSizeLimitReached":"Total attachments size is more than allowed {0} MB. Please remove some attachments.","FromValidationErrorMessage":"\u201CFrom\u201D field cannot be blank. Please select a mailbox.","ToValidationErrorMessage":"\u201CTo\u201D field cannot be blank. Please enter at least one recipient.","SubjectValidationErrorMessage":"\u201CSubject\u201D field cannot be blank. Please enter the email subject.","BodyPlaceholder":"Type a message","SaveDraftError":"Unable to save the draft. Please try again later","TemplateInsertError":"Unable to add the template. Please try again later.","Draft":"Draft","Reply":"Reply","ReplyAll":"Reply all","Forward":"Forward","SentOn":"\u0110\xE3 g\u1EEDi v\xE0o","SubjectToggleCaption":"Subj","CcToggleCaption":"CC","BccToggleCaption":"BCC","NotContainsEmail":"does not contain email in it","ChangeReplyAction":"Change reply action","ShowTrimmedEmailTitle":"Show trimmed email","EmailTemplatesLookupCaption":"Select a template","EmailTemplatesDisplayColumnCaption":"Template name","ContinueEditing":"Continue editing","SaveDraft":"Save draft","DraftSaved":"Draft saved","EmailSent":"Email sent"},"CanDiscardUnsavedData":"You have unsaved changes that will be lost. Continue?","SaveDraftButtonText":"Save draft","MessageSent":"Message sent","Feed":{"Caption":"Feed composer"},"Selector":{"Caption":"Message composer"}}}'),"tr-TR":JSON.parse('{"MessageComposer":{"CanDiscardUnsavedData":"Kaybedilecek kaydedilmemi\u015F de\u011Fi\u015Fiklikleriniz var.Devam etmek?","CancelButtonHint":"Discard","CancelButtonText":"Discard","SaveDraftButtonText":"Save draft","SendButtonHint":"Send Message (Ctrl + Enter)","MessageSent":"Mesaj\u0131 g\xF6nderildi","SendButtonText":"Send","RemoveAttachmentHint":"Remove attachment","Caption":"Message composer","Email":{"Caption":"Email composer","From":"kimden","To":"kime","CC":"Cc","BCC":"Bcc","Subject":"Konu","PublishError":"Failed to send a message. The following error was received: {0}","SaveDraftError":"Unable to save the draft. Please try again later","TemplateInsertError":"Unable to add the template. Please try again later.","AttachmentsSizeLimitReached":"Total attachments size is more than allowed {0} MB. Please remove some attachments.","FromValidationErrorMessage":"\u201CFrom\u201D field cannot be blank. Please select a mailbox.","ToValidationErrorMessage":"\u201CTo\u201D field cannot be blank. Please enter at least one recipient.","SubjectValidationErrorMessage":"\u201CSubject\u201D field cannot be blank. Please enter the email subject.","Draft":"Taslak","BodyPlaceholder":"Type a message","Reply":"Cevap vermek","ReplyAll":"Hepsini cevapla","Forward":"\u0130leri","SentOn":"Tarihinde g\xF6nderildi","SubjectToggleCaption":"Subj","CcToggleCaption":"Cc","BccToggleCaption":"Bcc","NotContainsEmail":"does not contain email in it","ChangeReplyAction":"Change reply action","ShowTrimmedEmailTitle":"Show trimmed email","EmailTemplatesLookupCaption":"Select a template","EmailTemplatesDisplayColumnCaption":"Template name","ContinueEditing":"Continue editing","SaveDraft":"Save draft","DraftSaved":"Draft saved","EmailSent":"Email sent"},"Feed":{"Caption":"Feed composer"},"Selector":{"Caption":"Message composer"}}}'),"th-TH":JSON.parse('{"MessageComposer":{"CancelButtonHint":"Discard","CancelButtonText":"Discard","SendButtonHint":"Send Message (Ctrl + Enter)","SendButtonText":"\u0E2A\u0E48\u0E07","RemoveAttachmentHint":"Remove attachment","Caption":"Message composer","Email":{"Caption":"Email composer","From":"\u0E08\u0E32\u0E01","To":"\u0E16\u0E36\u0E07","CC":"\u0E2A\u0E33\u0E40\u0E19\u0E32\u0E16\u0E36\u0E07","BCC":"\u0E2A\u0E33\u0E40\u0E19\u0E32\u0E25\u0E31\u0E1A\u0E16\u0E36\u0E07","Subject":"\u0E40\u0E23\u0E37\u0E48\u0E2D\u0E07","PublishError":"Failed to send a message. The following error was received: {0}","AttachmentsSizeLimitReached":"Total attachments size is more than allowed {0} MB. Please remove some attachments.","FromValidationErrorMessage":"\u201CFrom\u201D field cannot be blank. Please select a mailbox.","ToValidationErrorMessage":"\u201CTo\u201D field cannot be blank. Please enter at least one recipient.","SubjectValidationErrorMessage":"\u201CSubject\u201D field cannot be blank. Please enter the email subject.","BodyPlaceholder":"Type a message","SaveDraftError":"Unable to save the draft. Please try again later","TemplateInsertError":"Unable to add the template. Please try again later.","Draft":"\u0E23\u0E48\u0E32\u0E07","Reply":"\u0E15\u0E2D\u0E1A\u0E01\u0E25\u0E31\u0E1A","ReplyAll":"\u0E15\u0E2D\u0E1A\u0E01\u0E25\u0E31\u0E1A\u0E17\u0E31\u0E49\u0E07\u0E2B\u0E21\u0E14","Forward":"\u0E2A\u0E48\u0E07\u0E15\u0E48\u0E2D","SentOn":"\u0E2A\u0E48\u0E07\u0E41\u0E25\u0E49\u0E27\u0E40\u0E21\u0E37\u0E48\u0E2D","SubjectToggleCaption":"Subj","CcToggleCaption":"\u0E2A\u0E33\u0E40\u0E19\u0E32\u0E16\u0E36\u0E07","BccToggleCaption":"\u0E2A\u0E33\u0E40\u0E19\u0E32\u0E25\u0E31\u0E1A\u0E16\u0E36\u0E07","NotContainsEmail":"does not contain email in it","ChangeReplyAction":"Change reply action","ShowTrimmedEmailTitle":"Show trimmed email","EmailTemplatesLookupCaption":"Select a template","EmailTemplatesDisplayColumnCaption":"\u0E0A\u0E37\u0E48\u0E2D\u0E40\u0E17\u0E21\u0E40\u0E1E\u0E25\u0E15","ContinueEditing":"Continue editing","SaveDraft":"Save draft","DraftSaved":"Draft saved","EmailSent":"Email sent"},"CanDiscardUnsavedData":"You have unsaved changes that will be lost. Continue?","SaveDraftButtonText":"Save draft","MessageSent":"Message sent","Feed":{"Caption":"Feed composer"},"Selector":{"Caption":"Message composer"}}}'),"sv-SE":JSON.parse('{"MessageComposer":{"CancelButtonHint":"Discard","CancelButtonText":"Discard","SendButtonHint":"Send Message (Ctrl + Enter)","SendButtonText":"Skicka","RemoveAttachmentHint":"Remove attachment","Caption":"Message composer","Email":{"Caption":"Email composer","From":"Fr\xE5n","To":"Till","CC":"CC","BCC":"BCC","Subject":"\xC4mne","PublishError":"Failed to send a message. The following error was received: {0}","AttachmentsSizeLimitReached":"Total attachments size is more than allowed {0} MB. Please remove some attachments.","FromValidationErrorMessage":"\u201CFrom\u201D field cannot be blank. Please select a mailbox.","ToValidationErrorMessage":"\u201CTo\u201D field cannot be blank. Please enter at least one recipient.","SubjectValidationErrorMessage":"\u201CSubject\u201D field cannot be blank. Please enter the email subject.","BodyPlaceholder":"Type a message","SaveDraftError":"Unable to save the draft. Please try again later","TemplateInsertError":"Unable to add the template. Please try again later.","Draft":"Utkast","Reply":"Svara","ReplyAll":"Svara alla","Forward":"Vidarebefordra","SentOn":"S\xE4ndes","SubjectToggleCaption":"Subj","CcToggleCaption":"CC","BccToggleCaption":"BCC","NotContainsEmail":"does not contain email in it","ChangeReplyAction":"Change reply action","ShowTrimmedEmailTitle":"Show trimmed email","EmailTemplatesLookupCaption":"Select a template","EmailTemplatesDisplayColumnCaption":"Mallnamn","ContinueEditing":"Continue editing","SaveDraft":"Save draft","DraftSaved":"Draft saved","EmailSent":"Email sent"},"CanDiscardUnsavedData":"You have unsaved changes that will be lost. Continue?","SaveDraftButtonText":"Save draft","MessageSent":"Meddelande skickat","Feed":{"Caption":"Feed composer"},"Selector":{"Caption":"Message composer"}}}'),"ro-RO":JSON.parse('{"MessageComposer":{"CancelButtonHint":"Renun\u021Ba\u021Bi","CancelButtonText":"Renun\u021Ba\u021Bi","SendButtonHint":"Trimite mesaj (Ctrl + Enter)","SendButtonText":"Trimite","RemoveAttachmentHint":"Elimin\u0103 ata\u0219amentul","Caption":"Compozitor mesaj","Email":{"Caption":"Compozitor e-mail","From":"De la","To":"La","CC":"CC","BCC":"BCC","Subject":"Subiect","PublishError":"Nu s-a putut trimite mesajul. A fost primit\u0103 urm\u0103toarea eroare: {0}","AttachmentsSizeLimitReached":"Dimensiunea total\u0103 a ata\u0219amentelor este mai mare dec\xE2t cea permis\u0103 {0} MB. V\u0103 rug\u0103m s\u0103 elimina\u021Bi unele ata\u0219amente.","FromValidationErrorMessage":"C\xE2mpul \u201CFrom\u201D nu poate fi gol. V\u0103 rug\u0103m s\u0103 selecta\u021Bi o cutie po\u0219tal\u0103.","ToValidationErrorMessage":"C\xE2mpul \\"To\\" nu poate fi gol. Introduce\u021Bi cel pu\u021Bin un destinatar.","SubjectValidationErrorMessage":"C\xE2mpul \u201CSubject\u201D nu poate fi gol. V\u0103 rug\u0103m s\u0103 introduce\u0163i subiectul de e-mail.","BodyPlaceholder":"Scrie un mesaj","SaveDraftError":"Nu s-a putut salva draft. Te rug\u0103m s\u0103 \xEEncerci din nou mai t\xE2rziu","TemplateInsertError":"Imposibil de ad\u0103ugat template. V\u0103 rug\u0103m s\u0103 \xEEncerca\u021Bi din nou mai t\xE2rziu.","Draft":"Ciorn\u0103","Reply":"Raspunde","ReplyAll":"R\u0103spunde tuturor","Forward":"Redirec\u021Bionare","SentOn":"Trimis pe","SubjectToggleCaption":"Subj","CcToggleCaption":"CC","BccToggleCaption":"BCC","NotContainsEmail":"nu con\u021Bine e-mail \xEEn el","ChangeReplyAction":"Modific\u0103 ac\u021Biunea de r\u0103spuns","ShowTrimmedEmailTitle":"Arat\u0103 e-mail t\u0103iat","EmailTemplatesLookupCaption":"Selecta\u021Bi un template","EmailTemplatesDisplayColumnCaption":"Nume \u0219ablon","ContinueEditing":"Continu\u0103 editarea","SaveDraft":"Salvare draft","DraftSaved":"Draft salvat","EmailSent":"Email trimis"},"CanDiscardUnsavedData":"Ave\u021Bi modific\u0103ri nesalvate care vor fi pierdute. Continua\u021Bi?","SaveDraftButtonText":"Salvare draft","MessageSent":"Mesaj transmis","Feed":{"Caption":"Compozitor feed"},"Selector":{"Caption":"Compozitor mesaj"}}}'),"pt-PT":JSON.parse('{"MessageComposer":{"CancelButtonHint":"Discard","CancelButtonText":"Discard","SendButtonHint":"Send Message (Ctrl + Enter)","SendButtonText":"Enviar","RemoveAttachmentHint":"Remove attachment","Caption":"Message composer","Email":{"Caption":"Email composer","From":"De","To":"Para","CC":"CC","BCC":"BCC","Subject":"Assunto","PublishError":"Failed to send a message. The following error was received: {0}","AttachmentsSizeLimitReached":"Total attachments size is more than allowed {0} MB. Please remove some attachments.","FromValidationErrorMessage":"\u201CFrom\u201D field cannot be blank. Please select a mailbox.","ToValidationErrorMessage":"\u201CTo\u201D field cannot be blank. Please enter at least one recipient.","SubjectValidationErrorMessage":"\u201CSubject\u201D field cannot be blank. Please enter the email subject.","BodyPlaceholder":"Type a message","SaveDraftError":"Unable to save the draft. Please try again later","TemplateInsertError":"Unable to add the template. Please try again later.","Draft":"Rascunho","Reply":"Resposta","ReplyAll":"Responder a todos","Forward":"Encaminhar","SentOn":"Enviado em","SubjectToggleCaption":"Subj","CcToggleCaption":"CC","BccToggleCaption":"BCC","NotContainsEmail":"does not contain email in it","ChangeReplyAction":"Change reply action","ShowTrimmedEmailTitle":"Show trimmed email","EmailTemplatesLookupCaption":"Select a template","EmailTemplatesDisplayColumnCaption":"Nome do template","ContinueEditing":"Continue editing","SaveDraft":"Save draft","DraftSaved":"Draft saved","EmailSent":"Email sent"},"CanDiscardUnsavedData":"Todas as altera\xE7\xF5es n\xE3o gravadas ser\xE3o perdidas. Prosseguir?","SaveDraftButtonText":"Save draft","MessageSent":"Mensagem enviada","Feed":{"Caption":"Feed composer"},"Selector":{"Caption":"Message composer"}}}'),"pt-BR":JSON.parse('{"MessageComposer":{"CancelButtonHint":"Descartar","CancelButtonText":"Descartar","SendButtonHint":"Enviar Mensagem (Ctrl + Enter)","SendButtonText":"Enviar","RemoveAttachmentHint":"Remover o anexo","Caption":"Compositor de mensagens","Email":{"Caption":"Compositor de e-mails","From":"De","To":"Para","CC":"Cc","BCC":"Cco","Subject":"Assunto","PublishError":"Falha ao enviar uma mensagem. O seguinte erro foi recebido: {0}","AttachmentsSizeLimitReached":"O tamanho total dos anexos \xE9 maior do que o permitido {0} MB. Favor, remover alguns anexos.","FromValidationErrorMessage":"O campo \u201CDe\u201D n\xE3o pode ficar em branco. Favor, selecionar uma caixa de correios.","ToValidationErrorMessage":"O campo \u201CPara\u201D n\xE3o pode ficar em branco. Favor, inserir ao menos um recipiente.","SubjectValidationErrorMessage":"O campo \u201CAssunto\u201D n\xE3o pode ficar em branco. Favor, inserir o assunto do e-mail.","BodyPlaceholder":"Escrever uma mensagem","SaveDraftError":"N\xE3o foi poss\xEDvel salvar o rascunho. Favor, tentar novamente mais tarde","TemplateInsertError":"N\xE3o foi poss\xEDvel adicionar o modelo. Favor, tentar novamente mais tarde.","Draft":"Rascunho","Reply":"Responder","ReplyAll":"Responder a todos","Forward":"Encaminhar","SentOn":"Enviado em","SubjectToggleCaption":"Assunto","CcToggleCaption":"Cc","BccToggleCaption":"Cco","NotContainsEmail":"n\xE3o cont\xE9m um e-mail atribu\xEDdo","ChangeReplyAction":"Alterar a a\xE7\xE3o da resposta","ShowTrimmedEmailTitle":"Mostrar o e-mail cortado","EmailTemplatesLookupCaption":"Selecionar um modelo","EmailTemplatesDisplayColumnCaption":"Nome do modelo","ContinueEditing":"Continuar editando","SaveDraft":"Salvar o rascunho","DraftSaved":"Rascunho salvo","EmailSent":"E-mail enviado"},"CanDiscardUnsavedData":"Suas altera\xE7\xF5es n\xE3o salvas ser\xE3o perdidas. Continuar?","SaveDraftButtonText":"Salvar o rascunho","MessageSent":"Mensagem enviada","Feed":{"Caption":"Compositor de feeds"},"Selector":{"Caption":"Compositor de mensagens"}}}'),"pl-PL":JSON.parse('{"MessageComposer":{"CanDiscardUnsavedData":"Masz niezapisane zmiany, kt\xF3re zostan\u0105 utracone. Czy kontynuowa\u0107?","CancelButtonHint":"Zdyskwalifikowany","CancelButtonText":"Zdyskwalifikowany","SaveDraftButtonText":"Zapisz wersj\u0119 robocz\u0105","SendButtonHint":"Wy\u015Blij wiadomo\u015B\u0107 (Ctrl + Enter)","MessageSent":"Wiadomo\u015B\u0107 wys\u0142ana","SendButtonText":"Wy\u015Blij","RemoveAttachmentHint":"Usu\u0144 za\u0142\u0105cznik","Caption":"Creator wiadomo\u015Bci","Email":{"Caption":"Kreator wiadomo\u015Bci Email","From":"Od","To":"Do","CC":"DW","BCC":"UDW","Subject":"Temat","PublishError":"Nie uda\u0142o si\u0119 wys\u0142a\u0107 wiadomo\u015Bci. Otrzymano nast\u0119puj\u0105cy b\u0142\u0105d: {0}","SaveDraftError":"Nie mo\u017Cna zapisa\u0107 szkicu. Spr\xF3buj ponownie p\xF3\u017Aniej","TemplateInsertError":"Nie mo\u017Cna doda\u0107 szablonu. Spr\xF3buj ponownie p\xF3\u017Aniej.","AttachmentsSizeLimitReached":"Ca\u0142kowity rozmiar za\u0142\u0105cznik\xF3w jest wi\u0119kszy ni\u017C dozwolony {0} MB. Prosz\u0119 usun\u0105\u0107 niekt\xF3re za\u0142\u0105czniki.","FromValidationErrorMessage":"Pole \\"Od\\" nie mo\u017Ce by\u0107 puste. Prosz\u0119 wybra\u0107 adres email.","ToValidationErrorMessage":"Pole \\"Do\\" nie mo\u017Ce by\u0107 puste. Wprowad\u017A co najmniej jednego odbiorc\u0119.","SubjectValidationErrorMessage":"Pole \xBBTemat\xAB nie mo\u017Ce by\u0107 puste. Wprowad\u017A temat wiadomo\u015Bci.","Draft":"Wersja robocza","BodyPlaceholder":"Wpisz wiadomo\u015B\u0107","Reply":"Odpowiedz","ReplyAll":"Odpowiedz wszystkim","Forward":"Prze\u015Blij dalej","SentOn":"Wys\u0142ane","SubjectToggleCaption":"Subj","CcToggleCaption":"DW","BccToggleCaption":"UDW","NotContainsEmail":"nie zawiera wiadomo\u015Bci e-mail","ChangeReplyAction":"Zmie\u0144 odpowied\u017A","ShowTrimmedEmailTitle":"Poka\u017C przyci\u0119t\u0105 wiadomo\u015B\u0107 e-mail","EmailTemplatesLookupCaption":"Wybierz szablon","EmailTemplatesDisplayColumnCaption":"Nazwa szablonu","ContinueEditing":"Kontynuuj edytowanie","SaveDraft":"Zapisz wersj\u0119 robocz\u0105","DraftSaved":"Wersja robocza zapisana","EmailSent":"Wys\u0142ano e-mail"},"Feed":{"Caption":"Edytor kana\u0142\xF3w"},"Selector":{"Caption":"Creator wiadomo\u015Bci"}}}'),no:{},"nl-NL":JSON.parse('{"MessageComposer":{"CanDiscardUnsavedData":"You have unsaved changes that will be lost. Continue?","CancelButtonHint":"Discard","CancelButtonText":"Discard","SaveDraftButtonText":"Save draft","SendButtonHint":"Send Message (Ctrl + Enter)","MessageSent":"Bericht verzonden","SendButtonText":"Versturen","RemoveAttachmentHint":"Remove attachment","Caption":"Message composer","Email":{"Caption":"Email composer","From":"Van","To":"Aan","CC":"CC","BCC":"BCC","Subject":"Onderwerp","PublishError":"Failed to send a message. The following error was received: {0}","SaveDraftError":"Unable to save the draft. Please try again later","TemplateInsertError":"Unable to add the template. Please try again later.","AttachmentsSizeLimitReached":"Total attachments size is more than allowed {0} MB. Please remove some attachments.","FromValidationErrorMessage":"\u201CFrom\u201D field cannot be blank. Please select a mailbox.","ToValidationErrorMessage":"\u201CTo\u201D field cannot be blank. Please enter at least one recipient.","SubjectValidationErrorMessage":"\u201CSubject\u201D field cannot be blank. Please enter the email subject.","Draft":"Concept","BodyPlaceholder":"Type a message","Reply":"Antwoorden","ReplyAll":"Allen beantwoorden","Forward":"doorsturen","SentOn":"Verstuurd op","SubjectToggleCaption":"Subj","CcToggleCaption":"CC","BccToggleCaption":"BCC","NotContainsEmail":"does not contain email in it","ChangeReplyAction":"Change reply action","ShowTrimmedEmailTitle":"Show trimmed email","EmailTemplatesLookupCaption":"Select a template","EmailTemplatesDisplayColumnCaption":"Template naam","ContinueEditing":"Continue editing","SaveDraft":"Save draft","DraftSaved":"Draft saved","EmailSent":"Email sent"},"Feed":{"Caption":"Feed composer"},"Selector":{"Caption":"Message composer"}}}'),"lv-LV":JSON.parse('{"MessageComposer":{"CancelButtonHint":"Discard","CancelButtonText":"Discard","SendButtonHint":"Send Message (Ctrl + Enter)","SendButtonText":"S\u016Bt\u012Bt","RemoveAttachmentHint":"Remove attachment","Caption":"Message composer","Email":{"Caption":"Email composer","From":"No","To":"L\u012Bdz","CC":"Kopija","BCC":"Diskr\u0113t\u0101 kopija","Subject":"T\u0113ma","PublishError":"Failed to send a message. The following error was received: {0}","AttachmentsSizeLimitReached":"Total attachments size is more than allowed {0} MB. Please remove some attachments.","FromValidationErrorMessage":"\u201CFrom\u201D field cannot be blank. Please select a mailbox.","ToValidationErrorMessage":"\u201CTo\u201D field cannot be blank. Please enter at least one recipient.","SubjectValidationErrorMessage":"\u201CSubject\u201D field cannot be blank. Please enter the email subject.","BodyPlaceholder":"Type a message","SaveDraftError":"Unable to save the draft. Please try again later","TemplateInsertError":"Unable to add the template. Please try again later.","Draft":"Melnraksts","Reply":"Atbild\u0113t","ReplyAll":"Atbild\u0113t visiem","Forward":"Uz priek\u0161u","SentOn":"Nos\u016Bt\u012Bts","SubjectToggleCaption":"Subj","CcToggleCaption":"Kopija","BccToggleCaption":"Diskr\u0113t\u0101 kopija","NotContainsEmail":"does not contain email in it","ChangeReplyAction":"Change reply action","ShowTrimmedEmailTitle":"Show trimmed email","EmailTemplatesLookupCaption":"Select a template","EmailTemplatesDisplayColumnCaption":"Veidnes nosaukums","ContinueEditing":"Continue editing","SaveDraft":"Save draft","DraftSaved":"Draft saved","EmailSent":"Email sent"},"CanDiscardUnsavedData":"Jums ir nesaglab\u0101tas izmai\u0146as, kas tiks zaud\u0113tas. Turpin\u0101t?","SaveDraftButtonText":"Save draft","MessageSent":"Zi\u0146a nos\u016Bt\u012Bta","Feed":{"Caption":"Feed composer"},"Selector":{"Caption":"Message composer"}}}'),"kk-KZ":JSON.parse('{"MessageComposer":{"CancelButtonHint":"Discard","CancelButtonText":"Discard","SendButtonHint":"Send message. Keyboard Shortcut - Ctrl+Enter","SendButtonText":"Send","RemoveAttachmentHint":"Remove attachment","Caption":"Message composer","Email":{"Caption":"Email message composer","From":"From","To":"To","CC":"Cc","BCC":"Bcc","Subject":"Subject","PublishError":"Failed to send a message. The following error was received: {0}","AttachmentsSizeLimitReached":"Total attachments size is more than allowed. Please remove some attachments.","FromValidationErrorMessage":"\u201CFrom\u201D field cannot be blank. Please select a mailbox.","ToValidationErrorMessage":"\u201CTo\u201D field cannot be blank. Please enter at least one recipient.","SubjectValidationErrorMessage":"\u201CSubject\u201D field cannot be blank. Please enter the email subject.","BodyPlaceholder":"Type a message"}}}'),"it-IT":JSON.parse(`{"MessageComposer":{"CanDiscardUnsavedData":"Hai delle modifiche non salvate che andranno perse. Continuare?","CancelButtonHint":"Annulla","CancelButtonText":"Annulla","SaveDraftButtonText":"Salva bozza","SendButtonHint":"Invia Messaggio (Ctrl + Invio)","MessageSent":"Messaggio inviato","SendButtonText":"Invia","RemoveAttachmentHint":"Rimuovi allegato","Caption":"Compositore messaggi","Email":{"Caption":"Compositore email","From":"Da","To":"A","CC":"CC","BCC":"CCn","Subject":"Soggetto","PublishError":"Invio di un messaggio non riuscito. \xC8 stato ricevuto il seguente errore: {0}","SaveDraftError":"Impossibile salvare la bozza. Riprova pi\xF9 tardi","TemplateInsertError":"Impossibile aggiungere il modello. Riprova pi\xF9 tardi.","AttachmentsSizeLimitReached":"La dimensione totale degli allegati \xE8 superiore a quella consentita {0} MB. Rimuovere alcuni allegati.","FromValidationErrorMessage":"Il campo \u201CDa\u201D non pu\xF2 essere vuoto. Si prega di selezionare una casella di posta.","ToValidationErrorMessage":"Il campo \u201CA\u201D non pu\xF2 essere vuoto. Inserisci almeno un destinatario.","SubjectValidationErrorMessage":"Il campo \u201COggetto\u201D non pu\xF2 essere vuoto. Inserisci l'oggetto email.","Draft":"Bozza","BodyPlaceholder":"Inserisci un messaggio","Reply":"Rispondi","ReplyAll":"Rispondi a tutti","Forward":"Inoltra","SentOn":"Inviata il","SubjectToggleCaption":"Oggetto","CcToggleCaption":"CC","BccToggleCaption":"CCn","NotContainsEmail":"non contiene email in esso","ChangeReplyAction":"Cambia azione risposta","ShowTrimmedEmailTitle":"Mostra email tagliata","EmailTemplatesLookupCaption":"Seleziona un modello","EmailTemplatesDisplayColumnCaption":"Nome del modello","ContinueEditing":"Continua la modifica","SaveDraft":"Salva bozza","DraftSaved":"Bozza salvata","EmailSent":"Email inviata"},"Feed":{"Caption":"Compositore del feed"},"Selector":{"Caption":"Compositore messaggi"}}}`),"id-ID":JSON.parse('{"MessageComposer":{"CanDiscardUnsavedData":"Perubahan yang belum disimpan akan hilang. Lanjutkan?","CancelButtonHint":"Buang","CancelButtonText":"Buang","SaveDraftButtonText":"Simpan draf","SendButtonHint":"Kirim Pesan (Ctrl + Enter)","MessageSent":"Pesan terkirim","SendButtonText":"Kirim","RemoveAttachmentHint":"Hapus lampiran","Caption":"Komposer pesan","Email":{"Caption":"Komposer email","From":"Dari","To":"Kepada","CC":"CC","BCC":"BCC","Subject":"Subjek","PublishError":"Gagal mengirim pesan. Kesalahan berikut diterima: {0}","SaveDraftError":"Tidak dapat menyimpan draf. Silakan coba lagi nanti","TemplateInsertError":"Tidak dapat menambahkan template. Silakan coba lagi nanti.","AttachmentsSizeLimitReached":"Ukuran total lampiran lebih dari yang diizinkan {0} MB. Harap hapus beberapa lampiran.","FromValidationErrorMessage":"Kolom \u201CDari\u201D tidak boleh dikosongkan. Pilih kotak surat.","ToValidationErrorMessage":"Kolom \u201CKepada\u201D tidak boleh dikosongkan. Masukkan setidaknya satu penerima.","SubjectValidationErrorMessage":"Kolom \u201CSubjek\u201D tidak boleh kosong. Masukkan subjek email.","Draft":"Draf","BodyPlaceholder":"Ketik pesan","Reply":"Balas","ReplyAll":"Balas semua","Forward":"Teruskan","SentOn":"Dikirim pada","SubjectToggleCaption":"Subj","CcToggleCaption":"CC","BccToggleCaption":"BCC","NotContainsEmail":"tidak mengandung email di dalamnya","ChangeReplyAction":"Ubah tindakan balasan","ShowTrimmedEmailTitle":"Tampilkan email yang dipangkas","EmailTemplatesLookupCaption":"Pilih templat","EmailTemplatesDisplayColumnCaption":"Nama template","ContinueEditing":"Lanjutkan mengedit","SaveDraft":"Simpan draf","DraftSaved":"Draf tersimpan","EmailSent":"Email terkirim"},"Feed":{"Caption":"Pembuat umpan"},"Selector":{"Caption":"Komposer pesan"}}}'),"he-IL":JSON.parse('{"MessageComposer":{"CanDiscardUnsavedData":"\u05D9\u05E9 \u05DC\u05DA \u05E9\u05D9\u05E0\u05D5\u05D9\u05D9\u05DD \u05DC\u05D0 \u05E9\u05DE\u05D5\u05E8\u05D9\u05DD \u05E9\u05D9\u05D0\u05D1\u05D3\u05D5. \u05D4\u05D0\u05DD \u05DC\u05D4\u05DE\u05E9\u05D9\u05DA?","CancelButtonHint":"\u05D1\u05D9\u05D8\u05D5\u05DC","CancelButtonText":"\u05D1\u05D9\u05D8\u05D5\u05DC","SaveDraftButtonText":"Save draft","SendButtonHint":"Send Message (Ctrl + Enter)","MessageSent":"\u05D4\u05D5\u05D3\u05E2\u05D4 \u05E0\u05E9\u05DC\u05D7\u05D4","SendButtonText":"\u05E9\u05DC\u05D7","RemoveAttachmentHint":"Remove attachment","Caption":"Message composer","Email":{"Caption":"Email composer","From":"\u05DE","To":"\u05D0\u05DC","CC":"\u05E2\u05D5\u05EA\u05E7","BCC":"\u05E2\u05D5\u05EA\u05E7 \u05DE\u05D5\u05E1\u05EA\u05E8","Subject":"\u05E0\u05D5\u05E9\u05D0","PublishError":"Failed to send a message. The following error was received: {0}","SaveDraftError":"Unable to save the draft. Please try again later","TemplateInsertError":"Unable to add the template. Please try again later.","AttachmentsSizeLimitReached":"Total attachments size is more than allowed {0} MB. Please remove some attachments.","FromValidationErrorMessage":"\u201CFrom\u201D field cannot be blank. Please select a mailbox.","ToValidationErrorMessage":"\u201CTo\u201D field cannot be blank. Please enter at least one recipient.","SubjectValidationErrorMessage":"\u201CSubject\u201D field cannot be blank. Please enter the email subject.","Draft":"\u05D8\u05D9\u05D5\u05D8\u05D4","BodyPlaceholder":"Type a message","Reply":"\u05D4\u05E9\u05D1","ReplyAll":"\u05D4\u05E9\u05D1 \u05DC\u05DB\u05D5\u05DC\u05DD","Forward":"\u05E7\u05D3\u05D9\u05DE\u05D4","SentOn":"\u05E0\u05E9\u05DC\u05D7 \u05D1\u05EA\u05D0\u05E8\u05D9\u05DA","SubjectToggleCaption":"Subj","CcToggleCaption":"\u05E2\u05D5\u05EA\u05E7","BccToggleCaption":"\u05E2\u05D5\u05EA\u05E7 \u05DE\u05D5\u05E1\u05EA\u05E8","NotContainsEmail":"does not contain email in it","ChangeReplyAction":"Change reply action","ShowTrimmedEmailTitle":"Show trimmed email","EmailTemplatesLookupCaption":"Select a template","EmailTemplatesDisplayColumnCaption":"\u05E9\u05DD \u05D4\u05EA\u05D1\u05E0\u05D9\u05EA","ContinueEditing":"Continue editing","SaveDraft":"Save draft","DraftSaved":"Draft saved","EmailSent":"Email sent"},"Feed":{"Caption":"Feed composer"},"Selector":{"Caption":"Message composer"}}}'),"fr-FR":JSON.parse('{"MessageComposer":{"CancelButtonHint":"Discard","CancelButtonText":"Discard","SendButtonHint":"Send Message (Ctrl + Enter)","SendButtonText":"Envoyer","RemoveAttachmentHint":"Remove attachment","Caption":"Message composer","Email":{"Caption":"Email composer","From":"De","To":"\xE0","CC":"CC","BCC":"CCI","Subject":"Objet","PublishError":"Failed to send a message. The following error was received: {0}","AttachmentsSizeLimitReached":"La taille totale des pi\xE8ces jointes est sup\xE9rieure \xE0 {0} Mo. Veuillez supprimer certaines pi\xE8ces jointes.","FromValidationErrorMessage":"\u201CFrom\u201D field cannot be blank. Please select a mailbox.","ToValidationErrorMessage":"\u201CTo\u201D field cannot be blank. Please enter at least one recipient.","SubjectValidationErrorMessage":"\u201CSubject\u201D field cannot be blank. Please enter the email subject.","BodyPlaceholder":"Type a message","SaveDraftError":"Unable to save the draft. Please try again later","TemplateInsertError":"Unable to add the template. Please try again later.","Draft":"Brouillon","Reply":"R\xE9pondre","ReplyAll":"R\xE9pondre \xE0 tous","Forward":"Transf\xE9rer","SentOn":"Envoy\xE9 le","SubjectToggleCaption":"Subj","CcToggleCaption":"CC","BccToggleCaption":"CCI","NotContainsEmail":"does not contain email in it","ChangeReplyAction":"Change reply action","ShowTrimmedEmailTitle":"Show trimmed email","EmailTemplatesLookupCaption":"Select a template","EmailTemplatesDisplayColumnCaption":"Nom du mod\xE8le","ContinueEditing":"Continue editing","SaveDraft":"Save draft","DraftSaved":"Draft saved","EmailSent":"Email sent"},"CanDiscardUnsavedData":"Les modifications non enregistr\xE9es seront perdues. Continuer ?","SaveDraftButtonText":"Save draft","MessageSent":"Message envoy\xE9","Feed":{"Caption":"Feed composer"},"Selector":{"Caption":"Message composer"}}}'),"fa-IR":JSON.parse('{"MessageComposer":{"CancelButtonHint":"\u0631\u062F\u0635\u0644\u0627\u062D\u06CC\u062A","CancelButtonText":"\u0631\u062F\u0635\u0644\u0627\u062D\u06CC\u062A","SendButtonHint":"Send message. Keyboard Shortcut - Ctrl+Enter","SendButtonText":"\u0627\u0631\u0633\u0627\u0644","RemoveAttachmentHint":"Remove attachment","Caption":"Message composer","Email":{"Caption":"Email message composer","From":"\u0627\u0632","To":"\u0628\u0647","CC":"\u06AF\u06CC\u0631\u0646\u062F\u0647 CC","BCC":"\u06AF\u06CC\u0631\u0646\u062F\u0647 BCC","Subject":"\u0645\u0648\u0636\u0648\u0639","PublishError":"Failed to send a message. The following error was received: {0}","AttachmentsSizeLimitReached":"Total attachments size is more than allowed. Please remove some attachments.","FromValidationErrorMessage":"\u201CFrom\u201D field cannot be blank. Please select a mailbox.","ToValidationErrorMessage":"\u201CTo\u201D field cannot be blank. Please enter at least one recipient.","SubjectValidationErrorMessage":"\u201CSubject\u201D field cannot be blank. Please enter the email subject.","BodyPlaceholder":"Type a message"}}}'),"es-ES":JSON.parse('{"MessageComposer":{"CancelButtonHint":"Discard","CancelButtonText":"Discard","SendButtonHint":"Enviar mensaje (Ctrl + Enter)","SendButtonText":"Enviar","RemoveAttachmentHint":"Remove attachment","Caption":"Message composer","Email":{"Caption":"Email composer","From":"Desde","To":"Para","CC":"CC","BCC":"CCO","Subject":"Asunto","PublishError":"Failed to send a message. The following error was received: {0}","AttachmentsSizeLimitReached":"El tama\xF1o total de los archivos adjuntos supera los {0} MB permitidos. Por favor elimine algunos archivos adjuntos.","FromValidationErrorMessage":"\u201CFrom\u201D field cannot be blank. Please select a mailbox.","ToValidationErrorMessage":"\u201CTo\u201D field cannot be blank. Please enter at least one recipient.","SubjectValidationErrorMessage":"\u201CSubject\u201D field cannot be blank. Please enter the email subject.","BodyPlaceholder":"Type a message","SaveDraftError":"No se puede guardar el borrador. Int\xE9ntalo de nuevo m\xE1s tarde","TemplateInsertError":"No se puede a\xF1adir la plantilla. Int\xE9ntalo de nuevo m\xE1s tarde.","Draft":"Borrador","Reply":"Responder","ReplyAll":"Responder a todos","Forward":"Reenviar","SentOn":"Enviado","SubjectToggleCaption":"Subj","CcToggleCaption":"CC","BccToggleCaption":"CCO","NotContainsEmail":"does not contain email in it","ChangeReplyAction":"Cambiar acci\xF3n de respuesta","ShowTrimmedEmailTitle":"Show trimmed email","EmailTemplatesLookupCaption":"Select a template","EmailTemplatesDisplayColumnCaption":"Nombre de plantilla","ContinueEditing":"Continuar editando","SaveDraft":"Guardar borrador","DraftSaved":"Borrador guardado","EmailSent":"Email enviado"},"CanDiscardUnsavedData":"Tiene cambios sin guardar que se perder\xE1n. \xBFContinuar?","SaveDraftButtonText":"Guardar borrador","MessageSent":"Mensaje enviado","Feed":{"Caption":"Feed composer"},"Selector":{"Caption":"Message composer"}}}'),"de-DE":JSON.parse('{"MessageComposer":{"CancelButtonHint":"Verwerfen","CancelButtonText":"Verwerfen","SendButtonHint":"Nachricht senden (Strg + Enter)","SendButtonText":"Senden","RemoveAttachmentHint":"Anhang entfernen","Caption":"Nachrichtenverfasser","Email":{"Caption":"E-Mail-Verfasser","From":"Von","To":"An","CC":"CC","BCC":"BCC","Subject":"Betreff","PublishError":"Fehler beim Senden einer Nachricht. Folgender Fehler wurde empfangen: {0}","AttachmentsSizeLimitReached":"Gesamtgr\xF6\xDFe der Anh\xE4nge ist mehr als erlaubt {0} MB. Bitte entfernen Sie einige Anh\xE4nge.","FromValidationErrorMessage":"\\"Von\\"-Feld darf nicht leer sein. Bitte w\xE4hlen Sie eine Mailbox.","ToValidationErrorMessage":"\\"An\\" Feld darf nicht leer sein. Bitte geben Sie mindestens einen Empf\xE4nger ein.","SubjectValidationErrorMessage":"Das Feld \\"Betreff\\" darf nicht leer sein. Bitte geben Sie den Betreff ein.","BodyPlaceholder":"Nachricht eingeben","SaveDraftError":"Entwurf konnte nicht gespeichert werden. Bitte versuchen Sie es sp\xE4ter erneut","TemplateInsertError":"Vorlage konnte nicht hinzugef\xFCgt werden. Bitte versuchen Sie es sp\xE4ter erneut.","Draft":"Entwurf","Reply":"Antwort","ReplyAll":"Allen antworten","Forward":"Weiter","SentOn":"Gesendet am","SubjectToggleCaption":"Betr","CcToggleCaption":"CC","BccToggleCaption":"BCC","NotContainsEmail":"enth\xE4lt keine E-Mail","ChangeReplyAction":"Antwort-Aktion \xE4ndern","ShowTrimmedEmailTitle":"Getrimmte E-Mail anzeigen","EmailTemplatesLookupCaption":"Vorlage ausw\xE4hlen","EmailTemplatesDisplayColumnCaption":"Templatename","ContinueEditing":"Bearbeitung fortsetzen","SaveDraft":"Entwurf speichern","DraftSaved":"Entwurf gespeichert","EmailSent":"E-Mail gesendet"},"CanDiscardUnsavedData":"Sie haben nicht gespeicherte \xC4nderungen, die verloren gehen. Fortfahren?","SaveDraftButtonText":"Entwurf speichern","MessageSent":"Nachricht gesendet","Feed":{"Caption":"Feed Erstellung"},"Selector":{"Caption":"Nachrichtenverfasser"}}}'),"cs-CZ":JSON.parse('{"MessageComposer":{"CancelButtonHint":"Discard","CancelButtonText":"Discard","SendButtonHint":"Send Message (Ctrl + Enter)","SendButtonText":"Odeslat","RemoveAttachmentHint":"Remove attachment","Caption":"Message composer","Email":{"Caption":"Email composer","From":"Od","To":"Komu","CC":"CC","BCC":"BCC","Subject":"P\u0159edm\u011Bt","PublishError":"Failed to send a message. The following error was received: {0}","AttachmentsSizeLimitReached":"Total attachments size is more than allowed {0} MB. Please remove some attachments.","FromValidationErrorMessage":"\u201CFrom\u201D field cannot be blank. Please select a mailbox.","ToValidationErrorMessage":"\u201CTo\u201D field cannot be blank. Please enter at least one recipient.","SubjectValidationErrorMessage":"\u201CSubject\u201D field cannot be blank. Please enter the email subject.","BodyPlaceholder":"Type a message","SaveDraftError":"Unable to save the draft. Please try again later","TemplateInsertError":"Unable to add the template. Please try again later.","Draft":"Koncept","Reply":"Odpov\u011Bd\u011Bt","ReplyAll":"Odpov\u011Bd\u011Bt v\u0161em","Forward":"P\u0159eposlat","SentOn":"Odesl\xE1no","SubjectToggleCaption":"Subj","CcToggleCaption":"CC","BccToggleCaption":"BCC","NotContainsEmail":"does not contain email in it","ChangeReplyAction":"Change reply action","ShowTrimmedEmailTitle":"Show trimmed email","EmailTemplatesLookupCaption":"Select a template","EmailTemplatesDisplayColumnCaption":"Jm\xE9no \u0161ablony","ContinueEditing":"Continue editing","SaveDraft":"Save draft","DraftSaved":"Draft saved","EmailSent":"Email sent"},"CanDiscardUnsavedData":"M\xE1te neulo\u017Een\xE9 zm\u011Bny, kter\xE9 budou ztraceny. Pokra\u010Dovat?","SaveDraftButtonText":"Save draft","MessageSent":"Zpr\xE1va byla odesl\xE1na","Feed":{"Caption":"Feed composer"},"Selector":{"Caption":"Message composer"}}}'),"ar-SA":JSON.parse('{"MessageComposer":{"CanDiscardUnsavedData":"\u0644\u062F\u064A\u0643 \u062A\u063A\u064A\u064A\u0631\u0627\u062A \u063A\u064A\u0631 \u0645\u062D\u0641\u0648\u0638\u0629 \u0633\u062A\u064F\u0641\u0642\u062F. \u0647\u0644 \u062A\u0631\u063A\u0628 \u0641\u064A \u0627\u0644\u0645\u062A\u0627\u0628\u0639\u0629\u061F","CancelButtonHint":"\u062A\u062C\u0627\u0647\u0644","CancelButtonText":"\u062A\u062C\u0627\u0647\u0644","SaveDraftButtonText":"\u062D\u0641\u0638 \u0627\u0644\u0645\u0633\u0648\u062F\u0629","SendButtonHint":"\u0623\u0631\u0633\u0644 \u0627\u0644\u0631\u0633\u0627\u0644\u0629 (\u0627\u0636\u063A\u0637 \u0632\u0631 Ctrl + Enter)","MessageSent":"\u062A\u0645 \u0627\u0644\u0627\u0631\u0633\u0627\u0644","SendButtonText":"\u0625\u0631\u0633\u0627\u0644","RemoveAttachmentHint":"\u0625\u0632\u0627\u0644\u0629 \u0627\u0644\u0645\u0631\u0641\u0642","Caption":"\u0645\u062D\u0631\u0631 \u0627\u0644\u0631\u0633\u0627\u0644\u0629","Email":{"Caption":"\u0643\u0627\u062A\u0628 \u0627\u0644\u0628\u0631\u064A\u062F \u0627\u0644\u0625\u0644\u0643\u062A\u0631\u0648\u0646\u064A","From":"\u0645\u0646","To":"\u0625\u0644\u0649","CC":"\u0625\u0644\u0649 \u0643\u0644","BCC":"\u0625\u0639\u0627\u062F\u0629 \u062A\u0648\u062C\u064A\u0647 \u0625\u0644\u0649 \u0643\u0644","Subject":"\u0627\u0644\u0645\u0648\u0636\u0648\u0639","PublishError":"\u0641\u0634\u0644 \u0625\u0631\u0633\u0627\u0644 \u0627\u0644\u0631\u0633\u0627\u0644\u0629. \u062D\u062F\u062B \u0627\u0644\u062E\u0637\u0623 \u0627\u0644\u062A\u0627\u0644\u064A: {0}","SaveDraftError":"\u062A\u0639\u0630\u0651\u0631 \u062D\u0641\u0638 \u0627\u0644\u0645\u0633\u0648\u062F\u0629. \u0627\u0644\u0631\u062C\u0627\u0621 \u0627\u0644\u0645\u062D\u0627\u0648\u0644\u0629 \u0645\u0631\u0629 \u0623\u062E\u0631\u0649 \u0644\u0627\u062D\u0642\u064B\u0627","TemplateInsertError":"\u062A\u0639\u0630\u0651\u0631 \u0625\u0636\u0627\u0641\u0629 \u0627\u0644\u0645\u0633\u0648\u062F\u0629. \u0627\u0644\u0631\u062C\u0627\u0621 \u0627\u0644\u0645\u062D\u0627\u0648\u0644\u0629 \u0645\u0631\u0629 \u0623\u062E\u0631\u0649 \u0644\u0627\u062D\u0642\u064B\u0627.","AttachmentsSizeLimitReached":"\u062A\u062E\u0637\u0649 \u062D\u062C\u0645 \u0627\u0644\u0645\u0631\u0641\u0642\u0627\u062A \u0627\u0644\u062D\u062F \u0627\u0644\u0645\u0633\u0645\u0648\u062D \u0628\u0647 {0} \u0645\u064A\u062C\u0627\u0628\u0627\u064A\u062A. \u064A\u0631\u062C\u0649 \u0625\u0632\u0627\u0644\u0629 \u0628\u0639\u0636 \u0627\u0644\u0645\u0631\u0641\u0642\u0627\u062A.","FromValidationErrorMessage":"\u0644\u0627 \u064A\u0645\u0643\u0646 \u0623\u0646 \u064A\u0643\u0648\u0646 \u0627\u0644\u062D\u0642\u0644 \\"\u0645\u0646\\" \u0641\u0627\u0631\u063A\u064B\u0627. \u0627\u0644\u0631\u062C\u0627\u0621 \u062A\u062D\u062F\u064A\u062F \u0635\u0646\u062F\u0648\u0642 \u0628\u0631\u064A\u062F.","ToValidationErrorMessage":"\u0644\u0627 \u064A\u0645\u0643\u0646 \u0623\u0646 \u064A\u0643\u0648\u0646 \u0627\u0644\u062D\u0642\u0644 \\"\u0625\u0644\u0649\\" \u0641\u0627\u0631\u063A\u064B\u0627. \u0627\u0644\u0631\u062C\u0627\u0621 \u0625\u062F\u062E\u0627\u0644 \u0645\u0633\u062A\u0644\u0645 \u0648\u0627\u062D\u062F \u0639\u0644\u0649 \u0627\u0644\u0623\u0642\u0644.","SubjectValidationErrorMessage":"\u0644\u0627 \u064A\u0645\u0643\u0646 \u0623\u0646 \u064A\u0643\u0648\u0646 \u062D\u0642\u0644 \\"\u0627\u0644\u0645\u0648\u0636\u0648\u0639\\" \u0641\u0627\u0631\u063A\u064B\u0627. \u0627\u0644\u0631\u062C\u0627\u0621 \u0625\u062F\u062E\u0627\u0644 \u0645\u0648\u0636\u0648\u0639 \u0627\u0644\u0628\u0631\u064A\u062F \u0627\u0644\u0625\u0644\u0643\u062A\u0631\u0648\u0646\u064A.","Draft":"\u0645\u0633\u0648\u062F\u0629","BodyPlaceholder":"\u0643\u062A\u0627\u0628\u0629 \u0631\u0633\u0627\u0644\u0629","Reply":"\u0627\u0644\u0631\u062F","ReplyAll":"\u0627\u0644\u0631\u062F \u0639\u0644\u0649 \u0627\u0644\u0643\u0644","Forward":"\u0625\u0644\u0649 \u0627\u0644\u0623\u0645\u0627\u0645","SentOn":"\u0645\u0631\u0633\u0644 \u0644\u0640","SubjectToggleCaption":"\u0627\u0644\u0645\u0648\u0636\u0648\u0639","CcToggleCaption":"\u0625\u0644\u0649 \u0643\u0644","BccToggleCaption":"\u0625\u0639\u0627\u062F\u0629 \u062A\u0648\u062C\u064A\u0647 \u0625\u0644\u0649 \u0643\u0644","NotContainsEmail":"\u0644\u0627 \u064A\u062D\u062A\u0648\u064A \u0639\u0644\u0649 \u0628\u0631\u064A\u062F \u0625\u0644\u0643\u062A\u0631\u0648\u0646\u064A \u0641\u064A\u0647","ChangeReplyAction":"\u062A\u063A\u064A\u064A\u0631 \u0625\u062C\u0631\u0627\u0621 \u0627\u0644\u0631\u062F","ShowTrimmedEmailTitle":"\u0639\u0631\u0636 \u0627\u0644\u0628\u0631\u064A\u062F \u0627\u0644\u0625\u0644\u0643\u062A\u0631\u0648\u0646\u064A \u0627\u0644\u0645\u0642\u0635\u0648\u0635","EmailTemplatesLookupCaption":"\u062D\u062F\u062F \u0642\u0627\u0644\u0628\u064B\u0627","EmailTemplatesDisplayColumnCaption":"\u0627\u0633\u0645 \u0627\u0644\u0642\u0627\u0644\u0628","ContinueEditing":"\u0645\u062A\u0627\u0628\u0639\u0629 \u0627\u0644\u062A\u0639\u062F\u064A\u0644","SaveDraft":"\u062D\u0641\u0638 \u0627\u0644\u0645\u0633\u0648\u062F\u0629","DraftSaved":"\u062A\u0645 \u062D\u0641\u0638 \u0627\u0644\u0645\u0633\u0648\u062F\u0629","EmailSent":"\u062A\u0645 \u0627\u0631\u0633\u0627\u0644 \u0627\u0644\u0628\u0631\u064A\u062F \u0627\u0644\u0627\u0644\u0643\u062A\u0631\u0648\u0646\u064A"},"Feed":{"Caption":"\u0627\u0644\u0631\u062F \u0639\u0644\u0649 \u0627\u0644\u0643\u0627\u062A\u0628"},"Selector":{"Caption":"\u0645\u062D\u0631\u0631 \u0627\u0644\u0631\u0633\u0627\u0644\u0629"}}}'),"en-US":JSON.parse('{"MessageComposer":{"CanDiscardUnsavedData":"You have unsaved changes that will be lost. Continue?","CancelButtonHint":"Discard","CancelButtonText":"Discard","SaveDraftButtonText":"Save draft","SendButtonHint":"Send Message (Ctrl + Enter)","MessageSent":"Message sent","SendButtonText":"Send","RemoveAttachmentHint":"Remove attachment","Caption":"Message composer","Email":{"Caption":"Email composer","From":"From","To":"To","CC":"CC","BCC":"BCC","Subject":"Subject","PublishError":"Failed to send a message. The following error was received: {0}","SaveDraftError":"Unable to save the draft. Please try again later","TemplateInsertError":"Unable to add the template. Please try again later.","AttachmentsSizeLimitReached":"Total attachments size is more than allowed {0} MB. Please remove some attachments.","FromValidationErrorMessage":"\u201CFrom\u201D field cannot be blank. Please select a mailbox.","ToValidationErrorMessage":"\u201CTo\u201D field cannot be blank. Please enter at least one recipient.","SubjectValidationErrorMessage":"\u201CSubject\u201D field cannot be blank. Please enter the email subject.","Draft":"Draft","BodyPlaceholder":"Type a message","Reply":"Reply","ReplyAll":"Reply all","Forward":"Forward","SentOn":"Sent on","SubjectToggleCaption":"Subj","CcToggleCaption":"CC","BccToggleCaption":"BCC","NotContainsEmail":"does not contain email in it","ChangeReplyAction":"Change reply action","ShowTrimmedEmailTitle":"Show trimmed email","EmailTemplatesLookupCaption":"Select a template","EmailTemplatesDisplayColumnCaption":"Template name","ContinueEditing":"Continue editing","SaveDraft":"Save draft","DraftSaved":"Draft saved","EmailSent":"Email sent"},"Feed":{"Caption":"Feed composer"},"Selector":{"Caption":"Message composer"}}}'),"ru-RU":JSON.parse('{"MessageComposer":{"CanDiscardUnsavedData":"\u0423 \u0432\u0430\u0441 \u0435\u0441\u0442\u044C \u043D\u0435\u0441\u043E\u0445\u0440\u0430\u043D\u0435\u043D\u043D\u044B\u0435 \u0438\u0437\u043C\u0435\u043D\u0435\u043D\u0438\u044F, \u043A\u043E\u0442\u043E\u0440\u044B\u0435 \u0431\u0443\u0434\u0443\u0442 \u0443\u0442\u0435\u0440\u044F\u043D\u044B. \u041F\u0440\u043E\u0434\u043E\u043B\u0436\u0438\u0442\u044C?","CancelButtonHint":"\u041E\u0442\u043C\u0435\u043D\u0438\u0442\u044C","CancelButtonText":"\u041E\u0442\u043C\u0435\u043D\u0438\u0442\u044C","SaveDraftButtonText":"\u0421\u043E\u0445\u0440\u0430\u043D\u0438\u0442\u044C \u0447\u0435\u0440\u043D\u043E\u0432\u0438\u043A","SendButtonHint":"\u041E\u0442\u043F\u0440\u0430\u0432\u0438\u0442\u044C \u0441\u043E\u043E\u0431\u0449\u0435\u043D\u0438\u0435 (Ctrl + Enter)","SendButtonText":"\u041E\u0442\u043F\u0440\u0430\u0432\u0438\u0442\u044C","MessageSent":"\u0421\u043E\u043E\u0431\u0449\u0435\u043D\u0438\u0435 \u043E\u0442\u043F\u0440\u0430\u0432\u043B\u0435\u043D\u043E","RemoveAttachmentHint":"\u0423\u0434\u0430\u043B\u0438\u0442\u044C \u0432\u043B\u043E\u0436\u0435\u043D\u0438\u0435","Caption":"\u0421\u043E\u043E\u0431\u0449\u0435\u043D\u0438\u044F","Email":{"Caption":"\u0424\u043E\u0440\u043C\u0430 \u043E\u0442\u043F\u0440\u0430\u0432\u043A\u0438 Email","From":"\u041E\u0442 \u043A\u043E\u0433\u043E","To":"\u041A\u043E\u043C\u0443","CC":"\u041A\u043E\u043F\u0438\u044F","BCC":"\u0421\u043A\u0440\u044B\u0442\u0430\u044F \u043A\u043E\u043F\u0438\u044F","Subject":"\u0422\u0435\u043C\u0430","PublishError":"\u0421\u043E\u043E\u0431\u0449\u0435\u043D\u0438\u0435 \u043D\u0435 \u043E\u0442\u043F\u0440\u0430\u0432\u043B\u0435\u043D\u043E. \u041F\u0440\u0438 \u043E\u0442\u043F\u0440\u0430\u0432\u043A\u0435 \u0432\u043E\u0437\u043D\u0438\u043A\u043B\u0430 \u043E\u0448\u0438\u0431\u043A\u0430: {0}","SaveDraftError":"\u0412\u043E\u0437\u043D\u0438\u043A\u043B\u0430 \u043F\u0440\u043E\u0431\u043B\u0435\u043C\u0430 \u0441 \u0441\u043E\u0445\u0440\u0430\u043D\u0435\u043D\u0438\u0435\u043C \u0447\u0435\u0440\u043D\u043E\u0432\u0438\u043A\u0430. \u041F\u043E\u0436\u0430\u043B\u0443\u0439\u0441\u0442\u0430, \u043F\u043E\u043F\u0440\u043E\u0431\u0443\u0439\u0442\u0435 \u043F\u043E\u0437\u0436\u0435","TemplateInsertError":"\u0412\u043E\u0437\u043D\u0438\u043A\u043B\u0430 \u043F\u0440\u043E\u0431\u043B\u0435\u043C\u0430 \u0441\u043E \u0432\u0441\u0442\u0430\u0432\u043A\u043E\u0439 \u0448\u0430\u0431\u043B\u043E\u043D\u0430. \u041F\u043E\u0436\u0430\u043B\u0443\u0439\u0441\u0442\u0430, \u043F\u043E\u043F\u0440\u043E\u0431\u0443\u0439\u0442\u0435 \u043F\u043E\u0437\u0436\u0435","AttachmentsSizeLimitReached":"\u041E\u0431\u0449\u0438\u0439 \u0440\u0430\u0437\u043C\u0435\u0440 \u0432\u043B\u043E\u0436\u0435\u043D\u0438\u0439 \u043F\u0440\u0435\u0432\u044B\u0448\u0430\u0435\u0442 \u0434\u043E\u043F\u0443\u0441\u0442\u0438\u043C\u044B\u0439 {0} \u041C\u0411. \u041F\u043E\u0436\u0430\u043B\u0443\u0439\u0441\u0442\u0430, \u0443\u0434\u0430\u043B\u0438\u0442\u0435 \u043D\u0435\u043A\u043E\u0442\u043E\u0440\u044B\u0435 \u0432\u043B\u043E\u0436\u0435\u043D\u0438\u044F.","FromValidationErrorMessage":"\u041F\u043E\u043B\u0435 \xAB\u041E\u0442\xBB \u0434\u043E\u043B\u0436\u043D\u043E \u0431\u044B\u0442\u044C \u0437\u0430\u043F\u043E\u043B\u043D\u0435\u043D\u043E. \u0412\u044B\u0431\u0435\u0440\u0438\u0442\u0435 \u043F\u043E\u0447\u0442\u043E\u0432\u044B\u0439 \u044F\u0449\u0438\u043A \u0434\u043B\u044F \u043E\u0442\u043F\u0440\u0430\u0432\u043A\u0438 \u0441\u043E\u043E\u0431\u0449\u0435\u043D\u0438\u044F.","ToValidationErrorMessage":"\u041F\u043E\u043B\u0435 \xAB\u041A\u043E\u043C\u0443\xBB \u0434\u043E\u043B\u0436\u043D\u043E \u0431\u044B\u0442\u044C \u0437\u0430\u043F\u043E\u043B\u043D\u0435\u043D\u043E. \u0423\u043A\u0430\u0436\u0438\u0442\u0435 \u043F\u043E\u043B\u0443\u0447\u0430\u0442\u0435\u043B\u0435\u0439 \u0441\u043E\u043E\u0431\u0449\u0435\u043D\u0438\u044F.","SubjectValidationErrorMessage":"\u041F\u043E\u043B\u0435 \xAB\u0422\u0435\u043C\u0430\xBB \u0434\u043E\u043B\u0436\u043D\u043E \u0431\u044B\u0442\u044C \u0437\u0430\u043F\u043E\u043B\u043D\u0435\u043D\u043E. \u0423\u043A\u0430\u0436\u0438\u0442\u0435 \u043A\u0440\u0430\u0442\u043A\u043E \u0442\u0435\u043C\u0443 \u0432\u0430\u0448\u0435\u0433\u043E \u043F\u0438\u0441\u044C\u043C\u0430.","Draft":"\u0427\u0435\u0440\u043D\u043E\u0432\u0438\u043A","BodyPlaceholder":"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0441\u043E\u043E\u0431\u0449\u0435\u043D\u0438\u0435","Reply":"\u041E\u0442\u0432\u0435\u0442\u0438\u0442\u044C","ReplyAll":"\u041E\u0442\u0432\u0435\u0442\u0438\u0442\u044C \u0432\u0441\u0435\u043C","Forward":"\u041F\u0435\u0440\u0435\u0441\u043B\u0430\u0442\u044C","SentOn":"\u0414\u0430\u0442\u0430 \u043E\u0442\u043F\u0440\u0430\u0432\u043A\u0438","SubjectToggleCaption":"\u0422\u0435\u043C\u0430","CcToggleCaption":"CC","BccToggleCaption":"BCC","NotContainsEmail":"\u043D\u0435 \u0441\u043E\u0434\u0435\u0440\u0436\u0438\u0442 \u0435\u043C\u0435\u0439\u043B","ChangeReplyAction":"\u0418\u0437\u043C\u0435\u043D\u0438\u0442\u044C \u0440\u0435\u0436\u0438\u043C \u043E\u0442\u0432\u0435\u0442\u0430","ShowTrimmedEmailTitle":"\u041F\u043E\u043A\u0430\u0437\u0430\u0442\u044C \u043E\u0431\u0440\u0435\u0437\u0430\u043D\u043E\u0435 \u0441\u043E\u043E\u0431\u0449\u0435\u043D\u0438\u0435","EmailTemplatesLookupCaption":"\u0412\u044B\u0431\u0435\u0440\u0438\u0442\u0435 \u0448\u0430\u0431\u043B\u043E\u043D","EmailTemplatesDisplayColumnCaption":"\u041D\u0430\u0437\u0432\u0430\u043D\u0438\u0435 \u0448\u0430\u0431\u043B\u043E\u043D\u0430","ContinueEditing":"\u041F\u0440\u043E\u0434\u043E\u043B\u0436\u0438\u0442\u044C \u0440\u0435\u0434\u0430\u043A\u0442\u0438\u0440\u043E\u0432\u0430\u043D\u0438\u0435","SaveDraft":"\u0421\u043E\u0445\u0440\u0430\u043D\u0438\u0442\u044C \u0447\u0435\u0440\u043D\u043E\u0432\u0438\u043A","DraftSaved":"\u0427\u0435\u0440\u043D\u043E\u0432\u0438\u043A \u0441\u043E\u0445\u0440\u0430\u043D\u0435\u043D","EmailSent":"\u041F\u0438\u0441\u044C\u043C\u043E \u043E\u0442\u043F\u0440\u0430\u0432\u043B\u0435\u043D\u043E"},"Feed":{"Caption":"\u0421\u043E\u043E\u0431\u0449\u0435\u043D\u0438\u044F \u043B\u0435\u043D\u0442\u044B"},"Selector":{"Caption":"\u0421\u043E\u043E\u0431\u0449\u0435\u043D\u0438\u044F"}}}'),"uk-UA":JSON.parse('{"MessageComposer":{"CanDiscardUnsavedData":"\u0423 \u0432\u0430\u0441 \u0454 \u043D\u0435\u0437\u0431\u0435\u0440\u0435\u0436\u0435\u043D\u0456 \u0437\u043C\u0456\u043D\u0438, \u044F\u043A\u0456 \u0431\u0443\u0434\u0443\u0442\u044C \u0432\u0442\u0440\u0430\u0447\u0435\u043D\u0456. \u041F\u0440\u043E\u0434\u043E\u0432\u0436\u0438\u0442\u0438?","CancelButtonHint":"\u0412\u0456\u0434\u0445\u0438\u043B\u0438\u0442\u0438","CancelButtonText":"\u0412\u0456\u0434\u0445\u0438\u043B\u0438\u0442\u0438","SaveDraftButtonText":"\u0417\u0431\u0435\u0440\u0435\u0433\u0442\u0438 \u0447\u0435\u0440\u043D\u0435\u0442\u043A\u0443","SendButtonHint":"\u0412\u0456\u0434\u043F\u0440\u0430\u0432\u0438\u0442\u0438 \u043F\u043E\u0432\u0456\u0434\u043E\u043C\u043B\u0435\u043D\u043D\u044F (Ctrl + Enter)","MessageSent":"\u041F\u043E\u0432\u0456\u0434\u043E\u043C\u043B\u0435\u043D\u043D\u044F \u043D\u0430\u0434\u0456\u0441\u043B\u0430\u043D\u043E \u0443\u0441\u043F\u0456\u0448\u043D\u043E","SendButtonText":"\u041D\u0430\u0434\u0456\u0441\u043B\u0430\u0442\u0438","RemoveAttachmentHint":"\u0412\u0438\u0434\u0430\u043B\u0438\u0442\u0438 \u0432\u043A\u043B\u0430\u0434\u0435\u043D\u043D\u044F","Caption":"\u0420\u0435\u0434\u0430\u043A\u0442\u043E\u0440 \u043F\u043E\u0432\u0456\u0434\u043E\u043C\u043B\u0435\u043D\u044C","Email":{"Caption":"\u0420\u0435\u0434\u0430\u043A\u0442\u043E\u0440 email","From":"\u0412\u0456\u0434","To":"\u041A\u0456\u043D\u0446\u0435\u0432\u0430 \u0434\u0430\u0442\u0430","CC":"CC","BCC":"BCC","Subject":"\u0417\u0430\u0433\u043E\u043B\u043E\u0432\u043E\u043A","PublishError":"\u041D\u0435 \u0432\u0434\u0430\u043B\u043E\u0441\u044F \u043D\u0430\u0434\u0456\u0441\u043B\u0430\u0442\u0438 \u043F\u043E\u0432\u0456\u0434\u043E\u043C\u043B\u0435\u043D\u043D\u044F. \u041E\u0442\u0440\u0438\u043C\u0430\u043D\u0430 \u0442\u0430\u043A\u0430 \u043F\u043E\u043C\u0438\u043B\u043A\u0430: {0}","SaveDraftError":"\u041D\u0435 \u0432\u0434\u0430\u043B\u043E\u0441\u044F \u0437\u0431\u0435\u0440\u0435\u0433\u0442\u0438 \u0447\u0435\u0440\u043D\u0435\u0442\u043A\u0443. \u0411\u0443\u0434\u044C \u043B\u0430\u0441\u043A\u0430, \u0441\u043F\u0440\u043E\u0431\u0443\u0439\u0442\u0435 \u0449\u0435 \u0440\u0430\u0437 \u043F\u0456\u0437\u043D\u0456\u0448\u0435","TemplateInsertError":"\u041D\u0435 \u0432\u0434\u0430\u0454\u0442\u044C\u0441\u044F \u0434\u043E\u0434\u0430\u0442\u0438 \u0448\u0430\u0431\u043B\u043E\u043D. \u0411\u0443\u0434\u044C \u043B\u0430\u0441\u043A\u0430, \u0441\u043F\u0440\u043E\u0431\u0443\u0439\u0442\u0435 \u0449\u0435 \u0440\u0430\u0437 \u043F\u0456\u0437\u043D\u0456\u0448\u0435.","AttachmentsSizeLimitReached":"\u0417\u0430\u0433\u0430\u043B\u044C\u043D\u0430 \u043A\u0456\u043B\u044C\u043A\u0456\u0441\u0442\u044C \u0432\u043A\u043B\u0430\u0434\u0435\u043D\u044C \u043F\u0435\u0440\u0435\u0432\u0438\u0449\u0443\u0454 \u0434\u043E\u043F\u0443\u0441\u0442\u0438\u043C\u0438\u0439 \u0440\u043E\u0437\u043C\u0456\u0440 {0} \u041C\u0411. \u0411\u0443\u0434\u044C \u043B\u0430\u0441\u043A\u0430, \u0432\u0438\u0434\u0430\u043B\u0456\u0442\u044C \u0434\u0435\u044F\u043A\u0456 \u0432\u043A\u043B\u0430\u0434\u0435\u043D\u043D\u044F.","FromValidationErrorMessage":"\u041F\u043E\u043B\u0435 \u201C\u0412\u0456\u0434\u201D \u043D\u0435 \u043C\u043E\u0436\u0435 \u0431\u0443\u0442\u0438 \u043F\u043E\u0440\u043E\u0436\u043D\u0456\u043C. \u0411\u0443\u0434\u044C \u043B\u0430\u0441\u043A\u0430, \u043E\u0431\u0435\u0440\u0456\u0442\u044C \u043F\u043E\u0448\u0442\u043E\u0432\u0443 \u0441\u043A\u0440\u0438\u043D\u044C\u043A\u0443.","ToValidationErrorMessage":"\u041F\u043E\u043B\u0435 \\"\u041A\u043E\u043C\u0443\u201D \u043D\u0435 \u043C\u043E\u0436\u0435 \u0431\u0443\u0442\u0438 \u043F\u043E\u0440\u043E\u0436\u043D\u0456\u043C. \u0412\u0432\u0435\u0434\u0456\u0442\u044C \u0445\u043E\u0447\u0430 \u0431 \u043E\u0434\u043D\u043E\u0433\u043E \u043E\u0442\u0440\u0438\u043C\u0443\u0432\u0430\u0447\u0430.","SubjectValidationErrorMessage":"\u041F\u043E\u043B\u0435 \\"\u0422\u0435\u043C\u0430\\" \u043D\u0435 \u043C\u043E\u0436\u0435 \u0431\u0443\u0442\u0438 \u043F\u043E\u0440\u043E\u0436\u043D\u0456\u043C. \u0411\u0443\u0434\u044C \u043B\u0430\u0441\u043A\u0430, \u0432\u0432\u0435\u0434\u0456\u0442\u044C \u0442\u0435\u043C\u0443 \u043F\u043E\u0432\u0456\u0434\u043E\u043C\u043B\u0435\u043D\u043D\u044F.","Draft":"\u0427\u0435\u0440\u043D\u0435\u0442\u043A\u0430","BodyPlaceholder":"\u0412\u0432\u0435\u0434\u0456\u0442\u044C \u043F\u043E\u0432\u0456\u0434\u043E\u043C\u043B\u0435\u043D\u043D\u044F","Reply":"\u0412\u0456\u0434\u043F\u043E\u0432\u0456\u0441\u0442\u0438","ReplyAll":"\u0412\u0456\u0434\u043F\u043E\u0432\u0456\u0441\u0442\u0438 \u0432\u0441\u0456\u043C","Forward":"\u041F\u0435\u0440\u0435\u0441\u043B\u0430\u0442\u0438","SentOn":"\u0414\u0430\u0442\u0430 \u0432\u0456\u0434\u043F\u0440\u0430\u0432\u043A\u0438","SubjectToggleCaption":"\u0422\u0435\u043C\u0430","CcToggleCaption":"CC","BccToggleCaption":"BCC","NotContainsEmail":"\u043D\u0435 \u043C\u0456\u0441\u0442\u0438\u0442\u044C \u0432 \u0441\u043E\u0431\u0456 email","ChangeReplyAction":"\u0417\u043C\u0456\u043D\u0438\u0442\u0438 \u0434\u0456\u044E \u0432\u0456\u0434\u043F\u043E\u0432\u0456\u0434\u0456","ShowTrimmedEmailTitle":"\u041F\u043E\u043A\u0430\u0437\u0430\u0442\u0438 \u043E\u0431\u0440\u0456\u0437\u0430\u043D\u0438\u0439 \u043B\u0438\u0441\u0442","EmailTemplatesLookupCaption":"\u041E\u0431\u0435\u0440\u0456\u0442\u044C \u0448\u0430\u0431\u043B\u043E\u043D","EmailTemplatesDisplayColumnCaption":"\u041D\u0430\u0437\u0432\u0430 \u0448\u0430\u0431\u043B\u043E\u043D\u0430","ContinueEditing":"\u041F\u0440\u043E\u0434\u043E\u0432\u0436\u0438\u0442\u0438 \u0440\u0435\u0434\u0430\u0433\u0443\u0432\u0430\u043D\u043D\u044F","SaveDraft":"\u0417\u0431\u0435\u0440\u0435\u0433\u0442\u0438 \u0447\u0435\u0440\u043D\u0435\u0442\u043A\u0443","DraftSaved":"\u0427\u0435\u0440\u043D\u0435\u0442\u043A\u0443 \u0437\u0431\u0435\u0440\u0435\u0436\u0435\u043D\u043E","EmailSent":"\u041B\u0438\u0441\u0442 \u0432\u0456\u0434\u043F\u0440\u0430\u0432\u043B\u0435\u043D\u043E"},"Feed":{"Caption":"\u0420\u0435\u0434\u0430\u043A\u0442\u043E\u0440 \u0441\u0442\u0440\u0456\u0447\u043A\u0438"},"Selector":{"Caption":"\u0420\u0435\u0434\u0430\u043A\u0442\u043E\u0440 \u043F\u043E\u0432\u0456\u0434\u043E\u043C\u043B\u0435\u043D\u044C"}}}')};var S=m(10194),t=m(99314),j=m(69244),oe=m(79076),w=m(62441),R=m(96091),D=m(10138),A=m(850),Ke=m(52808);const gt=["items"],ft=["composerHeader"],_t=["selectorActions"],St=["container"],yt=f=>({display:f});function bt(f,n){f&1&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275element(1,"div",null,1),t.\u0275\u0275elementContainerEnd())}function vt(f,n){if(f&1){const a=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"div",6,2)(2,"crt-channel-selector",7),t.\u0275\u0275listener("selectedChannelIndexChange",function(p){t.\u0275\u0275restoreView(a);const u=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(u.onSelectedChannelIndexChange(p))}),t.\u0275\u0275elementEnd()()}if(f&2){const a=t.\u0275\u0275nextContext();t.\u0275\u0275property("ngStyle",t.\u0275\u0275pureFunction1(3,yt,a.getChannelSelectorVisible()?"unset":"none")),t.\u0275\u0275advance(2),t.\u0275\u0275property("channels",a.items)("selectedChannelIndex",a.selectedComposerChannelIndex)}}let te=class ct extends oe.K0{get _visibleItems(){return this.items?.filter(n=>n.visible!==!1)}get visibleTemplate(){const n=this.itemsTemplates?.length>this.selectedComposerChannelIndex?this.selectedComposerChannelIndex:0;return this.itemsTemplates?.get(n)}get renderEmbededChannelSelector(){return this._featureService.getFeatureState("ExtendableMessageComposer").pipe((0,R.map)(n=>!n))}set defaultChannel(n){(0,w.A)(n)||(this._defaultChannel=n,this._setDefaultComposer())}get items(){return this._items}set items(n){this._items=n,this._setDefaultComposer()}set composerEvent(n){n?.forEach(a=>{switch(a?.name){case D.iQ:this._handleComposerReady(a.params?.composerSchemaType);break;case D.An:a.params&&(this._isVisible=a.params?.isFocused,this._updateOffsetOnFocus());break;case D.M7:this._handleReplyActionEvent({emailId:a.params?.emailId,action:a.params?.action})}})}set selectedComposerChannelIndex(n){this._isVisible=!1,this._selectedChannelIndex$.next(n),this.changeDetectorRef.markForCheck()}get selectedComposerChannelIndex(){return this._selectedChannelIndex$.value}constructor(n,a){super(n),this._changeComposerService=a,this._defaultChannel="crt.FeedComposer",this._subscriptions=[],this._updateView=new R.Subject,this._rendered=new Map,this._selectedChannelIndex$=new R.BehaviorSubject(0),this.composerEventChange=new t.EventEmitter,this.selectedComposerChannelIndexChange=new t.EventEmitter,this.preserveContent=!0,this._subscribeToChangeComposerEvent(this._changeComposerService),this._featureService=n.get(j.wf)}_setDefaultComposer(){if(!this._items)return;const n=this._visibleItems.findIndex(a=>a.type===this._defaultChannel);this.selectedComposerChannelIndex=n<0?0:n,this.selectedComposerChannelIndexChange.emit(this.selectedComposerChannelIndex)}_subscribeToChangeComposerEvent(n){this._subscriptions.push(n.getComposerObservable().subscribe(a=>{const r=this._visibleItems?.find(p=>p.data.schemaType===a);r&&this.showComposer(r)}))}_updateOffsetOnFocus(){!this._isVisible||!this.renderEmbededChannelSelector||window.requestAnimationFrame(()=>{if(this._isVisible&&!this.selectorActions){this._updateOffsetOnFocus();return}this.composerEventChange.emit([{name:D.Od,params:{offset:this.selectorActions?.nativeElement?.offsetWidth??0}}])})}_handleReplyActionEvent(n){const a=this.items.findIndex(p=>p.data?.schemaType==="Email");if(a<0)return;const r=this.items[this.selectedComposerChannelIndex];(!r||r.data?.schemaType!=="Email")&&(this._replyActionEvent=n,this.selectedComposerChannelIndex=a,this.changeDetectorRef.detectChanges()),window.requestAnimationFrame(()=>{this.composerHeader?.nativeElement?.scrollIntoView({behavior:"smooth",block:"nearest"})})}_handleComposerReady(n){const a=[];if(this._isVisible=!1,typeof n=="string"&&n==="Feed"&&this.selectorActions?.nativeElement)a.push({name:D.Od,params:{offset:this.selectorActions?.nativeElement?.offsetWidth??0}});else if(n==="Email"){const r=this.items[this.selectedComposerChannelIndex];this._replyActionEvent&&r.data?.schemaType==="Email"&&(a.push({name:D.M7,params:this._replyActionEvent}),this._replyActionEvent=null)}this.composerEventChange.emit(a)}_renderItem(n,a){if(a!==this.selectedComposerChannelIndex)return;const r=this.itemsTemplates.get(a),p=n.createEmbeddedView(r);this._rendered.set(r,p),this.detectChanges()}_changeItemVisibility(n,a,r){const p=a.rootNodes.filter(u=>!(u instanceof Comment));n===this.selectedComposerChannelIndex?p.forEach(u=>{u.style.display="unset"}):p.forEach(u=>{u.style.display="none"})}_destroyRenderedItem(n){this._rendered.get(n)?.destroy(),this._rendered.delete(n)}showComposer(n){this.selectedComposerChannelIndex=this.items.indexOf(n)}showItem(){this.containers?.forEach((n,a)=>{const r=this.itemsTemplates.get(a);if(!r)return;const p=this._rendered.get(r);if(!p){this._renderItem(n,a);return}if(this.preserveContent){this._changeItemVisibility(a,p);return}a!==this.selectedComposerChannelIndex&&this._destroyRenderedItem(r)})}ngAfterViewInit(){this._subscriptions.push(this._updateView.asObservable().pipe((0,R.debounceTime)(0)).subscribe(()=>{this.showItem()})),this._subscriptions.push((0,R.merge)(this._selectedChannelIndex$.asObservable()).subscribe(()=>{this._updateView.next()}))}ngOnDestroy(){this._subscriptions.forEach(n=>n?.unsubscribe())}onSelectedChannelIndexChange(n){this.selectedComposerChannelIndex=n}getChannelSelectorVisible(){return this._isVisible?!!(this._visibleItems&&this._visibleItems.length>1):!1}static{this.\u0275fac=function(a){return new(a||ct)(t.\u0275\u0275directiveInject(t.Injector),t.\u0275\u0275directiveInject(A.IS))}}static{this.\u0275cmp=t.\u0275\u0275defineComponent({type:ct,selectors:[["crt-message-composer-selector"]],contentQueries:function(a,r,p){if(a&1&&t.\u0275\u0275contentQuery(p,gt,4,t.TemplateRef),a&2){let u;t.\u0275\u0275queryRefresh(u=t.\u0275\u0275loadQuery())&&(r.itemsTemplates=u)}},viewQuery:function(a,r){if(a&1&&(t.\u0275\u0275viewQuery(ft,5),t.\u0275\u0275viewQuery(_t,5),t.\u0275\u0275viewQuery(St,5,t.ViewContainerRef)),a&2){let p;t.\u0275\u0275queryRefresh(p=t.\u0275\u0275loadQuery())&&(r.composerHeader=p.first),t.\u0275\u0275queryRefresh(p=t.\u0275\u0275loadQuery())&&(r.selectorActions=p.first),t.\u0275\u0275queryRefresh(p=t.\u0275\u0275loadQuery())&&(r.containers=p)}},inputs:{defaultChannel:"defaultChannel",items:"items",composerEvent:"composerEvent",selectedComposerChannelIndex:"selectedComposerChannelIndex",preserveContent:"preserveContent"},outputs:{composerEventChange:"composerEventChange",selectedComposerChannelIndexChange:"selectedComposerChannelIndexChange"},features:[t.\u0275\u0275ProvidersFeature([]),t.\u0275\u0275InheritDefinitionFeature],decls:6,vars:4,consts:[["composerHeader",""],["container",""],["selectorActions",""],[1,"message-composer-selector"],[4,"ngFor","ngForOf"],["class","message-composer-selector-actions",3,"ngStyle",4,"ngIf"],[1,"message-composer-selector-actions",3,"ngStyle"],[3,"selectedChannelIndexChange","channels","selectedChannelIndex"]],template:function(a,r){a&1&&(t.\u0275\u0275elementStart(0,"div",3),t.\u0275\u0275element(1,"div",null,0),t.\u0275\u0275template(3,bt,3,0,"ng-container",4)(4,vt,3,5,"div",5),t.\u0275\u0275pipe(5,"async"),t.\u0275\u0275elementEnd()),a&2&&(t.\u0275\u0275advance(3),t.\u0275\u0275property("ngForOf",r.itemsTemplates),t.\u0275\u0275advance(),t.\u0275\u0275property("ngIf",t.\u0275\u0275pipeBind1(5,2,r.renderEmbededChannelSelector)))},dependencies:[s.NgForOf,s.NgIf,s.NgStyle,Ke.B,s.AsyncPipe],styles:[`.message-composer-selector{position:relative;min-height:32px}.message-composer-selector-actions{position:absolute;bottom:0;display:flex}
`],encapsulation:2,data:{animation:[(0,S.hZ)("collapse",[(0,S.wk)("false",(0,S.iF)({height:S.kp,visibility:S.kp,overflow:"hidden",opacity:1})),(0,S.wk)("true",(0,S.iF)({height:"0",visibility:"hidden",overflow:"hidden",opacity:0})),(0,S.kY)("false => true",(0,S.i0)("300ms ease-in")),(0,S.kY)("true => false",(0,S.i0)("300ms ease-out"))])]}})}};(0,o.Cg)([(0,l.CrtInput)(),(0,o.Sn)("design:type",String),(0,o.Sn)("design:paramtypes",[String])],te.prototype,"defaultChannel",null),(0,o.Cg)([(0,l.CrtInput)(),(0,o.Sn)("design:type",Array),(0,o.Sn)("design:paramtypes",[Array])],te.prototype,"items",null),(0,o.Cg)([(0,l.CrtInput)(),(0,o.Sn)("design:type",Array),(0,o.Sn)("design:paramtypes",[Array])],te.prototype,"composerEvent",null),(0,o.Cg)([(0,l.CrtOutput)(),(0,o.Sn)("design:type",Object)],te.prototype,"composerEventChange",void 0),(0,o.Cg)([(0,l.CrtInput)(),(0,o.Sn)("design:type",Number),(0,o.Sn)("design:paramtypes",[Number])],te.prototype,"selectedComposerChannelIndex",null),(0,o.Cg)([(0,l.CrtOutput)(),(0,o.Sn)("design:type",Object)],te.prototype,"selectedComposerChannelIndexChange",void 0),(0,o.Cg)([(0,l.CrtInput)(),(0,o.Sn)("design:type",Object)],te.prototype,"preserveContent",void 0),te=(0,o.Cg)([(0,l.CrtViewElement)({type:"crt.MessageComposerSelector",contentSlots:[{name:"items",lazy:!0,input:!0}],placeholderSize:{height:"102px"},reuseStrategy:l.ViewElementReuseStrategy.Reuse}),(0,l.CrtInterfaceDesignerItem)({toolbarConfig:{position:250,defaultPropertyValues:{items:[],name:"MessageComposer_"+E.NK6},icon:m(62127)},propertiesPanelComponentTypeName:"crt.MessageComposerPropertiesPanel",viewElementGroupType:l.ViewElementGroupType.Components,typeCaption:"Components.MessageComposer.Caption"}),(0,o.Sn)("design:paramtypes",[t.Injector,A.IS])],te);var z=m(73308),$e=m(37222),Se=m(86731),Et=m(42127),ne=m(68642),dt=m(42218),Te=m(59937),Qe=m(79111);let qe=(()=>{class f extends Te.l{constructor(){super(...arguments),this.labelText="MessageComposer.Email.DraftSaved"}static{this.\u0275fac=(()=>{let a;return function(p){return(a||(a=t.\u0275\u0275getInheritedFactory(f)))(p||f)}})()}static{this.\u0275cmp=t.\u0275\u0275defineComponent({type:f,selectors:[["crt-draft-saved-snackbar-label"]],features:[t.\u0275\u0275InheritDefinitionFeature],decls:4,vars:3,consts:[[1,"message-snackbar-label-container"],["labelTextAlign","center"]],template:function(r,p){r&1&&(t.\u0275\u0275elementStart(0,"div",0)(1,"crt-label",1),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd()()),r&2&&(t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(3,1,p.labelText)))},dependencies:[Qe.V,Se.D9],styles:[`.message-action-snackbar-container{--mdc-snackbar-container-color: var(--crt-color-primary-black);opacity:.6!important}.message-action-snackbar-container .message-snackbar-label-container{width:100%}.message-action-snackbar-container .message-snackbar-label-container .crt-label{width:100%;color:var(--crt-palette-background-50)}
`],encapsulation:2})}}return f})(),Ge=(()=>{class f extends Te.l{constructor(){super(...arguments),this.labelText="MessageComposer.Email.EmailSent"}static{this.\u0275fac=(()=>{let a;return function(p){return(a||(a=t.\u0275\u0275getInheritedFactory(f)))(p||f)}})()}static{this.\u0275cmp=t.\u0275\u0275defineComponent({type:f,selectors:[["crt-email-sent-snackbar-label"]],features:[t.\u0275\u0275InheritDefinitionFeature],decls:4,vars:3,consts:[[1,"message-snackbar-label-container"],["labelTextAlign","center"]],template:function(r,p){r&1&&(t.\u0275\u0275elementStart(0,"div",0)(1,"crt-label",1),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd()()),r&2&&(t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(3,1,p.labelText)))},dependencies:[Qe.V,Se.D9],styles:[`.message-action-snackbar-container{--mdc-snackbar-container-color: var(--crt-color-primary-black);opacity:.6!important}.message-action-snackbar-container .message-snackbar-label-container{width:100%}.message-action-snackbar-container .message-snackbar-label-container .crt-label{width:100%;color:var(--crt-palette-background-50)}
`],encapsulation:2})}}return f})();var Tt=m(32942),Mt=m(84137),ht=m(66803),It=m(82650);const Rt=f=>({"recipient-not-valid":f});function xt(f,n){if(f&1){const a=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"div",6)(1,"crt-label",7),t.\u0275\u0275pipe(2,"encodeHtml"),t.\u0275\u0275text(3),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(4,"mat-icon",8),t.\u0275\u0275listener("click",function(){const p=t.\u0275\u0275restoreView(a).$implicit,u=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(u.removeRecipient(p.value))}),t.\u0275\u0275elementEnd()()}if(f&2){const a=n.$implicit,r=t.\u0275\u0275nextContext();t.\u0275\u0275property("ngClass",t.\u0275\u0275pureFunction1(5,Rt,!r.validateRecipient(a))),t.\u0275\u0275advance(),t.\u0275\u0275property("crtTooltip",t.\u0275\u0275pipeBind1(2,3,r.getTooltip(a))),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1(" ",r.getRecipientDisplayValue(a)," ")}}let Je=(()=>{class f extends Tt.g_{get dropDownRecipients(){return this.filteredRecipients.filter(a=>!this.selectedRecipients.some(r=>a.displayValue===r.displayValue))}set rawRecipinets(a){a&&(this._rawRecipients=a,this._loadRecipients(this.recipientSearchControl.value,0))}set recipientLabelWidth(a){a&&(this._labelWidth=a+"px")}constructor(a,r,p){super(a,null,r),this._translateService=p,this._hasNextPage=!0,this._labelWidth="136px",this.recipientSearchControl=new $e.MJ(null),this.selectedRecipients=new Array,this.filteredRecipients=new Array,this.loadRecipients=new t.EventEmitter,this.recipientsChanged=new t.EventEmitter,this.recipientSearchControl.valueChanges.subscribe(u=>this._selectRecipient(u))}_selectRecipient(a){a&&a.value&&!this.selectedRecipients.some(r=>r.displayValue===a.displayValue)&&(this.selectedRecipients.push(a),this.recipientsChanged.emit(this.selectedRecipients.map(r=>r.displayValue)))}_setRecipientsComboboxList(a,r=!1){this._rawRecipients=r?[...this._rawRecipients,...a]:a;const p=a.map(u=>u.emails).flat(1);this.filteredRecipients=r?[...this.filteredRecipients,...p]:p}_loadRecipients(a,r=0){this.recipientsLoading=!0,this._hasNextPage=this._rawRecipients.length>0,this._rawRecipients&&this._rawRecipients.length>0?this._setRecipientsComboboxList(this._rawRecipients,r>0):r===0&&!(0,w.A)(a)&&this._setRecipientsComboboxList([{emails:[this._mapRecipient(a)]}]),this.recipientsLoading=!1,this.changeDetectorRef.markForCheck()}_mapRecipient(a){return{value:(0,l.generateGuid)(),displayValue:a.trim()}}getRecipients(){return this.selectedRecipients?this.selectedRecipients.map(a=>a.displayValue):[]}setRecipients(a){this.selectedRecipients=a?.filter(r=>!(0,w.A)(r)).map(r=>this._mapRecipient(r))}clear(){this.clearCombobox(),this.selectedRecipients=[],this.recipientsChanged.emit([])}validate(){return this.selectedRecipients.length>0&&this.selectedRecipients.filter(a=>!this.validateRecipient(a)).length===0}searchRecipients(a){(0,w.A)(a)&&(a={viewElement:"crt.ComboBox",filterValue:null}),this.loadRecipients.emit({query:a.filterValue,recipientsLength:0})}clearCombobox(){this._hasNextPage=!0,this.recipientSearchControl.setValue(null)}removeRecipient(a){this.selectedRecipients=this.selectedRecipients.filter(r=>r.value!==a),this.recipientsChanged.emit(this.selectedRecipients.map(r=>r.displayValue)),this.changeDetectorRef.markForCheck()}getRecipientDisplayValue(a){const r=new RegExp(`\\s?<${v.CONTAINS_EMAIL_PATTERN}>`,"g"),p=new RegExp(/^;+|;+$/,"g"),u=new RegExp(/[^\s]/,"g"),T=a.displayValue.replace(r,"").replace(p,"");return u.test(T)?T:a.displayValue}validateRecipient(a){return(0,v.containsEmail)(a.displayValue)}getTooltip(a){return this.validateRecipient(a)?(0,v.isEmailAddress)(a.displayValue)?"":a.displayValue:`"${a.displayValue}" ${this._translateService.instant("MessageComposer.Email.NotContainsEmail")}`}loadNextPage(){this._hasNextPage&&this.loadRecipients.emit({query:this.recipientSearchControl.value,recipientsLength:this._rawRecipients.length})}static{this.\u0275fac=function(r){return new(r||f)(t.\u0275\u0275directiveInject(t.Injector),t.\u0275\u0275directiveInject(t.ChangeDetectorRef),t.\u0275\u0275directiveInject(Se.c$))}}static{this.\u0275cmp=t.\u0275\u0275defineComponent({type:f,selectors:[["crt-recipient-search"]],hostVars:2,hostBindings:function(r,p){r&2&&t.\u0275\u0275styleProp("--labelWidth",p._labelWidth)},inputs:{rawRecipinets:"rawRecipinets",recipientLabel:"recipientLabel",recipientLabelWidth:"recipientLabelWidth"},outputs:{loadRecipients:"loadRecipients",recipientsChanged:"recipientsChanged"},features:[t.\u0275\u0275InheritDefinitionFeature],decls:8,vars:9,consts:[[1,"recipients-container"],[1,"recipients-label-container"],["labelType","caption"],[1,"selected-recipients-container"],["class","selected-recipient",3,"ngClass",4,"ngFor","ngForOf"],["labelPosition","none","data-item-marker","recipients-search-combobox",3,"closed","showList","paginationChange","control","items","loading","debounceTime","appearance"],[1,"selected-recipient",3,"ngClass"],["labelEllipsis","true",1,"selected-recipient-label",3,"crtTooltip"],["svgIcon","message-composer-attach-cross","data-qa","selected-recipient-remove-button",1,"selected-recipient-remove-button",3,"click"]],template:function(r,p){r&1&&(t.\u0275\u0275elementStart(0,"div",0)(1,"div",1)(2,"crt-label",2),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(5,"div",3),t.\u0275\u0275template(6,xt,5,7,"div",4),t.\u0275\u0275elementStart(7,"crt-combobox",5),t.\u0275\u0275listener("closed",function(){return p.clearCombobox()})("showList",function(T){return p.searchRecipients(T)})("paginationChange",function(){return p.loadNextPage()}),t.\u0275\u0275elementEnd()()()),r&2&&(t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(4,7,p.recipientLabel)," "),t.\u0275\u0275advance(3),t.\u0275\u0275property("ngForOf",p.selectedRecipients),t.\u0275\u0275advance(),t.\u0275\u0275property("control",p.recipientSearchControl)("items",p.dropDownRecipients)("loading",p.recipientsLoading)("debounceTime",100)("appearance","legacy"))},dependencies:[s.NgClass,s.NgForOf,Mt.d,ht.q,Qe.V,d.An,Se.D9,It.m],styles:[`.recipients-container{display:flex;width:100%;padding-top:8px}.recipients-container .recipients-label-container{margin-inline-end:10px;display:flex;width:var(--labelWidth, 136px);min-width:var(--labelWidth, 136px);flex-direction:row-reverse}.recipients-container .recipients-label-container .crt-label{color:var(--crt-base-input-label-color);margin-top:9px}.recipients-container .selected-recipients-container{display:flex;width:calc(100% - var(--labelWidth, 136px));flex-wrap:wrap;min-height:32px;align-items:flex-end}.recipients-container .selected-recipients-container .selected-recipient{display:flex;align-items:center;background-color:var(--crt-palette-interaction-900);border-radius:12px;padding:0 12px;margin:4px 0;margin-inline-end:12px;width:min-content;max-width:calc(100% - 36px);cursor:pointer}.recipients-container .selected-recipients-container .selected-recipient label{color:var(--crt-palette-link-500)}.recipients-container .selected-recipients-container .selected-recipient.recipient-not-valid{background-color:var(--crt-palette-navigation-primary-500)}.recipients-container .selected-recipients-container .selected-recipient.recipient-not-valid label{color:var(--crt-palette-label-contrast-500)}.recipients-container .selected-recipients-container .selected-recipient:first-of-type{margin-top:9px}.recipients-container .selected-recipients-container .selected-recipient-label{max-width:100%}.recipients-container .selected-recipients-container .selected-recipient-remove-button{display:none;flex-basis:10px;height:10px;flex-grow:0;flex-shrink:0;width:unset;color:var(--crt-palette-label-500)}.recipients-container .selected-recipients-container .selected-recipient:hover .selected-recipient-remove-button{display:flex}.recipients-container .selected-recipients-container .selected-recipient:hover .selected-recipient-label{max-width:calc(100% - 10px)}
`],encapsulation:2})}}return f})();var Dt=m(62115),ut=m(58433),Bt=m(19344),At=m(58551);const Pt=()=>({height:"52px"}),Ft=()=>({height:"32px",width:"100px","margin-right":"8px"});let Ce=class We extends oe.K0{static{this.\u0275fac=(()=>{let n;return function(r){return(n||(n=t.\u0275\u0275getInheritedFactory(We)))(r||We)}})()}static{this.\u0275cmp=t.\u0275\u0275defineComponent({type:We,selectors:[["crt-base-message-composer-skeleton"]],features:[t.\u0275\u0275InheritDefinitionFeature],decls:3,vars:4,consts:[[1,"message-composer-skeleton-container"],["appearance","line","count","1",1,"message-composer-skeleton-container-body",3,"styles"],["appearance","line","count","2",1,"message-composer-skeleton-container-buttons",3,"styles"]],template:function(a,r){a&1&&(t.\u0275\u0275elementStart(0,"div",0),t.\u0275\u0275element(1,"crt-skeleton-loader",1)(2,"crt-skeleton-loader",2),t.\u0275\u0275elementEnd()),a&2&&(t.\u0275\u0275advance(),t.\u0275\u0275property("styles",t.\u0275\u0275pureFunction0(2,Pt)),t.\u0275\u0275advance(),t.\u0275\u0275property("styles",t.\u0275\u0275pureFunction0(3,Ft)))},dependencies:[ut.W],styles:[".message-composer-skeleton-container-body[_ngcontent-%COMP%]{margin:5px 0}.message-composer-skeleton-container-buttons[_ngcontent-%COMP%]{justify-content:space-between;text-align:end}"]})}};Ce=(0,o.Cg)([(0,l.CrtViewElement)({type:"crt.BaseMessageComposerSkeleton",reuseStrategy:l.ViewElementReuseStrategy.Reuse})],Ce);const wt=["toRecipientSearch"],Ot=["ccRecipientSearch"],jt=["bccRecipientSearch"],Vt=[[["","channelsPanel",""]],[["","selectionActions",""]]],kt=["[channelsPanel]","[selectionActions]"],Ct=f=>({display:f}),Nt=()=>({height:"12px",width:"80%","margin-bottom":"5px","margin-top":"5px"});function Lt(f,n){if(f&1&&(t.\u0275\u0275element(0,"crt-button",28),t.\u0275\u0275pipe(1,"translate")),f&2){const a=t.\u0275\u0275nextContext();t.\u0275\u0275propertyInterpolate("title",t.\u0275\u0275pipeBind1(1,3,"MessageComposer.Email.ChangeReplyAction")),t.\u0275\u0275property("icon",a.getReplyActionIcon())("menuItems",a.itemActionItems)}}function Ht(f,n){if(f&1){const a=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"crt-button",29),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275listener("clicked",function(){t.\u0275\u0275restoreView(a);const p=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(p.toggleVisibleCc())}),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd()}f&2&&(t.\u0275\u0275property("title",t.\u0275\u0275pipeBind1(1,2,"MessageComposer.Email.CC")),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(3,4,"MessageComposer.Email.CcToggleCaption")," "))}function Ut(f,n){if(f&1){const a=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"crt-button",30),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275listener("clicked",function(){t.\u0275\u0275restoreView(a);const p=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(p.toggleVisibleBcc())}),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd()}f&2&&(t.\u0275\u0275property("title",t.\u0275\u0275pipeBind1(1,2,"MessageComposer.Email.BCC")),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(3,4,"MessageComposer.Email.BccToggleCaption")," "))}function zt(f,n){f&1&&t.\u0275\u0275projection(0)}function Wt(f,n){f&1&&t.\u0275\u0275projection(0,1)}class Ye{}let F=class pt extends dt.Z{get activityId(){return this._activityId}get replyAction(){return this._replyAction}set replyAction(n){this._replyAction=n,this._updateLabelsWidth()}set from(n){if(this._from=n,this._skeletonLoading){this._defaultFrom=this._from;return}this._setFrom(this._from),n!==""&&!this._postponeSignature&&this._setSignature()}get from(){return this._from}set sendersMailboxes(n){n&&(this._sendersMailboxes=n,this.fromLookupValues=this._getFromLookupValues(this._sendersMailboxes),n.length===1&&this._setFrom(n[0].senderEmailAddress),this._mailboxSendersSet.next(this.maxAttachmentsSize))}get sendersMailboxes(){return this._sendersMailboxes}set to(n){n!=null&&this.toInputControl?.setRecipients(n)}get to(){return this._to}set cc(n){n!=null&&this.ccInputControl?.setRecipients(n)}get cc(){return this._cc}set bcc(n){n!=null&&this.bccInputControl?.setRecipients(n)}get bcc(){return this._bcc}set body(n){n!=null&&this.baseComposer.setValue(n)}get body(){return this._body}set recipientsMailboxes(n){n?.recipients&&(this.toInputControl.rawRecipinets=n.recipients,this.ccInputControl.rawRecipinets=n.recipients,this.bccInputControl.rawRecipinets=n.recipients)}set emailId(n){!(0,w.A)(n)&&n!==l.EMPTY_GUID&&(this._replyAction=D.TF.EditDraft,this._postponeSignature=!0,this._handleReplyAction(n,D.TF.EditDraft))}set skeletonLoading(n){this._skeletonLoading=n}get skeletonLoading(){return this._skeletonLoading||this.loading}get cacheCode(){if((0,w.A)(this._userId)||!(0,w.A)(this.entitySchemaName)&&(0,w.A)(this.recordId)||this._replyAction===D.TF.EditDraft)return"";let n=`email_composer_cache_data_${this._userId}_`;return!(0,w.A)(this.entitySchemaName)&&!(0,w.A)(this.recordId)&&(n+=`${this.entitySchemaName}_${this.recordId}`),n}set headerLabelsWidth(n){n&&(this._headerLabelsWidth=this.getReplyButtonVisible()?this._defaultHeaderLabelsWidth:n,this._headerLabelsWidthString=this._headerLabelsWidth+"px")}get headerLabelsWidth(){return this._headerLabelsWidth}set expandOnLoad(n){n&&this.onMessageInputFocus()}set composerEvent(n){n?.forEach(a=>{switch(a?.name){case D.M7:this._handleReplyAction(a.params?.emailId,a.params?.action);break;case D.J3:this._emailSaved(a.params.response);break}})}constructor(n,a){super(n),this._document=a,this._defaultAttachmentsSizeLimit=50,this._emailSchemaName="Activity",this._iconsMap={reply:"reply-message","reply-all":"reply-all-message",forward:"forward-message"},this._defaultHeaderLabelsWidth=136,this._skeletonLoading=!1,this._defaultFrom="",this._subscriptions=[],this._headers=[],this._postponeSignature=!1,this._mailboxSendersSet=new R.Subject,this.fromInputControl=new $e.MJ(null),this.itemActionItems=[],this.subjectInputControl=new $e.MJ(null),this._defaultHeaderLabelsWidthString="136px",this.subjectChange=new t.EventEmitter,this.fromChange=new t.EventEmitter,this.toChange=new t.EventEmitter,this.ccChange=new t.EventEmitter,this.bccChange=new t.EventEmitter,this.bodyChange=new t.EventEmitter,this.isReplyExpanded=!1,this.visibleCc=!1,this.visibleCcChange=new t.EventEmitter,this.visibleBcc=!1,this.visibleBccChange=new t.EventEmitter,this.headerExpanded=!1,this.headerExpandedChange=new t.EventEmitter,this.emailComposerCleared=new t.EventEmitter,this.emailComposerSaved=new t.EventEmitter,this.refreshRecipients=new t.EventEmitter,this._isDesignTime=n.get(E.w9C,!1),this._sendEmailService=n.get(A.yY),this._maskService=n.get(V.sz),this._messageDialogProvider=n.get(M.rRR),this._translateService=n.get(Se.c$),this._sysSettingsService=n.get(j.AS),this._emailsService=n.get(A.d$),this._emailTemplatesService=n.get(A.BG),this._emailSignatureService=n.get(A.S9),this.emailComposerCachingService=n.get(A.vP),this._userInfo=n.get(E.oqB),!this._isDesignTime&&(this._userId=this._userInfo.id,this._init(),this._initItemActionItems())}_initItemActionItems(){this.itemActionItems=[{caption:this._translateService.instant("MessageComposer.Email.Reply"),type:"crt.MenuItem",name:"Reply",icon:"reply-message",handleItemClick:()=>this.changeReplyAction(D.TF.Reply)},{caption:this._translateService.instant("MessageComposer.Email.ReplyAll"),type:"crt.MenuItem",name:"ReplyAll",icon:"reply-all-message",handleItemClick:()=>this.changeReplyAction(D.TF.ReplyAll)},{caption:this._translateService.instant("MessageComposer.Email.Forward"),type:"crt.MenuItem",name:"Forward",icon:"forward-message",handleItemClick:()=>this.changeReplyAction(D.TF.Forward)}]}_init(){this._skeletonLoading=!0,this._subscribeToEvents(),this._subscriptions.push((0,R.of)(this._sysSettingsService.getValueByCode("MaxAttachmentsSize",this._defaultAttachmentsSizeLimit),this._mailboxSendersSet).pipe((0,R.concatAll)()).subscribe(n=>{this.maxAttachmentsSize=n,this._skeletonLoading=!1,this.changeDetectorRef.markForCheck(),this._requestDefaultSender().then(()=>this._setDefaultFrom())}))}_requestDefaultSender(){if((0,w.A)(this.defaultSenderRequest))return new Promise(a=>a());const n={type:this.defaultSenderRequest,...this._getDefaultSenderRequestParams()};return l.HandlerChainService.instance.process(n).then(a=>this._defaultFrom=a).then()}_getDefaultSenderRequestParams(){return{recordId:this.defaultSenderRequest===M.iE0.DefaultMailbox?this._userId:this.recordId}}_setDefaultFrom(){!(0,w.A)(this._defaultFrom)&&(0,w.A)(this.from)&&this._setFrom(this._defaultFrom)}_setFrom(n){if((0,w.A)(n))this.fromInputControl?.setValue("");else{const a=n.toLowerCase(),r=this.fromLookupValues?.find(p=>p.displayValue.toLowerCase().includes(a));r?this.fromInputControl?.setValue(r):this.fromInputControl?.setValue("")}}_subscribeToEvents(){this._subscriptions.push(this.fromInputControl.valueChanges.pipe((0,R.startWith)(null),(0,R.pairwise)()).subscribe(([n,a])=>{(n??"")!==(a??"")&&this.fromChange.emit(a?.displayValue)})),this._subscriptions.push(this.subjectInputControl.valueChanges.pipe((0,R.startWith)(null),(0,R.pairwise)()).subscribe(([n,a])=>{n!==a&&this.subjectChange.emit(a)}))}_emailSaved(n){n.activityId===this._activityId&&(this._isDraftSaving?this._processDraftSaved(n):this._processEmailSaving(n).pipe((0,R.concatMap)(a=>this._processSendingResult(a))).subscribe())}_processDraftSaved(n){n.success?(this.baseComposer.showSnackbar(qe),this._updateNextSteps(),this.onMessageCancel()):this._showErrorMessage(this._translateService.instant("MessageComposer.Email.SaveDraftError")),this._maskService.hideBodyMask()}_processEmailSaving(n){return n.success?this._sendEmailService.sendEmail(this._activityId):(0,R.of)(n)}_unsubscribeFromEvents(){this._subscriptions.forEach(n=>n?.unsubscribe())}_setSignature(){const n=this.fromInputControl.value,a=this.baseComposer?.getValue();if((0,w.A)(n)&&(0,w.A)(a))return;const p=this.sendersMailboxes?.find(T=>T.id===n?.value),u=p?.useSignature?p?.signature:ne.Qf.empty;this._subscriptions.push(this._emailSignatureService.updateSignatureInBody(a,u).subscribe(T=>this.baseComposer?.setValue(T)))}_handleReplyAction(n,a){if(!(!(0,w.A)(n)&&this._inReplyTo?.id===n&&this.replyAction===a)){if((0,w.A)(n)){this._clearFields(),window.requestAnimationFrame(()=>{this.baseComposer?.focus()});return}this._subscriptions.push(this._emailsService.getEmail(n,[D.TF.Forward,D.TF.EditDraft].includes(a)).pipe((0,R.concatMap)(r=>(this._inReplyTo=a===D.TF.EditDraft?null:r,this.replyAction=a,a===D.TF.EditDraft?(0,R.of)({...r,bodyShort:r.body}):this._emailsService.getReplyDraft(r,a)))).subscribe(r=>{a!==D.TF.EditDraft?(this._inReplyTo.body=r.body,this._inReplyTo.bodyShort=r.bodyShort,this._activityId=null):this._activityId=r.id,this.isReplyExpanded=!1,this._postponeSignature=!1,this._fillForm(r,!0)}))}}_fillForm(n,a=!1){this.toInputControl.setRecipients(n.to),this.ccInputControl.setRecipients(n.cc),this.bccInputControl.setRecipients(n.bcc),this.setVisibleCc(n.cc?.length>0),this.setVisibleBcc(n.bcc?.length>0),this._headers=n.headers,this.subjectInputControl.setValue(n.subject);const r=this.baseComposer.getValue();if(!r||a){const u=!(0,w.A)(r)&&(0,w.A)(this._activityId)?this._emailsService.getDraftUserContent(r,!0):n.bodyShort;this.baseComposer.setValue(u)}this.replyAction===D.TF.EditDraft?this.from=n.from:(this.from="",this._requestDefaultSender().then(()=>this._setDefaultFrom()));let p=[];a||(p=this.baseComposer.attachments.filter(u=>u.content.byteLength===void 0?u.content!=="":u.content.byteLength>0)),this.baseComposer.attachments=[...p,...n.attachments],this.baseComposer?.focus()}_getFromLookupValues(n){return n?.map(a=>({value:a.id,displayValue:a.senderDisplayValue?`${a.senderDisplayValue} <${a.senderEmailAddress}>`:a.senderEmailAddress}))}_getEmail(){const n=this.baseComposer.attachments;let a=!1;return this._activityId?a=!0:this._activityId=(0,l.generateGuid)(),this.baseComposer.saveInlineImagesToDb({schemaName:this._emailSchemaName,recordId:this._activityId,fileSchemaName:""}).pipe((0,R.map)(()=>({id:this._activityId,from:this.fromInputControl?.value?.displayValue,to:this.toInputControl.getRecipients(),cc:this.ccInputControl.getRecipients(),bcc:this.bccInputControl.getRecipients(),subject:this.subjectInputControl?.value,body:this.baseComposer?.getValue(),isDraft:a,headers:(0,Et.A)(this._headers),attachments:n?.map(r=>({...r,recordId:this._activityId,fileEntitySchemaName:"ActivityFile",recordEntitySchemaName:this._emailSchemaName,recordColumnName:"Activity"}))})))}_validate(){const n=new Array;return this.fromInputControl.value||n.push(this._translateService.instant("MessageComposer.Email.FromValidationErrorMessage")),!this.toInputControl.validate()&&!this.ccInputControl.validate()&&!this.bccInputControl.validate()&&n.push(this._translateService.instant("MessageComposer.Email.ToValidationErrorMessage")),this.subjectInputControl.value||n.push(this._translateService.instant("MessageComposer.Email.SubjectValidationErrorMessage")),n.length>0?(this._messageDialogProvider.open({data:{message:n.join(`\r
\r
`),actions:[M.NNA.OK]}}),!1):!0}_showErrorMessage(n){this._messageDialogProvider.open({data:{message:n,actions:[M.NNA.OK]}})}_onTemplateSelected(n){var a=this;return(0,z.A)(function*(){if(n&&!n.canceled){const p=(yield n?.getLookupValues())[0]?.value;if((0,w.A)(p))return;a._maskService.showBodyMask(),a._emailTemplatesService.getMultiLanguageTemplate(p,a.entitySchemaName,a.recordId).subscribe({next:u=>a._insertTemplate(u?.subjectTemplate,u?.textTemplate),error:u=>a._onErrorProcessedTemplate(u)})}})()}_onErrorProcessedTemplate(n=null){this._maskService.hideBodyMask(),n&&console.error(n),this._messageDialogProvider.open({data:{message:this._translateService.instant("MessageComposer.Email.TemplateInsertError"),actions:[M.NNA.OK]}})}_insertTemplate(n,a){const r=this.baseComposer?.getValue();(0,w.A)(r)||(a+=r),this.baseComposer?.setValue(a),(0,w.A)(this.subjectInputControl?.value)&&this.subjectInputControl?.setValue(n),this._maskService.hideBodyMask(),this.baseComposer?.focus()}_saveEmail(n){this._inReplyTo&&!this.isReplyExpanded&&(n.body=this._emailsService.getSafeUserContentReplyBody(n.body,this._inReplyTo.body));const a={inReplyToId:this._inReplyTo?.id,masterRecordId:this.recordId,masterSchemaName:this.entitySchemaName,defaultValues:new Array,bindingColumns:new Array};this.bindingColumns&&this.bindingColumns.forEach(p=>{a.bindingColumns.push({activityColumnName:p.activityColumnName,formAttributeName:p.formAttributeName})});const r={email:n,params:a};return this.emailComposerSaved.emit(r),(0,R.of)()}_processSendingResult(n){if(n.success)this.baseComposer.showSnackbar(Ge),this._updateNextSteps(),this.onMessageCancel();else{const a=this._translateService.instant("MessageComposer.Email.PublishError");this._showErrorMessage(ne.Qf.format(a,n.errorInfo.message))}return this._maskService.hideBodyMask(),(0,R.of)(!0)}_updateNextSteps(){const n={type:"crt.ChangeNextStepsStateRequest",$context:null};l.HandlerChainService.instance.process(n)}_clearFields(){this._activityId=null,this.baseComposer?.clear(),this.fromInputControl?.setValue(""),this.toInputControl?.clear(),this.ccInputControl?.clear(),this.bccInputControl?.clear(),this.subjectInputControl?.setValue(""),this.replyAction=null,this._inReplyTo=null}_updateLabelsWidth(){this.getReplyButtonVisible()&&((!this.toInputControl||!this.ccInputControl||!this.bccInputControl)&&this.changeDetectorRef.detectChanges(),this.headerLabelsWidth=this._defaultHeaderLabelsWidth,this.toInputControl.recipientLabelWidth=this._defaultHeaderLabelsWidth,this.ccInputControl.recipientLabelWidth=this._defaultHeaderLabelsWidth,this.bccInputControl.recipientLabelWidth=this._defaultHeaderLabelsWidth)}getReplyButtonVisible(){return this.replyAction&&this.replyAction!==D.TF.EditDraft}saveDraft(){this.subjectInputControl.value||this.subjectInputControl.setValue(this._translateService.instant("MessageComposer.Email.Draft").toUpperCase()),this._isDraftSaving=!0,this._maskService.showBodyMask(),this._subscriptions.push(this._getEmail().pipe((0,R.concatMap)(n=>this._saveEmail(n))).subscribe())}onSelectTemplate(){const n=this._emailTemplatesService.getTemplatesLookupConfig(this.entitySchemaName);n.afterClosed=a=>this._onTemplateSelected(a),l.HandlerChainService.instance.process(n)}onMessagePublish(){this._validate()&&(this._isDraftSaving=!1,this._maskService.showBodyMask(),this._subscriptions.push(this._getEmail().pipe((0,R.concatMap)(n=>this._saveEmail(n))).subscribe()))}onMessageChanged(){const n=this._document.getElementsByClassName("email-composer-reply-expander");n.length>0&&n[n.length-1].addEventListener("click",this.toggleReplyBody.bind(this)),this.bodyChange.emit(this.baseComposer.getValue())}setHeaderExpanded(n){this.headerExpanded=n,this.headerExpandedChange.emit(this.headerExpanded)}setVisibleCc(n){this.visibleCc=n,this.visibleCcChange.emit(this.visibleCc)}setVisibleBcc(n){this.visibleBcc=n,this.visibleBccChange.emit(this.visibleBcc)}onMessageCancel(){this._clearFields(),this.setHeaderExpanded(!1),this.setVisibleCc(!1),this.setVisibleBcc(!1)}onMessageInputFocus(){this.footerPanelExpanded=!0,this.publishInputFocusEvent(),this.setHeaderExpanded(!0)}onMessageInputBlur(){this.headerExpanded||(this.footerPanelExpanded=!1,this.publishInputFocusEvent())}onMessageInputClick(){this.headerExpanded||(this.footerPanelExpanded=!0,super.onMessageInputClick())}toggleVisibleCc(){this.setVisibleCc(!this.visibleCc)}toggleVisibleBcc(){this.setVisibleBcc(!this.visibleBcc)}getReplyActionIcon(){return this._iconsMap[this.replyAction]}changeReplyAction(n){if(n===this.replyAction)return;this.replyAction=n;let a=(0,R.of)(this._inReplyTo);n===D.TF.Forward&&this._inReplyTo.attachments?.length===0&&(a=this._emailsService.getAttachments(this._inReplyTo.id).pipe((0,R.switchMap)(r=>(this._inReplyTo.attachments=r,(0,R.of)(this._inReplyTo))))),this._subscriptions.push(a.pipe((0,R.concatMap)(r=>this._emailsService.getReplyDraft(r,n))).subscribe(r=>{this._fillForm(r)}))}toggleReplyBody(){const n=this.baseComposer.getValue();this._inReplyTo.body=this._emailsService.getSafeUserContentReplyBody(n,this._inReplyTo.body),this.baseComposer.setValue(this._inReplyTo.body),this.isReplyExpanded=!0}onFromFocus(){this.setHeaderExpanded(!0)}ngOnDestroy(){this._unsubscribeFromEvents()}ngAfterViewInit(){this.sendComponentReadyEvent("Email")}loadRecipients({query:n,recipientsLength:a}){this.refreshRecipients.next({query:n,recipientsLength:a})}toChanged(n){this.toChange.next(n)}ccChanged(n){this.ccChange.next(n)}bccChanged(n){this.bccChange.next(n)}static{this.\u0275fac=function(a){return new(a||pt)(t.\u0275\u0275directiveInject(t.Injector),t.\u0275\u0275directiveInject(s.DOCUMENT))}}static{this.\u0275cmp=t.\u0275\u0275defineComponent({type:pt,selectors:[["crt-email-composer"]],viewQuery:function(a,r){if(a&1&&(t.\u0275\u0275viewQuery(wt,5),t.\u0275\u0275viewQuery(Ot,5),t.\u0275\u0275viewQuery(jt,5)),a&2){let p;t.\u0275\u0275queryRefresh(p=t.\u0275\u0275loadQuery())&&(r.toInputControl=p.first),t.\u0275\u0275queryRefresh(p=t.\u0275\u0275loadQuery())&&(r.ccInputControl=p.first),t.\u0275\u0275queryRefresh(p=t.\u0275\u0275loadQuery())&&(r.bccInputControl=p.first)}},hostVars:4,hostBindings:function(a,r){a&2&&t.\u0275\u0275styleProp("--defaultHeaderLabelsWidthString",r._defaultHeaderLabelsWidthString)("--headerLabelsWidthString",r._headerLabelsWidthString)},inputs:{subject:"subject",from:"from",sendersMailboxes:"sendersMailboxes",to:"to",cc:"cc",bcc:"bcc",body:"body",recipientsMailboxes:"recipientsMailboxes",emailId:"emailId",skeletonLoading:"skeletonLoading",height:"height",defaultSenderRequest:"defaultSenderRequest",bindingColumns:"bindingColumns",recordId:"recordId",entitySchemaName:"entitySchemaName",isReplyExpanded:"isReplyExpanded",visibleCc:"visibleCc",visibleBcc:"visibleBcc",headerExpanded:"headerExpanded",headerLabelsWidth:"headerLabelsWidth",expandOnLoad:"expandOnLoad",composerEvent:"composerEvent"},outputs:{subjectChange:"subjectChange",fromChange:"fromChange",toChange:"toChange",ccChange:"ccChange",bccChange:"bccChange",bodyChange:"bodyChange",visibleCcChange:"visibleCcChange",visibleBccChange:"visibleBccChange",headerExpandedChange:"headerExpandedChange",emailComposerCleared:"emailComposerCleared",emailComposerSaved:"emailComposerSaved",refreshRecipients:"refreshRecipients"},features:[t.\u0275\u0275InheritDefinitionFeature],ngContentSelectors:kt,decls:37,vars:58,consts:[["toRecipientSearch",""],["ccRecipientSearch",""],["bccRecipientSearch",""],["baseComposer",""],["channelSelector",""],["selectionActions",""],[1,"email-composer",3,"ngStyle"],[1,"email-composer-header"],[1,"email-composer-header-actions"],["class","email-composer-header-actions-button","size","large","clickMode","menu","data-qa","change-reply-action",3,"title","icon","menuItems",4,"ngIf"],[1,"email-composer-header-properties"],[1,"email-composer-header-properties-main"],[1,"email-composer-header-properties-main-from-field"],["data-qa","email-composer-from",1,"without-padding-top",3,"focusin","control","items","value","useStaticFiltering","label","labelPosition","appearance"],[1,"email-composer-header-properties-main-controls"],["displayType","text","data-qa","cc-button","class","email-composer-header-properties-main-controls-togglebtn",3,"title","clicked",4,"ngIf"],["displayType","text","data-qa","bcc-button","class","email-composer-header-properties-main-controls-togglebtn",3,"title","clicked",4,"ngIf"],[1,"email-composer-header-properties-collapsible"],["data-qa","email-composer-to",3,"recipientsChanged","loadRecipients","rawRecipients","recipientLabel","recipientLabelWidth"],[1,"email-composer-header-properties-collapsible-cc"],["data-qa","email-composer-cc",3,"recipientsChanged","loadRecipients","rawRecipients","recipientLabel","recipientLabelWidth"],[1,"email-composer-header-properties-collapsible-bcc"],["data-qa","email-composer-bcc",3,"recipientsChanged","loadRecipients","rawRecipients","recipientLabel","recipientLabelWidth"],[1,"email-composer-header-properties-collapsible-subject"],["data-qa","email-composer-subject",1,"without-padding-top",3,"control","value","appearance","label","labelPosition"],[3,"selectionChange","messagePublish","selectTemplate","messageChangesCancel","messageInputFocus","messageInputBlur","messageInputClick","messageChanged","saveDraft","composerCleared","composerCacheCode","inputPlaceHolder","footerPanelExpanded","channelSelector","selectionActions","disableSelectionOptions","useTemplates","useDrafts","height","discardBtnVisible","dataCachingService"],[3,"ngStyle"],["appearance","line","count","3",1,"email-composer-skeleton-loader",3,"styles"],["size","large","clickMode","menu","data-qa","change-reply-action",1,"email-composer-header-actions-button",3,"title","icon","menuItems"],["displayType","text","data-qa","cc-button",1,"email-composer-header-properties-main-controls-togglebtn",3,"clicked","title"],["displayType","text","data-qa","bcc-button",1,"email-composer-header-properties-main-controls-togglebtn",3,"clicked","title"]],template:function(a,r){if(a&1){const p=t.\u0275\u0275getCurrentView();t.\u0275\u0275projectionDef(Vt),t.\u0275\u0275elementStart(0,"div",6)(1,"div",7)(2,"div",8),t.\u0275\u0275template(3,Lt,2,5,"crt-button",9),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(4,"div",10)(5,"div",11)(6,"div",12)(7,"crt-combobox",13),t.\u0275\u0275pipe(8,"translate"),t.\u0275\u0275listener("focusin",function(){return t.\u0275\u0275restoreView(p),t.\u0275\u0275resetView(r.onFromFocus())}),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(9,"div",14),t.\u0275\u0275template(10,Ht,4,6,"crt-button",15)(11,Ut,4,6,"crt-button",16),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(12,"div",17)(13,"crt-recipient-search",18,0),t.\u0275\u0275pipe(15,"translate"),t.\u0275\u0275listener("recipientsChanged",function(T){return t.\u0275\u0275restoreView(p),t.\u0275\u0275resetView(r.toChanged(T))})("loadRecipients",function(T){return t.\u0275\u0275restoreView(p),t.\u0275\u0275resetView(r.loadRecipients(T))}),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(16,"div",19)(17,"crt-recipient-search",20,1),t.\u0275\u0275pipe(19,"translate"),t.\u0275\u0275listener("recipientsChanged",function(T){return t.\u0275\u0275restoreView(p),t.\u0275\u0275resetView(r.ccChanged(T))})("loadRecipients",function(T){return t.\u0275\u0275restoreView(p),t.\u0275\u0275resetView(r.loadRecipients(T))}),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(20,"div",21)(21,"crt-recipient-search",22,2),t.\u0275\u0275pipe(23,"translate"),t.\u0275\u0275listener("recipientsChanged",function(T){return t.\u0275\u0275restoreView(p),t.\u0275\u0275resetView(r.bccChanged(T))})("loadRecipients",function(T){return t.\u0275\u0275restoreView(p),t.\u0275\u0275resetView(r.loadRecipients(T))}),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(24,"div",23),t.\u0275\u0275element(25,"crt-input",24),t.\u0275\u0275pipe(26,"translate"),t.\u0275\u0275elementEnd()()()(),t.\u0275\u0275elementStart(27,"crt-base-message-composer",25,3),t.\u0275\u0275pipe(29,"translate"),t.\u0275\u0275listener("selectionChange",function(T){return t.\u0275\u0275restoreView(p),t.\u0275\u0275resetView(r.onSelectionChange(T))})("messagePublish",function(){return t.\u0275\u0275restoreView(p),t.\u0275\u0275resetView(r.onMessagePublish())})("selectTemplate",function(){return t.\u0275\u0275restoreView(p),t.\u0275\u0275resetView(r.onSelectTemplate())})("messageChangesCancel",function(){return t.\u0275\u0275restoreView(p),t.\u0275\u0275resetView(r.onMessageCancel())})("messageInputFocus",function(){return t.\u0275\u0275restoreView(p),t.\u0275\u0275resetView(r.onMessageInputFocus())})("messageInputBlur",function(){return t.\u0275\u0275restoreView(p),t.\u0275\u0275resetView(r.onMessageInputBlur())})("messageInputClick",function(){return t.\u0275\u0275restoreView(p),t.\u0275\u0275resetView(r.onMessageInputClick())})("messageChanged",function(){return t.\u0275\u0275restoreView(p),t.\u0275\u0275resetView(r.onMessageChanged())})("saveDraft",function(){return t.\u0275\u0275restoreView(p),t.\u0275\u0275resetView(r.saveDraft())})("composerCleared",function(){return t.\u0275\u0275restoreView(p),t.\u0275\u0275resetView(r.emailComposerCleared.emit())}),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(30,zt,1,0,"ng-template",null,4,t.\u0275\u0275templateRefExtractor)(32,Wt,1,0,"ng-template",null,5,t.\u0275\u0275templateRefExtractor),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(34,"div",26),t.\u0275\u0275element(35,"crt-skeleton-loader",27)(36,"crt-base-message-composer-skeleton"),t.\u0275\u0275elementEnd()}if(a&2){const p=t.\u0275\u0275reference(31),u=t.\u0275\u0275reference(33);t.\u0275\u0275property("ngStyle",t.\u0275\u0275pureFunction1(53,Ct,r.skeletonLoading?"none":"")),t.\u0275\u0275advance(),t.\u0275\u0275property("@collapse",!r.headerExpanded),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",r.getReplyButtonVisible()),t.\u0275\u0275advance(4),t.\u0275\u0275property("control",r.fromInputControl)("items",r.fromLookupValues)("value",r.from)("useStaticFiltering",!0)("label",t.\u0275\u0275pipeBind1(8,41,"MessageComposer.Email.From"))("labelPosition","left")("appearance","legacy"),t.\u0275\u0275advance(3),t.\u0275\u0275property("ngIf",!r.visibleCc),t.\u0275\u0275advance(),t.\u0275\u0275property("ngIf",r.visibleCc&&!r.visibleBcc),t.\u0275\u0275advance(2),t.\u0275\u0275property("rawRecipients",r.recipientsMailboxes)("recipientLabel",t.\u0275\u0275pipeBind1(15,43,"MessageComposer.Email.To"))("recipientLabelWidth",r.headerLabelsWidth),t.\u0275\u0275advance(3),t.\u0275\u0275property("@collapse",!r.visibleCc),t.\u0275\u0275advance(),t.\u0275\u0275property("rawRecipients",r.recipientsMailboxes)("recipientLabel",t.\u0275\u0275pipeBind1(19,45,"MessageComposer.Email.CC"))("recipientLabelWidth",r.headerLabelsWidth),t.\u0275\u0275advance(3),t.\u0275\u0275property("@collapse",!r.visibleBcc),t.\u0275\u0275advance(),t.\u0275\u0275property("rawRecipients",r.recipientsMailboxes)("recipientLabel",t.\u0275\u0275pipeBind1(23,47,"MessageComposer.Email.BCC"))("recipientLabelWidth",r.headerLabelsWidth),t.\u0275\u0275advance(4),t.\u0275\u0275property("control",r.subjectInputControl)("value",r.subject)("appearance","legacy")("label",t.\u0275\u0275pipeBind1(26,49,"MessageComposer.Email.Subject"))("labelPosition","left"),t.\u0275\u0275advance(2),t.\u0275\u0275property("composerCacheCode",r.cacheCode)("inputPlaceHolder",t.\u0275\u0275pipeBind1(29,51,"MessageComposer.Email.BodyPlaceholder"))("footerPanelExpanded",r.footerPanelExpanded)("channelSelector",p)("selectionActions",u)("disableSelectionOptions",r.disableSelectionOptions)("useTemplates",!0)("useDrafts",!0)("height",r.height)("discardBtnVisible",r.headerExpanded)("dataCachingService",r.emailComposerCachingService),t.\u0275\u0275advance(7),t.\u0275\u0275property("ngStyle",t.\u0275\u0275pureFunction1(55,Ct,r.skeletonLoading?"":"none")),t.\u0275\u0275advance(),t.\u0275\u0275property("styles",t.\u0275\u0275pureFunction0(57,Nt))}},dependencies:[s.NgIf,s.NgStyle,Dt.B,ut.W,ht.q,Bt.j,Je,At.l,Ce,Se.D9],styles:[`@charset "UTF-8";.email-composer-header{display:flex}.email-composer-header-actions{position:absolute}.email-composer-header-properties{width:100%}.email-composer-header-properties-main{display:flex}.email-composer-header-properties-main-from-field{width:80%}.email-composer-header-properties-main-controls{width:20%;display:flex;justify-content:flex-end}.email-composer-header-properties-main-controls-togglebtn{margin-left:8px}.email-composer-reply-expander{width:48px}.email-composer-reply-expander:after{content:"\\22ef";width:16px;height:24px;font-size:18px;background-color:var(--crt-palette-interaction-400);padding:0 16px;line-height:22px;border-radius:8px;cursor:pointer;display:block}.email-composer-reply-expander:hover{color:var(--crt-palette-primary-500)}.email-composer .email-composer-header-properties-main-from-field crt-combobox.without-padding-top .crt-input,.email-composer .email-composer-header-properties-collapsible-subject crt-input.without-padding-top .crt-input,.email-composer .recipients-container{padding-top:0}.email-composer .email-composer-header-properties-collapsible-subject crt-input.crt-base-edit-input .crt-base-input-container .crt-input .crt-input-label-container,.email-composer .email-composer-header-properties-main-from-field crt-combobox.crt-base-edit-input .crt-base-input-container .crt-input .crt-input-label-container{width:var(--headerLabelsWidthString, var(--defaultHeaderLabelsWidthString));min-width:var(--headerLabelsWidthString, var(--defaultHeaderLabelsWidthString))}.email-composer-skeleton-loader{justify-content:space-between;text-align:end}
`],encapsulation:2,data:{animation:[(0,S.hZ)("collapse",[(0,S.wk)("false",(0,S.iF)({height:S.kp,visibility:S.kp,overflow:"hidden",opacity:1})),(0,S.wk)("true",(0,S.iF)({height:"0",visibility:"hidden",overflow:"hidden",opacity:0})),(0,S.kY)("false => true",(0,S.i0)("300ms ease-in")),(0,S.kY)("true => false",(0,S.i0)("300ms ease-out"))])]}})}};(0,o.Cg)([(0,l.CrtInput)(),(0,o.Sn)("design:type",ne.Qf)],F.prototype,"subject",void 0),(0,o.Cg)([(0,l.CrtOutput)(),(0,o.Sn)("design:type",Object)],F.prototype,"subjectChange",void 0),(0,o.Cg)([(0,l.CrtInput)(),(0,o.Sn)("design:type",ne.Qf),(0,o.Sn)("design:paramtypes",[ne.Qf])],F.prototype,"from",null),(0,o.Cg)([(0,l.CrtOutput)(),(0,o.Sn)("design:type",Object)],F.prototype,"fromChange",void 0),(0,o.Cg)([(0,l.CrtInput)(),(0,o.Sn)("design:type",Array),(0,o.Sn)("design:paramtypes",[Array])],F.prototype,"sendersMailboxes",null),(0,o.Cg)([(0,l.CrtInput)(),(0,o.Sn)("design:type",Array),(0,o.Sn)("design:paramtypes",[Array])],F.prototype,"to",null),(0,o.Cg)([(0,l.CrtOutput)(),(0,o.Sn)("design:type",Object)],F.prototype,"toChange",void 0),(0,o.Cg)([(0,l.CrtInput)(),(0,o.Sn)("design:type",Array),(0,o.Sn)("design:paramtypes",[Array])],F.prototype,"cc",null),(0,o.Cg)([(0,l.CrtOutput)(),(0,o.Sn)("design:type",Object)],F.prototype,"ccChange",void 0),(0,o.Cg)([(0,l.CrtInput)(),(0,o.Sn)("design:type",Array),(0,o.Sn)("design:paramtypes",[Array])],F.prototype,"bcc",null),(0,o.Cg)([(0,l.CrtOutput)(),(0,o.Sn)("design:type",Object)],F.prototype,"bccChange",void 0),(0,o.Cg)([(0,l.CrtInput)(),(0,o.Sn)("design:type",ne.Qf),(0,o.Sn)("design:paramtypes",[ne.Qf])],F.prototype,"body",null),(0,o.Cg)([(0,l.CrtOutput)(),(0,o.Sn)("design:type",Object)],F.prototype,"bodyChange",void 0),(0,o.Cg)([(0,l.CrtInput)(),(0,o.Sn)("design:type",Ye),(0,o.Sn)("design:paramtypes",[Ye])],F.prototype,"recipientsMailboxes",null),(0,o.Cg)([(0,l.CrtInput)(),(0,o.Sn)("design:type",ne.Qf),(0,o.Sn)("design:paramtypes",[ne.Qf])],F.prototype,"emailId",null),(0,o.Cg)([(0,l.CrtInput)(),(0,o.Sn)("design:type",Boolean),(0,o.Sn)("design:paramtypes",[Boolean])],F.prototype,"skeletonLoading",null),(0,o.Cg)([(0,l.CrtInput)(),(0,o.Sn)("design:type",Number)],F.prototype,"height",void 0),(0,o.Cg)([(0,l.CrtInput)(),(0,o.Sn)("design:type",ne.Qf)],F.prototype,"defaultSenderRequest",void 0),(0,o.Cg)([(0,l.CrtInput)(),(0,o.Sn)("design:type",Array)],F.prototype,"bindingColumns",void 0),(0,o.Cg)([(0,l.CrtInput)(),(0,o.Sn)("design:type",ne.Qf)],F.prototype,"recordId",void 0),(0,o.Cg)([(0,l.CrtInput)(),(0,o.Sn)("design:type",ne.Qf)],F.prototype,"entitySchemaName",void 0),(0,o.Cg)([(0,l.CrtInput)(),(0,o.Sn)("design:type",Object)],F.prototype,"isReplyExpanded",void 0),(0,o.Cg)([(0,l.CrtInput)(),(0,o.Sn)("design:type",Object)],F.prototype,"visibleCc",void 0),(0,o.Cg)([(0,l.CrtOutput)(),(0,o.Sn)("design:type",Object)],F.prototype,"visibleCcChange",void 0),(0,o.Cg)([(0,l.CrtInput)(),(0,o.Sn)("design:type",Object)],F.prototype,"visibleBcc",void 0),(0,o.Cg)([(0,l.CrtOutput)(),(0,o.Sn)("design:type",Object)],F.prototype,"visibleBccChange",void 0),(0,o.Cg)([(0,l.CrtInput)(),(0,o.Sn)("design:type",Object)],F.prototype,"headerExpanded",void 0),(0,o.Cg)([(0,l.CrtOutput)(),(0,o.Sn)("design:type",Object)],F.prototype,"headerExpandedChange",void 0),(0,o.Cg)([(0,l.CrtOutput)(),(0,o.Sn)("design:type",Object)],F.prototype,"emailComposerCleared",void 0),(0,o.Cg)([(0,l.CrtOutput)(),(0,o.Sn)("design:type",Object)],F.prototype,"emailComposerSaved",void 0),(0,o.Cg)([(0,l.CrtOutput)(),(0,o.Sn)("design:type",Object)],F.prototype,"refreshRecipients",void 0),(0,o.Cg)([(0,l.CrtInput)(),(0,o.Sn)("design:type",Number),(0,o.Sn)("design:paramtypes",[Number])],F.prototype,"headerLabelsWidth",null),(0,o.Cg)([(0,l.CrtInput)(),(0,o.Sn)("design:type",Boolean),(0,o.Sn)("design:paramtypes",[Boolean])],F.prototype,"expandOnLoad",null),(0,o.Cg)([(0,l.CrtInput)(),(0,o.Sn)("design:type",Array),(0,o.Sn)("design:paramtypes",[Array])],F.prototype,"composerEvent",null),F=(0,o.Cg)([(0,l.CrtViewElement)({type:"crt.EmailComposer",contentSlots:["channelsPanel","selectionActions"],reuseStrategy:l.ViewElementReuseStrategy.Reuse}),(0,l.CrtInterfaceDesignerItem)({propertiesPanelComponentTypeName:"crt.EmailComposerPropertiesPanel",viewElementGroupType:l.ViewElementGroupType.CustomElements,typeCaption:"MessageComposer.Email.Caption"}),(0,o.Sn)("design:paramtypes",[t.Injector,Document])],F);var Me=m(23854),Ie=m(78373),Re=m(84476);let xe=class{convert(n){const a=n[1],r=n[0];return a?null:r}};xe=(0,o.Cg)([(0,l.CrtConverter)({type:"crt.ConditionalEmailId"})],xe);let De=class{constructor(n,a){this._mailboxesService=n,this._userInfoService=a}convert(){return(0,R.lastValueFrom)(this._userInfoService.loadCurrentUserInfo().pipe((0,R.concatMap)(n=>this._mailboxesService.getMailboxesForSend(n?.userInfo.id))))}};De=(0,o.Cg)([(0,l.CrtConverter)({type:"crt.ToSendersMailboxes"}),(0,o.Sn)("design:paramtypes",[A.W3,E.fvr])],De);let Be=class{constructor(n){this._recipientsService=n}convert(n){return(0,R.lastValueFrom)(this._recipientsService.getRecipients(n.event.query,n.event.recipientsLength).pipe((0,R.map)(a=>({recipients:a,loadStamp:(0,l.generateGuid)()}))))}};Be=(0,o.Cg)([(0,l.CrtConverter)({type:"crt.ToRecipientsMailboxes"}),(0,o.Sn)("design:paramtypes",[A.eY])],Be);let Ae=class extends l.BaseRequestHandler{constructor(n){super(),this._service=n}handle(n){var a=this;return(0,z.A)(function*(){a._service.openComposer(n.composerSchemaType),yield a.next?.handle(n)})()}};Ae=(0,o.Cg)([(0,l.CrtRequestHandler)({type:"crt.ChangeComposerHandler",requestType:"crt.ChangeComposerRequest"}),(0,o.Sn)("design:paramtypes",[A.IS])],Ae);class ve extends l.BaseRequestHandler{constructor(){super(...arguments),this.action=D.TF.Reply}_processReply(n){const a=Object.keys(n.$context.attributes).filter(r=>r.startsWith(E._6y));a.length&&a.forEach(r=>n.$context[r]=[{name:D.M7,params:{emailId:n.recordId,action:this.action}}])}handle(n){return new Promise(a=>{this._processReply(n),a()})}}let Pe=class extends ve{constructor(){super(),this.action=D.TF.Forward}handle(n){var a=()=>super.handle,r=this;return(0,z.A)(function*(){yield a().call(r,n),yield r.next?.handle(n)})()}};Pe=(0,o.Cg)([(0,l.CrtRequestHandler)({type:"crt.ForwardEmailComposerRequestHandler",requestType:"crt.ForwardEmailComposerRequest"}),(0,o.Sn)("design:paramtypes",[])],Pe);let Fe=class extends ve{constructor(){super(),this.action=D.TF.ReplyAll}handle(n){var a=()=>super.handle,r=this;return(0,z.A)(function*(){yield a().call(r,n),yield r.next?.handle(n)})()}};Fe=(0,o.Cg)([(0,l.CrtRequestHandler)({type:"crt.ReplyAllEmailComposerRequestHandler",requestType:"crt.ReplyAllEmailComposerRequest"}),(0,o.Sn)("design:paramtypes",[])],Fe);let we=class extends ve{constructor(){super(),this.action=D.TF.Reply}handle(n){var a=()=>super.handle,r=this;return(0,z.A)(function*(){yield a().call(r,n),yield r.next?.handle(n)})()}};we=(0,o.Cg)([(0,l.CrtRequestHandler)({type:"crt.ReplyEmailComposerRequestHandler",requestType:"crt.ReplyEmailComposerRequest"}),(0,o.Sn)("design:paramtypes",[])],we);let Oe=class extends l.BaseRequestHandler{constructor(n){super(),this._service=n}handle(n){var a=this;return(0,z.A)(function*(){const r=n.recordId,p=yield(0,R.firstValueFrom)(a._service.getCaseDefaultMailbox(r));return p?.senderEmailAddress?p?.senderEmailAddress:yield a.next?.handle(n)})()}};Oe=(0,o.Cg)([(0,l.CrtRequestHandler)({type:"crt.CaseSenderComposerHandler",requestType:"crt.CaseSenderComposerRequest"}),(0,o.Sn)("design:paramtypes",[A.W3])],Oe);let je=class extends l.BaseRequestHandler{constructor(n){super(),this._service=n}handle(n){var a=this;return(0,z.A)(function*(){const r=n.recordId,p=yield(0,R.firstValueFrom)(a._service.getDefaultMailboxForSend(r));return p?.senderEmailAddress?p?.senderEmailAddress:yield a.next?.handle(n)})()}};je=(0,o.Cg)([(0,l.CrtRequestHandler)({type:"crt.DefaultSenderComposerHandler",requestType:"crt.DefaultSenderComposerRequest"}),(0,o.Sn)("design:paramtypes",[A.W3])],je);let Ve=class extends ve{constructor(){super(),this.action=D.TF.EditDraft}handle(n){var a=()=>super.handle,r=this;return(0,z.A)(function*(){yield a().call(r,n),yield r.next?.handle(n)})()}};Ve=(0,o.Cg)([(0,l.CrtRequestHandler)({type:"crt.EditDraftEmailComposerRequestHandler",requestType:"crt.EditDraftEmailComposerRequest"}),(0,o.Sn)("design:paramtypes",[])],Ve);var Kt=m(52208),$t=m(78516);let ke=class extends ve{constructor(n,a,r,p){super(),this._featureService=n,this._entityConnectionService=a,this._sysSettingsService=r,this._window=p,this._freedomUiType="f4d757e1-2aeb-496f-b751-3d5b39708ea3",this._uiTypeSysSettingCode="EditPagesUITypeForFreedomHost",this.action=D.TF.EditDraft}_openEditPage(n){var a=this;return(0,z.A)(function*(){let r;const p=(0,$t.A)(a._window,["Terrasoft","isAngularHost"]),u=yield(0,R.lastValueFrom)(a._sysSettingsService.getValueByCode(a._uiTypeSysSettingCode));p&&u===a._freedomUiType?r={type:"crt.OpenPageRequest",schemaName:"EmailMiniPage",modelInitConfigs:[{recordId:n.recordId,action:l.ModelInPageAction.Edit}],$context:n.$context}:r={type:"crt.UpdateRecordRequest",entityName:"Activity",recordId:n.recordId,$context:n.$context},yield a.handlerChain.process(r)})()}_openAddPage(n){var a=this;return(0,z.A)(function*(){const r=yield Kt.ag.getPageSchemaNameForAction({entityName:"Activity",action:l.ModelInPageAction.Add,typeColumnValue:E.Iqe.toLowerCase()}),p=yield a._getDefaultValues(n),u={type:"crt.CreateRecordRequest",entityName:"Activity",entityPageName:r,defaultValues:p,$context:n.$context};yield a.handlerChain.process(u)})()}_getDefaultValues(n){var a=this;return(0,z.A)(function*(){const r=[{attributeName:"Type",value:E.Iqe}],p=yield n.$context.getPrimaryDataSchema(),u=p.name,T=yield n.$context[p.primaryAttributeName],X=yield a._entityConnectionService.getEntityConnectionColumns("Activity",u),{$context:ee}=n;return n.bindingColumns&&(yield Promise.all(n.bindingColumns.map(function(){var J=(0,z.A)(function*(ie){const ot=yield ee[ie.formAttributeName];ot&&r.push({attributeName:ie.activityColumnName,value:ot.value||ot.activityAttributeName})});return function(ie){return J.apply(this,arguments)}}()))),X&&X.forEach(J=>{r.push({attributeName:J.name,value:T})}),r})()}handle(n){var a=()=>super.handle,r=this;return(0,z.A)(function*(){(yield(0,R.lastValueFrom)(r._featureService.getFeatureState("UseEmailComposer")))?yield a().call(r,{recordId:n.recordId,type:"crt.ReplyEmailComposerRequest",$context:n.$context}):(0,w.A)(n.recordId)?yield r._openAddPage(n):yield r._openEditPage(n),yield r.next?.handle(n)})()}};ke=(0,o.Cg)([(0,l.CrtRequestHandler)({type:"crt.CreateEmailRequestHandler",requestType:"crt.CreateEmailRequest"}),(0,o.Qj)(3,(0,l.CrtInject)(v.WINDOW_TOKEN)),(0,o.Sn)("design:paramtypes",[j.wf,M.rLu,j.AS,Window])],ke);var Qt=m(72831);let Ze=class extends l.BaseRequest{};Ze=(0,o.Cg)([(0,l.CrtRequest)({type:"crt.EmailComposerSavedRequest"})],Ze);let Ne=class extends l.BaseRequestHandler{constructor(n){super(),this._composerEventAttrName="ComposerEvent",this._emailsService=n.get(A.d$)}handle(n){var a=this;return(0,z.A)(function*(){const r=n.$context,p=n.emailWithParams;if(!p)return Promise.resolve();const u=p.params,X=r.modelInitConfigs.filter(ee=>ee.action==="add");return X.length===1&&X[0].defaultValues.forEach(J=>{u.defaultValues.push({attributeName:J.attributeName,value:J.value})}),u.bindingColumns&&(yield Promise.all(u.bindingColumns.map(function(){var ee=(0,z.A)(function*(J){const ie=yield r[J.formAttributeName];ie&&u.defaultValues.push({attributeName:J.activityColumnName,value:ie.value||ie.activityAttributeName})});return function(J){return ee.apply(this,arguments)}}()))),(0,R.lastValueFrom)(a._emailsService.saveEmail(p.email,p.params).pipe((0,Qt.n)(ee=>{const J=Object.keys(n.$context.attributes).filter(ie=>ie.startsWith(a._composerEventAttrName));return J.length&&J.forEach(ie=>n.$context[ie]=[{name:D.J3,params:{response:ee}}]),(0,R.of)({})})))})()}};Ne=(0,o.Cg)([(0,l.CrtRequestHandler)({type:"crt.EmailComposerSavedHandler",requestType:"crt.EmailComposerSavedRequest"}),(0,o.Sn)("design:paramtypes",[t.Injector])],Ne);let Xe=class extends l.BaseRequest{};Xe=(0,o.Cg)([(0,l.CrtRequest)({type:"crt.RefreshEmailRecipientsRequest"})],Xe);let Le=class extends l.BaseRequestHandler{handle(n){var a=this;return(0,z.A)(function*(){yield a.next?.handle(n)})()}};Le=(0,o.Cg)([(0,l.CrtRequestHandler)({type:"crt.RefreshEmailRecipientsHandler",requestType:"crt.RefreshEmailRecipientsRequest"})],Le);var qt=m(85970),Gt=m(24301);let He=class extends l.BaseRequestHandler{_subscribeViewModelEvents(n){var a=this;const r=new R.Subscription;r.add(n.events$.pipe((0,R.filter)(({type:p})=>p===qt.nSQ.FinishLoadModelAttributes)).subscribe({next:function(){var p=(0,z.A)(function*(u){yield a._updateComposerVisibility(u,n),yield a._updateEmailBody(u,n)});return function(T){return p.apply(this,arguments)}}(),complete:()=>{r.unsubscribe()}}))}_updateComposerVisibility(n,a){return(0,z.A)(function*(){if((yield a.getPrimaryModelMode())!==E.btv.Update||!n?.payload?.SendDate||!n?.payload?.Id)return;const p=yield a.Id,u=!!(yield a.SendDate);!p||u||(a.ComposerVisible=!0)})()}_updateEmailBody(n,a){return(0,z.A)(function*(){if((yield a.getPrimaryModelMode())!==E.btv.Update||!n?.payload?.EmailBody||!n?.payload?.IsHtmlBody)return;const p=yield a.IsHtmlBody,u=yield a.EmailBody;!p&&!w.A(u)&&!u.startsWith("<pre>")&&(a.EmailBody=`<pre>${Gt.A(u)}</pre>`)})()}handle(n){var a=this;return(0,z.A)(function*(){yield a.next?.handle(n),a._subscribeViewModelEvents(n.$context)})()}};He=(0,o.Cg)([(0,l.CrtRequestHandler)({type:"crt.EmailFormPageViewModelInitRequestHandler",requestType:"crt.HandleViewModelInitRequest",scopes:["EmailFormPage"]})],He);let Jt=(()=>{class f{constructor(a){this._featureValues=a,this._selectedChannelAttributeName="SelectedComposerChannelIndex",this._channelsAttributeName="ComposerChannels",this._selectedChannelAttributeDefValue=0,this._channelSelectorItemName="ChannelSelector",this._channelSelectorTypeName="crt.ChannelSelector",this._parentComposerType="crt.MessageComposerSelector"}_getViewConfigs(a,r){return E.uSH.getViewConfigInfoByProperty("type",r,a.viewConfig).map(p=>p?.viewConfig).filter(Boolean)}_createAndBindExtendableComposerAttributes(a,r){r.forEach((p,u)=>{if(!Array.isArray(p.items)||!p.items.length)return;let T;(0,w.A)(p.selectedComposerChannelIndex)?(T=`${this._selectedChannelAttributeName}_${u}`,a[T]={value:this._selectedChannelAttributeDefValue},p.selectedComposerChannelIndex=`$${T}`):T=p.selectedComposerChannelIndex;const X=`${this._channelsAttributeName}_${u}`,ee=[];p.items.forEach(J=>{this._createChannelSelector(J,T,X,ee)}),a[X]={value:ee}})}_createChannelSelector(a,r,p,u){const T=a.data;if(!(!T||(0,w.A)(T.schemaType))&&(u.push({visible:a.visible,data:{icon:T.icon,schemaType:T.schemaType,caption:T.caption}}),(0,w.A)(a.channelsPanel))){const X={name:`${this._channelSelectorItemName}_${a.name}`,type:this._channelSelectorTypeName,selectedChannelIndex:`$${r}`,channels:`$${p}`};a.channelsPanel=[X]}}_createAndBindComposerEventAttribute(a,r){r.forEach((p,u)=>{if(!Array.isArray(p.items)||!p.items.length)return;const T=`${E._6y}_${u}`;a[T]={value:[]},p.composerEvent="$"+T,p.items.forEach(X=>{X.composerEvent="$"+T})})}_createAndBindComposerAttributes(a){const r=this._getViewConfigs(a,this._parentComposerType),p=a.viewModelConfig.attributes;this._createAndBindComposerEventAttribute(p,r),this._featureValues.ExtendableMessageComposer&&this._createAndBindExtendableComposerAttributes(p,r)}crtOnMetaDataInit(a){const r=a;return this._createAndBindComposerAttributes(r),Promise.resolve(a)}static{this.\u0275fac=function(r){return new(r||f)(t.\u0275\u0275inject(E.G2Y))}}static{this.\u0275prov=t.\u0275\u0275defineInjectable({token:f,factory:f.\u0275fac})}}return f})(),Yt=(()=>{class f{constructor(a){this._selectionActionsMetadataService=a,this._pageSize=150}_getViewConfigs(a,r){return E.uSH.getViewConfigInfoByProperty("type",r,a.viewConfig).map(p=>p?.viewConfig).filter(Boolean)}_setCrudEventsBindings(a){a.emailComposerSaved={request:"crt.EmailComposerSavedRequest",params:{emailWithParams:"@event"}},a.refreshRecipients={request:"crt.RefreshEmailRecipientsRequest",params:{event:"@event"}}}_setAttributes(a,r){r.from=`$${this._createAttribute(a,`${r.name}_From`,"")}`,r.to=`$${this._createAttribute(a,`${r.name}_To`,[])}`,r.cc=`$${this._createAttribute(a,`${r.name}_Cc`,[])}`,r.bcc=`$${this._createAttribute(a,`${r.name}_Bcc`,[])}`,r.subject=`$${this._createAttribute(a,`${r.name}_Subject`,"")}`,r.headerExpanded=`$${this._createAttribute(a,`${r.name}_HeaderExpanded`,"")}`,r.visibleCc=`$${this._createAttribute(a,`${r.name}_VisibleCc`,"")}`,r.visibleBcc=`$${this._createAttribute(a,`${r.name}_VisibleBcc`,"")}`}_setCalculatedAttributes(a,r){r.sendersMailboxes=`$${this._getOrAddEmailSendersAttribute(a,r,r.recordId)}`,r.recipientsMailboxes=`$${this._getOrAddEmailRecipientsAttribute(a,r,r.recordId)}`}_findCalculatedAttribute(a,r,p){const u=a.viewModelConfig.attributes,T=Object.keys(u).find(X=>{const ee=u[X]??{};return ee.from===r&&ee.converter===p});return(0,w.A)(T)?void 0:T}_createAttribute(a,r,p){const u=a.viewModelConfig.attributes;return u[r]={value:p},r}_createCalculatedAttribute(a,r,p,u){const T=a.viewModelConfig.attributes;return T[r]={from:p,converter:u},r}_getOrAddEmailSendersAttribute(a,r,p){return this._findCalculatedAttribute(a,p,"crt.ToSendersMailboxes")||this._createCalculatedAttribute(a,`${r.name}_SendersMailboxes`,p,"crt.ToSendersMailboxes")}_getOrAddEmailRecipientsAttribute(a,r,p){return this._findCalculatedAttribute(a,p,"crt.ToRecipientsMailboxes")||this._createCalculatedAttribute(a,`${r.name}_RecipientsMailboxes`,"crt.RefreshEmailRecipientsRequest","crt.ToRecipientsMailboxes")}crtOnMetaDataInit(a){var r=this;return(0,z.A)(function*(){const p=a,u=r._getViewConfigs(p,"crt.EmailComposer");for(const T of u)r._setCrudEventsBindings(T),r._setAttributes(p,T),r._setCalculatedAttributes(p,T),yield r._selectionActionsMetadataService.setRewriteOptions(p,T);return Promise.resolve(a)})()}static{this.\u0275fac=function(r){return new(r||f)(t.\u0275\u0275inject(I.SelectionActionsMetadataService))}}static{this.\u0275prov=t.\u0275\u0275defineInjectable({token:f,factory:f.\u0275fac})}}return f})(),Zt=(()=>{class f{constructor(a){this._selectionActionsMetadataService=a}_getViewConfigs(a,r){return E.uSH.getViewConfigInfoByProperty("type",r,a.viewConfig).map(p=>p?.viewConfig).filter(Boolean)}crtOnMetaDataInit(a){var r=this;return(0,z.A)(function*(){const p=a,u=r._getViewConfigs(p,"crt.FeedComposer");for(const T of u)yield r._selectionActionsMetadataService.setRewriteOptions(p,T);return Promise.resolve(a)})()}static{this.\u0275fac=function(r){return new(r||f)(t.\u0275\u0275inject(I.SelectionActionsMetadataService))}}static{this.\u0275prov=t.\u0275\u0275defineInjectable({token:f,factory:f.\u0275fac})}}return f})(),Ue=class mt{constructor(n,a){this._matIconRegistry=n,this._domSanitizer=a,this._registerIcons()}_registerIcons(){["reply-message","reply-all-message","reply-message"].forEach(a=>{const r=m(41056)("./"+a+".svg");this._matIconRegistry.addSvgIconLiteral(a,this._domSanitizer.bypassSecurityTrustHtml(r))})}static{this.\u0275fac=function(a){return new(a||mt)(t.\u0275\u0275inject(d.tp),t.\u0275\u0275inject(x.DomSanitizer))}}static{this.\u0275mod=t.\u0275\u0275defineNgModule({type:mt})}static{this.\u0275inj=t.\u0275\u0275defineInjector({providers:[E.dh$,A.$s,A.IS,A.d$,A.W3,A.BG,A.S9,A.yY,A.eY,A.vP,A.D7,E.Zgn,A.oe,A.Og,{provide:v.CustomEventServiceToken,useFactory:n=>new v.CustomEventService(n),deps:[s.DOCUMENT]},{provide:E.m9D,useClass:Jt,multi:!0},{provide:E.m9D,useClass:Yt,multi:!0},{provide:E.m9D,useClass:Zt,multi:!0}],imports:[s.CommonModule,v.CrtLibTranslateModule.forRoot({i18n:_}),E.PiE,M.qOu,V.q8,V.Ss,M.rWS,M.Sjg,M.ugs,M.Dqo,V.uh,d.m_,N._T,I.CrtRichTextEditorModule,V.Cq,E.dQp]})}};Ue=(0,o.Cg)([(0,l.CrtModule)({viewElements:[te,F,Me.r,Ie.l,Ce,Re.B],requestHandlers:[Ae,we,Fe,Pe,je,Oe,Ve,ke,Ne,Le,He],converters:[xe,De,Be]}),(0,o.Sn)("design:paramtypes",[d.tp,x.DomSanitizer])],Ue),function(){(typeof ngJitMode>"u"||ngJitMode)&&t.\u0275\u0275setNgModuleScope(Ue,{declarations:[te,F,Me.r,Je,qe,Ge,Ie.l,Ce,Te.l,Re.B],imports:[s.CommonModule,v.CrtLibTranslateModule,E.PiE,M.qOu,V.q8,V.Ss,M.rWS,M.Sjg,M.ugs,E.mv7,M.Dqo,V.uh,d.m_,N._T,I.CrtRichTextEditorModule,V.Cq,E.dQp],exports:[te,F,Me.r,Ie.l,Ce,Re.B]})}();let et=class extends l.BaseRequest{};et=(0,o.Cg)([(0,l.CrtRequest)({type:"crt.ChangeComposerRequest"})],et);let Ee=class extends l.BaseRequest{};Ee=(0,o.Cg)([(0,l.CrtRequest)({type:"crt.ReplyEmailComposerRequest"})],Ee);let tt=class extends Ee{};tt=(0,o.Cg)([(0,l.CrtRequest)({type:"crt.ForwardEmailComposerRequest"})],tt);let at=class extends Ee{};at=(0,o.Cg)([(0,l.CrtRequest)({type:"crt.ReplyAllEmailComposerRequest"})],at);let nt=class extends l.BaseRequest{};nt=(0,o.Cg)([(0,l.CrtRequest)({type:"crt.DefaultSenderComposerRequest"})],nt);let st=class extends l.BaseRequest{};st=(0,o.Cg)([(0,l.CrtRequest)({type:"crt.CaseSenderComposerRequest"})],st);let it=class extends l.BaseRequest{};it=(0,o.Cg)([(0,l.CrtRequest)({type:"crt.EditDraftEmailComposerRequest"})],it)},10138:(q,W,m)=>{"use strict";m.d(W,{Od:()=>N,J3:()=>d,An:()=>l,iQ:()=>x,M7:()=>s,Z4:()=>V,TF:()=>o});var o=function(v){return v.Reply="reply",v.ReplyAll="reply-all",v.Forward="forward",v.EditDraft="edit-draft",v}(o||{});const s="ReplyEmailEvent",d="EmailSavedEvent",N="BlindZoneWidthEvent",x="ReadyEvent",l="FocusInputEvent";class V{}},850:(q,W,m)=>{"use strict";m.d(W,{IS:()=>N,$s:()=>he,vP:()=>ge,S9:()=>re,BG:()=>me,d$:()=>pe,Og:()=>ue,oe:()=>_e,D7:()=>fe,W3:()=>$,eY:()=>ye,yY:()=>k});var o=m(96091),s=m(68642),d=m(99314);let N=(()=>{class C{constructor(){this._changeComposer$=new o.Subject}getComposerObservable(){return this._changeComposer$.asObservable()}openComposer(e){s.Qf.isNullOrWhiteSpace(e)||this._changeComposer$.next(e)}static{this.\u0275fac=function(i){return new(i||C)}}static{this.\u0275prov=d.\u0275\u0275defineInjectable({token:C,factory:C.\u0275fac})}}return C})();var x=m(24677),l=m(44537),V=m(37603),v=m(62441),M=m(93527),I=m(72831),E=m(54807);let $=(()=>{class C{constructor(e,i){this._queryExecutor=e,this._httpClient=i,this._getCaseSenderMethod="/rest/SenderObtainingService/ObtainSenderMailbox"}_getMailboxesEsq(e){const i=new l.EntitySchemaQuery("MailboxSyncSettings");i.addSchemaColumn("SenderEmailAddress"),i.addSchemaColumn("SenderDisplayValue"),i.addSchemaColumn("Signature"),i.addSchemaColumn("UseSignature"),i.addSchemaColumn("CreatedBy");const c=new l.FilterGroup(l.LogicalOperatorType.Or);return c.addSchemaColumnFilterWithParameter(l.ComparisonType.Equal,"SysAdminUnit",e),c.addSchemaColumnFilterWithParameter(l.ComparisonType.Equal,"IsShared",!0),i.filters.addSchemaColumnFilterWithParameter(l.ComparisonType.Equal,"SendEmailsViaThisAccount",!0),i.filters.add(c),i}_getCaseParamsEsq(e){const i=new l.EntitySchemaQuery("Case");return i.addSchemaColumn("ParentActivity.Recepient","To"),i.addSchemaColumn("ParentActivity.CopyRecepient","CC"),i.addSchemaColumn("ParentActivity.BlindCopyRecepient","BCC"),i.addSchemaColumn("Contact"),i.addSchemaColumn("Category"),i.filters.addSchemaColumnFilterWithParameter(l.ComparisonType.Equal,"Id",e),i}_mapMailbox(e){return{id:e.Id,senderEmailAddress:e.SenderEmailAddress,senderDisplayValue:e.SenderDisplayValue,signature:e.Signature,useSignature:e.UseSignature,createdBy:e.CreatedBy}}_mapGetSenderRequestConfig(e){const i=[e.To,e.CC,e.BCC].filter(c=>!(0,v.A)(c));return{recipients:i.length>0?i.join(";"):"",contactId:e.Contact?e.Contact.value:null,categoryId:e.Category?e.Category.value:null}}_mapCaseSenderMailbox(e){return!e||!e.ObtainSenderMailboxResult||(0,v.A)(e.ObtainSenderMailboxResult.MailboxName)?null:{id:(0,l.generateGuid)(),senderEmailAddress:e.ObtainSenderMailboxResult.MailboxName,useSignature:!1}}getMailboxesForSend(e){const i=this._getMailboxesEsq(e);return this._queryExecutor.executeSelectQuery(i).pipe((0,M.T)(c=>c?.map(h=>this._mapMailbox(h))))}getDefaultMailboxForSend(e){const i=this._getMailboxesEsq(e);return i.filters.addSchemaColumnFilterWithParameter(l.ComparisonType.Equal,"IsDefault",!0),this._queryExecutor.executeSelectQuery(i).pipe((0,M.T)(c=>c?.map(h=>this._mapMailbox(h))),(0,I.n)(c=>(0,o.of)(c[0])))}getCaseDefaultMailbox(e){const i=this._getCaseParamsEsq(e);return this._queryExecutor.executeSelectQuery(i).pipe((0,M.T)(c=>(0,v.A)(c)?null:this._mapGetSenderRequestConfig(c[0])),(0,E.H)(c=>(0,v.A)(c)?(0,o.of)(null):this._httpClient.post(this._getCaseSenderMethod,c)),(0,I.n)(c=>(0,o.of)(this._mapCaseSenderMailbox(c))))}static{this.\u0275fac=function(i){return new(i||C)(d.\u0275\u0275inject(V.wU),d.\u0275\u0275inject(x.HttpClient))}}static{this.\u0275prov=d.\u0275\u0275defineInjectable({token:C,factory:C.\u0275fac,providedIn:"root"})}}return C})(),k=(()=>{class C{constructor(e){this._httpClient=e,this._publishMessageMethod="/rest/EmailSendService/Send"}_mapSendResult(e){const i=e.SendResult[0].ErrorMessage,c={success:i===""};return c.success||(c.errorInfo={message:i,errorCode:"",stackTrace:""}),c}publishMessage(e){return this._httpClient.post(this._publishMessageMethod,{ActivityId:e})}sendEmail(e){return this.publishMessage(e).pipe((0,I.n)(i=>(0,o.of)(this._mapSendResult(i))),(0,o.catchError)(i=>(0,o.of)({success:!1,errorInfo:{errorCode:null,message:i.message,stackTrace:""}})))}static{this.\u0275fac=function(i){return new(i||C)(d.\u0275\u0275inject(x.HttpClient))}}static{this.\u0275prov=d.\u0275\u0275defineInjectable({token:C,factory:C.\u0275fac})}}return C})();var Q=m(86731),H=m(38628),O=m(16837),K=m(60021),de=m(34526);let re=(()=>{class C{constructor(e,i){this._macrosHelperService=e,this._userInfo=i,this._indentation="<br>",this._signatureTag="<signature>",this._signatureTpl="<signature>{0}</signature>",this._macrosRegex=new RegExp(/\[#(.+?)#\]/)}_replaceSignatureInBody(e,i){return e.includes(this._signatureTag)?e.replace(this._getSignatureRegExp(),i):e.concat(i)}_getSignatureRegExp(){return/((<br.{1,4}>)|(\\r\\n)){0,1}((<br.{1,4}>)|(\\r\\n)){0,1}(<div>){0,1}<signature>[\s\S]*?<\/signature>(<\/div>){0,1}/}_getFormattedSignature(e){const i=e.indexOf(this._signatureTag);return(0,v.A)(e)||i===-1?s.Qf.format(`<div>${this._signatureTpl}</div>`,e||""):i===0?s.Qf.format("<div>{0}</div>",e):e}_processSignature(e,i){const c=this._getFormattedSignature(i);return(0,v.A)(e)?e=((0,v.A)(i)?this._indentation:this._indentation.repeat(2)).concat(c):e=this._replaceSignatureInBody(e,c),e}get signatureTpl(){return this._signatureTpl}get signatureTplWithIndent(){return this._indentation.repeat(2).concat(this.signatureTpl)}isBodyContainSignature(e){return!(0,v.A)(this._getSignatureRegExp().exec(e))}updateSignatureInBody(e,i){if(e=e||"",i=i||"",this._macrosRegex.test(i)){e=this._processSignature(e,s.Qf.empty);const c={entityId:this._userInfo.contactId,entityName:"Contact",textTemplate:i};return this._macrosHelperService.getTemplateByEntity(c,!0).pipe((0,o.map)(h=>this._processSignature(e,h)),(0,de.W)(()=>(0,o.of)(i)))}else return(0,o.of)(this._processSignature(e,i))}static{this.\u0275fac=function(i){return new(i||C)(d.\u0275\u0275inject(O.$Ev),d.\u0275\u0275inject(O.oqB))}}static{this.\u0275prov=d.\u0275\u0275defineInjectable({token:C,factory:C.\u0275fac})}}return C})();var se=m(10138);let pe=(()=>{class C{constructor(e){this._injector=e,this._replyBodyLimiter="<div bodylimiter",this._copyEntitiesMethod="/rest/EntityUtilsService/CopyEntities",this._inReplyToActivityHeader="X-In-Reply-To-Activity",this._httpClient=this._injector.get(x.HttpClient),this._queryExecutor=this._injector.get(V.wU),this._translateService=this._injector.get(Q.c$),this._emailSignatureService=this._injector.get(re),this._fileApiService=this._injector.get(O.kzi),this._entityConnectionService=this._injector.get(H.rLu),this._entitySchemaService=this._injector.get(O.eut)}_getEmailEsq(e){const i=new l.EntitySchemaQuery("Activity");return i.addSchemaColumn("Sender"),i.addSchemaColumn("Recepient"),i.addSchemaColumn("CopyRecepient"),i.addSchemaColumn("BlindCopyRecepient"),i.addSchemaColumn("Title"),i.addSchemaColumn("Body"),i.addSchemaColumn("SendDate"),i.addSchemaColumn("HeaderProperties"),i.filters.addSchemaColumnFilterWithParameter(l.ComparisonType.Equal,"Id",e),i}_mapEmail(e){const i={id:e.Id,from:e.Sender,subject:e.Title,body:e.Body,sendDate:e.SendDate,attachments:[]},c=e.Recepient.toString(),h=e.CopyRecepient.toString(),y=e.BlindCopyRecepient.toString(),P=e.HeaderProperties.toString();return i.to=s.Qf.isNullOrWhiteSpace(c)?[]:c.split(";").filter(Boolean),i.cc=s.Qf.isNullOrWhiteSpace(h)?[]:h.split(";").filter(Boolean),i.bcc=s.Qf.isNullOrWhiteSpace(y)?[]:y.split(";").filter(Boolean),i.headers=s.Qf.isNullOrWhiteSpace(P)?[]:P.split(`
`).filter(Boolean).map(U=>this._mapHeader(U)),i}_getAttachmentsEsq(e){const i=new l.EntitySchemaQuery("ActivityFile");return i.addSchemaColumn("Id"),i.addSchemaColumn("Name"),i.addSchemaColumn("Size"),i.filters.addSchemaColumnFilterWithParameter(l.ComparisonType.Equal,"Activity",e),i.filters.addSchemaColumnFilterWithParameter(l.ComparisonType.Equal,"Inline",!1),i}_mapAttachment(e){const i=new File([],e.Name);return{id:e.Id,size:e.Size,file:i,content:new ArrayBuffer(0)}}_prepareRecipient(e){return e.replace("<","&lt;").replace(">","&gt;")}_getBody(e){const i="<span style='font-weight: bold;'>{0}: </span><span>{1}</span><br>",c="<br>{0}><hr style='border:none;border-top: 1px solid #E3E3E3;'>",y="<div><blockquote style='margin-left: 0.8ex;border-left: 1px solid #E3E3E3;padding-left: 1ex;font: inherit;'>{0}</blockquote></div>",P=this._prepareRecipient(e.from),U=e.to?this._prepareRecipient(e.to.join(";")):"",Z=e.body,G=e.body.match(/<body.*?>([\s\S]*)<\/body>/),ce=G&&G[1]||Z,B=new s.fe;if(B.appendFormat(this._emailSignatureService.signatureTplWithIndent,s.Qf.empty),B.appendFormat(c,this._replyBodyLimiter),B.appendFormat(i,this._translateService.instant("MessageComposer.Email.From"),P),B.appendFormat(i,this._translateService.instant("MessageComposer.Email.SentOn"),e.sendDate),B.appendFormat(i,this._translateService.instant("MessageComposer.Email.To"),U),e.cc?.length!==0){const L=e.cc?this._prepareRecipient(e.cc.join(";")):"";B.appendFormat(i,this._translateService.instant("MessageComposer.Email.CC"),L)}return B.appendFormat(i,this._translateService.instant("MessageComposer.Email.Subject"),e.subject),B.appendFormat(y,ce),B.toString()}_getShortBody(e=!0){const i="<br>{0}>",c='<div><div class="email-composer-reply-expander"></div></div>',h=new s.fe;return e&&h.appendFormat(this._emailSignatureService.signatureTplWithIndent,s.Qf.empty),h.appendFormat(i,this._replyBodyLimiter),h.appendFormat(c),h.toString()}_getSubjectPrefix(e){return e===se.TF.Forward?"FW: ":"RE: "}_getSubject(e,i){const c=this._getSubjectPrefix(i),h=e.subject;return h.startsWith(c)?h:c+h}_setRecipients(e,i,c){let h=[];const y=i.from;switch(c){case se.TF.Reply:h=s.Qf.isNullOrWhiteSpace(y)?[]:[y];break;case se.TF.ReplyAll:{const P=i.to?i.to:[];h=s.Qf.isNullOrWhiteSpace(y)?[...P]:[y,...P];break}default:break}e.to=h,e.cc=c===se.TF.ReplyAll?i.cc:[],e.bcc=[]}_getInsertQuery(e,i){return this._getQueryWithEmailColumns(e,i).pipe((0,M.T)(c=>(c.addColumn("Id",e.id,l.DataValueType.Guid),c)))}_getUpdateQuery(e,i){return this._getQueryWithEmailColumns(e,i).pipe((0,M.T)(c=>(c.filters.addSchemaColumnFilterWithParameter(l.ComparisonType.Equal,"Id",e.id),c)))}_mapHeader(e){const i=e.split("=");return{name:i[0],value:i[1]}}_getHeaderProperties(e,i){const c=e.headers||[];return!(0,v.A)(i.inReplyToId)&&!c.find(h=>h.name===this._inReplyToActivityHeader)&&c.push({name:this._inReplyToActivityHeader,value:i.inReplyToId}),c.map(h=>`${h.name}=${h.value}`).join(`
`)}_getQueryWithEmailColumns(e,i){const c=e.isDraft?new l.UpdateQuery("Activity"):new l.InsertQuery("Activity");return c.addColumn("Title",e.subject,l.DataValueType.Text),c.addColumn("Body",e.body,l.DataValueType.Text),c.addColumn("Sender",e.from,l.DataValueType.Text),c.addColumn("Recepient",e.to?.join(";"),l.DataValueType.Text),c.addColumn("CopyRecepient",e.cc?.join(";"),l.DataValueType.Text),c.addColumn("BlindCopyRecepient",e.bcc?.join(";"),l.DataValueType.Text),c.addColumn("Type",O.Iqe,l.DataValueType.Guid),c.addColumn("ActivityCategory",O.Awv,l.DataValueType.Guid),c.addColumn("IsHtmlBody",!0,l.DataValueType.Boolean),c.addColumn("HeaderProperties",this._getHeaderProperties(e,i),l.DataValueType.Text),this._entitySchemaService.getEntitySchemaByName("Activity").pipe((0,I.n)(h=>this._addDefaultValues(i,c,h.entitySchema.columns))).pipe((0,I.n)(h=>this._addEntityConnectionColumns(i,h)))}_getColumnDataValueType(e){return e.dataValueType===l.DataValueType.LONG_TEXT?l.DataValueType.Text:e.dataValueType}_addEntityConnectionColumns(e,i){return(0,v.A)(e?.masterSchemaName)||(0,v.A)(e?.masterRecordId)?(0,o.of)(i):(0,o.from)(this._entityConnectionService.getEntityConnectionColumns("Activity",e?.masterSchemaName)).pipe((0,I.n)(c=>(c&&c.forEach(h=>{const y=this._getColumnDataValueType(h);i.addColumn(h.name,e.masterRecordId,y)}),(0,o.of)(i))))}_addDefaultValues(e,i,c){const h=e.defaultValues;return h&&h.forEach(y=>{const P=c.find(U=>U.name===y.attributeName);if(P){const U=this._getColumnDataValueType(P);i.addColumn(y.attributeName,y.value,U)}}),(0,o.of)(i)}_executeQuery(e,i){return e.isDraft?this._getUpdateQuery(e,i).pipe((0,I.n)(c=>this._queryExecutor.executeUpdateQuery(c))):this._getInsertQuery(e,i).pipe((0,I.n)(c=>this._queryExecutor.executeInsertQuery(c)))}_trimStart(e,i){return e.startsWith(i)?e.slice(i.length):e}_trimEnd(e,i){return e.endsWith(i)?e.slice(0,e.length-i.length):e}_trimBrTag(e){let i=this._trimStart(e,"&nbsp;");return i=this._trimEnd(i,"<br>"),i}_deleteRemovedAttachments(e){const i=new l.DeleteQuery("ActivityFile");return i.filters.addSchemaColumnFilterWithParameter(l.ComparisonType.Equal,"Activity",e.id),i.filters.addSchemaColumnFilterWithParameter(l.ComparisonType.Equal,"Inline",!1),e.attachments.forEach(h=>i.filters.addSchemaColumnFilterWithParameter(l.ComparisonType.Not_equal,"Id",h.id)),this._queryExecutor.executeDeleteQuery(i)}getEmail(e,i){const c=this._getEmailEsq(e),h=this._queryExecutor.executeSelectQuery(c).pipe((0,M.T)(P=>this._mapEmail(P[0]))),y=i?this.getAttachments(e):(0,o.of)([]);return(0,o.forkJoin)([h,y]).pipe((0,M.T)(P=>{const U=P[0];return U.attachments=P[1],U}))}getAttachments(e){const i=this._getAttachmentsEsq(e);return this._queryExecutor.executeSelectQuery(i).pipe((0,M.T)(c=>c.map(h=>this._mapAttachment(h))))}getReplyDraft(e,i){const c={id:(0,l.generateGuid)(),from:"",subject:this._getSubject(e,i),body:this._getBody(e),bodyShort:this._getShortBody(),isDraft:!1,attachments:i===se.TF.Forward&&e.attachments?[...e.attachments]:[]};return this._setRecipients(c,e,i),(0,o.of)(c)}getSafeUserContentReplyBody(e,i){const c=this.getDraftUserContent(e),h=this.getDraftUserContent(i);return i.replace(h,c)}getDraftUserContent(e,i=!1){const c=e.indexOf(this._replyBodyLimiter);return c!==-1&&(e=this._trimBrTag(e.substring(0,c))),i?e+this._getShortBody(!1):e}saveEmail(e,i){return this._executeQuery(e,i).pipe((0,E.H)(c=>{if(!c.success)throw new Error(c.errorInfo?.message);let h=e.attachments;return h?(h=h.filter(y=>y.content.byteLength>0),h.length===0?(0,o.of)([c]):(0,o.from)(h).pipe((0,E.H)(y=>this._fileApiService.upload(y)),(0,K.H)())):(0,o.of)([c])}),(0,E.H)(c=>{if(!c[0].success)throw new Error(c[0].errorInfo?.message);if(e.isDraft)return this._deleteRemovedAttachments(e).pipe((0,I.n)(()=>(0,o.of)([c])),(0,o.catchError)(()=>(0,o.of)([c])));if(e.attachments.filter(P=>P.content.byteLength===0).length===0)return(0,o.of)([c]);const y={sourceEntityId:i?.inReplyToId,recipientEntityId:e.id,columnName:"Activity",entitySchemaName:"Activity",sourceEntitySchemaNames:["ActivityFile"],isOnlyInline:!0,inlineIds:e.attachments.filter(P=>P.content.byteLength===0).map(P=>P.id)};return this._httpClient.post(this._copyEntitiesMethod,y)}),(0,I.n)(c=>{if(c.CopyEntitiesResult&&c.CopyEntitiesResult.length===0)throw new Error(c.errorInfo?.message);return(0,o.of)({success:!0,activityId:e.id})}),(0,o.catchError)(c=>(0,o.of)({success:!1,errorInfo:{errorCode:null,message:c.message,stackTrace:""},activityId:e.id})))}static{this.\u0275fac=function(i){return new(i||C)(d.\u0275\u0275inject(d.Injector))}}static{this.\u0275prov=d.\u0275\u0275defineInjectable({token:C,factory:C.\u0275fac})}}return C})(),me=(()=>{class C{constructor(e){this._macrosService=e,this._templatesEntitySchemaName="EmailTemplate",this._lookupPageSchemaName="EmailTemplatesLookupPage"}_handleEmailTextTemplate(e){return`<div>${e}</div>`.replace(new RegExp(/<(\/)?(html|head|body)([^><]*?)>/gim),"")}_getLookupPageFiltersConfig(e){const i="lookupObjectFilter",c=new l.FilterGroup(l.LogicalOperatorType.Or),h=new l.CompareFilter(l.ComparisonType.Equal,new l.ColumnExpression({columnPath:"[SysSchema:UId:Object].Name"}),new l.ParameterExpression({value:e})),y=new l.CompareFilter(l.ComparisonType.Is_null,new l.ColumnExpression({columnPath:"Object"}),new l.ParameterExpression({value:null}));return c.add(h),c.add(y),{filterAttributes:[{name:i,loadOnChange:!1}],attributesConfig:{[i]:{value:c}}}}getTemplatesLookupConfig(e){return{type:"crt.OpenSelectionWindowRequest",$context:{},entitySchemaName:this._templatesEntitySchemaName,schemaName:this._lookupPageSchemaName,features:{create:{enabled:!1},select:{multiple:!1,selectAll:!1}},filtersConfig:this._getLookupPageFiltersConfig(e)}}getMultiLanguageTemplate(e,i,c){return this._macrosService.getMultiLanguageTemplate(c,i,e).pipe((0,o.map)(h=>(h.textTemplate=this._handleEmailTextTemplate(h.textTemplate),h)))}static{this.\u0275fac=function(i){return new(i||C)(d.\u0275\u0275inject(O.$Ev))}}static{this.\u0275prov=d.\u0275\u0275defineInjectable({token:C,factory:C.\u0275fac})}}return C})();var ae=m(96590);let ye=(()=>{class C{constructor(e,i,c){this._queryExecutor=e,this._httpClient=i,this._globalSearchFeatureCode="GlobalSearch_V2",this._esEmailsSearchFeatureCode="IsESEmailsSearch",this._globalSearchMethodName="/rest/ESEmailService/SearchEmailsPage",this._itemsPerPage=15,this._useGlobalSearch=!1,this._useGlobalSearch=c[this._globalSearchFeatureCode]&&c[this._esEmailsSearchFeatureCode]}_getRecipientsEsq(e,i){const c=new l.EntitySchemaQuery("VwRecepientEmail"),h=c.addSchemaColumn("Email");h.orderDirection=l.OrderDirection.Asc,c.rowCount=this._itemsPerPage,c.rowsOffset=i;const y=new l.FilterGroup(l.LogicalOperatorType.Or);return y.addSchemaColumnFilterWithParameter(l.ComparisonType.Contain,"Email",e),y.addSchemaColumnFilterWithParameter(l.ComparisonType.Contain,"ContactName",e),c.filters.add(y),c}_mapRecipient(e){return{value:(0,l.generateGuid)(),displayValue:e}}_getRecipientsFromGlobalSearch(e,i){const c=(e||s.Qf.empty).trim().split(" ").map(h=>h.trim());return this._httpClient.post(this._globalSearchMethodName,{query:c,rowsOffset:i,rowCount:this._itemsPerPage}).pipe((0,M.T)(h=>{const y=JSON.parse(h?.SearchEmailsResult||"[]")||[],P=[];return y.forEach(function(U){const Z={emails:[]};Object.keys(U).forEach(function(G){const ce=U[G];(0,ae.containsEmail)(ce)&&Z.emails.push(this._mapRecipient(ce))},this),Z.emails.length>0&&P.push(Z)},this),P}))}_getRecipientsFromDb(e,i){const c=this._getRecipientsEsq(e,i);return this._queryExecutor.executeSelectQuery(c).pipe((0,M.T)(h=>h?.map(y=>({emails:[this._mapRecipient(y.Email)]}))))}getRecipients(e,i=0){return this._useGlobalSearch&&!(0,v.A)(e)?this._getRecipientsFromGlobalSearch(e,i):this._getRecipientsFromDb(e,i)}static{this.\u0275fac=function(i){return new(i||C)(d.\u0275\u0275inject(V.wU),d.\u0275\u0275inject(x.HttpClient),d.\u0275\u0275inject(O.G2Y))}}static{this.\u0275prov=d.\u0275\u0275defineInjectable({token:C,factory:C.\u0275fac})}}return C})();var le=m(69244);let he=(()=>{class C{constructor(e,i){this._doNotUseCache=!1,this._storage=e.localStorage,i.getFeatureState("DoNotCacheComposerData").subscribe(c=>{this._doNotUseCache=c})}remove(e){(0,v.A)(e)||this._doNotUseCache||this._storage.removeItem(e)}set(e,i){(0,v.A)(e)||this._doNotUseCache||this._storage.setItem(e,i)}get(e){return(0,v.A)(e)||this._doNotUseCache?"":this._storage.getItem(e)}static{this.\u0275fac=function(i){return new(i||C)(d.\u0275\u0275inject(ae.WINDOW_TOKEN),d.\u0275\u0275inject(le.wf))}}static{this.\u0275prov=d.\u0275\u0275defineInjectable({token:C,factory:C.\u0275fac})}}return C})(),ge=(()=>{class C extends he{constructor(e,i,c){super(e,c),this._emailsService=i}set(e,i){const c=this._emailsService.getDraftUserContent(i);super.set(e,c)}static{this.\u0275fac=function(i){return new(i||C)(d.\u0275\u0275inject(ae.WINDOW_TOKEN),d.\u0275\u0275inject(pe),d.\u0275\u0275inject(le.wf))}}static{this.\u0275prov=d.\u0275\u0275defineInjectable({token:C,factory:C.\u0275fac})}}return C})(),fe=(()=>{class C{constructor(e,i,c,h){this._httpClient=e,this._entitySchemaRepository=i,this._feedNotificationService=c,this._fileApiService=h,this._postMessageMethod="/rest/EsnService/PostMessage",this._editMessageMethod="/rest/EsnService/EditMessage",this._postCommentMethod="/rest/EsnService/PostComment",this._editCommentMethod="/rest/EsnService/EditComment",this._readAttachmentsMethod="/rest/EsnService/ReadAttachments",this._deleteAttachmentsMethod="/rest/EsnService/DeleteAttachments"}_getSchemaUId(e){return this._entitySchemaRepository.getSchemaByName(e).pipe((0,M.T)(i=>i.uId))}_postMessage(e,i){return this._httpClient.post(e,i).pipe((0,M.T)(c=>c.Id))}_modifyMessage(e,i){return this._httpClient.post(e,i).pipe((0,M.T)(c=>c.success))}_uploadAttachments(e){const i=e.filter(c=>c.content.byteLength>0);return i.length===0?(0,o.of)(!0):(i.forEach(c=>{c.fileEntitySchemaName="FeedFile"}),(0,o.from)(i).pipe((0,E.H)(c=>this._fileApiService.upload(c)),(0,K.H)(),(0,M.T)(()=>!0)))}_deleteAttachments(e,i,c,h){return this._httpClient.post(this._deleteAttachmentsMethod,{messageId:e,attachmentsToKeepIds:i,schemaUId:c,entityId:h})}_getAttachmentIds(e){const i=new RegExp(/FileService\/Download\/FeedFile\/(.+?)"/gi);return[...e.Message.matchAll(i)].map(h=>h[1]).concat(e.Attachments?.map(h=>h.id))}_updateMessageAttachments(e,i){const c=i?e.Id:l.EMPTY_GUID;return((0,v.A)(e.Attachments)?(0,o.of)(!0):this._uploadAttachments(e.Attachments)).pipe((0,E.H)(()=>{const y=this._getAttachmentIds(e);return this._deleteAttachments(e.Id,y,e.EntitySchemaUId,e.EntityId)}),(0,M.T)(()=>c))}updateMessage(e){return this._modifyMessage(this._editMessageMethod,{messageId:e.Id,message:{Id:e.Id,SchemaUId:e.EntitySchemaUId,EntityId:e.EntityId,Message:e.Message,UserAccess:e.UserAccess}}).pipe((0,I.n)(i=>this._updateMessageAttachments(e,i)))}updateChildMessage(e){return this._modifyMessage(this._editCommentMethod,{commentId:e.Id,comment:{Id:e.Id,SchemaUId:e.EntitySchemaUId,EntityId:e.EntityId,Message:e.Message,UserAccess:e.UserAccess}}).pipe((0,I.n)(i=>this._updateMessageAttachments(e,i)))}postMessage(e){return this._getSchemaUId(e.EntitySchemaName).pipe((0,I.n)(i=>this._postMessage(this._postMessageMethod,{message:{Id:e.Id,SchemaUId:i,EntityId:e.EntityId,Message:e.Message,UserAccess:e.UserAccess}})),(0,E.H)(i=>(0,v.A)(e.Attachments)?(0,o.of)(i):this._uploadAttachments(e.Attachments).pipe((0,M.T)(()=>i))),(0,M.T)(i=>(this._feedNotificationService.onFeedPostPublished(i,e.EntityId),i)))}postChildMessage(e,i){return this._postMessage(this._postCommentMethod,{messageId:i,comment:{Id:e.Id,SchemaUId:e.EntitySchemaUId,EntityId:e.EntityId,Message:e.Message,UserAccess:e.UserAccess}}).pipe((0,E.H)(c=>(0,v.A)(e.Attachments)?(0,o.of)(c):this._uploadAttachments(e.Attachments).pipe((0,M.T)(()=>c))))}loadAttachments(e,i,c,h,y){const P=h||"FeedFile",U=y||"RecordId";return this._httpClient.post(this._readAttachmentsMethod,{messageId:e,schemaUId:i,entityId:c,schemaName:P,columnName:U}).pipe((0,M.T)(Z=>Z.files.map(G=>({fileId:G.Id,fileName:G.Name,fileSize:G.Size,fileCreatedOn:G.CreatedOn,getBoundDataSchemaByAttributePath:function(){return{name:P}}}))))}static{this.\u0275fac=function(i){return new(i||C)(d.\u0275\u0275inject(x.HttpClient),d.\u0275\u0275inject(O.vp2),d.\u0275\u0275inject(O.Zgn),d.\u0275\u0275inject(O.kzi))}}static{this.\u0275prov=d.\u0275\u0275defineInjectable({token:C,factory:C.\u0275fac})}}return C})();var be=m(99889);let ue=(()=>{class C{constructor(e,i,c,h,y,P,U){this._httpClient=e,this._entitySchemaRepository=i,this._entityId=c,this._entitySchemaName=h,this._featureService=y,this._sysSettingsService=P,this._entitySchemaUId=U,this._getContactsFromDbMethod="/rest/ESNFeedModuleService/GetContactsForMention",this._getContactsFromEsMethod="/rest/ESNFeedModuleService/GetESContactsForMention",this._searchPageSize=15,this._useGlobalSearch=!1,this._featureService.getFeaturesState(["GlobalSearch_V2","ESMention","UseContactMentionFilterComparisonTypeForContactMention"]).subscribe(Z=>{const G=Z?.slice(0,2),ce=Z&&Z[2];this._useGlobalSearch=G?.length===2&&!G.includes(!1),ce&&(this._comparisonType=l.ComparisonType.Contain)})}_getSchemaUId(){return this._entitySchemaUId&&!(0,l.isEmptyGuid)(this._entitySchemaUId)?(0,o.of)(this._entitySchemaUId):this._entitySchemaRepository.getSchemaByName(this._entitySchemaName).pipe((0,M.T)(e=>e.uId))}_mapContactsResponse(e){return e.result.map(i=>({value:i.value,displayValue:i.displayValue,primaryImageValue:i.primaryImage,connectionType:i.connectionType}))}_getComparisonType(){return this._comparisonType?(0,o.of)(this._comparisonType):this._sysSettingsService.getByCode("StringColumnSearchComparisonType").pipe((0,M.T)(e=>e?.value===1?l.ComparisonType.Contain:l.ComparisonType.Start_with),(0,M.T)(e=>(this._comparisonType=e,e)))}_getMentionsFromDb(e){return(0,o.forkJoin)([this._getSchemaUId(),this._getComparisonType()]).pipe((0,I.n)(([i,c])=>this._httpClient.post(this._getContactsFromDbMethod,{entityId:this._entityId,entitySchemaUId:i,searchName:e,searchType:c}).pipe((0,M.T)(h=>this._mapContactsResponse(h)))))}_getMentionsFromGlobalSearch(e){if((0,v.A)(e))return(0,o.of)([]);const i=(e||s.Qf.empty).trim().split(" ").map(c=>c.trim());return this._httpClient.post(this._getContactsFromEsMethod,{query:i,rowsOffset:0,rowCount:this._searchPageSize}).pipe((0,M.T)(c=>this._mapContactsResponse(c)))}getContacts(e){return this._useGlobalSearch?this._getMentionsFromGlobalSearch(e):this._getMentionsFromDb(e)}static{this.\u0275fac=function(i){d.\u0275\u0275invalidFactory()}}static{this.\u0275prov=d.\u0275\u0275defineInjectable({token:C,factory:C.\u0275fac})}}return C})(),_e=(()=>{class C{constructor(e,i,c,h){this._httpClient=e,this._entitySchemaRepository=i,this._featureService=c,this._sysSettingsService=h}getInstance(e,i,c){return new ue(this._httpClient,this._entitySchemaRepository,e,i,this._featureService,this._sysSettingsService,c)}static{this.\u0275fac=function(i){return new(i||C)(d.\u0275\u0275inject(x.HttpClient),d.\u0275\u0275inject(O.vp2),d.\u0275\u0275inject(le.wf),d.\u0275\u0275inject(le.AS))}}static{this.\u0275prov=d.\u0275\u0275defineInjectable({token:C,factory:C.\u0275fac})}}return C})()},71348:q=>{q.exports=`<svg width="17" height="17" viewBox="0 0 17 17" fill="none" xmlns="http://www.w3.org/2000/svg">
	<path d="M11.41 9.7832L14.41 6.7832L11.41 3.7832" stroke="#0D2E4E" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
	<path d="M2.41003 12.7832C2.41003 11.1919 3.04218 9.66578 4.16739 8.54056C5.29261 7.41534 6.81874 6.7832 8.41003 6.7832H14.41" stroke="#0D2E4E" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
</svg>
`},62127:q=>{q.exports=`<svg width="73" height="64" viewBox="0 0 73 64" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M39.6128 25.1749H18.6128C16.9559 25.1749 15.6128 26.5181 15.6128 28.1749C15.6128 29.8318 16.9559 31.1749 18.6128 31.1749H39.6128C41.2696 31.1749 42.6128 29.8318 42.6128 28.1749C42.6128 26.5181 41.2696 25.1749 39.6128 25.1749Z" fill="#D1D1D1"/>
<path d="M53.6128 35.1749H18.6128C16.9559 35.1749 15.6128 36.5181 15.6128 38.1749C15.6128 39.8318 16.9559 41.1749 18.6128 41.1749H53.6128C55.2696 41.1749 56.6128 39.8318 56.6128 38.1749C56.6128 36.5181 55.2696 35.1749 53.6128 35.1749Z" fill="#D1D1D1"/>
<path d="M53.998 27.454V30.9513C53.998 31.1514 54.2593 31.2275 54.3667 31.0587L56.0831 28.3619L53.998 27.454Z" fill="#004FD6"/>
<path fill-rule="evenodd" clip-rule="evenodd" d="M61.9104 17.6219C61.9908 16.803 61.103 16.2429 60.3985 16.6681L48.9928 23.5514C48.2977 23.9709 48.3658 25.0001 49.1101 25.3243L52.1202 26.6359L58.0677 21.0965C58.2443 20.932 58.5071 21.1632 58.3665 21.3593L53.998 27.454L56.0831 28.3619L59.3996 29.8074C60.022 30.0787 60.7281 29.6641 60.7944 28.9884L61.9104 17.6219Z" fill="#004FD6"/>
<path d="M46.834 17.1179H11.25C9.59315 17.1179 8.25 18.4611 8.25 20.1179V46.2319C8.25 47.8888 9.59314 49.2319 11.25 49.2319H61.25C62.9069 49.2319 64.25 47.8888 64.25 46.2319V36.1749" stroke="#70ACEE" stroke-linecap="round"/>
</svg>
`},90277:q=>{q.exports=`<svg width="17" height="17" viewBox="0 0 17 17" fill="none" xmlns="http://www.w3.org/2000/svg">
	<path d="M5.41003 9.7832L2.41003 6.7832L5.41003 3.7832" stroke="#0D2E4E" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
	<path d="M8.41003 9.7832L5.41003 6.7832L8.41003 3.7832" stroke="#0D2E4E" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
	<path d="M14.41 12.7832C14.41 11.1919 13.7779 9.66578 12.6527 8.54056C11.5275 7.41534 10.0013 6.7832 8.41003 6.7832H5.41003" stroke="#0D2E4E" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
</svg>
`},5719:q=>{q.exports=`<svg width="17" height="17" viewBox="0 0 17 17" fill="none" xmlns="http://www.w3.org/2000/svg">
	<path d="M5.41003 9.7832L2.41003 6.7832L5.41003 3.7832" stroke="#0D2E4E" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
	<path d="M14.41 12.7832C14.41 11.1919 13.7779 9.66578 12.6527 8.54056C11.5275 7.41534 10.0013 6.7832 8.41003 6.7832H2.41003" stroke="#0D2E4E" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
</svg>
`}}]);
