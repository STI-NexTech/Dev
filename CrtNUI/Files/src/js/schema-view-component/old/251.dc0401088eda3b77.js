(self.webpackChunkapp_studio_enterprise_schema_view=self.webpackChunkapp_studio_enterprise_schema_view||[]).push([[251],{22185:function(rt){/*! https://mths.be/cssescape v1.5.1 by @mathias | MIT license */(function(G,m){rt.exports=m(G)})(typeof global<"u"?global:this,function(G){if(G.CSS&&G.CSS.escape)return G.CSS.escape;var m=function(s){if(arguments.length==0)throw new TypeError("`CSS.escape` requires an argument.");for(var E=String(s),g=E.length,_=-1,p,o="",c=E.charCodeAt(0);++_<g;){if(p=E.charCodeAt(_),p==0){o+="\uFFFD";continue}if(p>=1&&p<=31||p==127||_==0&&p>=48&&p<=57||_==1&&p>=48&&p<=57&&c==45){o+="\\"+p.toString(16)+" ";continue}if(_==0&&g==1&&p==45){o+="\\"+E.charAt(_);continue}if(p>=128||p==45||p==95||p>=48&&p<=57||p>=65&&p<=90||p>=97&&p<=122){o+=E.charAt(_);continue}o+="\\"+E.charAt(_)}return o};return G.CSS||(G.CSS={}),G.CSS.escape=m,m})},66716:(rt,G,m)=>{var s;/*! Hammer.JS - v2.0.7 - 2016-04-22
* http://hammerjs.github.io/
*
* Copyright (c) 2016 Jorik Tangelder;
* Licensed under the MIT license */(function(E,g,_,p){"use strict";var o=["","webkit","Moz","MS","ms","o"],c=g.createElement("div"),i="function",v=Math.round,u=Math.abs,r=Date.now;function t(A,b,K){return setTimeout(T(A,K),b)}function n(A,b,K){return Array.isArray(A)?(e(A,K[b],K),!0):!1}function e(A,b,K){var et;if(A)if(A.forEach)A.forEach(b,K);else if(A.length!==p)for(et=0;et<A.length;)b.call(K,A[et],et,A),et++;else for(et in A)A.hasOwnProperty(et)&&b.call(K,A[et],et,A)}function a(A,b,K){var et="DEPRECATED METHOD: "+b+`
`+K+` AT 
`;return function(){var at=new Error("get-stack-trace"),ct=at&&at.stack?at.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",ht=E.console&&(E.console.warn||E.console.log);return ht&&ht.call(E.console,et,ct),A.apply(this,arguments)}}var f;typeof Object.assign!="function"?f=function(b){if(b===p||b===null)throw new TypeError("Cannot convert undefined or null to object");for(var K=Object(b),et=1;et<arguments.length;et++){var at=arguments[et];if(at!==p&&at!==null)for(var ct in at)at.hasOwnProperty(ct)&&(K[ct]=at[ct])}return K}:f=Object.assign;var C=a(function(b,K,et){for(var at=Object.keys(K),ct=0;ct<at.length;)(!et||et&&b[at[ct]]===p)&&(b[at[ct]]=K[at[ct]]),ct++;return b},"extend","Use `assign`."),P=a(function(b,K){return C(b,K,!0)},"merge","Use `assign`.");function y(A,b,K){var et=b.prototype,at;at=A.prototype=Object.create(et),at.constructor=A,at._super=et,K&&f(at,K)}function T(A,b){return function(){return A.apply(b,arguments)}}function I(A,b){return typeof A==i?A.apply(b&&b[0]||p,b):A}function D(A,b){return A===p?b:A}function R(A,b,K){e(Y(b),function(et){A.addEventListener(et,K,!1)})}function U(A,b,K){e(Y(b),function(et){A.removeEventListener(et,K,!1)})}function L(A,b){for(;A;){if(A==b)return!0;A=A.parentNode}return!1}function N(A,b){return A.indexOf(b)>-1}function Y(A){return A.trim().split(/\s+/g)}function Q(A,b,K){if(A.indexOf&&!K)return A.indexOf(b);for(var et=0;et<A.length;){if(K&&A[et][K]==b||!K&&A[et]===b)return et;et++}return-1}function it(A){return Array.prototype.slice.call(A,0)}function tt(A,b,K){for(var et=[],at=[],ct=0;ct<A.length;){var ht=b?A[ct][b]:A[ct];Q(at,ht)<0&&et.push(A[ct]),at[ct]=ht,ct++}return K&&(b?et=et.sort(function(yt,mt){return yt[b]>mt[b]}):et=et.sort()),et}function $(A,b){for(var K,et,at=b[0].toUpperCase()+b.slice(1),ct=0;ct<o.length;){if(K=o[ct],et=K?K+at:b,et in A)return et;ct++}return p}var W=1;function O(){return W++}function l(A){var b=A.ownerDocument||A;return b.defaultView||b.parentWindow||E}var x=/mobile|tablet|ip(ad|hone|od)|android/i,h="ontouchstart"in E,d=$(E,"PointerEvent")!==p,M=h&&x.test(navigator.userAgent),S="touch",j="pen",B="mouse",V="kinect",J=25,X=1,q=2,nt=4,F=8,H=1,k=2,w=4,z=8,Z=16,ot=k|w,st=z|Z,ut=ot|st,ft=["x","y"],lt=["clientX","clientY"];function vt(A,b){var K=this;this.manager=A,this.callback=b,this.element=A.element,this.target=A.options.inputTarget,this.domHandler=function(et){I(A.options.enable,[A])&&K.handler(et)},this.init()}vt.prototype={handler:function(){},init:function(){this.evEl&&R(this.element,this.evEl,this.domHandler),this.evTarget&&R(this.target,this.evTarget,this.domHandler),this.evWin&&R(l(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&U(this.element,this.evEl,this.domHandler),this.evTarget&&U(this.target,this.evTarget,this.domHandler),this.evWin&&U(l(this.element),this.evWin,this.domHandler)}};function dt(A){var b,K=A.options.inputClass;return K?b=K:d?b=Ut:M?b=Zt:h?b=se:b=At,new b(A,pt)}function pt(A,b,K){var et=K.pointers.length,at=K.changedPointers.length,ct=b&X&&et-at===0,ht=b&(nt|F)&&et-at===0;K.isFirst=!!ct,K.isFinal=!!ht,ct&&(A.session={}),K.eventType=b,Pt(A,K),A.emit("hammer.input",K),A.recognize(K),A.session.prevInput=K}function Pt(A,b){var K=A.session,et=b.pointers,at=et.length;K.firstInput||(K.firstInput=kt(b)),at>1&&!K.firstMultiple?K.firstMultiple=kt(b):at===1&&(K.firstMultiple=!1);var ct=K.firstInput,ht=K.firstMultiple,gt=ht?ht.center:ct.center,yt=b.center=Ht(et);b.timeStamp=r(),b.deltaTime=b.timeStamp-ct.timeStamp,b.angle=Lt(gt,yt),b.distance=It(gt,yt),ie(K,b),b.offsetDirection=Kt(b.deltaX,b.deltaY);var mt=zt(b.deltaTime,b.deltaX,b.deltaY);b.overallVelocityX=mt.x,b.overallVelocityY=mt.y,b.overallVelocity=u(mt.x)>u(mt.y)?mt.x:mt.y,b.scale=ht?Vt(ht.pointers,et):1,b.rotation=ht?Gt(ht.pointers,et):0,b.maxPointers=K.prevInput?b.pointers.length>K.prevInput.maxPointers?b.pointers.length:K.prevInput.maxPointers:b.pointers.length,re(K,b);var Tt=A.element;L(b.srcEvent.target,Tt)&&(Tt=b.srcEvent.target),b.target=Tt}function ie(A,b){var K=b.center,et=A.offsetDelta||{},at=A.prevDelta||{},ct=A.prevInput||{};(b.eventType===X||ct.eventType===nt)&&(at=A.prevDelta={x:ct.deltaX||0,y:ct.deltaY||0},et=A.offsetDelta={x:K.x,y:K.y}),b.deltaX=at.x+(K.x-et.x),b.deltaY=at.y+(K.y-et.y)}function re(A,b){var K=A.lastInterval||b,et=b.timeStamp-K.timeStamp,at,ct,ht,gt;if(b.eventType!=F&&(et>J||K.velocity===p)){var yt=b.deltaX-K.deltaX,mt=b.deltaY-K.deltaY,Tt=zt(et,yt,mt);ct=Tt.x,ht=Tt.y,at=u(Tt.x)>u(Tt.y)?Tt.x:Tt.y,gt=Kt(yt,mt),A.lastInterval=b}else at=K.velocity,ct=K.velocityX,ht=K.velocityY,gt=K.direction;b.velocity=at,b.velocityX=ct,b.velocityY=ht,b.direction=gt}function kt(A){for(var b=[],K=0;K<A.pointers.length;)b[K]={clientX:v(A.pointers[K].clientX),clientY:v(A.pointers[K].clientY)},K++;return{timeStamp:r(),pointers:b,center:Ht(b),deltaX:A.deltaX,deltaY:A.deltaY}}function Ht(A){var b=A.length;if(b===1)return{x:v(A[0].clientX),y:v(A[0].clientY)};for(var K=0,et=0,at=0;at<b;)K+=A[at].clientX,et+=A[at].clientY,at++;return{x:v(K/b),y:v(et/b)}}function zt(A,b,K){return{x:b/A||0,y:K/A||0}}function Kt(A,b){return A===b?H:u(A)>=u(b)?A<0?k:w:b<0?z:Z}function It(A,b,K){K||(K=ft);var et=b[K[0]]-A[K[0]],at=b[K[1]]-A[K[1]];return Math.sqrt(et*et+at*at)}function Lt(A,b,K){K||(K=ft);var et=b[K[0]]-A[K[0]],at=b[K[1]]-A[K[1]];return Math.atan2(at,et)*180/Math.PI}function Gt(A,b){return Lt(b[1],b[0],lt)+Lt(A[1],A[0],lt)}function Vt(A,b){return It(b[0],b[1],lt)/It(A[0],A[1],lt)}var Jt={mousedown:X,mousemove:q,mouseup:nt},St="mousedown",Yt="mousemove mouseup";function At(){this.evEl=St,this.evWin=Yt,this.pressed=!1,vt.apply(this,arguments)}y(At,vt,{handler:function(b){var K=Jt[b.type];K&X&&b.button===0&&(this.pressed=!0),K&q&&b.which!==1&&(K=nt),this.pressed&&(K&nt&&(this.pressed=!1),this.callback(this.manager,K,{pointers:[b],changedPointers:[b],pointerType:B,srcEvent:b}))}});var $t={pointerdown:X,pointermove:q,pointerup:nt,pointercancel:F,pointerout:F},xt={2:S,3:j,4:B,5:V},Xt="pointerdown",jt="pointermove pointerup pointercancel";E.MSPointerEvent&&!E.PointerEvent&&(Xt="MSPointerDown",jt="MSPointerMove MSPointerUp MSPointerCancel");function Ut(){this.evEl=Xt,this.evWin=jt,vt.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}y(Ut,vt,{handler:function(b){var K=this.store,et=!1,at=b.type.toLowerCase().replace("ms",""),ct=$t[at],ht=xt[b.pointerType]||b.pointerType,gt=ht==S,yt=Q(K,b.pointerId,"pointerId");ct&X&&(b.button===0||gt)?yt<0&&(K.push(b),yt=K.length-1):ct&(nt|F)&&(et=!0),!(yt<0)&&(K[yt]=b,this.callback(this.manager,ct,{pointers:K,changedPointers:[b],pointerType:ht,srcEvent:b}),et&&K.splice(yt,1))}});var Bt={touchstart:X,touchmove:q,touchend:nt,touchcancel:F},oe="touchstart",ae="touchstart touchmove touchend touchcancel";function ve(){this.evTarget=oe,this.evWin=ae,this.started=!1,vt.apply(this,arguments)}y(ve,vt,{handler:function(b){var K=Bt[b.type];if(K===X&&(this.started=!0),!!this.started){var et=Oe.call(this,b,K);K&(nt|F)&&et[0].length-et[1].length===0&&(this.started=!1),this.callback(this.manager,K,{pointers:et[0],changedPointers:et[1],pointerType:S,srcEvent:b})}}});function Oe(A,b){var K=it(A.touches),et=it(A.changedTouches);return b&(nt|F)&&(K=tt(K.concat(et),"identifier",!0)),[K,et]}var Se={touchstart:X,touchmove:q,touchend:nt,touchcancel:F},we="touchstart touchmove touchend touchcancel";function Zt(){this.evTarget=we,this.targetIds={},vt.apply(this,arguments)}y(Zt,vt,{handler:function(b){var K=Se[b.type],et=Ae.call(this,b,K);et&&this.callback(this.manager,K,{pointers:et[0],changedPointers:et[1],pointerType:S,srcEvent:b})}});function Ae(A,b){var K=it(A.touches),et=this.targetIds;if(b&(X|q)&&K.length===1)return et[K[0].identifier]=!0,[K,K];var at,ct,ht=it(A.changedTouches),gt=[],yt=this.target;if(ct=K.filter(function(mt){return L(mt.target,yt)}),b===X)for(at=0;at<ct.length;)et[ct[at].identifier]=!0,at++;for(at=0;at<ht.length;)et[ht[at].identifier]&&gt.push(ht[at]),b&(nt|F)&&delete et[ht[at].identifier],at++;if(gt.length)return[tt(ct.concat(gt),"identifier",!0),gt]}var Re=2500,ge=25;function se(){vt.apply(this,arguments);var A=T(this.handler,this);this.touch=new Zt(this.manager,A),this.mouse=new At(this.manager,A),this.primaryTouch=null,this.lastTouches=[]}y(se,vt,{handler:function(b,K,et){var at=et.pointerType==S,ct=et.pointerType==B;if(!(ct&&et.sourceCapabilities&&et.sourceCapabilities.firesTouchEvents)){if(at)De.call(this,K,et);else if(ct&&Ie.call(this,et))return;this.callback(b,K,et)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});function De(A,b){A&X?(this.primaryTouch=b.changedPointers[0].identifier,ye.call(this,b)):A&(nt|F)&&ye.call(this,b)}function ye(A){var b=A.changedPointers[0];if(b.identifier===this.primaryTouch){var K={x:b.clientX,y:b.clientY};this.lastTouches.push(K);var et=this.lastTouches,at=function(){var ct=et.indexOf(K);ct>-1&&et.splice(ct,1)};setTimeout(at,Re)}}function Ie(A){for(var b=A.srcEvent.clientX,K=A.srcEvent.clientY,et=0;et<this.lastTouches.length;et++){var at=this.lastTouches[et],ct=Math.abs(b-at.x),ht=Math.abs(K-at.y);if(ct<=ge&&ht<=ge)return!0}return!1}var me=$(c.style,"touchAction"),_e=me!==p,Ee="compute",xe="auto",ce="manipulation",Rt="none",Nt="pan-x",Ft="pan-y",Qt=Ue();function ue(A,b){this.manager=A,this.set(b)}ue.prototype={set:function(A){A==Ee&&(A=this.compute()),_e&&this.manager.element.style&&Qt[A]&&(this.manager.element.style[me]=A),this.actions=A.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var A=[];return e(this.manager.recognizers,function(b){I(b.options.enable,[b])&&(A=A.concat(b.getTouchAction()))}),Le(A.join(" "))},preventDefaults:function(A){var b=A.srcEvent,K=A.offsetDirection;if(this.manager.session.prevented){b.preventDefault();return}var et=this.actions,at=N(et,Rt)&&!Qt[Rt],ct=N(et,Ft)&&!Qt[Ft],ht=N(et,Nt)&&!Qt[Nt];if(at){var gt=A.pointers.length===1,yt=A.distance<2,mt=A.deltaTime<250;if(gt&&yt&&mt)return}if(!(ht&&ct)&&(at||ct&&K&ot||ht&&K&st))return this.preventSrc(b)},preventSrc:function(A){this.manager.session.prevented=!0,A.preventDefault()}};function Le(A){if(N(A,Rt))return Rt;var b=N(A,Nt),K=N(A,Ft);return b&&K?Rt:b||K?b?Nt:Ft:N(A,ce)?ce:xe}function Ue(){if(!_e)return!1;var A={},b=E.CSS&&E.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(K){A[K]=b?E.CSS.supports("touch-action",K):!0}),A}var qt=1,_t=2,bt=4,wt=8,Mt=wt,Wt=16,Ct=32;function Ot(A){this.options=f({},this.defaults,A||{}),this.id=O(),this.manager=null,this.options.enable=D(this.options.enable,!0),this.state=qt,this.simultaneous={},this.requireFail=[]}Ot.prototype={defaults:{},set:function(A){return f(this.options,A),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(A){if(n(A,"recognizeWith",this))return this;var b=this.simultaneous;return A=te(A,this),b[A.id]||(b[A.id]=A,A.recognizeWith(this)),this},dropRecognizeWith:function(A){return n(A,"dropRecognizeWith",this)?this:(A=te(A,this),delete this.simultaneous[A.id],this)},requireFailure:function(A){if(n(A,"requireFailure",this))return this;var b=this.requireFail;return A=te(A,this),Q(b,A)===-1&&(b.push(A),A.requireFailure(this)),this},dropRequireFailure:function(A){if(n(A,"dropRequireFailure",this))return this;A=te(A,this);var b=Q(this.requireFail,A);return b>-1&&this.requireFail.splice(b,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(A){return!!this.simultaneous[A.id]},emit:function(A){var b=this,K=this.state;function et(at){b.manager.emit(at,A)}K<wt&&et(b.options.event+Ce(K)),et(b.options.event),A.additionalEvent&&et(A.additionalEvent),K>=wt&&et(b.options.event+Ce(K))},tryEmit:function(A){if(this.canEmit())return this.emit(A);this.state=Ct},canEmit:function(){for(var A=0;A<this.requireFail.length;){if(!(this.requireFail[A].state&(Ct|qt)))return!1;A++}return!0},recognize:function(A){var b=f({},A);if(!I(this.options.enable,[this,b])){this.reset(),this.state=Ct;return}this.state&(Mt|Wt|Ct)&&(this.state=qt),this.state=this.process(b),this.state&(_t|bt|wt|Wt)&&this.tryEmit(b)},process:function(A){},getTouchAction:function(){},reset:function(){}};function Ce(A){return A&Wt?"cancel":A&wt?"end":A&bt?"move":A&_t?"start":""}function Te(A){return A==Z?"down":A==z?"up":A==k?"left":A==w?"right":""}function te(A,b){var K=b.manager;return K?K.get(A):A}function Et(){Ot.apply(this,arguments)}y(Et,Ot,{defaults:{pointers:1},attrTest:function(A){var b=this.options.pointers;return b===0||A.pointers.length===b},process:function(A){var b=this.state,K=A.eventType,et=b&(_t|bt),at=this.attrTest(A);return et&&(K&F||!at)?b|Wt:et||at?K&nt?b|wt:b&_t?b|bt:_t:Ct}});function ee(){Et.apply(this,arguments),this.pX=null,this.pY=null}y(ee,Et,{defaults:{event:"pan",threshold:10,pointers:1,direction:ut},getTouchAction:function(){var A=this.options.direction,b=[];return A&ot&&b.push(Ft),A&st&&b.push(Nt),b},directionTest:function(A){var b=this.options,K=!0,et=A.distance,at=A.direction,ct=A.deltaX,ht=A.deltaY;return at&b.direction||(b.direction&ot?(at=ct===0?H:ct<0?k:w,K=ct!=this.pX,et=Math.abs(A.deltaX)):(at=ht===0?H:ht<0?z:Z,K=ht!=this.pY,et=Math.abs(A.deltaY))),A.direction=at,K&&et>b.threshold&&at&b.direction},attrTest:function(A){return Et.prototype.attrTest.call(this,A)&&(this.state&_t||!(this.state&_t)&&this.directionTest(A))},emit:function(A){this.pX=A.deltaX,this.pY=A.deltaY;var b=Te(A.direction);b&&(A.additionalEvent=this.options.event+b),this._super.emit.call(this,A)}});function le(){Et.apply(this,arguments)}y(le,Et,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[Rt]},attrTest:function(A){return this._super.attrTest.call(this,A)&&(Math.abs(A.scale-1)>this.options.threshold||this.state&_t)},emit:function(A){if(A.scale!==1){var b=A.scale<1?"in":"out";A.additionalEvent=this.options.event+b}this._super.emit.call(this,A)}});function fe(){Ot.apply(this,arguments),this._timer=null,this._input=null}y(fe,Ot,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return[xe]},process:function(A){var b=this.options,K=A.pointers.length===b.pointers,et=A.distance<b.threshold,at=A.deltaTime>b.time;if(this._input=A,!et||!K||A.eventType&(nt|F)&&!at)this.reset();else if(A.eventType&X)this.reset(),this._timer=t(function(){this.state=Mt,this.tryEmit()},b.time,this);else if(A.eventType&nt)return Mt;return Ct},reset:function(){clearTimeout(this._timer)},emit:function(A){this.state===Mt&&(A&&A.eventType&nt?this.manager.emit(this.options.event+"up",A):(this._input.timeStamp=r(),this.manager.emit(this.options.event,this._input)))}});function he(){Et.apply(this,arguments)}y(he,Et,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[Rt]},attrTest:function(A){return this._super.attrTest.call(this,A)&&(Math.abs(A.rotation)>this.options.threshold||this.state&_t)}});function de(){Et.apply(this,arguments)}y(de,Et,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:ot|st,pointers:1},getTouchAction:function(){return ee.prototype.getTouchAction.call(this)},attrTest:function(A){var b=this.options.direction,K;return b&(ot|st)?K=A.overallVelocity:b&ot?K=A.overallVelocityX:b&st&&(K=A.overallVelocityY),this._super.attrTest.call(this,A)&&b&A.offsetDirection&&A.distance>this.options.threshold&&A.maxPointers==this.options.pointers&&u(K)>this.options.velocity&&A.eventType&nt},emit:function(A){var b=Te(A.offsetDirection);b&&this.manager.emit(this.options.event+b,A),this.manager.emit(this.options.event,A)}});function ne(){Ot.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}y(ne,Ot,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[ce]},process:function(A){var b=this.options,K=A.pointers.length===b.pointers,et=A.distance<b.threshold,at=A.deltaTime<b.time;if(this.reset(),A.eventType&X&&this.count===0)return this.failTimeout();if(et&&at&&K){if(A.eventType!=nt)return this.failTimeout();var ct=this.pTime?A.timeStamp-this.pTime<b.interval:!0,ht=!this.pCenter||It(this.pCenter,A.center)<b.posThreshold;this.pTime=A.timeStamp,this.pCenter=A.center,!ht||!ct?this.count=1:this.count+=1,this._input=A;var gt=this.count%b.taps;if(gt===0)return this.hasRequireFailures()?(this._timer=t(function(){this.state=Mt,this.tryEmit()},b.interval,this),_t):Mt}return Ct},failTimeout:function(){return this._timer=t(function(){this.state=Ct},this.options.interval,this),Ct},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==Mt&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}});function Dt(A,b){return b=b||{},b.recognizers=D(b.recognizers,Dt.defaults.preset),new pe(A,b)}Dt.VERSION="2.0.7",Dt.defaults={domEvents:!1,touchAction:Ee,enable:!0,inputTarget:null,inputClass:null,preset:[[he,{enable:!1}],[le,{enable:!1},["rotate"]],[de,{direction:ot}],[ee,{direction:ot},["swipe"]],[ne],[ne,{event:"doubletap",taps:2},["tap"]],[fe]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};var Be=1,Pe=2;function pe(A,b){this.options=f({},Dt.defaults,b||{}),this.options.inputTarget=this.options.inputTarget||A,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=A,this.input=dt(this),this.touchAction=new ue(this,this.options.touchAction),Me(this,!0),e(this.options.recognizers,function(K){var et=this.add(new K[0](K[1]));K[2]&&et.recognizeWith(K[2]),K[3]&&et.requireFailure(K[3])},this)}pe.prototype={set:function(A){return f(this.options,A),A.touchAction&&this.touchAction.update(),A.inputTarget&&(this.input.destroy(),this.input.target=A.inputTarget,this.input.init()),this},stop:function(A){this.session.stopped=A?Pe:Be},recognize:function(A){var b=this.session;if(!b.stopped){this.touchAction.preventDefaults(A);var K,et=this.recognizers,at=b.curRecognizer;(!at||at&&at.state&Mt)&&(at=b.curRecognizer=null);for(var ct=0;ct<et.length;)K=et[ct],b.stopped!==Pe&&(!at||K==at||K.canRecognizeWith(at))?K.recognize(A):K.reset(),!at&&K.state&(_t|bt|wt)&&(at=b.curRecognizer=K),ct++}},get:function(A){if(A instanceof Ot)return A;for(var b=this.recognizers,K=0;K<b.length;K++)if(b[K].options.event==A)return b[K];return null},add:function(A){if(n(A,"add",this))return this;var b=this.get(A.options.event);return b&&this.remove(b),this.recognizers.push(A),A.manager=this,this.touchAction.update(),A},remove:function(A){if(n(A,"remove",this))return this;if(A=this.get(A),A){var b=this.recognizers,K=Q(b,A);K!==-1&&(b.splice(K,1),this.touchAction.update())}return this},on:function(A,b){if(A!==p&&b!==p){var K=this.handlers;return e(Y(A),function(et){K[et]=K[et]||[],K[et].push(b)}),this}},off:function(A,b){if(A!==p){var K=this.handlers;return e(Y(A),function(et){b?K[et]&&K[et].splice(Q(K[et],b),1):delete K[et]}),this}},emit:function(A,b){this.options.domEvents&&be(A,b);var K=this.handlers[A]&&this.handlers[A].slice();if(!(!K||!K.length)){b.type=A,b.preventDefault=function(){b.srcEvent.preventDefault()};for(var et=0;et<K.length;)K[et](b),et++}},destroy:function(){this.element&&Me(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}};function Me(A,b){var K=A.element;if(K.style){var et;e(A.options.cssProps,function(at,ct){et=$(K.style,ct),b?(A.oldCssProps[et]=K.style[et],K.style[et]=at):K.style[et]=A.oldCssProps[et]||""}),b||(A.oldCssProps={})}}function be(A,b){var K=g.createEvent("Event");K.initEvent(A,!0,!0),K.gesture=b,b.target.dispatchEvent(K)}f(Dt,{INPUT_START:X,INPUT_MOVE:q,INPUT_END:nt,INPUT_CANCEL:F,STATE_POSSIBLE:qt,STATE_BEGAN:_t,STATE_CHANGED:bt,STATE_ENDED:wt,STATE_RECOGNIZED:Mt,STATE_CANCELLED:Wt,STATE_FAILED:Ct,DIRECTION_NONE:H,DIRECTION_LEFT:k,DIRECTION_RIGHT:w,DIRECTION_UP:z,DIRECTION_DOWN:Z,DIRECTION_HORIZONTAL:ot,DIRECTION_VERTICAL:st,DIRECTION_ALL:ut,Manager:pe,Input:vt,TouchAction:ue,TouchInput:Zt,MouseInput:At,PointerEventInput:Ut,TouchMouseInput:se,SingleTouchInput:ve,Recognizer:Ot,AttrRecognizer:Et,Tap:ne,Pan:ee,Swipe:de,Pinch:le,Rotate:he,Press:fe,on:R,off:U,each:e,merge:P,extend:C,assign:f,inherit:y,bindFn:T,prefixed:$});var je=typeof E<"u"?E:typeof self<"u"?self:{};je.Hammer=Dt,s=function(){return Dt}.call(G,m,G,rt),s!==p&&(rt.exports=s)})(window,document,"Hammer")},51270:rt=>{typeof Object.create=="function"?rt.exports=function(m,s){s&&(m.super_=s,m.prototype=Object.create(s.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}))}:rt.exports=function(m,s){if(s){m.super_=s;var E=function(){};E.prototype=s.prototype,m.prototype=new E,m.prototype.constructor=m}}},63030:(rt,G,m)=>{"use strict";m.d(G,{CF:()=>u,IU:()=>C,Ly:()=>a,Mm:()=>W,P:()=>M,TF:()=>j,YG:()=>S,cK:()=>T,f0:()=>Q,kp:()=>D,zm:()=>O});var s=Object.prototype.toString,E=Object.prototype.hasOwnProperty;function g(B){return B===void 0}function _(B){return s.call(B)==="[object Array]"}function p(B,V){return E.call(B,V)}function o(B,V){var J,X;if(!g(B)){var q=_(B)?i:c;for(var nt in B)if(p(B,nt)&&(J=B[nt],X=V(J,q(nt)),X===!1))return J}}function c(B){return B}function i(B){return Number(B)}function v(B){for(var V=B.style,J=arguments.length,X=Array(J>1?J-1:0),q=1;q<J;q++)X[q-1]=arguments[q];return o(X,function(nt){nt&&o(nt,function(F,H){V[H]=F})}),B}function u(B,V,J){return arguments.length==2?B.getAttribute(V):J===null?B.removeAttribute(V):(B.setAttribute(V,J),B)}var r=[].indexOf,t=function(B,V){if(r)return B.indexOf(V);for(var J=0;J<B.length;++J)if(B[J]===V)return J;return-1},n=/\s+/,e=Object.prototype.toString;function a(B){return new f(B)}function f(B){if(!B||!B.nodeType)throw new Error("A DOM element reference is required");this.el=B,this.list=B.classList}f.prototype.add=function(B){if(this.list)return this.list.add(B),this;var V=this.array(),J=t(V,B);return~J||V.push(B),this.el.className=V.join(" "),this},f.prototype.remove=function(B){if(e.call(B)=="[object RegExp]")return this.removeMatching(B);if(this.list)return this.list.remove(B),this;var V=this.array(),J=t(V,B);return~J&&V.splice(J,1),this.el.className=V.join(" "),this},f.prototype.removeMatching=function(B){for(var V=this.array(),J=0;J<V.length;J++)B.test(V[J])&&this.remove(V[J]);return this},f.prototype.toggle=function(B,V){return this.list?(typeof V<"u"?V!==this.list.toggle(B,V)&&this.list.toggle(B):this.list.toggle(B),this):(typeof V<"u"?V?this.add(B):this.remove(B):this.has(B)?this.remove(B):this.add(B),this)},f.prototype.array=function(){var B=this.el.getAttribute("class")||"",V=B.replace(/^\s+|\s+$/g,""),J=V.split(n);return J[0]===""&&J.shift(),J},f.prototype.has=f.prototype.contains=function(B){return this.list?this.list.contains(B):!!~t(this.array(),B)};function C(B){for(var V;B.childNodes.length;)V=B.childNodes[0],B.removeChild(V);return B}var P=typeof Element<"u"?Element.prototype:{},y=P.matches||P.matchesSelector||P.webkitMatchesSelector||P.mozMatchesSelector||P.msMatchesSelector||P.oMatchesSelector,T=I;function I(B,V){if(!B||B.nodeType!==1)return!1;if(y)return y.call(B,V);for(var J=B.parentNode.querySelectorAll(V),X=0;X<J.length;X++)if(J[X]==B)return!0;return!1}function D(B,V,J){for(var X=J?B:B.parentNode;X&&X.nodeType!==document.DOCUMENT_NODE&&X.nodeType!==document.DOCUMENT_FRAGMENT_NODE;){if(T(X,V))return X;X=X.parentNode}return T(X,V)?X:null}var R=window.addEventListener?"addEventListener":"attachEvent",U=window.removeEventListener?"removeEventListener":"detachEvent",L=R!=="addEventListener"?"on":"",N=function(B,V,J,X){return B[R](L+V,J,X||!1),J},Y=function(B,V,J,X){return B[U](L+V,J,X||!1),J},Q={bind:N,unbind:Y},it=["focus","blur"];function tt(B,V,J,X,q){return it.indexOf(J)!==-1&&(q=!0),Q.bind(B,J,function(nt){var F=nt.target||nt.srcElement;nt.delegateTarget=D(F,V,!0,B),nt.delegateTarget&&X.call(B,nt)},q)}function $(B,V,J,X){return it.indexOf(V)!==-1&&(X=!0),Q.unbind(B,V,J,X)}var W={bind:tt,unbind:$},O=d,l=!1,x;typeof document<"u"&&(x=document.createElement("div"),x.innerHTML='  <link/><table></table><a href="/a">a</a><input type="checkbox"/>',l=!x.getElementsByTagName("link").length,x=void 0);var h={legend:[1,"<fieldset>","</fieldset>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],_default:l?[1,"X<div>","</div>"]:[0,"",""]};h.td=h.th=[3,"<table><tbody><tr>","</tr></tbody></table>"],h.option=h.optgroup=[1,'<select multiple="multiple">',"</select>"],h.thead=h.tbody=h.colgroup=h.caption=h.tfoot=[1,"<table>","</table>"],h.polyline=h.ellipse=h.polygon=h.circle=h.text=h.line=h.path=h.rect=h.g=[1,'<svg xmlns="http://www.w3.org/2000/svg" version="1.1">',"</svg>"];function d(B,V){if(typeof B!="string")throw new TypeError("String expected");V||(V=document);var J=/<([\w:]+)/.exec(B);if(!J)return V.createTextNode(B);B=B.replace(/^\s+|\s+$/g,"");var X=J[1];if(X=="body"){var k=V.createElement("html");return k.innerHTML=B,k.removeChild(k.lastChild)}var q=h[X]||h._default,nt=q[0],F=q[1],H=q[2],k=V.createElement("div");for(k.innerHTML=F+B+H;nt--;)k=k.lastChild;if(k.firstChild==k.lastChild)return k.removeChild(k.firstChild);for(var w=V.createDocumentFragment();k.firstChild;)w.appendChild(k.removeChild(k.firstChild));return w}function M(B,V){return V=V||document,V.querySelector(B)}function S(B,V){return V=V||document,V.querySelectorAll(B)}function j(B){B.parentNode&&B.parentNode.removeChild(B)}},82867:(rt,G,m)=>{rt.exports=m(49389),rt.exports.Collection=m(12251)},12251:rt=>{"use strict";function G(s,E,g,_){var p=g.inverse;return Object.defineProperty(s,"remove",{value:function(o){var c=this.indexOf(o);return c!==-1&&(this.splice(c,1),E.unset(o,p,_)),o}}),Object.defineProperty(s,"contains",{value:function(o){return this.indexOf(o)!==-1}}),Object.defineProperty(s,"add",{value:function(o,c){var i=this.indexOf(o);if(typeof c>"u"){if(i!==-1)return;c=this.length}i!==-1&&this.splice(i,1),this.splice(c,0,o),i===-1&&E.set(o,p,_)}}),Object.defineProperty(s,"__refs_collection",{value:!0}),s}function m(s){return s.__refs_collection===!0}rt.exports.extend=G,rt.exports.isExtended=m},49389:(rt,G,m)=>{"use strict";var s=m(12251);function E(o,c){return Object.prototype.hasOwnProperty.call(o,c.name||c)}function g(o,c,i){var v=s.extend(i[c.name]||[],o,c,i);Object.defineProperty(i,c.name,{enumerable:c.enumerable,value:v}),v.length&&v.forEach(function(u){o.set(u,c.inverse,i)})}function _(o,c,i){var v=c.inverse,u=i[c.name];Object.defineProperty(i,c.name,{configurable:c.configurable,enumerable:c.enumerable,get:function(){return u},set:function(r){if(r!==u){var t=u;u=null,t&&o.unset(t,v,i),u=r,o.set(u,v,i)}}})}function p(o,c){if(!(this instanceof p))return new p(o,c);o.inverse=c,c.inverse=o,this.props={},this.props[o.name]=o,this.props[c.name]=c}p.prototype.bind=function(o,c){if(typeof c=="string"){if(!this.props[c])throw new Error("no property <"+c+"> in ref");c=this.props[c]}c.collection?g(this,c,o):_(this,c,o)},p.prototype.ensureRefsCollection=function(o,c){var i=o[c.name];return s.isExtended(i)||g(this,c,o),i},p.prototype.ensureBound=function(o,c){E(o,c)||this.bind(o,c)},p.prototype.unset=function(o,c,i){o&&(this.ensureBound(o,c),c.collection?this.ensureRefsCollection(o,c).remove(i):o[c.name]=void 0)},p.prototype.set=function(o,c,i){o&&(this.ensureBound(o,c),c.collection?this.ensureRefsCollection(o,c).add(i):o[c.name]=i)},rt.exports=p},38305:rt=>{"use strict";var G=/,?([a-z]),?/gi,m=parseFloat,s=Math,E=s.PI,g=s.min,_=s.max,p=s.pow,o=s.abs,c=/([a-z])[\s,]*((-?\d*\.?\d*(?:e[-+]?\d+)?[\s]*,?[\s]*)+)/ig,i=/(-?\d*\.?\d*(?:e[-+]?\d+)?)[\s]*,?[\s]*/ig,v=Array.isArray||function(h){return h instanceof Array};function u(h,d){return Object.prototype.hasOwnProperty.call(h,d)}function r(h){if(typeof h=="function"||Object(h)!==h)return h;var d=new h.constructor;for(var M in h)u(h,M)&&(d[M]=r(h[M]));return d}function t(h,d){for(var M=0,S=h.length;M<S;M++)if(h[M]===d)return h.push(h.splice(M,1)[0])}function n(h){function d(){var M=Array.prototype.slice.call(arguments,0),S=M.join("\u2400"),j=d.cache=d.cache||{},B=d.count=d.count||[];return u(j,S)?(t(B,S),j[S]):(B.length>=1e3&&delete j[B.shift()],B.push(S),j[S]=h.apply(0,M),j[S])}return d}function e(h){if(!h)return null;var d=a(h);if(d.arr)return r(d.arr);var M={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},S=[];return v(h)&&v(h[0])&&(S=r(h)),S.length||String(h).replace(c,function(j,B,V){var J=[],X=B.toLowerCase();for(V.replace(i,function(q,nt){nt&&J.push(+nt)}),X=="m"&&J.length>2&&(S.push([B].concat(J.splice(0,2))),X="l",B=B=="m"?"l":"L");J.length>=M[X]&&(S.push([B].concat(J.splice(0,M[X]))),!!M[X]););}),S.toString=a.toString,d.arr=r(S),S}function a(h){var d=a.ps=a.ps||{};return d[h]?d[h].sleep=100:d[h]={sleep:100},setTimeout(function(){for(var M in d)u(d,M)&&M!=h&&(d[M].sleep--,!d[M].sleep&&delete d[M])}),d[h]}function f(h,d,M,S){return arguments.length===1&&(d=h.y,M=h.width,S=h.height,h=h.x),{x:h,y:d,width:M,height:S,x2:h+M,y2:d+S}}function C(){return this.join(",").replace(G,"$1")}function P(h){var d=r(h);return d.toString=C,d}function y(h,d,M,S,j,B,V,J,X){var q=1-X,nt=p(q,3),F=p(q,2),H=X*X,k=H*X,w=nt*h+F*3*X*M+q*3*X*X*j+k*V,z=nt*d+F*3*X*S+q*3*X*X*B+k*J;return{x:N(w),y:N(z)}}function T(h){var d=l.apply(null,h);return f(d.x0,d.y0,d.x1-d.x0,d.y1-d.y0)}function I(h,d,M){return d>=h.x&&d<=h.x+h.width&&M>=h.y&&M<=h.y+h.height}function D(h,d){return h=f(h),d=f(d),I(d,h.x,h.y)||I(d,h.x2,h.y)||I(d,h.x,h.y2)||I(d,h.x2,h.y2)||I(h,d.x,d.y)||I(h,d.x2,d.y)||I(h,d.x,d.y2)||I(h,d.x2,d.y2)||(h.x<d.x2&&h.x>d.x||d.x<h.x2&&d.x>h.x)&&(h.y<d.y2&&h.y>d.y||d.y<h.y2&&d.y>h.y)}function R(h,d,M,S,j){var B=-3*d+9*M-9*S+3*j,V=h*B+6*d-12*M+6*S;return h*V-3*d+3*M}function U(h,d,M,S,j,B,V,J,X){X==null&&(X=1),X=X>1?1:X<0?0:X;for(var q=X/2,nt=12,F=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],H=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],k=0,w=0;w<nt;w++){var z=q*F[w]+q,Z=R(z,h,M,j,V),ot=R(z,d,S,B,J),st=Z*Z+ot*ot;k+=H[w]*s.sqrt(st)}return q*k}function L(h,d,M,S,j,B,V,J){if(!(_(h,M)<g(j,V)||g(h,M)>_(j,V)||_(d,S)<g(B,J)||g(d,S)>_(B,J))){var X=(h*S-d*M)*(j-V)-(h-M)*(j*J-B*V),q=(h*S-d*M)*(B-J)-(d-S)*(j*J-B*V),nt=(h-M)*(B-J)-(d-S)*(j-V);if(nt){var F=N(X/nt),H=N(q/nt),k=+F.toFixed(2),w=+H.toFixed(2);if(!(k<+g(h,M).toFixed(2)||k>+_(h,M).toFixed(2)||k<+g(j,V).toFixed(2)||k>+_(j,V).toFixed(2)||w<+g(d,S).toFixed(2)||w>+_(d,S).toFixed(2)||w<+g(B,J).toFixed(2)||w>+_(B,J).toFixed(2)))return{x:F,y:H}}}}function N(h){return Math.round(h*1e11)/1e11}function Y(h,d,M){var S=T(h),j=T(d);if(!D(S,j))return M?0:[];for(var B=U.apply(0,h),V=U.apply(0,d),J=tt(h)?1:~~(B/5)||1,X=tt(d)?1:~~(V/5)||1,q=[],nt=[],F={},H=M?0:[],k=0;k<J+1;k++){var w=y.apply(0,h.concat(k/J));q.push({x:w.x,y:w.y,t:k/J})}for(k=0;k<X+1;k++)w=y.apply(0,d.concat(k/X)),nt.push({x:w.x,y:w.y,t:k/X});for(k=0;k<J;k++)for(var z=0;z<X;z++){var Z=q[k],ot=q[k+1],st=nt[z],ut=nt[z+1],ft=o(ot.x-Z.x)<.01?"y":"x",lt=o(ut.x-st.x)<.01?"y":"x",vt=L(Z.x,Z.y,ot.x,ot.y,st.x,st.y,ut.x,ut.y),dt;if(vt){if(dt=vt.x.toFixed(9)+"#"+vt.y.toFixed(9),F[dt])continue;F[dt]=!0;var pt=Z.t+o((vt[ft]-Z[ft])/(ot[ft]-Z[ft]))*(ot.t-Z.t),Pt=st.t+o((vt[lt]-st[lt])/(ut[lt]-st[lt]))*(ut.t-st.t);pt>=0&&pt<=1&&Pt>=0&&Pt<=1&&(M?H++:H.push({x:vt.x,y:vt.y,t1:pt,t2:Pt}))}}return H}function Q(h,d,M){h=x(h),d=x(d);for(var S,j,B,V,J,X,q,nt,F,H,k=M?0:[],w=0,z=h.length;w<z;w++){var Z=h[w];if(Z[0]=="M")S=J=Z[1],j=X=Z[2];else{Z[0]=="C"?(F=[S,j].concat(Z.slice(1)),S=F[6],j=F[7]):(F=[S,j,S,j,J,X,J,X],S=J,j=X);for(var ot=0,st=d.length;ot<st;ot++){var ut=d[ot];if(ut[0]=="M")B=q=ut[1],V=nt=ut[2];else{ut[0]=="C"?(H=[B,V].concat(ut.slice(1)),B=H[6],V=H[7]):(H=[B,V,B,V,q,nt,q,nt],B=q,V=nt);var ft=Y(F,H,M);if(M)k+=ft;else{for(var lt=0,vt=ft.length;lt<vt;lt++)ft[lt].segment1=w,ft[lt].segment2=ot,ft[lt].bez1=F,ft[lt].bez2=H;k=k.concat(ft)}}}}}return k}function it(h){var d=a(h);if(d.abs)return P(d.abs);if((!v(h)||!v(h&&h[0]))&&(h=e(h)),!h||!h.length)return[["M",0,0]];var M=[],S=0,j=0,B=0,V=0,J=0,X;h[0][0]=="M"&&(S=+h[0][1],j=+h[0][2],B=S,V=j,J++,M[0]=["M",S,j]);for(var q,nt,F=J,H=h.length;F<H;F++){if(M.push(q=[]),nt=h[F],X=nt[0],X!=X.toUpperCase())switch(q[0]=X.toUpperCase(),q[0]){case"A":q[1]=nt[1],q[2]=nt[2],q[3]=nt[3],q[4]=nt[4],q[5]=nt[5],q[6]=+nt[6]+S,q[7]=+nt[7]+j;break;case"V":q[1]=+nt[1]+j;break;case"H":q[1]=+nt[1]+S;break;case"M":B=+nt[1]+S,V=+nt[2]+j;default:for(var k=1,w=nt.length;k<w;k++)q[k]=+nt[k]+(k%2?S:j)}else for(var z=0,Z=nt.length;z<Z;z++)q[z]=nt[z];switch(X=X.toUpperCase(),q[0]){case"Z":S=+B,j=+V;break;case"H":S=q[1];break;case"V":j=q[1];break;case"M":B=q[q.length-2],V=q[q.length-1];default:S=q[q.length-2],j=q[q.length-1]}}return M.toString=C,d.abs=P(M),M}function tt(h){return h[0]===h[2]&&h[1]===h[3]&&h[4]===h[6]&&h[5]===h[7]}function $(h,d,M,S){return[h,d,M,S,M,S]}function W(h,d,M,S,j,B){var V=.3333333333333333,J=2/3;return[V*h+J*M,V*d+J*S,V*j+J*M,V*B+J*S,j,B]}function O(h,d,M,S,j,B,V,J,X,q){var nt=E*120/180,F=E/180*(+j||0),H=[],k,w=n(function(jt,Ut,Bt){var oe=jt*s.cos(Bt)-Ut*s.sin(Bt),ae=jt*s.sin(Bt)+Ut*s.cos(Bt);return{x:oe,y:ae}});if(q)dt=q[0],pt=q[1],lt=q[2],vt=q[3];else{k=w(h,d,-F),h=k.x,d=k.y,k=w(J,X,-F),J=k.x,X=k.y;var z=(h-J)/2,Z=(d-X)/2,ot=z*z/(M*M)+Z*Z/(S*S);ot>1&&(ot=s.sqrt(ot),M=ot*M,S=ot*S);var st=M*M,ut=S*S,ft=(B==V?-1:1)*s.sqrt(o((st*ut-st*Z*Z-ut*z*z)/(st*Z*Z+ut*z*z))),lt=ft*M*Z/S+(h+J)/2,vt=ft*-S*z/M+(d+X)/2,dt=s.asin(((d-vt)/S).toFixed(9)),pt=s.asin(((X-vt)/S).toFixed(9));dt=h<lt?E-dt:dt,pt=J<lt?E-pt:pt,dt<0&&(dt=E*2+dt),pt<0&&(pt=E*2+pt),V&&dt>pt&&(dt=dt-E*2),!V&&pt>dt&&(pt=pt-E*2)}var Pt=pt-dt;if(o(Pt)>nt){var ie=pt,re=J,kt=X;pt=dt+nt*(V&&pt>dt?1:-1),J=lt+M*s.cos(pt),X=vt+S*s.sin(pt),H=O(J,X,M,S,j,0,V,re,kt,[pt,ie,lt,vt])}Pt=pt-dt;var Ht=s.cos(dt),zt=s.sin(dt),Kt=s.cos(pt),It=s.sin(pt),Lt=s.tan(Pt/4),Gt=4/3*M*Lt,Vt=4/3*S*Lt,Jt=[h,d],St=[h+Gt*zt,d-Vt*Ht],Yt=[J+Gt*It,X-Vt*Kt],At=[J,X];if(St[0]=2*Jt[0]-St[0],St[1]=2*Jt[1]-St[1],q)return[St,Yt,At].concat(H);H=[St,Yt,At].concat(H).join().split(",");for(var $t=[],xt=0,Xt=H.length;xt<Xt;xt++)$t[xt]=xt%2?w(H[xt-1],H[xt],F).y:w(H[xt],H[xt+1],F).x;return $t}function l(h,d,M,S,j,B,V,J){for(var X=[],q=[[],[]],nt,F,H,k,w,z,Z,ot,st=0;st<2;++st){if(st==0?(F=6*h-12*M+6*j,nt=-3*h+9*M-9*j+3*V,H=3*M-3*h):(F=6*d-12*S+6*B,nt=-3*d+9*S-9*B+3*J,H=3*S-3*d),o(nt)<1e-12){if(o(F)<1e-12)continue;k=-H/F,0<k&&k<1&&X.push(k);continue}Z=F*F-4*H*nt,ot=s.sqrt(Z),!(Z<0)&&(w=(-F+ot)/(2*nt),0<w&&w<1&&X.push(w),z=(-F-ot)/(2*nt),0<z&&z<1&&X.push(z))}for(var ut=X.length,ft=ut,lt;ut--;)k=X[ut],lt=1-k,q[0][ut]=lt*lt*lt*h+3*lt*lt*k*M+3*lt*k*k*j+k*k*k*V,q[1][ut]=lt*lt*lt*d+3*lt*lt*k*S+3*lt*k*k*B+k*k*k*J;return q[0][ft]=h,q[1][ft]=d,q[0][ft+1]=V,q[1][ft+1]=J,q[0].length=q[1].length=ft+2,{x0:g.apply(0,q[0]),y0:g.apply(0,q[1]),x1:_.apply(0,q[0]),y1:_.apply(0,q[1])}}function x(h){var d=a(h);if(d.curve)return P(d.curve);for(var M=it(h),S={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},j=function(k,w,z){var Z,ot;if(!k)return["C",w.x,w.y,w.x,w.y,w.x,w.y];switch(!(k[0]in{T:1,Q:1})&&(w.qx=w.qy=null),k[0]){case"M":w.X=k[1],w.Y=k[2];break;case"A":k=["C"].concat(O.apply(0,[w.x,w.y].concat(k.slice(1))));break;case"S":z=="C"||z=="S"?(Z=w.x*2-w.bx,ot=w.y*2-w.by):(Z=w.x,ot=w.y),k=["C",Z,ot].concat(k.slice(1));break;case"T":z=="Q"||z=="T"?(w.qx=w.x*2-w.qx,w.qy=w.y*2-w.qy):(w.qx=w.x,w.qy=w.y),k=["C"].concat(W(w.x,w.y,w.qx,w.qy,k[1],k[2]));break;case"Q":w.qx=k[1],w.qy=k[2],k=["C"].concat(W(w.x,w.y,k[1],k[2],k[3],k[4]));break;case"L":k=["C"].concat($(w.x,w.y,k[1],k[2]));break;case"H":k=["C"].concat($(w.x,w.y,k[1],w.y));break;case"V":k=["C"].concat($(w.x,w.y,w.x,k[1]));break;case"Z":k=["C"].concat($(w.x,w.y,w.X,w.Y));break}return k},B=function(k,w){if(k[w].length>7){k[w].shift();for(var z=k[w];z.length;)V[w]="A",k.splice(w++,0,["C"].concat(z.splice(0,6)));k.splice(w,1),nt=M.length}},V=[],J="",X="",q=0,nt=M.length;q<nt;q++){M[q]&&(J=M[q][0]),J!="C"&&(V[q]=J,q&&(X=V[q-1])),M[q]=j(M[q],S,X),V[q]!="A"&&J=="C"&&(V[q]="C"),B(M,q);var F=M[q],H=F.length;S.x=F[H-2],S.y=F[H-1],S.bx=m(F[H-4])||S.x,S.by=m(F[H-3])||S.y}return d.curve=P(M),M}rt.exports=Q},15192:(rt,G,m)=>{"use strict";m.d(G,{A:()=>W});var s=/^class /;function E(O){return s.test(O.toString())}function g(O){return Object.prototype.toString.call(O)==="[object Array]"}function _(){var O=Array.prototype.slice.call(arguments);O.length===1&&g(O[0])&&(O=O[0]);var l=O.pop();return l.$inject=O,l}var p=/constructor\s*[^(]*\(\s*([^)]*)\)/m,o=/^function\s*[^(]*\(\s*([^)]*)\)/m,c=/\/\*([^*]*)\*\//m;function i(O){if(typeof O!="function")throw new Error('Cannot annotate "'+O+'". Expected a function!');var l=O.toString().match(E(O)?p:o);return l?l[1]&&l[1].split(",").map(function(x){return l=x.match(c),l?l[1].trim():x.trim()})||[]:[]}function v(){var O=[];this.factory=function(l,x){return O.push([l,"factory",x]),this},this.value=function(l,x){return O.push([l,"value",x]),this},this.type=function(l,x){return O.push([l,"type",x]),this},this.forEach=function(l){O.forEach(l)}}var u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(O){return typeof O}:function(O){return O&&typeof Symbol=="function"&&O.constructor===Symbol&&O!==Symbol.prototype?"symbol":typeof O};function r(O){if(Array.isArray(O)){for(var l=0,x=Array(O.length);l<O.length;l++)x[l]=O[l];return x}else return Array.from(O)}function t(O,l){l=l||{get:function(H,k){if(x.push(H),k===!1)return null;throw S('No provider for "'+H+'"!')}};var x=[],h=this._providers=Object.create(l._providers||null),d=this._instances=Object.create(null),M=d.injector=this,S=function(H){var k=x.join(" -> ");return x.length=0,new Error(k?H+" (Resolving: "+k+")":H)},j=function F(H,k){if(!h[H]&&H.indexOf(".")!==-1){for(var w=H.split("."),z=F(w.shift());w.length;)z=z[w.shift()];return z}if(n(d,H))return d[H];if(n(h,H)){if(x.indexOf(H)!==-1)throw x.push(H),S("Cannot resolve circular dependency!");return x.push(H),d[H]=h[H][0](h[H][1]),x.pop(),d[H]}return l.get(H,k)},B=function(H){var k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(typeof H!="function")if(g(H))H=_(H.slice());else throw new Error('Cannot invoke "'+H+'". Expected a function!');var w=H.$inject||i(H),z=w.map(function(Z){return n(k,Z)?k[Z]:j(Z)});return{fn:H,dependencies:z}},V=function(H){var k=B(H),w=k.dependencies,z=k.fn;return new(Function.prototype.bind.apply(z,[null].concat(r(w))))},J=function(H,k,w){var z=B(H,w),Z=z.dependencies,ot=z.fn;return ot.call.apply(ot,[k].concat(r(Z)))},X=function(H){return _(function(k){return H.get(k)})},q=function(H,k){if(k&&k.length){var w=Object.create(null),z=Object.create(null),Z=[],ot=[],st=[],ut,ft,lt,vt;for(var dt in h)ut=h[dt],k.indexOf(dt)!==-1&&(ut[2]==="private"?(ft=Z.indexOf(ut[3]),ft===-1?(lt=ut[3].createChild([],k),vt=X(lt),Z.push(ut[3]),ot.push(lt),st.push(vt),w[dt]=[vt,dt,"private",lt]):w[dt]=[st[ft],dt,"private",ot[ft]]):w[dt]=[ut[2],ut[1]],z[dt]=!0),(ut[2]==="factory"||ut[2]==="type")&&ut[1].$scope&&k.forEach(function(pt){ut[1].$scope.indexOf(pt)!==-1&&(w[dt]=[ut[2],ut[1]],z[pt]=!0)});k.forEach(function(pt){if(!z[pt])throw new Error('No provider for "'+pt+'". Cannot use provider from the parent!')}),H.unshift(w)}return new t(H,M)},nt={factory:J,type:V,value:function(H){return H}};O.forEach(function(F){function H(Z,ot){return Z!=="value"&&g(ot)&&(ot=_(ot.slice())),ot}if(F instanceof v)F.forEach(function(Z){var ot=Z[0],st=Z[1],ut=Z[2];h[ot]=[nt[st],H(st,ut),st]});else if((typeof F>"u"?"undefined":u(F))==="object")if(F.__exports__){var k=Object.keys(F).reduce(function(Z,ot){return ot.substring(0,2)!=="__"&&(Z[ot]=F[ot]),Z},Object.create(null)),w=new t((F.__modules__||[]).concat([k]),M),z=_(function(Z){return w.get(Z)});F.__exports__.forEach(function(Z){h[Z]=[z,Z,"private",w]})}else Object.keys(F).forEach(function(Z){if(F[Z][2]==="private"){h[Z]=F[Z];return}var ot=F[Z][0],st=F[Z][1];h[Z]=[nt[ot],H(ot,st),ot]})}),this.get=j,this.invoke=J,this.instantiate=V,this.createChild=q}function n(O,l){return Object.hasOwnProperty.call(O,l)}var e=m(51270),a=m.n(e),f=m(97975),C=m(12619),P=m(33225),y=m(10018),T=1;function I(O,l){f.A.call(this,O,T),this.CONNECTION_STYLE=l.style(["no-fill"],{strokeWidth:5,stroke:"fuchsia"}),this.SHAPE_STYLE=l.style({fill:"white",stroke:"fuchsia",strokeWidth:2}),this.FRAME_STYLE=l.style(["no-fill"],{stroke:"fuchsia",strokeDasharray:4,strokeWidth:2})}a()(I,f.A),I.prototype.canRender=function(){return!0},I.prototype.drawShape=function(l,x){var h=(0,P.vt)("rect");return(0,P.CF)(h,{x:0,y:0,width:x.width||0,height:x.height||0}),(0,y.eb)(x)?(0,P.CF)(h,this.FRAME_STYLE):(0,P.CF)(h,this.SHAPE_STYLE),(0,P.BC)(l,h),h},I.prototype.drawConnection=function(l,x){var h=(0,C.RJ)(x.waypoints,this.CONNECTION_STYLE);return(0,P.BC)(l,h),h},I.prototype.getShapePath=function(l){var x=l.x,h=l.y,d=l.width,M=l.height,S=[["M",x,h],["l",d,0],["l",0,M],["l",-d,0],["z"]];return(0,C.tx)(S)},I.prototype.getConnectionPath=function(l){var x=l.waypoints,h,d,M=[];for(h=0;d=x[h];h++)d=d.original||d,M.push([h===0?"M":"L",d.x,d.y]);return(0,C.tx)(M)},I.$inject=["eventBus","styles"];var D=m(19187);const R={__init__:["defaultRenderer"],defaultRenderer:["type",I],styles:["type",D.A]};var U=m(69034),L=m(54343),N=m(15176),Y=m(95820),Q=m(40969);const it={__depends__:[R],__init__:["canvas"],canvas:["type",U.A],elementRegistry:["type",L.A],elementFactory:["type",N.A],eventBus:["type",Y.A],graphicsFactory:["type",Q.A]};function tt(O){var l=[],x=[];function h(j){return l.indexOf(j)>=0}function d(j){l.push(j)}function M(j){h(j)||((j.__depends__||[]).forEach(M),!h(j)&&(d(j),(j.__init__||[]).forEach(function(B){x.push(B)})))}O.forEach(M);var S=new t(l);return x.forEach(function(j){try{S[typeof j=="string"?"get":"invoke"](j)}catch(B){throw console.error("Failed to instantiate component"),console.error(B.stack),B}}),S}function $(O){O=O||{};var l={config:["value",O]},x=[l,it].concat(O.modules||[]);return tt(x)}function W(O,l){this.injector=l=l||$(O),this.get=l.get,this.invoke=l.invoke,this.get("eventBus").fire("diagram.init")}W.prototype.destroy=function(){this.get("eventBus").fire("diagram.destroy")},W.prototype.clear=function(){this.get("eventBus").fire("diagram.clear")}},29086:(rt,G,m)=>{"use strict";m.d(G,{A:()=>g});var s=m(76594),E=1e3;function g(o){this._eventBus=o}g.$inject=["eventBus"];function _(o,c){return function(i){return o.call(c||null,i.context,i.command,i)}}g.prototype.on=function(o,c,i,v,u,r){if(((0,s.Tn)(c)||(0,s.Et)(c))&&(r=u,u=v,v=i,i=c,c=null),(0,s.Tn)(i)&&(r=u,u=v,v=i,i=E),(0,s.Gv)(u)&&(r=u,u=!1),!(0,s.Tn)(v))throw new Error("handlerFn must be a function");(0,s.cy)(o)||(o=[o]);var t=this._eventBus;(0,s.jJ)(o,function(n){var e=["commandStack",n,c].filter(function(a){return a}).join(".");t.on(e,i,u?_(v,r):v,r)})};var p=["canExecute","preExecute","preExecuted","execute","executed","postExecute","postExecuted","revert","reverted"];(0,s.jJ)(p,function(o){g.prototype[o]=function(c,i,v,u,r){((0,s.Tn)(c)||(0,s.Et)(c))&&(r=u,u=v,v=i,i=c,c=null),this.on(c,o,i,v,u,r)}})},17389:(rt,G,m)=>{"use strict";m.d(G,{A:()=>E});var s=m(76594);function E(g,_){this._handlerMap={},this._stack=[],this._stackIdx=-1,this._currentExecution={actions:[],dirty:[]},this._injector=_,this._eventBus=g,this._uid=1,g.on(["diagram.destroy","diagram.clear"],function(){this.clear(!1)},this)}E.$inject=["eventBus","injector"],E.prototype.execute=function(g,_){if(!g)throw new Error("command required");var p={command:g,context:_};this._pushAction(p),this._internalExecute(p),this._popAction(p)},E.prototype.canExecute=function(g,_){var p={command:g,context:_},o=this._getHandler(g),c=this._fire(g,"canExecute",p);if(c===void 0){if(!o)return!1;o.canExecute&&(c=o.canExecute(_))}return c},E.prototype.clear=function(g){this._stack.length=0,this._stackIdx=-1,g!==!1&&this._fire("changed")},E.prototype.undo=function(){var g=this._getUndoAction(),_;if(g){for(this._pushAction(g);g&&(this._internalUndo(g),_=this._getUndoAction(),!(!_||_.id!==g.id));)g=_;this._popAction()}},E.prototype.redo=function(){var g=this._getRedoAction(),_;if(g){for(this._pushAction(g);g&&(this._internalExecute(g,!0),_=this._getRedoAction(),!(!_||_.id!==g.id));)g=_;this._popAction()}},E.prototype.register=function(g,_){this._setHandler(g,_)},E.prototype.registerHandler=function(g,_){if(!g||!_)throw new Error("command and handlerCls must be defined");var p=this._injector.instantiate(_);this.register(g,p)},E.prototype.canUndo=function(){return!!this._getUndoAction()},E.prototype.canRedo=function(){return!!this._getRedoAction()},E.prototype._getRedoAction=function(){return this._stack[this._stackIdx+1]},E.prototype._getUndoAction=function(){return this._stack[this._stackIdx]},E.prototype._internalUndo=function(g){var _=this,p=g.command,o=g.context,c=this._getHandler(p);this._atomicDo(function(){_._fire(p,"revert",g),c.revert&&_._markDirty(c.revert(o)),_._revertedAction(g),_._fire(p,"reverted",g)})},E.prototype._fire=function(g,_,p){arguments.length<3&&(p=_,_=null);var o=_?[g+"."+_,_]:[g],c,i,v;for(p=this._eventBus.createEvent(p),c=0;(i=o[c])&&(v=this._eventBus.fire("commandStack."+i,p),!p.cancelBubble);c++);return v},E.prototype._createId=function(){return this._uid++},E.prototype._atomicDo=function(g){var _=this._currentExecution;_.atomic=!0;try{g()}finally{_.atomic=!1}},E.prototype._internalExecute=function(g,_){var p=this,o=g.command,c=g.context,i=this._getHandler(o);if(!i)throw new Error("no command handler registered for <"+o+">");this._pushAction(g),_||(this._fire(o,"preExecute",g),i.preExecute&&i.preExecute(c),this._fire(o,"preExecuted",g)),this._atomicDo(function(){p._fire(o,"execute",g),i.execute&&p._markDirty(i.execute(c)),p._executedAction(g,_),p._fire(o,"executed",g)}),_||(this._fire(o,"postExecute",g),i.postExecute&&i.postExecute(c),this._fire(o,"postExecuted",g)),this._popAction(g)},E.prototype._pushAction=function(g){var _=this._currentExecution,p=_.actions,o=p[0];if(_.atomic)throw new Error("illegal invocation in <execute> or <revert> phase (action: "+g.command+")");g.id||(g.id=o&&o.id||this._createId()),p.push(g)},E.prototype._popAction=function(){var g=this._currentExecution,_=g.actions,p=g.dirty;_.pop(),_.length||(this._eventBus.fire("elements.changed",{elements:(0,s.pD)("id",p.reverse())}),p.length=0,this._fire("changed"))},E.prototype._markDirty=function(g){var _=this._currentExecution;g&&(g=(0,s.cy)(g)?g:[g],_.dirty=_.dirty.concat(g))},E.prototype._executedAction=function(g,_){var p=++this._stackIdx;_||this._stack.splice(p,this._stack.length,g)},E.prototype._revertedAction=function(g){this._stackIdx--},E.prototype._getHandler=function(g){return this._handlerMap[g]},E.prototype._setHandler=function(g,_){if(!g||!_)throw new Error("command and handler required");if(this._handlerMap[g])throw new Error("overriding handler for command <"+g+">");this._handlerMap[g]=_}},69034:(rt,G,m)=>{"use strict";m.d(G,{A:()=>r});var s=m(76594),E=m(6958),g=m(10018),_=m(33225);function p(n,e){return Math.round(n*e)/e}function o(n){return(0,s.Et)(n)?n+"px":n}function c(n){n=(0,s.kp)({},{width:"100%",height:"100%"},n);var e=n.container||document.body,a=document.createElement("div");return a.setAttribute("class","djs-container"),(0,s.kp)(a.style,{position:"relative",overflow:"hidden",width:o(n.width),height:o(n.height)}),e.appendChild(a),a}function i(n,e,a){var f=(0,_.vt)("g");(0,_.Ly)(f).add(e);var C=a!==void 0?a:n.childNodes.length-1;return n.insertBefore(f,n.childNodes[C]||null),f}var v="base",u={shape:["x","y","width","height"],connection:["waypoints"]};function r(n,e,a,f){this._eventBus=e,this._elementRegistry=f,this._graphicsFactory=a,this._init(n||{})}r.$inject=["config.canvas","eventBus","graphicsFactory","elementRegistry"],r.prototype._init=function(n){var e=this._eventBus,a=this._container=c(n),f=this._svg=(0,_.vt)("svg");(0,_.CF)(f,{width:"100%",height:"100%"}),(0,_.BC)(a,f);var C=this._viewport=i(f,"viewport");this._layers={},n.deferUpdate!==!1&&(this._viewboxChanged=(0,s.sg)((0,s.oI)(this._viewboxChanged,this),300)),e.on("diagram.init",function(){e.fire("canvas.init",{svg:f,viewport:C})},this),e.on(["shape.added","connection.added","shape.removed","connection.removed","elements.changed"],function(){delete this._cachedViewbox},this),e.on("diagram.destroy",500,this._destroy,this),e.on("diagram.clear",500,this._clear,this)},r.prototype._destroy=function(n){this._eventBus.fire("canvas.destroy",{svg:this._svg,viewport:this._viewport});var e=this._container.parentNode;e&&e.removeChild(this._container),delete this._svg,delete this._container,delete this._layers,delete this._rootElement,delete this._viewport},r.prototype._clear=function(){var n=this,e=this._elementRegistry.getAll();e.forEach(function(a){var f=(0,g.Pw)(a);f==="root"?n.setRootElement(null,!0):n._removeElement(a,f)}),delete this._cachedViewbox},r.prototype.getDefaultLayer=function(){return this.getLayer(v,0)},r.prototype.getLayer=function(n,e){if(!n)throw new Error("must specify a name");var a=this._layers[n];if(a||(a=this._layers[n]=this._createLayer(n,e)),typeof e<"u"&&a.index!==e)throw new Error("layer <"+n+"> already created at index <"+e+">");return a.group},r.prototype._createLayer=function(n,e){e||(e=0);var a=(0,s.TS)(this._layers,function(f,C){return e>=C.index&&f++,f},0);return{group:i(this._viewport,"layer-"+n,a),index:e}},r.prototype.getContainer=function(){return this._container},r.prototype._updateMarker=function(n,e,a){var f;n.id||(n=this._elementRegistry.get(n)),f=this._elementRegistry._elements[n.id],f&&((0,s.jJ)([f.gfx,f.secondaryGfx],function(C){C&&(a?(0,_.Ly)(C).add(e):(0,_.Ly)(C).remove(e))}),this._eventBus.fire("element.marker.update",{element:n,gfx:f.gfx,marker:e,add:!!a}))},r.prototype.addMarker=function(n,e){this._updateMarker(n,e,!0)},r.prototype.removeMarker=function(n,e){this._updateMarker(n,e,!1)},r.prototype.hasMarker=function(n,e){n.id||(n=this._elementRegistry.get(n));var a=this.getGraphics(n);return(0,_.Ly)(a).has(e)},r.prototype.toggleMarker=function(n,e){this.hasMarker(n,e)?this.removeMarker(n,e):this.addMarker(n,e)},r.prototype.getRootElement=function(){return this._rootElement||this.setRootElement({id:"__implicitroot",children:[]}),this._rootElement},r.prototype.setRootElement=function(n,e){n&&this._ensureValid("root",n);var a=this._rootElement,f=this._elementRegistry,C=this._eventBus;if(a){if(!e)throw new Error("rootElement already set, need to specify override");C.fire("root.remove",{element:a}),C.fire("root.removed",{element:a}),f.remove(a)}if(n){var P=this.getDefaultLayer();C.fire("root.add",{element:n}),f.add(n,P,this._svg),C.fire("root.added",{element:n,gfx:P})}return this._rootElement=n,n},r.prototype._ensureValid=function(n,e){if(!e.id)throw new Error("element must have an id");if(this._elementRegistry.get(e.id))throw new Error("element with id "+e.id+" already exists");var a=u[n],f=(0,s.Si)(a,function(C){return typeof e[C]<"u"});if(!f)throw new Error("must supply { "+a.join(", ")+" } with "+n)},r.prototype._setParent=function(n,e,a){(0,E.WQ)(e.children,n,a),n.parent=e},r.prototype._addElement=function(n,e,a,f){a=a||this.getRootElement();var C=this._eventBus,P=this._graphicsFactory;this._ensureValid(n,e),C.fire(n+".add",{element:e,parent:a}),this._setParent(e,a,f);var y=P.create(n,e,f);return this._elementRegistry.add(e,y),P.update(n,e,y),C.fire(n+".added",{element:e,gfx:y}),e},r.prototype.addShape=function(n,e,a){return this._addElement("shape",n,e,a)},r.prototype.addConnection=function(n,e,a){return this._addElement("connection",n,e,a)},r.prototype._removeElement=function(n,e){var a=this._elementRegistry,f=this._graphicsFactory,C=this._eventBus;if(n=a.get(n.id||n),!!n)return C.fire(e+".remove",{element:n}),f.remove(n),(0,E.TF)(n.parent&&n.parent.children,n),n.parent=null,C.fire(e+".removed",{element:n}),a.remove(n),n},r.prototype.removeShape=function(n){return this._removeElement(n,"shape")},r.prototype.removeConnection=function(n){return this._removeElement(n,"connection")},r.prototype.getGraphics=function(n,e){return this._elementRegistry.getGraphics(n,e)},r.prototype._changeViewbox=function(n){this._eventBus.fire("canvas.viewbox.changing"),n.apply(this),this._cachedViewbox=null,this._viewboxChanged()},r.prototype._viewboxChanged=function(){this._container&&this._eventBus.fire("canvas.viewbox.changed",{viewbox:this.viewbox()})},r.prototype.viewbox=function(n){if(n===void 0&&this._cachedViewbox)return this._cachedViewbox;var e=this._viewport,a,f=this.getSize(),C,P,y,T,I;if(n)this._changeViewbox(function(){y=Math.min(f.width/n.width,f.height/n.height);var D=this._svg.createSVGMatrix().scale(y).translate(-n.x,-n.y);(0,_.pd)(e,D)});else return a=this.getDefaultLayer().getBBox(),P=(0,_.pd)(e),C=P?P.matrix:(0,_.uK)(),y=p(C.a,1e3),T=p(-C.e||0,1e3),I=p(-C.f||0,1e3),n=this._cachedViewbox={x:T?T/y:0,y:I?I/y:0,width:f.width/y,height:f.height/y,scale:y,inner:{width:a.width,height:a.height,x:a.x,y:a.y},outer:f},n;return n},r.prototype.scroll=function(n){var e=this._viewport,a=e.getCTM();return n&&this._changeViewbox(function(){n=(0,s.kp)({dx:0,dy:0},n||{}),a=this._svg.createSVGMatrix().translate(n.dx,n.dy).multiply(a),t(e,a)}),{x:a.e,y:a.f}},r.prototype.zoom=function(n,e){if(!n)return this.viewbox(n).scale;if(n==="fit-viewport")return this._fitViewport(e);var a,f;return this._changeViewbox(function(){typeof e!="object"&&(a=this.viewbox().outer,e={x:a.width/2,y:a.height/2}),f=this._setZoom(n,e)}),p(f.a,1e3)};function t(n,e){var a="matrix("+e.a+","+e.b+","+e.c+","+e.d+","+e.e+","+e.f+")";n.setAttribute("transform",a)}r.prototype._fitViewport=function(n){var e=this.viewbox(),a=e.outer,f=e.inner,C,P;return f.x>=0&&f.y>=0&&f.x+f.width<=a.width&&f.y+f.height<=a.height&&!n?P={x:0,y:0,width:Math.max(f.width+f.x,a.width),height:Math.max(f.height+f.y,a.height)}:(C=Math.min(1,a.width/f.width,a.height/f.height),P={x:f.x+(n?f.width/2-a.width/C/2:0),y:f.y+(n?f.height/2-a.height/C/2:0),width:a.width/C,height:a.height/C}),this.viewbox(P),this.viewbox(!1).scale},r.prototype._setZoom=function(n,e){var a=this._svg,f=this._viewport,C=a.createSVGMatrix(),P=a.createSVGPoint(),y,T,I,D,R;I=f.getCTM();var U=I.a;return e?(y=(0,s.kp)(P,e),T=y.matrixTransform(I.inverse()),D=C.translate(T.x,T.y).scale(1/U*n).translate(-T.x,-T.y),R=I.multiply(D)):R=C.scale(n),t(this._viewport,R),R},r.prototype.getSize=function(){return{width:this._container.clientWidth,height:this._container.clientHeight}},r.prototype.getAbsoluteBBox=function(n){var e=this.viewbox(),a;if(n.waypoints){var f=this.getGraphics(n);a=f.getBBox()}else a=n;var C=a.x*e.scale-e.x*e.scale,P=a.y*e.scale-e.y*e.scale,y=a.width*e.scale,T=a.height*e.scale;return{x:C,y:P,width:y,height:T}},r.prototype.resized=function(){delete this._cachedViewbox,this._eventBus.fire("canvas.resized")}},15176:(rt,G,m)=>{"use strict";m.d(G,{A:()=>g});var s=m(49096),E=m(76594);function g(){this._uid=12}g.prototype.createRoot=function(_){return this.create("root",_)},g.prototype.createLabel=function(_){return this.create("label",_)},g.prototype.createShape=function(_){return this.create("shape",_)},g.prototype.createConnection=function(_){return this.create("connection",_)},g.prototype.create=function(_,p){return p=(0,E.kp)({},p||{}),p.id||(p.id=_+"_"+this._uid++),(0,s.vt)(_,p)}},54343:(rt,G,m)=>{"use strict";m.d(G,{A:()=>g});var s=m(33225),E="data-element-id";function g(_){this._elements={},this._eventBus=_}g.$inject=["eventBus"],g.prototype.add=function(_,p,o){var c=_.id;this._validateId(c),(0,s.CF)(p,E,c),o&&(0,s.CF)(o,E,c),this._elements[c]={element:_,gfx:p,secondaryGfx:o}},g.prototype.remove=function(_){var p=this._elements,o=_.id||_,c=o&&p[o];c&&((0,s.CF)(c.gfx,E,""),c.secondaryGfx&&(0,s.CF)(c.secondaryGfx,E,""),delete p[o])},g.prototype.updateId=function(_,p){this._validateId(p),typeof _=="string"&&(_=this.get(_)),this._eventBus.fire("element.updateId",{element:_,newId:p});var o=this.getGraphics(_),c=this.getGraphics(_,!0);this.remove(_),_.id=p,this.add(_,o,c)},g.prototype.get=function(_){var p;typeof _=="string"?p=_:p=_&&(0,s.CF)(_,E);var o=this._elements[p];return o&&o.element},g.prototype.filter=function(_){var p=[];return this.forEach(function(o,c){_(o,c)&&p.push(o)}),p},g.prototype.getAll=function(){return this.filter(function(_){return _})},g.prototype.forEach=function(_){var p=this._elements;Object.keys(p).forEach(function(o){var c=p[o],i=c.element,v=c.gfx;return _(i,v)})},g.prototype.getGraphics=function(_,p){var o=_.id||_,c=this._elements[o];return c&&(p?c.secondaryGfx:c.gfx)},g.prototype._validateId=function(_){if(!_)throw new Error("element must have an id");if(this._elements[_])throw new Error("element with id "+_+" already added")}},95820:(rt,G,m)=>{"use strict";m.d(G,{A:()=>p});var s=m(76594),E="__fn",g=1e3,_=Array.prototype.slice;function p(){this._listeners={},this.on("diagram.destroy",1,this._destroy,this)}p.prototype.on=function(i,v,u,r){if(i=(0,s.cy)(i)?i:[i],(0,s.Tn)(v)&&(r=u,u=v,v=g),!(0,s.Et)(v))throw new Error("priority must be a number");var t=u;r&&(t=(0,s.oI)(u,r),t[E]=u[E]||u);var n=this;i.forEach(function(e){n._addListener(e,{priority:v,callback:t,next:null})})},p.prototype.once=function(i,v,u,r){var t=this;if((0,s.Tn)(v)&&(r=u,u=v,v=g),!(0,s.Et)(v))throw new Error("priority must be a number");function n(){var e=u.apply(r,arguments);return t.off(i,n),e}n[E]=u,this.on(i,v,n)},p.prototype.off=function(i,v){i=(0,s.cy)(i)?i:[i];var u=this;i.forEach(function(r){u._removeListener(r,v)})},p.prototype.createEvent=function(i){var v=new o;return v.init(i),v},p.prototype.fire=function(i,v){var u,r,t,n;if(n=_.call(arguments),typeof i=="object"&&(v=i,i=v.type),!i)throw new Error("no event type specified");if(r=this._listeners[i],!!r){v instanceof o?u=v:u=this.createEvent(v),n[0]=u;var e=u.type;i!==e&&(u.type=i);try{t=this._invokeListeners(u,n,r)}finally{i!==e&&(u.type=e)}return t===void 0&&u.defaultPrevented&&(t=!1),t}},p.prototype.handleError=function(i){return this.fire("error",{error:i})===!1},p.prototype._destroy=function(){this._listeners={}},p.prototype._invokeListeners=function(i,v,u){for(var r;u&&!i.cancelBubble;)r=this._invokeListener(i,v,u),u=u.next;return r},p.prototype._invokeListener=function(i,v,u){var r;try{r=c(u.callback,v),r!==void 0&&(i.returnValue=r,i.stopPropagation()),r===!1&&i.preventDefault()}catch(t){if(!this.handleError(t))throw console.error("unhandled error in event listener"),console.error(t.stack),t}return r},p.prototype._addListener=function(i,v){var u=this._getListeners(i),r;if(!u){this._setListeners(i,v);return}for(;u;){if(u.priority<v.priority){v.next=u,r?r.next=v:this._setListeners(i,v);return}r=u,u=u.next}r.next=v},p.prototype._getListeners=function(i){return this._listeners[i]},p.prototype._setListeners=function(i,v){this._listeners[i]=v},p.prototype._removeListener=function(i,v){var u=this._getListeners(i),r,t,n;if(!v){this._setListeners(i,null);return}for(;u;)r=u.next,n=u.callback,(n===v||n[E]===v)&&(t?t.next=r:this._setListeners(i,r)),t=u,u=r};function o(){}o.prototype.stopPropagation=function(){this.cancelBubble=!0},o.prototype.preventDefault=function(){this.defaultPrevented=!0},o.prototype.init=function(i){(0,s.kp)(this,i||{})};function c(i,v){return i.apply(null,v)}},40969:(rt,G,m)=>{"use strict";m.d(G,{A:()=>c});var s=m(76594),E=m(12266),g=m(52965),_=m(63030),p=m(33225),o=m(10018);function c(v,u){this._eventBus=v,this._elementRegistry=u}c.$inject=["eventBus","elementRegistry"],c.prototype._getChildrenContainer=function(v){var u=this._elementRegistry.getGraphics(v),r;return v.parent?(r=(0,E.i)(u),r||(r=(0,p.vt)("g"),(0,p.Ly)(r).add("djs-children"),(0,p.BC)(u.parentNode,r))):r=u,r},c.prototype._clear=function(v){var u=(0,E.P)(v);return(0,_.IU)(u),u},c.prototype._createContainer=function(v,u,r,t){var n=(0,p.vt)("g");(0,p.Ly)(n).add("djs-group"),typeof r<"u"?i(n,u,u.childNodes[r]):(0,p.BC)(u,n);var e=(0,p.vt)("g");(0,p.Ly)(e).add("djs-element"),(0,p.Ly)(e).add("djs-"+v),t&&(0,p.Ly)(e).add("djs-frame"),(0,p.BC)(n,e);var a=(0,p.vt)("g");return(0,p.Ly)(a).add("djs-visual"),(0,p.BC)(e,a),e},c.prototype.create=function(v,u,r){var t=this._getChildrenContainer(u.parent);return this._createContainer(v,t,r,(0,o.eb)(u))},c.prototype.updateContainments=function(v){var u=this,r=this._elementRegistry,t;t=(0,s.TS)(v,function(n,e){return e.parent&&(n[e.parent.id]=e.parent),n},{}),(0,s.jJ)(t,function(n){var e=n.children;if(e){var a=u._getChildrenContainer(n);(0,s.jJ)(e.slice().reverse(),function(f){var C=r.getGraphics(f);i(C.parentNode,a)})}})},c.prototype.drawShape=function(v,u){var r=this._eventBus;return r.fire("render.shape",{gfx:v,element:u})},c.prototype.getShapePath=function(v){var u=this._eventBus;return u.fire("render.getShapePath",v)},c.prototype.drawConnection=function(v,u){var r=this._eventBus;return r.fire("render.connection",{gfx:v,element:u})},c.prototype.getConnectionPath=function(v){var u=this._eventBus;return u.fire("render.getConnectionPath",v)},c.prototype.update=function(v,u,r){if(u.parent){var t=this._clear(r);if(v==="shape")this.drawShape(t,u),(0,g.Tl)(r,u.x,u.y);else if(v==="connection")this.drawConnection(t,u);else throw new Error("unknown type: "+v);u.hidden?(0,p.CF)(r,"display","none"):(0,p.CF)(r,"display","block")}},c.prototype.remove=function(v){var u=this._elementRegistry.getGraphics(v);(0,p.TF)(u.parentNode)};function i(v,u,r){var t=r||u.firstChild;v!==t&&u.insertBefore(v,t)}},97975:(rt,G,m)=>{"use strict";m.d(G,{A:()=>E});var s=1e3;function E(g,_){var p=this;_=_||s,g.on(["render.shape","render.connection"],_,function(o,c){var i=o.type,v=c.element,u=c.gfx;if(p.canRender(v))return i==="render.shape"?p.drawShape(u,v):p.drawConnection(u,v)}),g.on(["render.getShapePath","render.getConnectionPath"],_,function(o,c){if(p.canRender(c))return o.type==="render.getShapePath"?p.getShapePath(c):p.getConnectionPath(c)})}E.prototype.canRender=function(){},E.prototype.drawShape=function(){},E.prototype.drawConnection=function(){},E.prototype.getShapePath=function(){},E.prototype.getConnectionPath=function(){}},19187:(rt,G,m)=>{"use strict";m.d(G,{A:()=>E});var s=m(76594);function E(){var g={"no-fill":{fill:"none"},"no-border":{strokeOpacity:0},"no-events":{pointerEvents:"none"}},_=this;this.cls=function(p,o,c){var i=this.style(o,c);return(0,s.kp)(i,{class:p})},this.style=function(p,o){!(0,s.cy)(p)&&!o&&(o=p,p=[]);var c=(0,s.TS)(p,function(i,v){return(0,s.kp)(i,g[v]||{})},{});return o?(0,s.kp)(c,o):c},this.computeStyle=function(p,o,c){return(0,s.cy)(o)||(c=o,o=[]),_.style(o||[],(0,s.kp)({},c,p||{}))}}},41666:(rt,G,m)=>{"use strict";m.d(G,{A:()=>c});var s=m(76594);function E(i){return i&&i[i.length-1]}function g(i){return i.y}function _(i){return i.x}var p={left:_,center:_,right:function(i){return i.x+i.width},top:g,middle:g,bottom:function(i){return i.y+i.height}};function o(i){this._modeling=i}o.$inject=["modeling"],o.prototype._getOrientationDetails=function(i){var v=["top","bottom","middle"],u="x",r="width";return v.indexOf(i)!==-1&&(u="y",r="height"),{axis:u,dimension:r}},o.prototype._isType=function(i,v){return v.indexOf(i)!==-1},o.prototype._alignmentPosition=function(i,v){var u=this._getOrientationDetails(i),r=u.axis,t=u.dimension,n={},e={},a=!1,f,C,P;function y(T,I){return Math.round((T[r]+I[r]+I[t])/2)}if(this._isType(i,["left","top"]))n[i]=v[0][r];else if(this._isType(i,["right","bottom"]))P=E(v),n[i]=P[r]+P[t];else if(this._isType(i,["center","middle"])){if((0,s.jJ)(v,function(T){var I=T[r]+Math.round(T[t]/2);e[I]?e[I].elements.push(T):e[I]={elements:[T],center:I}}),f=(0,s.Ul)(e,function(T){return T.elements.length>1&&(a=!0),T.elements.length}),a)return n[i]=E(f).center,n;C=v[0],v=(0,s.Ul)(v,function(T){return T[r]+T[t]}),P=E(v),n[i]=y(C,P)}return n},o.prototype.trigger=function(i,v){var u=this._modeling,r=(0,s.pb)(i,function(a){return!(a.waypoints||a.host||a.labelTarget)}),t=p[v],n=(0,s.Ul)(r,t),e=this._alignmentPosition(v,n);u.alignElements(n,e)};const c={__init__:["alignElements"],alignElements:["type",o]}},20418:(rt,G,m)=>{"use strict";m.d(G,{A:()=>u});var s=m(51270),E=m.n(s),g=m(10018),_=m(65911),p=m(76594),o=m(29086);function c(r,t,n,e){o.A.call(this,r),this._elementRegistry=t,this._modeling=n,this._rules=e;var a=this;this.postExecuted(["shape.create"],function(f){var C=f.context,P=C.hints||{},y=C.shape,T=C.parent||C.newParent;P.autoResize!==!1&&a._expand([y],T)}),this.postExecuted(["elements.move"],function(f){var C=f.context,P=(0,p.Bq)((0,p.zu)(C.closure.topLevel)),y=C.hints,T=y?y.autoResize:!0;if(T!==!1){var I=(0,p.$z)(P,function(D){return D.parent.id});(0,p.jJ)(I,function(D,R){(0,p.cy)(T)&&(D=D.filter(function(U){return(0,p.I6)(T,(0,p.gH)({id:U.id}))})),a._expand(D,R)})}}),this.postExecuted(["shape.toggleCollapse"],function(f){var C=f.context,P=C.hints,y=C.shape;P&&P.autoResize===!1||y.collapsed||a._expand(y.children||[],y)}),this.postExecuted(["shape.resize"],function(f){var C=f.context,P=C.hints,y=C.shape,T=y.parent;P&&P.autoResize===!1||T&&a._expand([y],T)})}c.$inject=["eventBus","elementRegistry","modeling","rules"],E()(c,o.A),c.prototype._getOptimalBounds=function(r,t){var n=this.getOffset(t),e=this.getPadding(t),a=(0,_.Fy)((0,g.U7)(r)),f=(0,_.Fy)(t),C={};return a.top-f.top<e.top&&(C.top=a.top-n.top),a.left-f.left<e.left&&(C.left=a.left-n.left),f.right-a.right<e.right&&(C.right=a.right+n.right),f.bottom-a.bottom<e.bottom&&(C.bottom=a.bottom+n.bottom),(0,_.cD)((0,p.kp)({},f,C))},c.prototype._expand=function(r,t){typeof t=="string"&&(t=this._elementRegistry.get(t));var n=this._rules.allowed("element.autoResize",{elements:r,target:t});if(n){var e=this._getOptimalBounds(r,t);if(i(e,t)){var a=v((0,p.Up)(t,["x","y","width","height"]),e);this.resize(t,e,{autoResize:a});var f=t.parent;f&&this._expand([t],f)}}},c.prototype.getOffset=function(r){return{top:60,bottom:60,left:100,right:100}},c.prototype.getPadding=function(r){return{top:2,bottom:2,left:15,right:15}},c.prototype.resize=function(r,t,n){this._modeling.resizeShape(r,t,null,n)};function i(r,t){return r.x!==t.x||r.y!==t.y||r.width!==t.width||r.height!==t.height}function v(r,t){var n="";return r=(0,_.Fy)(r),t=(0,_.Fy)(t),r.top>t.top&&(n=n.concat("n")),r.right<t.right&&(n=n.concat("w")),r.bottom<t.bottom&&(n=n.concat("s")),r.left>t.left&&(n=n.concat("e")),n}const u={__init__:["autoResize"],autoResize:["type",c]}},69855:(rt,G,m)=>{"use strict";m.d(G,{LS:()=>a,qh:()=>f,zk:()=>y,fU:()=>I,Pj:()=>D,YU:()=>P});var s=m(86439),E=m(92159),g=m(33225),_=m(52965),p=m(38305),o=m.n(p),c=Math.round,i=Math.max;function v(U,L){var N=U.x,Y=U.y;return[["M",N,Y],["m",0,-L],["a",L,L,0,1,1,0,2*L],["a",L,L,0,1,1,0,-2*L],["z"]]}function u(U){var L=[];return U.forEach(function(N,Y){L.push([Y===0?"M":"L",N.x,N.y])}),L}var r=10;function t(U,L){var N,Y;for(N=0;Y=U[N];N++)if((0,E.cK)(Y,L)<=r)return{point:U[N],bendpoint:!0,index:N};return null}function n(U,L){var N=o()(v(L,r),u(U)),Y=N[0],Q=N[N.length-1],it;return Y?Y!==Q?Y.segment2!==Q.segment2?(it=i(Y.segment2,Q.segment2)-1,{point:U[it],bendpoint:!0,index:it}):{point:{x:c(Y.x+Q.x)/2,y:c(Y.y+Q.y)/2},index:Y.segment2}:{point:{x:c(Y.x),y:c(Y.y)},index:Y.segment2}:null}function e(U,L){return t(U,L)||n(U,L)}var a="djs-bendpoint",f="djs-segment-dragger";function C(U,L){var N=(0,s.gK)(L),Y=U._container.getBoundingClientRect(),Q;Q={x:Y.left,y:Y.top};var it=U.viewbox();return{x:it.x+(N.x-Q.x)/it.scale,y:it.y+(N.y-Q.y)/it.scale}}function P(U,L,N){var Y=C(U,N),Q=e(L,Y);return Q}function y(U,L){var N=(0,g.vt)("g");(0,g.Ly)(N).add(a),(0,g.BC)(U,N);var Y=(0,g.vt)("circle");(0,g.CF)(Y,{cx:0,cy:0,r:4}),(0,g.Ly)(Y).add("djs-visual"),(0,g.BC)(N,Y);var Q=(0,g.vt)("circle");return(0,g.CF)(Q,{cx:0,cy:0,r:10}),(0,g.Ly)(Q).add("djs-hit"),(0,g.BC)(N,Q),L&&(0,g.Ly)(N).add(L),N}function T(U,L,N,Y){var Q=(0,g.vt)("g");(0,g.BC)(U,Q);var it=14,tt=3,$=6,W=R(L,N,Y),O=tt+$,l=(0,g.vt)("rect");(0,g.CF)(l,{x:-it/2,y:-tt/2,width:it,height:tt}),(0,g.Ly)(l).add("djs-visual"),(0,g.BC)(Q,l);var x=(0,g.vt)("rect");return(0,g.CF)(x,{x:-W/2,y:-O/2,width:W,height:O}),(0,g.Ly)(x).add("djs-hit"),(0,g.BC)(Q,x),(0,_.e$)(Q,Y==="v"?90:0,0,0),Q}function I(U,L,N){var Y=(0,g.vt)("g"),Q=(0,E.P8)(L,N),it=(0,E.ke)(L,N);return(0,g.BC)(U,Y),T(Y,L,N,it),(0,g.Ly)(Y).add(f),(0,g.Ly)(Y).add(it==="h"?"horizontal":"vertical"),(0,_.Tl)(Y,Q.x,Q.y),Y}function D(U){return Math.abs(Math.round(U*2/3))}function R(U,L,N){var Y=L.x-U.x,Q=L.y-U.y;return D(N==="h"?Y:Q)}},6513:(rt,G,m)=>{"use strict";m.d(G,{A:()=>v});var s=m(76594),E=m(63030),g=m(69855),_=m(22185),p=m.n(_),o=m(92159),c=m(33225),i=m(52965);function v(r,t,n,e,a){var f=this;function C($,W,O){var l=$.index,x=$.point,h,d,M,S,j,B;return l<=0||$.bendpoint?!1:(h=W[l-1],d=W[l],M=(0,o.P8)(h,d),S=(0,o.ke)(h,d),j=Math.abs(x.x-M.x),B=Math.abs(x.y-M.y),S&&j<=O&&B<=O)}function P($,W){var O=$.waypoints,l,x,h,d;return W.index<=0||W.bendpoint||(l={start:O[W.index-1],end:O[W.index]},x=(0,o.ke)(l.start,l.end),!x)?null:(x==="h"?h=l.end.x-l.start.x:h=l.end.y-l.start.y,d=(0,g.Pj)(h)/2,d)}function y($,W){var O=W.waypoints,l=(0,g.YU)(t,O,$),x;if(l)return x=P(W,l),C(l,O,x)?a.start($,W,l.index):e.start($,W,l.index,!l.bendpoint),!0}function T($,W,O){E.f0.bind($,W,function(l){n.triggerMouseEvent(W,l,O),l.stopPropagation()})}function I($,W){var O=t.getLayer("overlays"),l=(0,E.P)('.djs-bendpoints[data-element-id="'+p()($.id)+'"]',O);return!l&&W&&(l=(0,c.vt)("g"),(0,c.CF)(l,{"data-element-id":$.id}),(0,c.Ly)(l).add("djs-bendpoints"),(0,c.BC)(O,l),T(l,"mousedown",$),T(l,"click",$),T(l,"dblclick",$)),l}function D($,W){return(0,E.P)('.djs-segment-dragger[data-segment-idx="'+$+'"]',W)}function R($,W){W.waypoints.filter(f.getConnectionBendpointsFilter).forEach(function(O,l){var x=(0,g.zk)($);(0,c.BC)($,x),(0,i.Tl)(x,O.x,O.y)}),(0,g.zk)($,"floating")}function U($,W){for(var O=W.waypoints,l,x,h,d=1;d<O.length;d++)l=O[d-1],x=O[d],(0,o.ke)(l,x)&&(h=(0,g.fU)($,l,x),(0,c.CF)(h,{"data-segment-idx":d}),T(h,"mousemove",W))}function L($){(0,s.jJ)((0,E.YG)("."+g.LS,$),function(W){(0,c.TF)(W)})}function N($){(0,s.jJ)((0,E.YG)("."+g.qh,$),function(W){(0,c.TF)(W)})}function Y($){var W=I($);return W||(W=I($,!0),R(W,$),U(W,$)),W}function Q($){var W=I($);W&&(N(W),L(W),U(W,$),R(W,$))}function it($,W){var O=(0,E.P)(".floating",$),l=W.point;O&&(0,i.Tl)(O,l.x,l.y)}function tt($,W,O){var l=D(W.index,$),x=O[W.index-1],h=O[W.index],d=W.point,M=(0,o.P8)(x,h),S=(0,o.ke)(x,h),j,B;l&&(j=u(l),B={x:d.x-M.x,y:d.y-M.y},S==="v"&&(B={x:B.y,y:B.x}),(0,i.Tl)(j,B.x,B.y))}r.on("connection.changed",function($){Q($.element)}),r.on("connection.remove",function($){var W=I($.element);W&&(0,c.TF)(W)}),r.on("element.marker.update",function($){var W=$.element,O;W.waypoints&&(O=Y(W),$.add?(0,c.Ly)(O).add($.marker):(0,c.Ly)(O).remove($.marker))}),r.on("element.mousemove",function($){var W=$.element,O=W.waypoints,l,x;if(O){if(l=I(W,!0),x=(0,g.YU)(t,O,$.originalEvent),!x)return;it(l,x),x.bendpoint||tt(l,x,O)}}),r.on("element.mousedown",function($){var W=$.originalEvent,O=$.element,l=O.waypoints;if(l)return y(W,O)}),r.on("selection.changed",function($){var W=$.newSelection,O=W[0];O&&O.waypoints&&Y(O)}),r.on("element.hover",function($){var W=$.element;W.waypoints&&(Y(W),n.registerEvent($.gfx,"mousemove","element.mousemove"))}),r.on("element.out",function($){n.unregisterEvent($.gfx,"mousemove","element.mousemove")}),r.on("element.updateId",function($){var W=$.element,O=$.newId;if(W.waypoints){var l=I(W);l&&(0,c.CF)(l,{"data-element-id":O})}}),this.addHandles=Y,this.updateHandles=Q,this.getBendpointsContainer=I,this.getSegmentDragger=D}v.$inject=["eventBus","canvas","interactionEvents","bendpointMove","connectionSegmentMove"];function u(r){return(0,E.P)(".djs-visual",r)}v.prototype.getConnectionBendpointsFilter=function(r,t,n){return!0}},45041:(rt,G,m)=>{"use strict";m.d(G,{A:()=>n});var s=m(92159),E=m(69855),g=m(65911),_=m(33225),p=m(52965),o="connect-hover",c="djs-updating";function i(e,a,f){return v(e,a,e[a]+f)}function v(e,a,f){return{x:a==="x"?f:e.x,y:a==="y"?f:e.y}}function u(e,a,f,C){var P=Math.max(a[C],f[C]),y=Math.min(a[C],f[C]),T=20,I=Math.min(Math.max(y+T,e[C]),P-T);return v(a,C,I)}function r(e){return e==="x"?"y":"x"}function t(e,a,f){var C,P;return e.original?e.original:(C=(0,g.pp)(a),P=r(f),v(e,P,C[P]))}function n(e,a,f,C,P,y){var T=e.get("connectionDocking",!1);this.start=function(L,N,Y){var Q,it=f.getGraphics(N),tt=Y-1,$=Y,W=N.waypoints,O=W[tt],l=W[$],x=(0,E.YU)(f,W,L),h,d,M;h=(0,s.ke)(O,l),h&&(d=h==="v"?"x":"y",tt===0&&(O=t(O,N.source,d)),$===W.length-1&&(l=t(l,N.target,d)),x?M=x.point:M={x:(O.x+l.x)/2,y:(O.y+l.y)/2},Q={connection:N,segmentStartIndex:tt,segmentEndIndex:$,segmentStart:O,segmentEnd:l,axis:d,dragPosition:M},C.init(L,M,"connectionSegment.move",{cursor:d==="x"?"resize-ew":"resize-ns",data:{connection:N,connectionGfx:it,context:Q}}))};function I(L,N){if(!T)return N;var Y=L.waypoints,Q;return L.waypoints=N,Q=T.getCroppedWaypoints(L),L.waypoints=Y,Q}function D(L){P.update("connection",L.connection,L.connectionGfx)}function R(L,N,Y){var Q=L.newWaypoints,it=L.segmentStartIndex+N,tt=Q[it],$=L.segmentEndIndex+N,W=Q[$],O=r(L.axis),l=u(Y,tt,W,O);(0,p.Tl)(L.draggerGfx,l.x,l.y)}function U(L,N){var Y=0,Q=L.filter(function(it,tt){return(0,s.XP)(L[tt-1],L[tt+1],it)?(Y=tt<=N?Y-1:Y,!1):!0});return{waypoints:Q,segmentOffset:Y}}a.on("connectionSegment.move.start",function(L){var N=L.context,Y=L.connection,Q=f.getLayer("overlays");N.originalWaypoints=Y.waypoints.slice(),N.draggerGfx=(0,E.fU)(Q,N.segmentStart,N.segmentEnd),(0,_.Ly)(N.draggerGfx).add("djs-dragging"),f.addMarker(Y,c)}),a.on("connectionSegment.move.move",function(L){var N=L.context,Y=N.connection,Q=N.segmentStartIndex,it=N.segmentEndIndex,tt=N.segmentStart,$=N.segmentEnd,W=N.axis,O=N.originalWaypoints.slice(),l=i(tt,W,L["d"+W]),x=i($,W,L["d"+W]),h=O.length,d=0;O[Q]=l,O[it]=x;var M,S;Q<2&&(M=(0,g.vc)(Y.source,l),Q===1?M==="intersect"&&(O.shift(),O[0]=l,d--):M!=="intersect"&&(O.unshift(tt),d++)),it>h-3&&(S=(0,g.vc)(Y.target,x),it===h-2?S==="intersect"&&(O.pop(),O[O.length-1]=x):S!=="intersect"&&O.push($)),N.newWaypoints=Y.waypoints=I(Y,O),R(N,d,L),N.newSegmentStartIndex=Q+d,D(L)}),a.on("connectionSegment.move.hover",function(L){L.context.hover=L.hover,f.addMarker(L.hover,o)}),a.on(["connectionSegment.move.out","connectionSegment.move.cleanup"],function(L){var N=L.context.hover;N&&f.removeMarker(N,o)}),a.on("connectionSegment.move.cleanup",function(L){var N=L.context,Y=N.connection;N.draggerGfx&&(0,_.TF)(N.draggerGfx),f.removeMarker(Y,c)}),a.on(["connectionSegment.move.cancel","connectionSegment.move.end"],function(L){var N=L.context,Y=N.connection;Y.waypoints=N.originalWaypoints,D(L)}),a.on("connectionSegment.move.end",function(L){var N=L.context,Y=N.connection,Q=N.newWaypoints,it=N.newSegmentStartIndex;Q=Q.map(function(x){var h={x:Math.round(x.x),y:Math.round(x.y)};return x.original&&(h.original=x.original),h});var tt=U(Q,it),$=tt.waypoints,W=I(Y,$),O=tt.segmentOffset,l={segmentMove:{segmentStartIndex:N.segmentStartIndex,newSegmentStartIndex:it+O}};y.updateWaypoints(Y,W,l)})}n.$inject=["injector","eventBus","canvas","dragging","graphicsFactory","modeling"]},39255:(rt,G,m)=>{"use strict";m.d(G,{A:()=>$});var s=m(84654),E=m(11918),g=m(6513),_=m(65911),p=Math.round,o="reconnectStart",c="reconnectEnd",i="updateWaypoints";function v(W,O,l,x,h,d){this._injector=W,this.start=function(M,S,j,B){var V=l.getGraphics(S),J=S.source,X=S.target,q=S.waypoints,nt;!B&&j===0?nt=o:!B&&j===q.length-1?nt=c:nt=i;var F=nt===i?"connection.updateWaypoints":"connection.reconnect",H=h.allowed(F,{connection:S,source:J,target:X});H===!1&&(H=h.allowed(F,{connection:S,source:X,target:J})),H!==!1&&x.init(M,"bendpoint.move",{data:{connection:S,connectionGfx:V,context:{allowed:H,bendpointIndex:j,connection:S,source:J,target:X,insert:B,type:nt}}})},O.on("bendpoint.move.hover",function(M){var S=M.context,j=S.connection,B=j.source,V=j.target,J=M.hover,X=S.type;S.hover=J;var q;if(J){var nt=X===i?"connection.updateWaypoints":"connection.reconnect";if(q=S.allowed=h.allowed(nt,{connection:j,source:X===o?J:B,target:X===c?J:V,type:X}),q){S.source=X===o?J:B,S.target=X===c?J:V;return}q===!1&&(q=S.allowed=h.allowed(nt,{connection:j,source:X===c?J:V,target:X===o?J:B,type:X})),q&&(S.source=X===c?J:V,S.target=X===o?J:B)}}),O.on(["bendpoint.move.out","bendpoint.move.cleanup"],function(M){var S=M.context;S.hover=null,S.source=null,S.target=null,S.allowed=!1}),O.on("bendpoint.move.end",function(M){var S=M.context,j=S.allowed,B=S.bendpointIndex,V=S.connection,J=S.insert,X=V.waypoints.slice(),q=S.source,nt=S.target,F=S.type,H={},k={x:p(M.x),y:p(M.y)};if(!j)return!1;F===i?(J?X.splice(B,0,k):X[B]=k,H={bendpointMove:{insert:J,bendpointIndex:B}},X=this.cropWaypoints(V,X),d.updateWaypoints(V,(0,_.Wy)(X),H)):(F===o?(H.docking="source",u(S)&&(H.docking="target",H.newWaypoints=X.reverse())):F===c&&(H.docking="target",u(S)&&(H.docking="source",H.newWaypoints=X.reverse())),d.reconnect(V,q,nt,k,H))},this)}v.$inject=["injector","eventBus","canvas","dragging","rules","modeling"],v.prototype.cropWaypoints=function(W,O){var l=this._injector.get("connectionDocking",!1);if(!l)return O;var x=W.waypoints;return W.waypoints=O,W.waypoints=l.getCroppedWaypoints(W),O=W.waypoints,W.waypoints=x,O};function u(W){var O=W.hover,l=W.source,x=W.target,h=W.type;if(h===o)return O&&x&&O===x&&l!==x;if(h===c)return O&&l&&O===l&&l!==x}var r=m(33225),t=m(69855),n=m(52965),e="reconnectStart",a="reconnectEnd",f="updateWaypoints",C="connect-ok",P="connect-not-ok",y="connect-hover",T="djs-updating",I="djs-element-hidden",D=1100;function R(W,O,l,x){this._injector=O;var h=O.get("connectionPreview",!1);l.on("bendpoint.move.start",function(d){var M=d.context,S=M.bendpointIndex,j=M.connection,B=M.insert,V=j.waypoints,J=V.slice();M.waypoints=V,B&&J.splice(S,0,{x:d.x,y:d.y}),j.waypoints=J;var X=M.draggerGfx=(0,t.zk)(x.getLayer("overlays"));(0,r.Ly)(X).add("djs-dragging"),x.addMarker(j,I),x.addMarker(j,T)}),l.on("bendpoint.move.hover",function(d){var M=d.context,S=M.allowed,j=M.hover,B=M.type;if(j){if(x.addMarker(j,y),B===f)return;S?(x.removeMarker(j,P),x.addMarker(j,C)):S===!1&&(x.removeMarker(j,C),x.addMarker(j,P))}}),l.on(["bendpoint.move.out","bendpoint.move.cleanup"],D,function(d){var M=d.context,S=M.hover,j=M.target;S&&(x.removeMarker(S,y),x.removeMarker(S,j?C:P))}),l.on("bendpoint.move.move",function(d){var M=d.context,S=M.allowed,j=M.bendpointIndex,B=M.draggerGfx,V=M.hover,J=M.type,X=M.connection,q=X.source,nt=X.target,F=X.waypoints.slice(),H=F.slice().reverse(),k={x:d.x,y:d.y},w;h&&(w={source:q,target:nt},J===e?u(M)?(w.connectionEnd=k,w.source=nt,w.target=V||q,F=H):(w.connectionStart=k,w.source=V||q):J===a?u(M)?(w.connectionStart=k,w.target=q,w.source=V||nt,F=H):(w.connectionEnd=k,w.target=V||nt):(w.noCropping=!0,w.noLayout=!0,F[j]=k),J===f&&(F=W.cropWaypoints(X,F)),w.waypoints=F,h.drawPreview(M,S,w)),(0,n.Tl)(B,d.x,d.y)},this),l.on(["bendpoint.move.end","bendpoint.move.cancel"],D,function(d){var M=d.context,S=M.connection,j=M.draggerGfx,B=M.hover,V=M.target,J=M.waypoints;S.waypoints=J,(0,r.TF)(j),x.removeMarker(S,T),x.removeMarker(S,I),B&&(x.removeMarker(B,C),x.removeMarker(B,V?C:P)),h&&h.cleanUp(M)})}R.$inject=["bendpointMove","injector","eventBus","canvas"];var U=m(45041),L=m(76594),N=m(17521),Y=Math.abs,Q=Math.round,it=10;function tt(W){function O(d,M){if((0,L.cy)(d)){for(var S=d.length;S--;)if(Y(d[S]-M)<=it)return d[S]}else{d=+d;var j=M%d;if(j<it)return M-j;if(j>d-it)return M-j+d}return M}function l(d){if(d.width)return{x:Q(d.width/2+d.x),y:Q(d.height/2+d.y)}}function x(d){var M=d.snapPoints,S=d.connection,j=S.waypoints,B=d.segmentStart,V=d.segmentStartIndex,J=d.segmentEnd,X=d.segmentEndIndex,q=d.axis;if(M)return M;var nt=[j[V-1],B,J,j[X+1]];return V<2&&nt.unshift(l(S.source)),X>j.length-3&&nt.unshift(l(S.target)),d.snapPoints=M={horizontal:[],vertical:[]},(0,L.jJ)(nt,function(F){F&&(F=F.original||F,q==="y"&&M.horizontal.push(F.y),q==="x"&&M.vertical.push(F.x))}),M}W.on("connectionSegment.move.move",1500,function(d){var M=d.context,S=x(M),j=d.x,B=d.y,V,J;if(S){V=O(S.vertical,j),J=O(S.horizontal,B);var X=j-V,q=B-J;(0,L.kp)(d,{dx:d.dx-X,dy:d.dy-q,x:V,y:J}),(X||S.vertical.indexOf(j)!==-1)&&(0,N.CU)(d,"x",V),(q||S.horizontal.indexOf(B)!==-1)&&(0,N.CU)(d,"y",J)}});function h(d){var M=d.snapPoints,S=d.connection.waypoints,j=d.bendpointIndex;if(M)return M;var B=[S[j-1],S[j+1]];return d.snapPoints=M={horizontal:[],vertical:[]},(0,L.jJ)(B,function(V){V&&(V=V.original||V,M.horizontal.push(V.y),M.vertical.push(V.x))}),M}W.on(["bendpoint.move.move","bendpoint.move.end"],1500,function(d){var M=d.context,S=h(M),j=M.hover,B=j&&l(j),V=d.x,J=d.y,X,q;if(S){X=O(B?S.vertical.concat([B.x]):S.vertical,V),q=O(B?S.horizontal.concat([B.y]):S.horizontal,J);var nt=V-X,F=J-q;(0,L.kp)(d,{dx:d.dx-nt,dy:d.dy-F,x:d.x-nt,y:d.y-F}),(nt||S.vertical.indexOf(V)!==-1)&&(0,N.CU)(d,"x",X),(F||S.horizontal.indexOf(J)!==-1)&&(0,N.CU)(d,"y",q)}})}tt.$inject=["eventBus"];const $={__depends__:[s.A,E.A],__init__:["bendpoints","bendpointSnapping","bendpointMovePreview"],bendpoints:["type",g.A],bendpointMove:["type",v],bendpointMovePreview:["type",R],connectionSegmentMove:["type",U.A],bendpointSnapping:["type",tt]}},54100:(rt,G,m)=>{"use strict";m.d(G,{A:()=>g});var s=m(10018);function E(_,p,o,c){_.on("element.changed",function(i){var v=i.element;(v.parent||v===p.getRootElement())&&(i.gfx=o.getGraphics(v)),i.gfx&&_.fire((0,s.Pw)(v)+".changed",i)}),_.on("elements.changed",function(i){var v=i.elements;v.forEach(function(u){_.fire("element.changed",{element:u})}),c.updateContainments(v)}),_.on("shape.changed",function(i){c.update("shape",i.element,i.gfx)}),_.on("connection.changed",function(i){c.update("connection",i.element,i.gfx)})}E.$inject=["eventBus","canvas","elementRegistry","graphicsFactory"];const g={__init__:["changeSupport"],changeSupport:["type",E]}},95576:(rt,G,m)=>{"use strict";m.d(G,{A:()=>n});var s=m(56773),E=m(11918),g=m(84654),_=m(65911),p=m(76594);function o(e,a,f,C){function P(T,I){return C.allowed("connection.create",{source:T,target:I})}function y(T,I){return P(I,T)}e.on("connect.hover",function(T){var I=T.context,D=I.start,R=T.hover,U;if(I.hover=R,U=I.canExecute=P(D,R),!(0,p.gD)(U)){if(U!==!1){I.source=D,I.target=R;return}U=I.canExecute=y(D,R),!(0,p.gD)(U)&&U!==!1&&(I.source=R,I.target=D)}}),e.on(["connect.out","connect.cleanup"],function(T){var I=T.context;I.hover=null,I.source=null,I.target=null,I.canExecute=!1}),e.on("connect.end",function(T){var I=T.context,D=I.canExecute,R=I.connectionStart,U={x:T.x,y:T.y},L=I.source,N=I.target;if(!D)return!1;var Y=null,Q={connectionStart:c(I)?U:R,connectionEnd:c(I)?R:U};(0,p.Gv)(D)&&(Y=D);var it=f.connect(L,N,Y,Q);T.context.connection=it}),this.start=function(T,I,D,R){(0,p.Gv)(D)||(R=D,D=(0,_.pp)(I)),a.init(T,"connect",{autoActivate:R,data:{shape:I,context:{start:I,connectionStart:D}}})}}o.$inject=["eventBus","dragging","modeling","rules"];function c(e){var a=e.hover,f=e.source,C=e.target;return a&&f&&a===f&&f!==C}var i=1100,v=900,u="connect-ok",r="connect-not-ok";function t(e,a,f){var C=e.get("connectionPreview",!1);C&&a.on("connect.move",function(P){var y=P.context,T=y.canExecute,I=y.hover,D=y.source,R=y.start,U=y.startPosition,L=y.target,N=c(y)?{x:P.x,y:P.y}:U,Y=c(y)?U:{x:P.x,y:P.y};C.drawPreview(y,T,{source:D||R,target:L||I,connectionStart:N,connectionEnd:Y})}),a.on("connect.hover",v,function(P){var y=P.context,T=P.hover,I=y.canExecute;I!==null&&f.addMarker(T,I?u:r)}),a.on(["connect.out","connect.cleanup"],i,function(P){var y=P.hover;y&&(f.removeMarker(y,u),f.removeMarker(y,r))}),C&&a.on("connect.cleanup",function(P){C.cleanUp(P.context)})}t.$inject=["injector","eventBus","canvas"];const n={__depends__:[s.A,E.A,g.A],__init__:["connectPreview"],connect:["type",o],connectPreview:["type",t]}},28012:(rt,G,m)=>{"use strict";m.d(G,{A:()=>p});var s=m(33225),E=m(76594),g=m(65911),_="djs-connection-preview";function p(i,v,u,r){this._canvas=v,this._graphicsFactory=u,this._elementFactory=r,this._connectionDocking=i.get("connectionDocking",!1),this._layouter=i.get("layouter",!1)}p.$inject=["injector","canvas","graphicsFactory","elementFactory"],p.prototype.drawPreview=function(i,v,u){u=u||{};var r=i.connectionPreviewGfx,t=i.getConnection,n=u.source,e=u.target,a=u.waypoints,f=u.connectionStart,C=u.connectionEnd,P=u.noLayout,y=u.noCropping,T=u.noNoop,I,D=this;if(r||(r=i.connectionPreviewGfx=this.createConnectionPreviewGfx()),(0,s.IU)(r),t||(t=i.getConnection=o(function(R,U,L){return D.getConnection(R,U,L)})),v&&(I=t(v,n,e)),!I){!T&&this.drawNoopPreview(r,u);return}I.waypoints=a||[],this._layouter&&!P&&(I.waypoints=this._layouter.layoutConnection(I,{source:n,target:e,connectionStart:f,connectionEnd:C,waypoints:u.waypoints||I.waypoints})),(!I.waypoints||!I.waypoints.length)&&(I.waypoints=[n?(0,g.pp)(n):f,e?(0,g.pp)(e):C]),this._connectionDocking&&(n||e)&&!y&&(I.waypoints=this._connectionDocking.getCroppedWaypoints(I,n,e)),this._graphicsFactory.drawConnection(r,I)},p.prototype.drawNoopPreview=function(i,v){var u=v.source,r=v.target,t=v.connectionStart||(0,g.pp)(u),n=v.connectionEnd||(0,g.pp)(r),e=this.cropWaypoints(t,n,u,r),a=this.createNoopConnection(e[0],e[1]);(0,s.BC)(i,a)},p.prototype.cropWaypoints=function(i,v,u,r){var t=this._graphicsFactory,n=u&&t.getShapePath(u),e=r&&t.getShapePath(r),a=t.getConnectionPath({waypoints:[i,v]});return i=u&&(0,g.ki)(n,a,!0)||i,v=r&&(0,g.ki)(e,a,!1)||v,[i,v]},p.prototype.cleanUp=function(i){i&&i.connectionPreviewGfx&&(0,s.TF)(i.connectionPreviewGfx)},p.prototype.getConnection=function(i){var v=c(i);return this._elementFactory.createConnection(v)},p.prototype.createConnectionPreviewGfx=function(){var i=(0,s.vt)("g");return(0,s.CF)(i,{pointerEvents:"none"}),(0,s.Ly)(i).add(_),(0,s.BC)(this._canvas.getDefaultLayer(),i),i},p.prototype.createNoopConnection=function(i,v){var u=(0,s.vt)("polyline");return(0,s.CF)(u,{stroke:"#333",strokeDasharray:[1],strokeWidth:2,"pointer-events":"none"}),(0,s.CF)(u,{points:[i.x,i.y,v.x,v.y]}),u};function o(i){var v={};return function(u){var r=JSON.stringify(u),t=v[r];return t||(t=v[r]=i.apply(null,arguments)),t}}function c(i){return(0,E.Gv)(i)?i:{}}},85284:(rt,G,m)=>{"use strict";m.d(G,{A:()=>E});var s=m(28012);const E={__init__:["connectionPreview"],connectionPreview:["type",s.A]}},26316:(rt,G,m)=>{"use strict";m.d(G,{A:()=>P});var s=m(69380),E=m(76594),g=m(63030),_=m(10018),p=m(50941),o=new p.A("ov"),c=500;function i(y,T,I,D){this._eventBus=T,this._canvas=I,this._elementRegistry=D,this._ids=o,this._overlayDefaults=(0,E.kp)({show:null,scale:!0},y&&y.defaults),this._overlays={},this._overlayContainers=[],this._overlayRoot=v(I.getContainer()),this._init()}i.$inject=["config.overlays","eventBus","canvas","elementRegistry"],i.prototype.get=function(y){if((0,E.Kg)(y)&&(y={id:y}),(0,E.Kg)(y.element)&&(y.element=this._elementRegistry.get(y.element)),y.element){var T=this._getOverlayContainer(y.element,!0);return T?y.type?(0,E.pb)(T.overlays,(0,E.gH)({type:y.type})):T.overlays.slice():[]}else return y.type?(0,E.pb)(this._overlays,(0,E.gH)({type:y.type})):y.id?this._overlays[y.id]:null},i.prototype.add=function(y,T,I){if((0,E.Gv)(T)&&(I=T,T=null),y.id||(y=this._elementRegistry.get(y)),!I.position)throw new Error("must specifiy overlay position");if(!I.html)throw new Error("must specifiy overlay html");if(!y)throw new Error("invalid element specified");var D=this._ids.next();return I=(0,E.kp)({},this._overlayDefaults,I,{id:D,type:T,element:y,html:I.html}),this._addOverlay(I),D},i.prototype.remove=function(y){var T=this.get(y)||[];(0,E.cy)(T)||(T=[T]);var I=this;(0,E.jJ)(T,function(D){var R=I._getOverlayContainer(D.element,!0);if(D&&((0,g.TF)(D.html),(0,g.TF)(D.htmlContainer),delete D.htmlContainer,delete D.element,delete I._overlays[D.id]),R){var U=R.overlays.indexOf(D);U!==-1&&R.overlays.splice(U,1)}})},i.prototype.show=function(){r(this._overlayRoot)},i.prototype.hide=function(){r(this._overlayRoot,!1)},i.prototype.clear=function(){this._overlays={},this._overlayContainers=[],(0,g.IU)(this._overlayRoot)},i.prototype._updateOverlayContainer=function(y){var T=y.element,I=y.html,D=T.x,R=T.y;if(T.waypoints){var U=(0,_.U7)(T);D=U.x,R=U.y}u(I,D,R),(0,g.CF)(y.html,"data-container-id",T.id)},i.prototype._updateOverlay=function(y){var T=y.position,I=y.htmlContainer,D=y.element,R=T.left,U=T.top;if(T.right!==void 0){var L;D.waypoints?L=(0,_.U7)(D).width:L=D.width,R=T.right*-1+L}if(T.bottom!==void 0){var N;D.waypoints?N=(0,_.U7)(D).height:N=D.height,U=T.bottom*-1+N}u(I,R||0,U||0)},i.prototype._createOverlayContainer=function(y){var T=(0,g.zm)('<div class="djs-overlays" style="position: absolute" />');this._overlayRoot.appendChild(T);var I={html:T,element:y,overlays:[]};return this._updateOverlayContainer(I),this._overlayContainers.push(I),I},i.prototype._updateRoot=function(y){var T=y.scale||1,I="matrix("+[T,0,0,T,-1*y.x*T,-1*y.y*T].join(",")+")";t(this._overlayRoot,I)},i.prototype._getOverlayContainer=function(y,T){var I=(0,E.I6)(this._overlayContainers,function(D){return D.element===y});return!I&&!T?this._createOverlayContainer(y):I},i.prototype._addOverlay=function(y){var T=y.id,I=y.element,D=y.html,R,U;D.get&&D.constructor.prototype.jquery&&(D=D.get(0)),(0,E.Kg)(D)&&(D=(0,g.zm)(D)),U=this._getOverlayContainer(I),R=(0,g.zm)('<div class="djs-overlay" data-overlay-id="'+T+'" style="position: absolute">'),R.appendChild(D),y.type&&(0,g.Ly)(R).add("djs-overlay-"+y.type),y.htmlContainer=R,U.overlays.push(y),U.html.appendChild(R),this._overlays[T]=y,this._updateOverlay(y),this._updateOverlayVisibilty(y,this._canvas.viewbox())},i.prototype._updateOverlayVisibilty=function(y,T){var I=y.show,D=I&&I.minZoom,R=I&&I.maxZoom,U=y.htmlContainer,L=!0;I&&(((0,E.O9)(D)&&D>T.scale||(0,E.O9)(R)&&R<T.scale)&&(L=!1),r(U,L)),this._updateOverlayScale(y,T)},i.prototype._updateOverlayScale=function(y,T){var I=y.scale,D,R,U=y.htmlContainer,L,N="";I!==!0&&(I===!1?(D=1,R=1):(D=I.min,R=I.max),(0,E.O9)(D)&&T.scale<D&&(L=(1/T.scale||1)*D),(0,E.O9)(R)&&T.scale>R&&(L=(1/T.scale||1)*R)),(0,E.O9)(L)&&(N="scale("+L+","+L+")"),t(U,N)},i.prototype._updateOverlaysVisibilty=function(y){var T=this;(0,E.jJ)(this._overlays,function(I){T._updateOverlayVisibilty(I,y)})},i.prototype._init=function(){var y=this._eventBus,T=this;function I(D){T._updateRoot(D),T._updateOverlaysVisibilty(D),T.show()}y.on("canvas.viewbox.changing",function(D){T.hide()}),y.on("canvas.viewbox.changed",function(D){I(D.viewbox)}),y.on(["shape.remove","connection.remove"],function(D){var R=D.element,U=T.get({element:R});(0,E.jJ)(U,function(Y){T.remove(Y.id)});var L=T._getOverlayContainer(R);if(L){(0,g.TF)(L.html);var N=T._overlayContainers.indexOf(L);N!==-1&&T._overlayContainers.splice(N,1)}}),y.on("element.changed",c,function(D){var R=D.element,U=T._getOverlayContainer(R,!0);U&&((0,E.jJ)(U.overlays,function(L){T._updateOverlay(L)}),T._updateOverlayContainer(U))}),y.on("element.marker.update",function(D){var R=T._getOverlayContainer(D.element,!0);R&&(0,g.Ly)(R.html)[D.add?"add":"remove"](D.marker)}),y.on("diagram.clear",this.clear,this)};function v(y){var T=(0,g.zm)('<div class="djs-overlay-container" style="position: absolute; width: 0; height: 0;" />');return y.insertBefore(T,y.firstChild),T}function u(y,T,I){(0,E.kp)(y.style,{left:T+"px",top:I+"px"})}function r(y,T){y.style.display=T===!1?"none":""}function t(y,T){y.style["transform-origin"]="top left",["","-ms-","-webkit-"].forEach(function(I){y.style[I+"transform"]=T})}const n={__init__:["overlays"],overlays:["type",i]};var e=".entry",a=1e3;function f(y,T,I){this._eventBus=T,this._overlays=I;var D=(0,E.O9)(y&&y.scale)?y.scale:{min:1,max:1.5};this._overlaysConfig={position:{right:-9,top:-6},scale:D},this._current=null,this._init()}f.$inject=["config.contextPad","eventBus","overlays"],f.prototype._init=function(){var y=this._eventBus,T=this;y.on("selection.changed",function(I){var D=I.newSelection;D.length===1?T.open(D[0]):T.close()}),y.on("elements.delete",function(I){var D=I.elements;(0,E.jJ)(D,function(R){T.isOpen(R)&&T.close()})}),y.on("element.changed",function(I){var D=I.element,R=T._current;R&&R.element===D&&T.open(D,!0)})},f.prototype.registerProvider=function(y,T){T||(T=y,y=a),this._eventBus.on("contextPad.getProviders",y,function(I){I.providers.push(T)})},f.prototype.getEntries=function(y){var T=this._getProviders(),I={};return(0,E.jJ)(T,function(D){var R=D.getContextPadEntries(y);(0,E.Tn)(R)?I=R(I):(0,E.jJ)(R,function(U,L){I[L]=U})}),I},f.prototype.trigger=function(y,T,I){var D=this._current.element,R=this._current.entries,U,L,N,Y=T.delegateTarget||T.target;if(!Y)return T.preventDefault();if(U=R[(0,g.CF)(Y,"data-action")],L=U.action,N=T.originalEvent||T,(0,E.Tn)(L)){if(y==="click")return L(N,D,I)}else if(L[y])return L[y](N,D,I);T.preventDefault()},f.prototype.open=function(y,T){!T&&this.isOpen(y)||(this.close(),this._updateAndOpen(y))},f.prototype._getProviders=function(y){var T=this._eventBus.createEvent({type:"contextPad.getProviders",providers:[]});return this._eventBus.fire(T),T.providers},f.prototype._updateAndOpen=function(y){var T=this.getEntries(y),I=this.getPad(y),D=I.html;(0,E.jJ)(T,function(R,U){var L=R.group||"default",N=(0,g.zm)(R.html||'<div class="entry" draggable="true"></div>'),Y;(0,g.CF)(N,"data-action",U),Y=(0,g.P)("[data-group="+L+"]",D),Y||(Y=(0,g.zm)('<div class="group" data-group="'+L+'"></div>'),D.appendChild(Y)),Y.appendChild(N),R.className&&C(N,R.className),R.title&&(0,g.CF)(N,"title",R.title),R.imageUrl&&N.appendChild((0,g.zm)('<img src="'+R.imageUrl+'">'))}),(0,g.Ly)(D).add("open"),this._current={element:y,pad:I,entries:T},this._eventBus.fire("contextPad.open",{current:this._current})},f.prototype.getPad=function(y){if(this.isOpen())return this._current.pad;var T=this,I=this._overlays,D=(0,g.zm)('<div class="djs-context-pad"></div>'),R=(0,E.kp)({html:D},this._overlaysConfig);g.Mm.bind(D,e,"click",function(L){T.trigger("click",L)}),g.Mm.bind(D,e,"dragstart",function(L){T.trigger("dragstart",L)}),g.f0.bind(D,"mousedown",function(L){L.stopPropagation()}),this._overlayId=I.add(y,"context-pad",R);var U=I.get(this._overlayId);return this._eventBus.fire("contextPad.create",{element:y,pad:U}),U},f.prototype.close=function(){this.isOpen()&&(this._overlays.remove(this._overlayId),this._overlayId=null,this._eventBus.fire("contextPad.close",{current:this._current}),this._current=null)},f.prototype.isOpen=function(y){return!!this._current&&(y?this._current.element===y:!0)};function C(y,T){var I=(0,g.Ly)(y),D=(0,E.cy)(T)?T:T.split(/\s+/g);D.forEach(function(R){I.add(R)})}const P={__depends__:[s.A,n],contextPad:["type",f]}},7034:(rt,G,m)=>{"use strict";m.d(G,{A:()=>u});var s=m(76594),E=m(10018);function g(r,t,n,e,a,f,C,P){this._canvas=r,this._create=t,this._clipboard=n,this._elementFactory=e,this._eventBus=a,this._modeling=f,this._mouse=C,this._rules=P,a.on("copyPaste.copyElement",function(y){var T=y.descriptor,I=y.element,D=y.elements;T.priority=1,T.id=I.id;var R=(0,s.I6)(D,function(U){return U===I.parent});R&&(T.parent=I.parent.id),_(I)&&(T.priority=2,T.host=I.host.id),p(I)&&(T.priority=3,T.source=I.source.id,T.target=I.target.id,T.waypoints=c(I)),o(I)&&(T.priority=4,T.labelTarget=I.labelTarget.id),(0,s.jJ)(["x","y","width","height"],function(U){(0,s.Et)(I[U])&&(T[U]=I[U])}),T.hidden=I.hidden,T.collapsed=I.collapsed}),a.on("copyPaste.pasteElements",function(y){var T=y.hints;(0,s.kp)(T,{createElementsBehavior:!1})})}g.$inject=["canvas","create","clipboard","elementFactory","eventBus","modeling","mouse","rules"],g.prototype.copy=function(r){var t,n;return(0,s.cy)(r)||(r=r?[r]:[]),t=this._eventBus.fire("copyPaste.canCopyElements",{elements:r}),t===!1?n={}:n=this.createTree((0,s.cy)(t)?t:r),this._clipboard.set(n),this._eventBus.fire("copyPaste.elementsCopied",{elements:r,tree:n}),n},g.prototype.paste=function(r){var t=this._clipboard.get();if(!this._clipboard.isEmpty()){var n=r&&r.hints||{};this._eventBus.fire("copyPaste.pasteElements",{hints:n});var e=this._createElements(t);if(r&&r.element&&r.point)return this._paste(e,r.element,r.point,n);this._create.start(this._mouse.getLastMoveEvent(),e,{hints:n})}},g.prototype._paste=function(r,t,n,e){(0,s.jJ)(r,function(f){(0,s.Et)(f.x)||(f.x=0),(0,s.Et)(f.y)||(f.y=0)});var a=(0,E.U7)(r);return(0,s.jJ)(r,function(f){p(f)&&(f.waypoints=(0,s.Tj)(f.waypoints,function(C){return{x:C.x-a.x-a.width/2,y:C.y-a.y-a.height/2}})),(0,s.kp)(f,{x:f.x-a.x-a.width/2,y:f.y-a.y-a.height/2})}),this._modeling.createElements(r,n,t,(0,s.kp)({},e))},g.prototype._createElements=function(r){var t=this,n=this._eventBus,e={},a=[];return(0,s.jJ)(r,function(f,C){C=parseInt(C,10),f=(0,s.Ul)(f,"priority"),(0,s.jJ)(f,function(P){var y=(0,s.kp)({},(0,s.cJ)(P,["priority"]));e[P.parent]?y.parent=e[P.parent]:delete y.parent,n.fire("copyPaste.pasteElement",{cache:e,descriptor:y});var T;if(p(y)){y.source=e[P.source],y.target=e[P.target],T=e[P.id]=t.createConnection(y),a.push(T);return}if(o(y)){y.labelTarget=e[y.labelTarget],T=e[P.id]=t.createLabel(y),a.push(T);return}y.host&&(y.host=e[y.host]),T=e[P.id]=t.createShape(y),a.push(T)})}),a},g.prototype.createConnection=function(r){var t=this._elementFactory.createConnection((0,s.cJ)(r,["id"]));return t},g.prototype.createLabel=function(r){var t=this._elementFactory.createLabel((0,s.cJ)(r,["id"]));return t},g.prototype.createShape=function(r){var t=this._elementFactory.createShape((0,s.cJ)(r,["id"]));return t},g.prototype.hasRelations=function(r,t){var n,e,a;return!(p(r)&&(e=(0,s.I6)(t,(0,s.gH)({id:r.source.id})),a=(0,s.I6)(t,(0,s.gH)({id:r.target.id})),!e||!a)||o(r)&&(n=(0,s.I6)(t,(0,s.gH)({id:r.labelTarget.id})),!n))},g.prototype.createTree=function(r){var t=this._rules,n=this,e={},a=[],f=(0,E.wT)(r);function C(T,I){return t.allowed("element.copy",{element:T,elements:I})}function P(T,I){var D=(0,s.I6)(a,function(R){return T===R.element});if(!D){a.push({element:T,depth:I});return}D.depth<I&&(a=y(D,a),a.push({element:D.element,depth:I}))}function y(T,I){var D=I.indexOf(T);return D!==-1&&I.splice(D,1),I}return(0,E.qO)(f,function(T,I,D){if(o(T))return;(0,s.jJ)(T.labels,function(U){P(U,D)});function R(U){U&&U.length&&(0,s.jJ)(U,function(L){(0,s.jJ)(L.labels,function(N){P(N,D)}),P(L,D)})}return(0,s.jJ)([T.attachers,T.incoming,T.outgoing],R),P(T,D),T.children}),r=(0,s.Tj)(a,function(T){return T.element}),a=(0,s.Tj)(a,function(T){return T.descriptor={},n._eventBus.fire("copyPaste.copyElement",{descriptor:T.descriptor,element:T.element,elements:r}),T}),a=(0,s.Ul)(a,function(T){return T.descriptor.priority}),r=(0,s.Tj)(a,function(T){return T.element}),(0,s.jJ)(a,function(T){var I=T.depth;if(!n.hasRelations(T.element,r)){v(T.element,r);return}if(!C(T.element,r)){v(T.element,r);return}e[I]||(e[I]=[]),e[I].push(T.descriptor)}),e};function _(r){return!!r.host}function p(r){return!!r.waypoints}function o(r){return!!r.labelTarget}function c(r){return(0,s.Tj)(r.waypoints,function(t){return t=i(t),t.original&&(t.original=i(t.original)),t})}function i(r){return(0,s.kp)({},r)}function v(r,t){var n=t.indexOf(r);return n===-1?t:t.splice(n,1)}const u=g},78768:(rt,G,m)=>{"use strict";m.d(G,{A:()=>v});function s(){}s.prototype.get=function(){return this._data},s.prototype.set=function(u){this._data=u},s.prototype.clear=function(){var u=this._data;return delete this._data,u},s.prototype.isEmpty=function(){return!this._data};const E={clipboard:["type",s]};var g=m(54559);function _(u){var r=this;this._lastMoveEvent=null;function t(n){r._lastMoveEvent=n}u.on("canvas.init",function(n){var e=r._svg=n.svg;e.addEventListener("mousemove",t)}),u.on("canvas.destroy",function(){r._lastMouseEvent=null,r._svg.removeEventListener("mousemove",t)})}_.$inject=["eventBus"],_.prototype.getLastMoveEvent=function(){return this._lastMoveEvent||p(0,0)};function p(u,r){var t=document.createEvent("MouseEvent"),n=u,e=r,a=u,f=r;return t.initMouseEvent&&t.initMouseEvent("mousemove",!0,!0,window,0,n,e,a,f,!1,!1,!1,!1,0,null),t}const o={__init__:["mouse"],mouse:["type",_]};var c=m(11918),i=m(7034);const v={__depends__:[E,g.A,o,c.A],__init__:["copyPaste"],copyPaste:["type",i.A]}},54559:(rt,G,m)=>{"use strict";m.d(G,{A:()=>R});var s=m(84654),E=m(71953),g=m(11918),_=m(56773),p=m(76594),o=m(10018),c="drop-ok",i="drop-not-ok",v="attach-ok",u="new-parent",r="create",t=2e3;function n(U,L,N,Y,Q){function it(W,O,l,x){if(!O)return!1;W=(0,p.pb)(W,function(j){var B=j.labelTarget;return!j.parent&&!(C(j)&&W.indexOf(B)!==-1)});var h=(0,p.I6)(W,function(j){return!a(j)}),d=!1,M=!1,S=!1;return f(W)&&(d=Q.allowed("shape.attach",{position:l,shape:h,target:O})),d||(f(W)?S=Q.allowed("shape.create",{position:l,shape:h,source:x,target:O}):S=Q.allowed("elements.create",{elements:W,position:l,target:O})),S||d?(h&&x&&(M=Q.allowed("connection.create",{source:x,target:h,hints:{targetParent:O,targetAttach:d}})),{attach:d,connect:M}):S===null||d===null?null:!1}function tt(W,O){[v,c,i,u].forEach(function(l){l===O?U.addMarker(W,l):U.removeMarker(W,l)})}N.on(["create.move","create.hover"],function(W){var O=W.context,l=O.elements,x=W.hover,h=O.source;if(!x){O.canExecute=!1,O.target=null;return}e(W);var d={x:W.x,y:W.y},M=O.canExecute=x&&it(l,x,d,h);x&&M!==null&&(O.target=x,M&&M.attach?tt(x,v):tt(x,M?u:i))}),N.on(["create.end","create.out","create.cleanup"],function(W){var O=W.hover;O&&tt(O,null)}),N.on("create.end",function(W){var O=W.context,l=O.source,x=O.shape,h=O.elements,d=O.target,M=O.hints,S=O.canExecute,j=S&&S.attach,B=S&&S.connect;if(S===!1||!d)return!1;e(W);var V={x:W.x,y:W.y};B?x=Y.appendShape(l,x,V,d,{attach:j,connection:B===!0?{}:B}):(h=Y.createElements(h,V,d,(0,p.kp)({},M,{attach:j})),x=(0,p.I6)(h,function(J){return!a(J)})),(0,p.kp)(O,{elements:h,shape:x}),(0,p.kp)(W,{elements:h,shape:x})});function $(){var W=L.context();W&&W.prefix===r&&L.cancel()}N.on("create.init",function(){N.on("elements.changed",$),N.once(["create.cancel","create.end"],t,function(){N.off("elements.changed",$)})}),this.start=function(W,O,l){(0,p.cy)(O)||(O=[O]);var x=(0,p.I6)(O,function(d){return!a(d)});if(x){l=(0,p.kp)({elements:O,hints:{},shape:x},l||{}),(0,p.jJ)(O,function(d){(0,p.Et)(d.x)||(d.x=0),(0,p.Et)(d.y)||(d.y=0)});var h=(0,o.U7)(O);(0,p.jJ)(O,function(d){a(d)&&(d.waypoints=(0,p.Tj)(d.waypoints,function(M){return{x:M.x-h.x-Math.round(h.width/2),y:M.y-h.y-Math.round(h.height/2)}})),(0,p.kp)(d,{x:d.x-h.x-Math.round(h.width/2),y:d.y-h.y-Math.round(h.height/2)})}),L.init(W,r,{cursor:"grabbing",autoActivate:!0,data:{shape:x,elements:O,context:l}})}}}n.$inject=["canvas","dragging","eventBus","modeling","rules"];function e(U){var L=U.context,N=L.createConstraints;N&&(N.left&&(U.x=Math.max(U.x,N.left)),N.right&&(U.x=Math.min(U.x,N.right)),N.top&&(U.y=Math.max(U.y,N.top)),N.bottom&&(U.y=Math.min(U.y,N.bottom)))}function a(U){return!!U.waypoints}function f(U){return U&&U.length===1&&!a(U[0])}function C(U){return!!U.labelTarget}var P=m(52965),y=m(12266),T=m(33225),I=750;function D(U,L,N,Y,Q){function it(tt){var $=(0,T.vt)("g");(0,T.CF)($,Q.cls("djs-drag-group",["no-events"]));var W=(0,T.vt)("g");return tt.forEach(function(O){var l;(0,T.CF)($,{"data-element-id":O.id}),!O.hidden&&(O.waypoints?(l=N._createContainer("connection",W),N.drawConnection((0,y.P)(l),O)):(l=N._createContainer("shape",W),N.drawShape((0,y.P)(l),O),(0,P.Tl)(l,O.x,O.y)),Y.addDragger(O,$,l))}),$}L.on("create.move",I,function(tt){var $=tt.hover,W=tt.context,O=W.elements,l=W.dragGroup;l||(l=W.dragGroup=it(O));var x;$?(l.parentNode||(x=U.getDefaultLayer(),(0,T.BC)(x,l)),(0,P.Tl)(l,tt.x,tt.y)):(0,T.TF)(l)}),L.on("create.cleanup",function(tt){var $=tt.context,W=$.dragGroup;W&&(0,T.TF)(W)})}D.$inject=["canvas","eventBus","graphicsFactory","previewSupport","styles"];const R={__depends__:[s.A,E.A,g.A,_.A],__init__:["create","createPreview"],create:["type",n],createPreview:["type",D]}},84654:(rt,G,m)=>{"use strict";m.d(G,{A:()=>C});var s=m(56773),E=m(76594),g=m(63030),_=m(86439),p=m(46837),o=m(200),c=m(56764),i=Math.round,v="djs-drag-active";function u(P){P.preventDefault()}function r(P){return typeof TouchEvent<"u"&&P instanceof TouchEvent}function t(P){return Math.sqrt(Math.pow(P.x,2)+Math.pow(P.y,2))}function n(P,y,T,I){var D={threshold:5,trapClick:!0},R;function U(d){var M=y.viewbox(),S=y._container.getBoundingClientRect();return{x:M.x+(d.x-S.left)/M.scale,y:M.y+(d.y-S.top)/M.scale}}function L(d,M){M=M||R;var S=P.createEvent((0,E.kp)({},M.payload,M.data,{isTouch:M.isTouch}));return P.fire("drag."+d,S)===!1?!1:P.fire(M.prefix+"."+d,S)}function N(d){var M=d.filter(function(S){return I.get(S.id)});M.length&&T.select(M)}function Y(d,M){var S=R.payload,j=R.displacement,B=R.globalStart,V=(0,_.gK)(d),J=(0,c.p)(V,B),X=R.localStart,q=U(V),nt=(0,c.p)(q,X);if(!R.active&&(M||t(J)>R.threshold)){if((0,E.kp)(S,{x:i(X.x+j.x),y:i(X.y+j.y),dx:0,dy:0},{originalEvent:d}),L("start")===!1)return l();R.active=!0,R.keepSelection||(S.previousSelection=T.get(),T.select(null)),R.cursor&&(0,p.hZ)(R.cursor),y.addMarker(y.getRootElement(),v)}(0,_.dG)(d),R.active&&((0,E.kp)(S,{x:i(q.x+j.x),y:i(q.y+j.y),dx:i(nt.x),dy:i(nt.y)},{originalEvent:d}),L("move"))}function Q(d){var M,S=!0;R.active&&(d&&(R.payload.originalEvent=d,(0,_.dG)(d)),S=L("end")),S===!1&&L("rejected"),M=x(S!==!0),L("ended",M)}function it(d){d.which===27&&(u(d),l())}function tt(d){var M;R.active&&(M=(0,o.a)(P),setTimeout(M,400),u(d)),Q(d)}function $(d){Y(d)}function W(d){var M=R.payload;M.hoverGfx=d.gfx,M.hover=d.element,L("hover")}function O(d){L("out");var M=R.payload;M.hoverGfx=null,M.hover=null}function l(d){var M;if(R){var S=R.active;S&&L("cancel"),M=x(d),S&&L("canceled",M)}}function x(d){var M,S;L("cleanup"),(0,p.wC)(),R.trapClick?S=tt:S=Q,g.f0.unbind(document,"mousemove",Y),g.f0.unbind(document,"dragstart",u),g.f0.unbind(document,"selectstart",u),g.f0.unbind(document,"mousedown",S,!0),g.f0.unbind(document,"mouseup",S,!0),g.f0.unbind(document,"keyup",it),g.f0.unbind(document,"touchstart",$,!0),g.f0.unbind(document,"touchcancel",l,!0),g.f0.unbind(document,"touchmove",Y,!0),g.f0.unbind(document,"touchend",Q,!0),P.off("element.hover",W),P.off("element.out",O),y.removeMarker(y.getRootElement(),v);var j=R.payload.previousSelection;return d!==!1&&j&&!T.get().length&&N(j),M=R,R=null,M}function h(d,M,S,j){R&&l(!1),typeof M=="string"&&(j=S,S=M,M=null),j=(0,E.kp)({},D,j||{});var B=j.data||{},V,J,X,q,nt;j.trapClick?q=tt:q=Q,d?(V=(0,_.AF)(d)||d,J=(0,_.gK)(d),(0,_.dG)(d),V.type==="dragstart"&&u(V)):(V=null,J={x:0,y:0}),X=U(J),M||(M=X),nt=r(V),R=(0,E.kp)({prefix:S,data:B,payload:{},globalStart:J,displacement:(0,c.p)(M,X),localStart:X,isTouch:nt},j),j.manual||(nt?(g.f0.bind(document,"touchstart",$,!0),g.f0.bind(document,"touchcancel",l,!0),g.f0.bind(document,"touchmove",Y,!0),g.f0.bind(document,"touchend",Q,!0)):(g.f0.bind(document,"mousemove",Y),g.f0.bind(document,"dragstart",u),g.f0.bind(document,"selectstart",u),g.f0.bind(document,"mousedown",q,!0),g.f0.bind(document,"mouseup",q,!0)),g.f0.bind(document,"keyup",it),P.on("element.hover",W),P.on("element.out",O)),L("init"),j.autoActivate&&Y(d,!0)}P.on("diagram.destroy",l),this.init=h,this.move=Y,this.hover=W,this.out=O,this.end=Q,this.cancel=l,this.context=function(){return R},this.setOptions=function(d){(0,E.kp)(D,d)}}n.$inject=["eventBus","canvas","selection","elementRegistry"];var e=1500;function a(P,y,T){var I=this;function D(R){if(!R.hover){var U=R.originalEvent,L=I._findTargetGfx(U),N=L&&T.get(L);L&&N&&(R.stopPropagation(),y.hover({element:N,gfx:L}),y.move(U))}}P.on("drag.start",function(R){P.once("drag.move",e,function(U){D(U)})}),P.on("drag.init",function(){var R,U;function L(Q){R=Q.hover,U=Q.hoverGfx}function N(){R=null,U=null}function Y(){if(R){var Q=R,it=U;R=null,U=null,y.out({element:Q,gfx:it})}}P.on("drag.hover",L),P.on("element.out",N),P.on("element.hover",e,Y),P.once("drag.cleanup",function(){P.off("drag.hover",L),P.off("element.out",N),P.off("element.hover",Y)})}),this._findTargetGfx=function(R){var U,L;if(R instanceof MouseEvent)return U=(0,_.gK)(R),L=document.elementFromPoint(U.x,U.y),f(L)}}a.$inject=["eventBus","dragging","elementRegistry"];function f(P){return(0,g.kp)(P,"svg, .djs-element",!0)}const C={__init__:["hoverFix"],__depends__:[s.A],dragging:["type",n],hoverFix:["type",a]}},20990:(rt,G,m)=>{"use strict";m.d(G,{A:()=>_});var s=m(76594),E="is not a registered action",g="is already registered";function _(o,c){this._actions={};var i=this;o.on("diagram.init",function(){i._registerDefaultActions(c),o.fire("editorActions.init",{editorActions:i})})}_.$inject=["eventBus","injector"],_.prototype._registerDefaultActions=function(o){var c=o.get("commandStack",!1),i=o.get("modeling",!1),v=o.get("selection",!1),u=o.get("zoomScroll",!1),r=o.get("copyPaste",!1),t=o.get("canvas",!1),n=o.get("rules",!1),e=o.get("keyboardMove",!1),a=o.get("keyboardMoveSelection",!1);c&&(this.register("undo",function(){c.undo()}),this.register("redo",function(){c.redo()})),r&&v&&this.register("copy",function(){var f=v.get();r.copy(f)}),r&&this.register("paste",function(){r.paste()}),u&&this.register("stepZoom",function(f){u.stepZoom(f.value)}),t&&this.register("zoom",function(f){t.zoom(f.value)}),i&&v&&n&&this.register("removeSelection",function(){var f=v.get();if(f.length){var C=n.allowed("elements.delete",{elements:f}),P;C!==!1&&((0,s.cy)(C)?P=C:P=f,P.length&&i.removeElements(P.slice()))}}),e&&this.register("moveCanvas",function(f){e.moveCanvas(f)}),a&&this.register("moveSelection",function(f){a.moveSelection(f.direction,f.accelerated)})},_.prototype.trigger=function(o,c){if(!this._actions[o])throw p(o,E);return this._actions[o](c)},_.prototype.register=function(o,c){var i=this;if(typeof o=="string")return this._registerAction(o,c);(0,s.jJ)(o,function(v,u){i._registerAction(u,v)})},_.prototype._registerAction=function(o,c){if(this.isRegistered(o))throw p(o,g);this._actions[o]=c},_.prototype.unregister=function(o){if(!this.isRegistered(o))throw p(o,E);this._actions[o]=void 0},_.prototype.getActions=function(){return Object.keys(this._actions)},_.prototype.isRegistered=function(o){return!!this._actions[o]};function p(o,c){return new Error(o+" "+c)}},44394:(rt,G,m)=>{"use strict";m.d(G,{A:()=>c});var s=m(17521),E=m(34495),g=m(76594),_=m(78626),p=1200,o=800;function c(n,e,a){var f=!a||a.active!==!1;this._eventBus=e;var C=this;e.on("diagram.init",o,function(){C.setActive(f)}),e.on(["create.move","create.end","bendpoint.move.move","bendpoint.move.end","connect.move","connect.end","connectionSegment.move.move","connectionSegment.move.end","resize.move","resize.end","shape.move.move","shape.move.end"],p,function(P){var y=P.originalEvent;if(!(!C.active||y&&(0,E.nM)(y))){var T=P.context,I=T.gridSnappingContext;I||(I=T.gridSnappingContext={}),["x","y"].forEach(function(D){var R={},U=v(P,D,n);U&&(R.offset=U);var L=i(P,D);L&&(0,g.kp)(R,L),(0,s.AC)(P,D)||C.snapEvent(P,D,R)})}})}c.prototype.snapEvent=function(n,e,a){var f=this.snapValue(n[e],a);(0,s.CU)(n,e,f)},c.prototype.getGridSpacing=function(){return _.E},c.prototype.snapValue=function(n,e){var a=0;e&&e.offset&&(a=e.offset),n+=a,n=(0,_.y)(n,_.E);var f,C;return e&&e.min&&(f=e.min,(0,g.Et)(f)&&(f=(0,_.y)(f+a,_.E,"ceil"),n=Math.max(n,f))),e&&e.max&&(C=e.max,(0,g.Et)(C)&&(C=(0,_.y)(C+a,_.E,"floor"),n=Math.min(n,C))),n-=a,n},c.prototype.isActive=function(){return this.active},c.prototype.setActive=function(n){this.active=n,this._eventBus.fire("gridSnapping.toggle",{active:n})},c.prototype.toggleActive=function(){this.setActive(!this.active)},c.$inject=["elementRegistry","eventBus","config.gridSnapping"];function i(n,e){var a=n.context,f=a.createConstraints,C=a.resizeConstraints||{},P=a.gridSnappingContext,y=P.snapConstraints;if(y&&y[e])return y[e];y||(y=P.snapConstraints={}),y[e]||(y[e]={});var T=a.direction;f&&(u(e)?(y.x.min=f.left,y.x.max=f.right):(y.y.min=f.top,y.y.max=f.bottom));var I=C.min,D=C.max;return I&&(u(e)?t(T)?y.x.max=I.left:y.x.min=I.right:r(T)?y.y.max=I.top:y.y.min=I.bottom),D&&(u(e)?t(T)?y.x.min=D.left:y.x.max=D.right:r(T)?y.y.min=D.top:y.y.max=D.bottom),y[e]}function v(n,e,a){var f=n.context,C=n.shape,P=f.gridSnappingContext,y=P.snapLocation,T=P.snapOffset;return T&&(0,g.Et)(T[e])||(T||(T=P.snapOffset={}),(0,g.Et)(T[e])||(T[e]=0),!C)||(a.get(C.id)||(u(e)?T[e]+=C[e]+C.width/2:T[e]+=C[e]+C.height/2),!y)||(e==="x"?/left/.test(y)?T[e]-=C.width/2:/right/.test(y)&&(T[e]+=C.width/2):/top/.test(y)?T[e]-=C.height/2:/bottom/.test(y)&&(T[e]+=C.height/2)),T[e]}function u(n){return n==="x"}function r(n){return n.indexOf("n")!==-1}function t(n){return n.indexOf("w")!==-1}},78626:(rt,G,m)=>{"use strict";m.d(G,{E:()=>s,y:()=>E});var s=10;function E(g,_,p){return p||(p="round"),Math[p](g/_)*_}},46902:(rt,G,m)=>{"use strict";m.d(G,{A:()=>p});var s=m(60053),E=m(34495),g=1500,_="grab";function p(c,i,v,u,r){this._dragging=v;var t=this,n=u.get("keyboard",!1);r.registerTool("hand",{tool:"hand",dragging:"hand.move"}),c.on("element.mousedown",g,function(e){if((0,s.Io)(e))return this.activateMove(e.originalEvent),!1},this),n&&n.addListener(g,function(e){if(!o(e.keyEvent)||t.isActive())return;function a(C){t.activateMove(C),window.removeEventListener("mousemove",a)}window.addEventListener("mousemove",a);function f(C){o(C.keyEvent)&&(window.removeEventListener("mousemove",a),n.removeListener(f,"keyboard.keyup"),v.cancel())}n.addListener(g,f,"keyboard.keyup")},"keyboard.keydown"),c.on("hand.end",function(e){var a=e.originalEvent.target;if(!e.hover&&!(a instanceof SVGElement))return!1;c.once("hand.ended",function(){this.activateMove(e.originalEvent,{reactivate:!0})},this)},this),c.on("hand.move.move",function(e){var a=i.viewbox().scale;i.scroll({dx:e.dx*a,dy:e.dy*a})}),c.on("hand.move.end",function(e){var a=e.context,f=a.reactivate;return!(0,s.Io)(e)&&f&&c.once("hand.move.ended",function(C){this.activateHand(C.originalEvent,!0,!0)},this),!1},this)}p.$inject=["eventBus","canvas","dragging","injector","toolManager"],p.prototype.activateMove=function(c,i,v){typeof i=="object"&&(v=i,i=!1),this._dragging.init(c,"hand.move",{autoActivate:i,cursor:_,data:{context:v||{}}})},p.prototype.activateHand=function(c,i,v){this._dragging.init(c,"hand",{trapClick:!1,autoActivate:i,cursor:_,data:{context:{reactivate:v}}})},p.prototype.toggle=function(){this.isActive()?this._dragging.cancel():this.activateHand()},p.prototype.isActive=function(){var c=this._dragging.context();return c?/^(hand|hand\.move)$/.test(c.prefix):!1};function o(c){return(0,E.m0)(" ",c)}},69380:(rt,G,m)=>{"use strict";m.d(G,{A:()=>v});var s=m(76594),E=m(63030),g=m(60053),_=m(33225),p=m(12619);function o(u){return!0}var c=500;function i(u,r,t){var n=this;function e(O,l,x){if(!C(O,l)){var h,d,M;x?d=r.getGraphics(x):(h=l.delegateTarget||l.target,h&&(d=h,x=r.get(d))),!(!d||!x)&&(M=u.fire(O,{element:x,gfx:d,originalEvent:l}),M===!1&&(l.stopPropagation(),l.preventDefault()))}}var a={};function f(O){return a[O]}function C(O,l){var x=y[O]||g.ls;return!x(l)}var P={click:"element.click",contextmenu:"element.contextmenu",dblclick:"element.dblclick",mousedown:"element.mousedown",mousemove:"element.mousemove",mouseover:"element.hover",mouseout:"element.out",mouseup:"element.mouseup"},y={"element.contextmenu":o};function T(O,l,x){var h=P[O];if(!h)throw new Error("unmapped DOM event name <"+O+">");return e(h,l,x)}var I="svg, .djs-element";function D(O,l,x,h){var d=a[x]=function(M){e(x,M)};h&&(y[x]=h),d.$delegate=E.Mm.bind(O,I,l,d)}function R(O,l,x){var h=f(x);h&&E.Mm.unbind(O,l,h.$delegate)}function U(O){(0,s.jJ)(P,function(l,x){D(O,x,l)})}function L(O){(0,s.jJ)(P,function(l,x){R(O,x,l)})}u.on("canvas.destroy",function(O){L(O.svg)}),u.on("canvas.init",function(O){U(O.svg)}),u.on(["shape.added","connection.added"],function(O){var l=O.element,x=O.gfx;u.fire("interactionEvents.createHit",{element:l,gfx:x})}),u.on(["shape.changed","connection.changed"],c,function(O){var l=O.element,x=O.gfx;u.fire("interactionEvents.updateHit",{element:l,gfx:x})}),u.on("interactionEvents.createHit",c,function(O){var l=O.element,x=O.gfx;n.createDefaultHit(l,x)}),u.on("interactionEvents.updateHit",function(O){var l=O.element,x=O.gfx;n.updateDefaultHit(l,x)});var N=tt("djs-hit djs-hit-stroke"),Y=tt("djs-hit djs-hit-click-stroke"),Q=tt("djs-hit djs-hit-all"),it={all:Q,"click-stroke":Y,stroke:N};function tt(O,l){return l=(0,s.kp)({stroke:"white",strokeWidth:15},l||{}),t.cls(O,["no-fill","no-border"],l)}function $(O,l){var x=it[l];if(!x)throw new Error("invalid hit type <"+l+">");return(0,_.CF)(O,x),O}function W(O,l){(0,_.BC)(O,l)}this.removeHits=function(O){var l=(0,E.YG)(".djs-hit",O);(0,s.jJ)(l,_.TF)},this.createDefaultHit=function(O,l){var x=O.waypoints,h=O.isFrame,d;return x?this.createWaypointsHit(l,x):(d=h?"stroke":"all",this.createBoxHit(l,d,{width:O.width,height:O.height}))},this.createWaypointsHit=function(O,l){var x=(0,p.RJ)(l);return $(x,"stroke"),W(O,x),x},this.createBoxHit=function(O,l,x){x=(0,s.kp)({x:0,y:0},x);var h=(0,_.vt)("rect");return $(h,l),(0,_.CF)(h,x),W(O,h),h},this.updateDefaultHit=function(O,l){var x=(0,E.P)(".djs-hit",l);if(x)return O.waypoints?(0,p.si)(x,O.waypoints):(0,_.CF)(x,{width:O.width,height:O.height}),x},this.fire=e,this.triggerMouseEvent=T,this.mouseHandler=f,this.registerEvent=D,this.unregisterEvent=R}i.$inject=["eventBus","elementRegistry","styles"];const v={__init__:["interactionEvents"],interactionEvents:["type",i]}},77117:(rt,G,m)=>{"use strict";m.d(G,{A:()=>g});var s=m(34495),E=500;function g(_,p){var o=this;_.on("editorActions.init",E,function(c){var i=c.editorActions;o.registerBindings(p,i)})}g.$inject=["eventBus","keyboard"],g.prototype.registerBindings=function(_,p){function o(c,i){p.isRegistered(c)&&_.addListener(i)}o("undo",function(c){var i=c.keyEvent;if((0,s.nM)(i)&&!(0,s.Tu)(i)&&(0,s.m0)(["z","Z"],i))return p.trigger("undo"),!0}),o("redo",function(c){var i=c.keyEvent;if((0,s.nM)(i)&&((0,s.m0)(["y","Y"],i)||(0,s.m0)(["z","Z"],i)&&(0,s.Tu)(i)))return p.trigger("redo"),!0}),o("copy",function(c){var i=c.keyEvent;if((0,s.nM)(i)&&(0,s.m0)(["c","C"],i))return p.trigger("copy"),!0}),o("paste",function(c){var i=c.keyEvent;if((0,s.nM)(i)&&(0,s.m0)(["v","V"],i))return p.trigger("paste"),!0}),o("stepZoom",function(c){var i=c.keyEvent;if((0,s.m0)(["+","Add"],i)&&(0,s.nM)(i))return p.trigger("stepZoom",{value:1}),!0}),o("stepZoom",function(c){var i=c.keyEvent;if((0,s.m0)(["-","Subtract"],i)&&(0,s.nM)(i))return p.trigger("stepZoom",{value:-1}),!0}),o("zoom",function(c){var i=c.keyEvent;if((0,s.m0)("0",i)&&(0,s.nM)(i))return p.trigger("zoom",{value:1}),!0}),o("removeSelection",function(c){var i=c.keyEvent;if((0,s.m0)(["Delete","Del"],i))return p.trigger("removeSelection"),!0})}},34495:(rt,G,m)=>{"use strict";m.d(G,{Tu:()=>p,m0:()=>_,mp:()=>E,nM:()=>g});var s=m(76594);function E(o){return o.ctrlKey||o.metaKey||o.shiftKey||o.altKey}function g(o){return o.altKey?!1:o.ctrlKey||o.metaKey}function _(o,c){return o=(0,s.cy)(o)?o:[o],o.indexOf(c.key)>-1}function p(o){return o.shiftKey}},50317:(rt,G,m)=>{"use strict";m.d(G,{A:()=>u});var s=m(76594),E=m(63030),g=m(34495),_="keyboard.keydown",p="keyboard.keyup",o=1e3;function c(r,t){var n=this;this._config=r||{},this._eventBus=t,this._keydownHandler=this._keydownHandler.bind(this),this._keyupHandler=this._keyupHandler.bind(this),t.on("diagram.destroy",function(){n._fire("destroy"),n.unbind()}),t.on("diagram.init",function(){n._fire("init")}),t.on("attach",function(){r&&r.bindTo&&n.bind(r.bindTo)}),t.on("detach",function(){n.unbind()})}c.$inject=["config.keyboard","eventBus"],c.prototype._keydownHandler=function(r){this._keyHandler(r,_)},c.prototype._keyupHandler=function(r){this._keyHandler(r,p)},c.prototype._keyHandler=function(r,t){var n=r.target,e;if(!i(n)){var a={keyEvent:r};e=this._eventBus.fire(t||_,a),!(r.ctrlKey&&!r.altKey&&!r.shiftKey&&r.keyCode===67)&&e&&r.preventDefault()}},c.prototype.bind=function(r){this.unbind(),this._node=r,E.f0.bind(r,"keydown",this._keydownHandler,!0),E.f0.bind(r,"keyup",this._keyupHandler,!0),this._fire("bind")},c.prototype.getBinding=function(){return this._node},c.prototype.unbind=function(){var r=this._node;r&&(this._fire("unbind"),E.f0.unbind(r,"keydown",this._keydownHandler,!0),E.f0.unbind(r,"keyup",this._keyupHandler,!0)),this._node=null},c.prototype._fire=function(r){this._eventBus.fire("keyboard."+r,{node:this._node})},c.prototype.addListener=function(r,t,n){(0,s.Tn)(r)&&(n=t,t=r,r=o),this._eventBus.on(n||_,r,t)},c.prototype.removeListener=function(r,t){this._eventBus.off(t||_,r)},c.prototype.hasModifier=g.mp,c.prototype.isCmd=g.nM,c.prototype.isShift=g.Tu,c.prototype.isKey=g.m0;function i(r){return r&&((0,E.cK)(r,"input, textarea")||r.contentEditable==="true")}var v=m(77117);const u={__init__:["keyboard","keyboardBindings"],keyboard:["type",c],keyboardBindings:["type",v.A]}},22170:(rt,G,m)=>{"use strict";m.d(G,{A:()=>v});var s=m(76594),E=m(51270),g=m.n(E),_=m(6958),p=m(91799),o=m(29086),c=250,i=1400;function v(r,t,n){o.A.call(this,t);var e=r.get("movePreview",!1);t.on("shape.move.start",i,function(a){var f=a.context,C=f.shapes,P=f.validatedShapes;f.shapes=u(C),f.validatedShapes=u(P)}),e&&t.on("shape.move.start",c,function(a){var f=a.context,C=f.shapes,P=[];(0,s.jJ)(C,function(y){(0,s.jJ)(y.labels,function(T){!T.hidden&&f.shapes.indexOf(T)===-1&&P.push(T),y.labelTarget&&P.push(y)})}),(0,s.jJ)(P,function(y){e.makeDraggable(f,y,!0)})}),this.preExecuted("elements.move",i,function(a){var f=a.context,C=f.closure,P=C.enclosedElements,y=[];(0,s.jJ)(P,function(T){(0,s.jJ)(T.labels,function(I){P[I.id]||y.push(I)})}),C.addAll(y)}),this.preExecute(["connection.delete","shape.delete"],function(a){var f=a.context,C=f.connection||f.shape;(0,p.l)(C.labels,function(P){n.removeShape(P,{nested:!0})})}),this.execute("shape.delete",function(a){var f=a.context,C=f.shape,P=C.labelTarget;P&&(f.labelTargetIndex=(0,_.qh)(P.labels,C),f.labelTarget=P,C.labelTarget=null)}),this.revert("shape.delete",function(a){var f=a.context,C=f.shape,P=f.labelTarget,y=f.labelTargetIndex;P&&((0,_.WQ)(P.labels,C,y),C.labelTarget=P)})}g()(v,o.A),v.$inject=["injector","eventBus","modeling"];function u(r){return(0,s.pb)(r,function(t){return r.indexOf(t.labelTarget)===-1})}},40406:(rt,G,m)=>{"use strict";m.d(G,{A:()=>o});var s=m(76594),E=m(10018),g=m(60053),_=m(33225),p="crosshair";function o(i,v,u,r,t,n){this._selection=t,this._dragging=u;var e=this,a={create:function(f){var C=v.getDefaultLayer(),P;P=f.frame=(0,_.vt)("rect"),(0,_.CF)(P,{class:"djs-lasso-overlay",width:1,height:1,x:0,y:0}),(0,_.BC)(C,P)},update:function(f){var C=f.frame,P=f.bbox;(0,_.CF)(C,{x:P.x,y:P.y,width:P.width,height:P.height})},remove:function(f){f.frame&&(0,_.TF)(f.frame)}};n.registerTool("lasso",{tool:"lasso.selection",dragging:"lasso"}),i.on("lasso.selection.end",function(f){var C=f.originalEvent.target;!f.hover&&!(C instanceof SVGElement)||i.once("lasso.selection.ended",function(){e.activateLasso(f.originalEvent,!0)})}),i.on("lasso.end",function(f){var C=c(f),P=r.filter(function(y){return y});e.select(P,C)}),i.on("lasso.start",function(f){var C=f.context;C.bbox=c(f),a.create(C)}),i.on("lasso.move",function(f){var C=f.context;C.bbox=c(f),a.update(C)}),i.on("lasso.cleanup",function(f){var C=f.context;a.remove(C)}),i.on("element.mousedown",1500,function(f){if((0,g.KH)(f))return e.activateLasso(f.originalEvent),!0})}o.$inject=["eventBus","canvas","dragging","elementRegistry","selection","toolManager"],o.prototype.activateLasso=function(i,v){this._dragging.init(i,"lasso",{autoActivate:v,cursor:p,data:{context:{}}})},o.prototype.activateSelection=function(i){this._dragging.init(i,"lasso.selection",{trapClick:!1,cursor:p,data:{context:{}}})},o.prototype.select=function(i,v){var u=(0,E.rx)(i,v);this._selection.select((0,s.zu)(u))},o.prototype.toggle=function(){this.isActive()?this._dragging.cancel():this.activateSelection()},o.prototype.isActive=function(){var i=this._dragging.context();return i&&/^lasso/.test(i.prefix)};function c(i){var v={x:i.x-i.dx,y:i.y-i.dy},u={x:i.x,y:i.y},r;return v.x<=u.x&&v.y<u.y||v.x<u.x&&v.y<=u.y?r={x:v.x,y:v.y,width:u.x-v.x,height:u.y-v.y}:v.x>=u.x&&v.y<u.y||v.x>u.x&&v.y<=u.y?r={x:u.x,y:v.y,width:v.x-u.x,height:u.y-v.y}:v.x<=u.x&&v.y>u.y||v.x<u.x&&v.y>=u.y?r={x:v.x,y:u.y,width:u.x-v.x,height:v.y-u.y}:v.x>=u.x&&v.y>u.y||v.x>u.x&&v.y>=u.y?r={x:u.x,y:u.y,width:v.x-u.x,height:v.y-u.y}:r={x:u.x,y:u.y,width:0,height:0},r}},50101:(rt,G,m)=>{"use strict";m.d(G,{A:()=>i});var s=m(84654),E=m(76594),g=m(63030),_=250;function p(v,u){this._eventBus=v,this._dragging=u,this._tools=[],this._active=null}p.$inject=["eventBus","dragging"],p.prototype.registerTool=function(v,u){var r=this._tools;if(!u)throw new Error(`A tool has to be registered with it's "events"`);r.push(v),this.bindEvents(v,u)},p.prototype.isActive=function(v){return v&&this._active===v},p.prototype.length=function(v){return this._tools.length},p.prototype.setActive=function(v){var u=this._eventBus;this._active!==v&&(this._active=v,u.fire("tool-manager.update",{tool:v}))},p.prototype.bindEvents=function(v,u){var r=this._eventBus,t=this._dragging,n=[];r.on(u.tool+".init",function(e){var a=e.context;if(!a.reactivate&&this.isActive(v)){this.setActive(null),t.cancel();return}this.setActive(v)},this),(0,E.jJ)(u,function(e){n.push(e+".ended"),n.push(e+".canceled")}),r.on(n,_,function(e){var a=e.originalEvent;this._active&&(a&&(0,g.kp)(a.target,'.group[data-group="tools"]')||this.setActive(null))},this)};const o={__depends__:[s.A],__init__:["toolManager"],toolManager:["type",p]};var c=m(40406);const i={__depends__:[o],__init__:["lassoTool"],lassoTool:["type",c.A]}},3366:(rt,G,m)=>{"use strict";m.d(G,{A:()=>O});var s=m(76594),E=m(49096);function g(l,x){this._modeling=l,this._canvas=x}g.$inject=["modeling","canvas"],g.prototype.preExecute=function(l){var x=this._modeling,h=l.elements,d=l.alignment;(0,s.jJ)(h,function(M){var S={x:0,y:0};d.left?S.x=d.left-M.x:d.right?S.x=d.right-M.width-M.x:d.center?S.x=d.center-Math.round(M.width/2)-M.x:d.top?S.y=d.top-M.y:d.bottom?S.y=d.bottom-M.height-M.y:d.middle&&(S.y=d.middle-Math.round(M.height/2)-M.y),x.moveElements([M],S,M.parent)})},g.prototype.postExecute=function(l){};function _(l){this._modeling=l}_.$inject=["modeling"],_.prototype.preExecute=function(l){var x=l.source;if(!x)throw new Error("source required");var h=l.target||x.parent,d=l.shape;d=l.shape=this._modeling.createShape(d,l.position,h,{attach:l.attach}),l.shape=d},_.prototype.postExecute=function(l){var x=l.connectionParent||l.shape.parent;p(l.source,l.shape)||this._modeling.connect(l.source,l.shape,l.connection,x)};function p(l,x){return(0,s.zN)(l.outgoing,function(h){return h.target===x})}function o(l,x){this._canvas=l,this._layouter=x}o.$inject=["canvas","layouter"],o.prototype.execute=function(l){var x=l.connection,h=l.source,d=l.target,M=l.parent,S=l.parentIndex,j=l.hints;if(!h||!d)throw new Error("source and target required");if(!M)throw new Error("parent required");return x.source=h,x.target=d,x.waypoints||(x.waypoints=this._layouter.layoutConnection(x,j)),this._canvas.addConnection(x,M,S),x},o.prototype.revert=function(l){var x=l.connection;return this._canvas.removeConnection(x),x.source=null,x.target=null,x};var c=m(90006),i=m(34635),v=m(2050),u=m(6958);function r(l,x){this._canvas=l,this._modeling=x}r.$inject=["canvas","modeling"],r.prototype.execute=function(l){var x=l.connection,h=x.parent;return l.parent=h,l.parentIndex=(0,u.qh)(h.children,x),l.source=x.source,l.target=x.target,this._canvas.removeConnection(x),x.source=null,x.target=null,x},r.prototype.revert=function(l){var x=l.connection,h=l.parent,d=l.parentIndex;return x.source=l.source,x.target=l.target,(0,u.WQ)(h.children,x,d),this._canvas.addConnection(x,h),x};function t(l,x){this._modeling=l,this._elementRegistry=x}t.$inject=["modeling","elementRegistry"],t.prototype.postExecute=function(l){var x=this._modeling,h=this._elementRegistry,d=l.elements;(0,s.jJ)(d,function(M){h.get(M.id)&&(M.waypoints?x.removeConnection(M):x.removeShape(M))})};var n=m(81493);function e(l){this._modeling=l}e.$inject=["modeling"];var a={x:"y",y:"x"};e.prototype.preExecute=function(l){var x=this._modeling,h=l.groups,d=l.axis,M=l.dimension;function S(w,z){w.range.min=Math.min(z[d],w.range.min),w.range.max=Math.max(z[d]+z[M],w.range.max)}function j(w){return w[d]+w[M]/2}function B(w){return w.length-1}function V(w){return w.max-w.min}function J(w,z){var Z={y:0};Z[d]=w-j(z),Z[d]&&(Z[a[d]]=0,x.moveElements([z],Z,z.parent))}var X=h[0],q=B(h),nt=h[q],F,H,k=0;(0,s.jJ)(h,function(w,z){var Z,ot,st;if(w.elements.length<2){z&&z!==h.length-1&&(S(w,w.elements[0]),k+=V(w.range));return}Z=(0,s.Ul)(w.elements,d),ot=Z[0],z===q&&(ot=Z[B(Z)]),st=j(ot),w.range=null,(0,s.jJ)(Z,function(ut){if(J(st,ut),w.range===null){w.range={min:ut[d],max:ut[d]+ut[M]};return}S(w,ut)}),z&&z!==h.length-1&&(k+=V(w.range))}),H=Math.abs(nt.range.min-X.range.max),F=Math.round((H-k)/(h.length-1)),!(F<h.length-1)&&(0,s.jJ)(h,function(w,z){var Z={},ot;w===X||w===nt||(ot=h[z-1],w.range.max=0,(0,s.jJ)(w.elements,function(st,ut){Z[a[d]]=0,Z[d]=ot.range.max-st[d]+F,w.range.min!==st[d]&&(Z[d]+=st[d]-w.range.min),Z[d]&&x.moveElements([st],Z,st.parent),w.range.max=Math.max(st[d]+st[M],ut?w.range.max:0)}))})},e.prototype.postExecute=function(l){};function f(l,x){this._layouter=l,this._canvas=x}f.$inject=["layouter","canvas"],f.prototype.execute=function(l){var x=l.connection,h=x.waypoints;return(0,s.kp)(l,{oldWaypoints:h}),x.waypoints=this._layouter.layoutConnection(x,l.hints),x},f.prototype.revert=function(l){var x=l.connection;return x.waypoints=l.oldWaypoints,x};function C(){}C.prototype.execute=function(l){var x=l.connection,h=l.delta,d=l.newParent||x.parent,M=l.newParentIndex,S=x.parent;return l.oldParent=S,l.oldParentIndex=(0,u.TF)(S.children,x),(0,u.WQ)(d.children,x,M),x.parent=d,(0,s.jJ)(x.waypoints,function(j){j.x+=h.x,j.y+=h.y,j.original&&(j.original.x+=h.x,j.original.y+=h.y)}),x},C.prototype.revert=function(l){var x=l.connection,h=x.parent,d=l.oldParent,M=l.oldParentIndex,S=l.delta;return(0,u.TF)(h.children,x),(0,u.WQ)(d.children,x,M),x.parent=d,(0,s.jJ)(x.waypoints,function(j){j.x-=S.x,j.y-=S.y,j.original&&(j.original.x-=S.x,j.original.y-=S.y)}),x};var P=m(12301),y=m(76935),T=m(97970),I=m(39226);function D(l,x){this._modeling=l,this._rules=x}D.$inject=["modeling","rules"],D.prototype.preExecute=function(l){var x=this,h=this._modeling,d=this._rules,M=l.oldShape,S=l.newData,j=l.hints||{},B;function V(H,k,w){return d.allowed("connection.reconnect",{connection:w,source:H,target:k})}var J={x:S.x,y:S.y},X={x:M.x,y:M.y,width:M.width,height:M.height};B=l.newShape=l.newShape||x.createShape(S,J,M.parent,j),M.host&&h.updateAttachment(B,M.host);var q;j.moveChildren!==!1&&(q=M.children.slice(),h.moveElements(q,{x:0,y:0},B,j));var nt=M.incoming.slice(),F=M.outgoing.slice();(0,s.jJ)(nt,function(H){var k=H.source,w=V(k,B,H);w&&x.reconnectEnd(H,B,(0,I.tQ)(H,B,X),j)}),(0,s.jJ)(F,function(H){var k=H.target,w=V(B,k,H);w&&x.reconnectStart(H,B,(0,I.Fe)(H,B,X),j)})},D.prototype.postExecute=function(l){var x=l.oldShape;this._modeling.removeShape(x)},D.prototype.execute=function(l){},D.prototype.revert=function(l){},D.prototype.createShape=function(l,x,h,d){return this._modeling.createShape(l,x,h,d)},D.prototype.reconnectStart=function(l,x,h,d){this._modeling.reconnectStart(l,x,h,d)},D.prototype.reconnectEnd=function(l,x,h,d){this._modeling.reconnectEnd(l,x,h,d)};var R=m(38226),U=m(57261);function L(l){this._modeling=l}L.$inject=["modeling"],L.prototype.execute=function(l){var x=l.shape,h=x.children;l.oldChildrenVisibility=N(h),x.collapsed=!x.collapsed;var d=Y(h,x.collapsed);return[x].concat(d)},L.prototype.revert=function(l){var x=l.shape,h=l.oldChildrenVisibility,d=x.children,M=Q(d,h);return x.collapsed=!x.collapsed,[x].concat(M)};function N(l){var x={};return(0,s.jJ)(l,function(h){x[h.id]=h.hidden,h.children&&(x=(0,s.kp)({},x,N(h.children)))}),x}function Y(l,x){var h=[];return(0,s.jJ)(l,function(d){d.hidden=x,h=h.concat(d),d.children&&(h=h.concat(Y(d.children,d.collapsed||x)))}),h}function Q(l,x){var h=[];return(0,s.jJ)(l,function(d){d.hidden=x[d.id],h=h.concat(d),d.children&&(h=h.concat(Q(d.children,x)))}),h}function it(l){this._modeling=l}it.$inject=["modeling"],it.prototype.execute=function(l){var x=l.shape,h=l.newHost,d=x.host;return l.oldHost=d,l.attacherIdx=tt(d,x),$(h,x),x.host=h,x},it.prototype.revert=function(l){var x=l.shape,h=l.newHost,d=l.oldHost,M=l.attacherIdx;return x.host=d,tt(h,x),$(d,x,M),x};function tt(l,x){return(0,u.TF)(l&&l.attachers,x)}function $(l,x,h){if(l){var d=l.attachers;d||(l.attachers=d=[]),(0,u.WQ)(d,x,h)}}function W(){}W.prototype.execute=function(l){var x=l.connection,h=l.newWaypoints;return l.oldWaypoints=x.waypoints,x.waypoints=h,x},W.prototype.revert=function(l){var x=l.connection,h=l.oldWaypoints;return x.waypoints=h,x};function O(l,x,h){this._eventBus=l,this._elementFactory=x,this._commandStack=h;var d=this;l.on("diagram.init",function(){d.registerHandlers(h)})}O.$inject=["eventBus","elementFactory","commandStack"],O.prototype.getHandlers=function(){return{"shape.append":_,"shape.create":v.A,"shape.delete":n.A,"shape.move":y.A,"shape.resize":R.A,"shape.replace":D,"shape.toggleCollapse":L,spaceTool:U.A,"label.create":i.A,"connection.create":o,"connection.delete":r,"connection.move":C,"connection.layout":f,"connection.updateWaypoints":W,"connection.reconnect":T.A,"elements.create":c.A,"elements.move":P.A,"elements.delete":t,"elements.distribute":e,"elements.align":g,"element.updateAttachment":it}},O.prototype.registerHandlers=function(l){(0,s.jJ)(this.getHandlers(),function(x,h){l.registerHandler(h,x)})},O.prototype.moveShape=function(l,x,h,d,M){typeof d=="object"&&(M=d,d=null);var S={shape:l,delta:x,newParent:h,newParentIndex:d,hints:M||{}};this._commandStack.execute("shape.move",S)},O.prototype.updateAttachment=function(l,x){var h={shape:l,newHost:x};this._commandStack.execute("element.updateAttachment",h)},O.prototype.moveElements=function(l,x,h,d){d=d||{};var M=d.attach,S=h,j;M===!0?(j=h,S=h.parent):M===!1&&(j=null);var B={shapes:l,delta:x,newParent:S,newHost:j,hints:d};this._commandStack.execute("elements.move",B)},O.prototype.moveConnection=function(l,x,h,d,M){typeof d=="object"&&(M=d,d=void 0);var S={connection:l,delta:x,newParent:h,newParentIndex:d,hints:M||{}};this._commandStack.execute("connection.move",S)},O.prototype.layoutConnection=function(l,x){var h={connection:l,hints:x||{}};this._commandStack.execute("connection.layout",h)},O.prototype.createConnection=function(l,x,h,d,M,S){typeof h=="object"&&(S=M,M=d,d=h,h=void 0),d=this._create("connection",d);var j={source:l,target:x,parent:M,parentIndex:h,connection:d,hints:S};return this._commandStack.execute("connection.create",j),j.connection},O.prototype.createShape=function(l,x,h,d,M){typeof d!="number"&&(M=d,d=void 0),M=M||{};var S=M.attach,j,B;l=this._create("shape",l),S?(j=h.parent,B=h):j=h;var V={position:x,shape:l,parent:j,parentIndex:d,host:B,hints:M};return this._commandStack.execute("shape.create",V),V.shape},O.prototype.createElements=function(l,x,h,d,M){(0,s.cy)(l)||(l=[l]),typeof d!="number"&&(M=d,d=void 0),M=M||{};var S={position:x,elements:l,parent:h,parentIndex:d,hints:M};return this._commandStack.execute("elements.create",S),S.elements},O.prototype.createLabel=function(l,x,h,d){h=this._create("label",h);var M={labelTarget:l,position:x,parent:d||l.parent,shape:h};return this._commandStack.execute("label.create",M),M.shape},O.prototype.appendShape=function(l,x,h,d,M){M=M||{},x=this._create("shape",x);var S={source:l,position:h,target:d,shape:x,connection:M.connection,connectionParent:M.connectionParent,attach:M.attach};return this._commandStack.execute("shape.append",S),S.shape},O.prototype.removeElements=function(l){var x={elements:l};this._commandStack.execute("elements.delete",x)},O.prototype.distributeElements=function(l,x,h){var d={groups:l,axis:x,dimension:h};this._commandStack.execute("elements.distribute",d)},O.prototype.removeShape=function(l,x){var h={shape:l,hints:x||{}};this._commandStack.execute("shape.delete",h)},O.prototype.removeConnection=function(l,x){var h={connection:l,hints:x||{}};this._commandStack.execute("connection.delete",h)},O.prototype.replaceShape=function(l,x,h){var d={oldShape:l,newData:x,hints:h||{}};return this._commandStack.execute("shape.replace",d),d.newShape},O.prototype.alignElements=function(l,x){var h={elements:l,alignment:x};this._commandStack.execute("elements.align",h)},O.prototype.resizeShape=function(l,x,h,d){var M={shape:l,newBounds:x,minBounds:h,hints:d};this._commandStack.execute("shape.resize",M)},O.prototype.createSpace=function(l,x,h,d,M){var S={delta:h,direction:d,movingShapes:l,resizingShapes:x,start:M};this._commandStack.execute("spaceTool",S)},O.prototype.updateWaypoints=function(l,x,h){var d={connection:l,newWaypoints:x,hints:h||{}};this._commandStack.execute("connection.updateWaypoints",d)},O.prototype.reconnect=function(l,x,h,d,M){var S={connection:l,newSource:x,newTarget:h,dockingOrPoints:d,hints:M||{}};this._commandStack.execute("connection.reconnect",S)},O.prototype.reconnectStart=function(l,x,h,d){d||(d={}),this.reconnect(l,x,l.target,h,(0,s.kp)(d,{docking:"source"}))},O.prototype.reconnectEnd=function(l,x,h,d){d||(d={}),this.reconnect(l,l.source,x,h,(0,s.kp)(d,{docking:"target"}))},O.prototype.connect=function(l,x,h,d){return this.createConnection(l,x,h||{},l.parent,d)},O.prototype._create=function(l,x){return x instanceof E.C6?x:this._elementFactory.create(l,x)},O.prototype.toggleCollapse=function(l,x){var h={shape:l,hints:x||{}};this._commandStack.execute("shape.toggleCollapse",h)}},90006:(rt,G,m)=>{"use strict";m.d(G,{A:()=>_});var s=m(76594),E=m(10018),g=Math.round;function _(o){this._modeling=o}_.$inject=["modeling"],_.prototype.preExecute=function(o){var c=o.elements,i=o.parent,v=o.parentIndex,u=o.position,r=o.hints,t=this._modeling;(0,s.jJ)(c,function(C){(0,s.Et)(C.x)||(C.x=0),(0,s.Et)(C.y)||(C.y=0)});var n=(0,E.U7)(c);(0,s.jJ)(c,function(C){p(C)&&(C.waypoints=(0,s.Tj)(C.waypoints,function(P){return{x:P.x-n.x-g(n.width/2)+u.x,y:P.y-n.y-g(n.height/2)+u.y}})),(0,s.kp)(C,{x:C.x-n.x-g(n.width/2)+u.x,y:C.y-n.y-g(n.height/2)+u.y})});var e=(0,E.wT)(c),a={},f=this;(0,s.jJ)(c,function(C){if(p(C)){a[C.id]=(0,s.Et)(v)?t.createConnection(a[C.source.id],a[C.target.id],v,C,C.parent||i,r):t.createConnection(a[C.source.id],a[C.target.id],C,C.parent||i,r);return}var P=(0,s.kp)({},r);e.indexOf(C)===-1&&(P.autoResize=!1),a[C.id]=(0,s.Et)(v)?t.createShape(C,(0,s.Up)(C,["x","y","width","height"]),f.getParent(C,o),v,P):t.createShape(C,(0,s.Up)(C,["x","y","width","height"]),f.getParent(C,o),P)}),o.elements=(0,s.zu)(a)},_.prototype.getParent=function(o,c){return o.parent||c.parent};function p(o){return!!o.waypoints}},34635:(rt,G,m)=>{"use strict";m.d(G,{A:()=>_});var s=m(51270),E=m.n(s),g=m(2050);function _(i){g.A.call(this,i)}E()(_,g.A),_.$inject=["canvas"];var p=g.A.prototype.execute;_.prototype.execute=function(i){var v=i.shape;return c(v),v.labelTarget=i.labelTarget,p.call(this,i)};var o=g.A.prototype.revert;_.prototype.revert=function(i){return i.shape.labelTarget=null,o.call(this,i)};function c(i){["width","height"].forEach(function(v){typeof i[v]>"u"&&(i[v]=0)})}},2050:(rt,G,m)=>{"use strict";m.d(G,{A:()=>g});var s=m(76594),E=Math.round;function g(_){this._canvas=_}g.$inject=["canvas"],g.prototype.execute=function(_){var p=_.shape,o=_.position,c=_.parent,i=_.parentIndex;if(!c)throw new Error("parent required");if(!o)throw new Error("position required");return o.width!==void 0?(0,s.kp)(p,o):(0,s.kp)(p,{x:o.x-E(p.width/2),y:o.y-E(p.height/2)}),this._canvas.addShape(p,c,i),p},g.prototype.revert=function(_){var p=_.shape;return this._canvas.removeShape(p),p}},81493:(rt,G,m)=>{"use strict";m.d(G,{A:()=>g});var s=m(6958),E=m(91799);function g(p,o){this._canvas=p,this._modeling=o}g.$inject=["canvas","modeling"],g.prototype.preExecute=function(p){var o=this._modeling,c=p.shape;(0,E.l)(c.incoming,function(i){o.removeConnection(i,{nested:!0})}),(0,E.l)(c.outgoing,function(i){o.removeConnection(i,{nested:!0})}),(0,E.l)(c.children,function(i){_(i)?o.removeConnection(i,{nested:!0}):o.removeShape(i,{nested:!0})})},g.prototype.execute=function(p){var o=this._canvas,c=p.shape,i=c.parent;return p.oldParent=i,p.oldParentIndex=(0,s.qh)(i.children,c),o.removeShape(c),c},g.prototype.revert=function(p){var o=this._canvas,c=p.shape,i=p.oldParent,v=p.oldParentIndex;return(0,s.WQ)(i.children,c,v),o.addShape(c,i),c};function _(p){return p.waypoints}},12301:(rt,G,m)=>{"use strict";m.d(G,{A:()=>E});var s=m(35797);function E(g){this._helper=new s.A(g)}E.$inject=["modeling"],E.prototype.preExecute=function(g){g.closure=this._helper.getClosure(g.shapes)},E.prototype.postExecute=function(g){var _=g.hints,p;_&&_.primaryShape&&(p=_.primaryShape,_.oldParent=p.parent),this._helper.moveClosure(g.closure,g.delta,g.newParent,g.newHost,p)}},76935:(rt,G,m)=>{"use strict";m.d(G,{A:()=>p});var s=m(76594),E=m(35797),g=m(6958),_=m(39226);function p(o){this._modeling=o,this._helper=new E.A(o)}p.$inject=["modeling"],p.prototype.execute=function(o){var c=o.shape,i=o.delta,v=o.newParent||c.parent,u=o.newParentIndex,r=c.parent;return o.oldBounds=(0,s.Up)(c,["x","y","width","height"]),o.oldParent=r,o.oldParentIndex=(0,g.TF)(r.children,c),(0,g.WQ)(v.children,c,u),(0,s.kp)(c,{parent:v,x:c.x+i.x,y:c.y+i.y}),c},p.prototype.postExecute=function(o){var c=o.shape,i=o.delta,v=o.hints,u=this._modeling;v.layout!==!1&&((0,s.jJ)(c.incoming,function(r){u.layoutConnection(r,{connectionEnd:(0,_.OF)(r,c,i)})}),(0,s.jJ)(c.outgoing,function(r){u.layoutConnection(r,{connectionStart:(0,_.IY)(r,c,i)})})),v.recurse!==!1&&this.moveChildren(o)},p.prototype.revert=function(o){var c=o.shape,i=o.oldParent,v=o.oldParentIndex,u=o.delta;return(0,g.WQ)(i.children,c,v),(0,s.kp)(c,{parent:i,x:c.x-u.x,y:c.y-u.y}),c},p.prototype.moveChildren=function(o){var c=o.delta,i=o.shape;this._helper.moveRecursive(i.children,c,null)},p.prototype.getNewParent=function(o){return o.newParent||o.shape.parent}},97970:(rt,G,m)=>{"use strict";m.d(G,{A:()=>E});var s=m(76594);function E(_){this._modeling=_}E.$inject=["modeling"],E.prototype.execute=function(_){var p=_.newSource,o=_.newTarget,c=_.connection,i=_.dockingOrPoints;if(!p&&!o)throw new Error("newSource or newTarget required");return(0,s.cy)(i)&&(_.oldWaypoints=c.waypoints,c.waypoints=i),p&&(_.oldSource=c.source,c.source=p),o&&(_.oldTarget=c.target,c.target=o),c},E.prototype.postExecute=function(_){var p=_.connection,o=_.newSource,c=_.newTarget,i=_.dockingOrPoints,v=_.hints||{};if(v.layoutConnection!==!1){var u={};o&&(!c||v.docking==="source")&&(u.connectionStart=g((0,s.cy)(i)?i[0]:i)),c&&(!o||v.docking==="target")&&(u.connectionEnd=g((0,s.cy)(i)?i[i.length-1]:i)),v.newWaypoints&&(u.waypoints=v.newWaypoints),this._modeling.layoutConnection(p,u)}},E.prototype.revert=function(_){var p=_.oldSource,o=_.oldTarget,c=_.oldWaypoints,i=_.connection;return p&&(i.source=p),o&&(i.target=o),c&&(i.waypoints=c),i};function g(_){return _.original||_}},38226:(rt,G,m)=>{"use strict";m.d(G,{A:()=>g});var s=m(76594),E=m(39226);function g(_){this._modeling=_}g.$inject=["modeling"],g.prototype.execute=function(_){var p=_.shape,o=_.newBounds,c=_.minBounds;if(o.x===void 0||o.y===void 0||o.width===void 0||o.height===void 0)throw new Error("newBounds must have {x, y, width, height} properties");if(c&&(o.width<c.width||o.height<c.height))throw new Error("width and height cannot be less than minimum height and width");if(!c&&o.width<10||o.height<10)throw new Error("width and height cannot be less than 10px");return _.oldBounds={width:p.width,height:p.height,x:p.x,y:p.y},(0,s.kp)(p,{width:o.width,height:o.height,x:o.x,y:o.y}),p},g.prototype.postExecute=function(_){var p=this._modeling,o=_.shape,c=_.oldBounds,i=_.hints||{};i.layout!==!1&&((0,s.jJ)(o.incoming,function(v){p.layoutConnection(v,{connectionEnd:(0,E.tQ)(v,o,c)})}),(0,s.jJ)(o.outgoing,function(v){p.layoutConnection(v,{connectionStart:(0,E.Fe)(v,o,c)})}))},g.prototype.revert=function(_){var p=_.shape,o=_.oldBounds;return(0,s.kp)(p,{width:o.width,height:o.height,x:o.x,y:o.y}),p}},57261:(rt,G,m)=>{"use strict";m.d(G,{A:()=>g});var s=m(76594),E=m(45240);function g(i){this._modeling=i}g.$inject=["modeling"],g.prototype.preExecute=function(i){var v=i.delta,u=i.direction,r=i.movingShapes,t=i.resizingShapes,n=i.start;this.moveShapes(r,v),this.resizeShapes(t,v,u),this.updateConnectionWaypoints((0,E.Gq)(r,t),v,u,n,r,t)},g.prototype.execute=function(){},g.prototype.revert=function(){},g.prototype.moveShapes=function(i,v){var u=this;(0,s.jJ)(i,function(r){u._modeling.moveShape(r,v,null,{autoResize:!1,layout:!1,recurse:!1})})},g.prototype.resizeShapes=function(i,v,u){var r=this;(0,s.jJ)(i,function(t){var n=(0,E.Ih)(t,u,v);r._modeling.resizeShape(t,n,null,{attachSupport:!1,autoResize:!1,layout:!1})})},g.prototype.updateConnectionWaypoints=function(i,v,u,r,t,n){var e=this;(0,s.jJ)(i,function(a){var f=a.source,C=a.target,P=p(a),y=o(u);P=(0,s.Tj)(P,function(T,I){var D=I===0,R=I===P.length-1;return D&&!c(t.concat(n),f)||R&&!c(t.concat(n),C)||((T[y]>r&&/e|s/.test(u)||T[y]<r&&/n|w/.test(u))&&(T[y]=T[y]+v[y]),T.original&&(T.original[y]>r&&/e|s/.test(u)||T.original[y]<r&&/n|w/.test(u))&&(T.original[y]=T.original[y]+v[y])),T}),e._modeling.updateWaypoints(a,P,{labelBehavior:!1})})};function _(i){return(0,s.kp)({},i)}function p(i){return(0,s.Tj)(i.waypoints,function(v){return v=_(v),v.original&&(v.original=_(v.original)),v})}function o(i){switch(i){case"n":return"y";case"w":return"x";case"s":return"y";case"e":return"x"}}function c(i,v){return i.indexOf(v)!==-1}},39226:(rt,G,m)=>{"use strict";m.d(G,{IY:()=>c,OF:()=>i,Fe:()=>p,tQ:()=>o});var s=m(65911),E=m(56764);function g(r,t,n){var e=(0,E.g)(t),a=(0,E.g)(n),f=(0,E.p)(r,e),C={x:f.x*(n.width/t.width),y:f.y*(n.height/t.height)};return(0,s.PG)({x:a.x+C.x,y:a.y+C.y})}function _(r,t,n){var e=center(r),a=center(t),f=center(n),C=delta(r,e),P=delta(e,a),y={x:P.x*(n.width/t.width),y:P.y*(n.height/t.height)},T={x:f.x+y.x,y:f.y+y.y};return roundPoint({x:T.x+C.x-r.x,y:T.y+C.y-r.y})}function p(r,t,n){var e=u(r),a=e[0];return g(a.original||a,n,t)}function o(r,t,n){var e=u(r),a=e[e.length-1];return g(a.original||a,n,t)}function c(r,t,n){return p(r,t,v(t,n))}function i(r,t,n){return o(r,t,v(t,n))}function v(r,t){return{x:r.x-t.x,y:r.y-t.y,width:r.width,height:r.height}}function u(r){var t=r.waypoints;if(!t.length)throw new Error("connection#"+r.id+": no waypoints");return t}},35797:(rt,G,m)=>{"use strict";m.d(G,{A:()=>p});var s=m(76594),E=m(39226),g=m(10018);function _(){this.allShapes={},this.allConnections={},this.enclosedElements={},this.enclosedConnections={},this.topLevel={}}_.prototype.add=function(o,c){return this.addAll([o],c)},_.prototype.addAll=function(o,c){var i=(0,g.yO)(o,!!c,this);return(0,s.kp)(this,i),this};function p(o){this._modeling=o}p.prototype.moveRecursive=function(o,c,i){return o?this.moveClosure(this.getClosure(o),c,i):[]},p.prototype.moveClosure=function(o,c,i,v,u){var r=this._modeling,t=o.allShapes,n=o.allConnections,e=o.enclosedConnections,a=o.topLevel,f=!1;u&&u.parent===i&&(f=!0),(0,s.jJ)(t,function(C){r.moveShape(C,c,a[C.id]&&!f&&i,{recurse:!1,layout:!1})}),(0,s.jJ)(n,function(C){var P=!!t[C.source.id],y=!!t[C.target.id];e[C.id]&&P&&y?r.moveConnection(C,c,a[C.id]&&!f&&i):r.layoutConnection(C,{connectionStart:P&&(0,E.IY)(C,C.source,c),connectionEnd:y&&(0,E.OF)(C,C.target,c),shapeMoving:!0})})},p.prototype.getClosure=function(o){return new _().addAll(o,!0)}},77648:(rt,G,m)=>{"use strict";m.d(G,{A:()=>i});var s=m(17389);const E={commandStack:["type",s.A]};var g=m(54100),_=m(56773),p=m(11918),o=m(3366),c=m(10033);const i={__depends__:[E,g.A,_.A,p.A],__init__:["modeling"],modeling:["type",o.A],layouter:["type",c.A]}},79691:(rt,G,m)=>{"use strict";m.d(G,{A:()=>it});var s=m(69380),E=m(56773),g=m(35576),_=m(11918),p=m(84654),o=m(71953),c=m(76594),i=m(86439),v=500,u=1250,r=1500,t=Math.round;function n(tt){return{x:tt.x+t(tt.width/2),y:tt.y+t(tt.height/2)}}function e(tt,$,W,O,l){function x(d,M,S,j){return l.allowed("elements.move",{shapes:d,delta:M,position:S,target:j})}tt.on("shape.move.start",r,function(d){var M=d.context,S=d.shape,j=O.get().slice();j.indexOf(S)===-1&&(j=[S]),j=a(j),(0,c.kp)(M,{shapes:j,validatedShapes:j,shape:S})}),tt.on("shape.move.start",u,function(d){var M=d.context,S=M.validatedShapes,j;if(j=M.canExecute=x(S),!j)return!1}),tt.on("shape.move.move",v,function(d){var M=d.context,S=M.validatedShapes,j=d.hover,B={x:d.dx,y:d.dy},V={x:d.x,y:d.y},J;if(J=x(S,B,V,j),M.delta=B,M.canExecute=J,J===null){M.target=null;return}M.target=j}),tt.on("shape.move.end",function(d){var M=d.context,S=M.delta,j=M.canExecute,B=j==="attach",V=M.shapes;if(j===!1)return!1;S.x=t(S.x),S.y=t(S.y),!(S.x===0&&S.y===0)&&W.moveElements(V,S,M.target,{primaryShape:M.shape,attach:B})}),tt.on("element.mousedown",function(d){var M=(0,i.AF)(d);if(!M)throw new Error("must supply DOM mousedown event");return h(M,d.element)});function h(d,M,S,j){if((0,c.Gv)(S)&&(j=S,S=!1),!(M.waypoints||!M.parent)){var B=n(M);return $.init(d,B,"shape.move",{cursor:"grabbing",autoActivate:S,data:{shape:M,context:j||{}}}),!0}}this.start=h}e.$inject=["eventBus","dragging","modeling","selection","rules"];function a(tt){var $=(0,c.$z)(tt,"id");return(0,c.pb)(tt,function(W){for(;W=W.parent;)if($[W.id])return!1;return!0})}var f=m(10018),C=m(33225),P=m(52965),y=499,T="djs-dragging",I="drop-ok",D="drop-not-ok",R="new-parent",U="attach-ok";function L(tt,$,W,O){function l(M){var S=x(M),j=N(S);return j}function x(M){var S=(0,f.cZ)(M,!0),j=(0,c.Tj)(S,function(B){return(B.incoming||[]).concat(B.outgoing||[])});return(0,c.Bq)(S.concat(j))}function h(M,S){[U,I,D,R].forEach(function(j){j===S?$.addMarker(M,j):$.removeMarker(M,j)})}function d(M,S,j){O.addDragger(S,M.dragGroup),j&&$.addMarker(S,T),M.allDraggedElements?M.allDraggedElements.push(S):M.allDraggedElements=[S]}tt.on("shape.move.start",y,function(M){var S=M.context,j=S.shapes,B=S.allDraggedElements,V=l(j);if(!S.dragGroup){var J=(0,C.vt)("g");(0,C.CF)(J,W.cls("djs-drag-group",["no-events"]));var X=$.getDefaultLayer();(0,C.BC)(X,J),S.dragGroup=J}V.forEach(function(q){O.addDragger(q,S.dragGroup)}),B?B=(0,c.Bq)([B,x(j)]):B=x(j),(0,c.jJ)(B,function(q){$.addMarker(q,T)}),S.allDraggedElements=B,S.differentParents=Y(j)}),tt.on("shape.move.move",y,function(M){var S=M.context,j=S.dragGroup,B=S.target,V=S.shape.parent,J=S.canExecute;B&&(J==="attach"?h(B,U):S.canExecute&&B&&B.id!==V.id?h(B,R):h(B,S.canExecute?I:D)),(0,P.Tl)(j,M.dx,M.dy)}),tt.on(["shape.move.out","shape.move.cleanup"],function(M){var S=M.context,j=S.target;j&&h(j,null)}),tt.on("shape.move.cleanup",function(M){var S=M.context,j=S.allDraggedElements,B=S.dragGroup;(0,c.jJ)(j,function(V){$.removeMarker(V,T)}),B&&(0,C.TF)(B)}),this.makeDraggable=d}L.$inject=["eventBus","canvas","styles","previewSupport"];function N(tt){var $=(0,c.pb)(tt,function(W){return Q(W)?(0,c.I6)(tt,(0,c.gH)({id:W.source.id}))&&(0,c.I6)(tt,(0,c.gH)({id:W.target.id})):!0});return $}function Y(tt){return(0,c.Ej)((0,c.$z)(tt,function($){return $.parent&&$.parent.id}))!==1}function Q(tt){return tt.waypoints}const it={__depends__:[s.A,E.A,g.A,_.A,p.A,o.A],__init__:["move","movePreview"],move:["type",e],movePreview:["type",L]}},44548:(rt,G,m)=>{"use strict";m.d(G,{A:()=>_});var s=m(51270),E=m.n(s),g=m(29086);function _(p){g.A.call(this,p);var o=this;this.preExecute(["shape.create","connection.create"],function(c){var i=c.context,v=i.shape||i.connection,u=i.parent,r=o.getOrdering(v,u);r&&(r.parent!==void 0&&(i.parent=r.parent),i.parentIndex=r.index)}),this.preExecute(["shape.move","connection.move"],function(c){var i=c.context,v=i.shape||i.connection,u=i.newParent||v.parent,r=o.getOrdering(v,u);r&&(r.parent!==void 0&&(i.newParent=r.parent),i.newParentIndex=r.index)})}_.prototype.getOrdering=function(p,o){return null},E()(_,g.A)},35576:(rt,G,m)=>{"use strict";m.d(G,{A:()=>c});var s=m(10018),E=m(33225),g=m(63030),_=m(76594),p=500;function o(i,v,u){this.offset=6;var r=v.cls("djs-outline",["no-fill"]),t=this;function n(e,a){var f=(0,E.vt)("rect");return(0,E.CF)(f,(0,_.kp)({x:10,y:10,width:100,height:100},r)),(0,E.BC)(e,f),f}i.on(["shape.added","shape.changed"],p,function(e){var a=e.element,f=e.gfx,C=(0,g.P)(".djs-outline",f);C||(C=n(f,a)),t.updateShapeOutline(C,a)}),i.on(["connection.added","connection.changed"],function(e){var a=e.element,f=e.gfx,C=(0,g.P)(".djs-outline",f);C||(C=n(f,a)),t.updateConnectionOutline(C,a)})}o.prototype.updateShapeOutline=function(i,v){(0,E.CF)(i,{x:-this.offset,y:-this.offset,width:v.width+this.offset*2,height:v.height+this.offset*2})},o.prototype.updateConnectionOutline=function(i,v){var u=(0,s.U7)(v);(0,E.CF)(i,{x:u.x-this.offset,y:u.y-this.offset,width:u.width+this.offset*2,height:u.height+this.offset*2})},o.$inject=["eventBus","styles","elementRegistry"];const c={__init__:["outline"],outline:["type",o]}},18587:(rt,G,m)=>{"use strict";m.d(G,{A:()=>v});var s=m(76594),E=m(63030),g=".djs-palette-toggle",_=".entry",p=g+", "+_,o="open",c="two-column",i=1e3;function v(t,n){this._eventBus=t,this._canvas=n;var e=this;t.on("tool-manager.update",function(a){var f=a.tool;e.updateToolHighlight(f)}),t.on("i18n.changed",function(){e._update()}),t.on("diagram.init",function(){e._diagramInitialized=!0,e._rebuild()})}v.$inject=["eventBus","canvas"],v.prototype.registerProvider=function(t,n){n||(n=t,t=i),this._eventBus.on("palette.getProviders",t,function(e){e.providers.push(n)}),this._rebuild()},v.prototype.getEntries=function(){var t=this._getProviders();return t.reduce(r,{})},v.prototype._rebuild=function(){if(this._diagramInitialized){var t=this._getProviders();t.length&&(this._container||this._init(),this._update())}},v.prototype._init=function(){var t=this,n=this._eventBus,e=this._getParentContainer(),a=this._container=(0,E.zm)(v.HTML_MARKUP);e.appendChild(a),E.Mm.bind(a,p,"click",function(f){var C=f.delegateTarget;if((0,E.cK)(C,g))return t.toggle();t.trigger("click",f)}),E.f0.bind(a,"mousedown",function(f){f.stopPropagation()}),E.Mm.bind(a,_,"dragstart",function(f){t.trigger("dragstart",f)}),n.on("canvas.resized",this._layoutChanged,this),n.fire("palette.create",{container:a})},v.prototype._getProviders=function(t){var n=this._eventBus.createEvent({type:"palette.getProviders",providers:[]});return this._eventBus.fire(n),n.providers},v.prototype._toggleState=function(t){t=t||{};var n=this._getParentContainer(),e=this._container,a=this._eventBus,f,C=(0,E.Ly)(e);"twoColumn"in t?f=t.twoColumn:f=this._needsCollapse(n.clientHeight,this._entries||{}),C.toggle(c,f),"open"in t&&C.toggle(o,t.open),a.fire("palette.changed",{twoColumn:f,open:this.isOpen()})},v.prototype._update=function(){var t=(0,E.P)(".djs-palette-entries",this._container),n=this._entries=this.getEntries();(0,E.IU)(t),(0,s.jJ)(n,function(e,a){var f=e.group||"default",C=(0,E.P)("[data-group="+f+"]",t);C||(C=(0,E.zm)('<div class="group" data-group="'+f+'"></div>'),t.appendChild(C));var P=e.html||(e.separator?'<hr class="separator" />':'<div class="entry" draggable="true"></div>'),y=(0,E.zm)(P);C.appendChild(y),e.separator||((0,E.CF)(y,"data-action",a),e.title&&(0,E.CF)(y,"title",e.title),e.className&&u(y,e.className),e.imageUrl&&y.appendChild((0,E.zm)('<img src="'+e.imageUrl+'">')))}),this.open()},v.prototype.trigger=function(t,n,e){var a=this._entries,f,C,P,y=n.delegateTarget||n.target;if(!y)return n.preventDefault();f=a[(0,E.CF)(y,"data-action")],f&&(C=f.action,P=n.originalEvent||n,(0,s.Tn)(C)?t==="click"&&C(P,e):C[t]&&C[t](P,e),n.preventDefault())},v.prototype._layoutChanged=function(){this._toggleState({})},v.prototype._needsCollapse=function(t,n){var e=50,a=Object.keys(n).length*46;return t<a+e},v.prototype.close=function(){this._toggleState({open:!1,twoColumn:!1})},v.prototype.open=function(){this._toggleState({open:!0})},v.prototype.toggle=function(t){this.isOpen()?this.close():this.open()},v.prototype.isActiveTool=function(t){return t&&this._activeTool===t},v.prototype.updateToolHighlight=function(t){var n,e;this._toolsContainer||(n=(0,E.P)(".djs-palette-entries",this._container),this._toolsContainer=(0,E.P)("[data-group=tools]",n)),e=this._toolsContainer,(0,s.jJ)(e.children,function(a){var f=a.getAttribute("data-action");if(f){var C=(0,E.Ly)(a);f=f.replace("-tool",""),C.contains("entry")&&f===t?C.add("highlighted-entry"):C.remove("highlighted-entry")}})},v.prototype.isOpen=function(){return(0,E.Ly)(this._container).has(o)},v.prototype._getParentContainer=function(){return this._canvas.getContainer()},v.HTML_MARKUP='<div class="djs-palette"><div class="djs-palette-entries"></div><div class="djs-palette-toggle"></div></div>';function u(t,n){var e=(0,E.Ly)(t),a=(0,s.cy)(n)?n:n.split(/\s+/g);a.forEach(function(f){e.add(f)})}function r(t,n){var e=n.getPaletteEntries();return(0,s.Tn)(e)?e(t):((0,s.jJ)(e,function(a,f){t[f]=a}),t)}},85868:(rt,G,m)=>{"use strict";m.d(G,{A:()=>E});var s=m(18587);const E={__init__:["palette"],palette:["type",s.A]}},6226:(rt,G,m)=>{"use strict";m.d(G,{A:()=>o});var s=m(76594),E=m(63030),g="data-id",_=["contextPad.close","canvas.viewbox.changing","commandStack.changed"],p=1e3;function o(i,v,u){var r=(0,s.O9)(i&&i.scale)?i.scale:{min:1,max:1.5};this._config={scale:r},this._eventBus=v,this._canvas=u,this._providers={},this._current={}}o.$inject=["config.popupMenu","eventBus","canvas"],o.prototype.registerProvider=function(i,v,u){u||(u=v,v=p),this._eventBus.on("popupMenu.getProviders."+i,v,function(r){r.providers.push(u)})},o.prototype.isEmpty=function(i,v){if(!i)throw new Error("element parameter is missing");if(!v)throw new Error("providerId parameter is missing");var u=this._getProviders(v);if(!u)return!0;var r=this._getEntries(i,u),t=this._getHeaderEntries(i,u),n=(0,s.Ej)(r)>0,e=t&&(0,s.Ej)(t)>0;return!n&&!e},o.prototype.open=function(i,v,u){var r=this._getProviders(v);if(!i)throw new Error("Element is missing");if(!r||!r.length)throw new Error("No registered providers for: "+v);if(!u)throw new Error("the position argument is missing");this.isOpen()&&this.close(),this._emit("open");var t=this._current={className:v,element:i,position:u},n=this._getEntries(i,r),e=this._getHeaderEntries(i,r);t.entries=(0,s.kp)({},n,e),t.container=this._createContainer(),(0,s.Ej)(e)&&t.container.appendChild(this._createEntries(e,"djs-popup-header")),(0,s.Ej)(n)&&t.container.appendChild(this._createEntries(n,"djs-popup-body"));var a=this._canvas,f=a.getContainer();this._attachContainer(t.container,f,u.cursor),this._bindAutoClose()},o.prototype.close=function(){this.isOpen()&&(this._emit("close"),this._unbindAutoClose(),(0,E.TF)(this._current.container),this._current.container=null)},o.prototype.isOpen=function(){return!!this._current.container},o.prototype.trigger=function(i){i.preventDefault();var v=i.delegateTarget||i.target,u=(0,E.CF)(v,g),r=this._getEntry(u);if(r.action)return r.action.call(null,i,r)},o.prototype._getProviders=function(i){var v=this._eventBus.createEvent({type:"popupMenu.getProviders."+i,providers:[]});return this._eventBus.fire(v),v.providers},o.prototype._getEntries=function(i,v){var u={};return(0,s.jJ)(v,function(r){if(!r.getPopupMenuEntries){(0,s.jJ)(r.getEntries(i),function(n){var e=n.id;if(!e)throw new Error("every entry must have the id property set");u[e]=(0,s.cJ)(n,["id"])});return}var t=r.getPopupMenuEntries(i);(0,s.Tn)(t)?u=t(u):(0,s.jJ)(t,function(n,e){u[e]=n})}),u},o.prototype._getHeaderEntries=function(i,v){var u={};return(0,s.jJ)(v,function(r){if(!r.getPopupMenuHeaderEntries){if(!r.getHeaderEntries)return;(0,s.jJ)(r.getHeaderEntries(i),function(n){var e=n.id;if(!e)throw new Error("every entry must have the id property set");u[e]=(0,s.cJ)(n,["id"])});return}var t=r.getPopupMenuHeaderEntries(i);(0,s.Tn)(t)?u=t(u):(0,s.jJ)(t,function(n,e){u[e]=n})}),u},o.prototype._getEntry=function(i){var v=this._current.entries[i];if(!v)throw new Error("entry not found");return v},o.prototype._emit=function(i){this._eventBus.fire("popupMenu."+i)},o.prototype._createContainer=function(){var i=(0,E.zm)('<div class="djs-popup">'),v=this._current.position,u=this._current.className;return(0,s.kp)(i.style,{position:"absolute",left:v.x+"px",top:v.y+"px",visibility:"hidden"}),(0,E.Ly)(i).add(u),i},o.prototype._attachContainer=function(i,v,u){var r=this;E.Mm.bind(i,".entry","click",function(t){r.trigger(t)}),this._updateScale(i),v.appendChild(i),u&&this._assureIsInbounds(i,u)},o.prototype._updateScale=function(i){var v=this._canvas.zoom(),u=this._config.scale,r,t,n=v;u!==!0&&(u===!1?(r=1,t=1):(r=u.min,t=u.max),(0,s.O9)(r)&&v<r&&(n=r),(0,s.O9)(t)&&v>t&&(n=t)),c(i,"scale("+n+")")},o.prototype._assureIsInbounds=function(i,v){var u=this._canvas,r=u._container.getBoundingClientRect(),t=i.offsetLeft,n=i.offsetTop,e=i.scrollWidth,a=i.scrollHeight,f={},C,P,y={x:v.x-r.left,y:v.y-r.top};t+e>r.width&&(f.x=!0),n+a>r.height&&(f.y=!0),f.x&&f.y?(C=y.x-e+"px",P=y.y-a+"px"):f.x?(C=y.x-e+"px",P=y.y+"px"):f.y&&y.y<a?(C=y.x+"px",P="10px"):f.y&&(C=y.x+"px",P=y.y-a+"px"),(0,s.kp)(i.style,{left:C,top:P},{visibility:"visible","z-index":1e3})},o.prototype._createEntries=function(i,v){var u=(0,E.zm)("<div>"),r=this;return(0,E.Ly)(u).add(v),(0,s.jJ)(i,function(t,n){var e=r._createEntry(t,n);u.appendChild(e)}),u},o.prototype._createEntry=function(i,v){var u=(0,E.zm)("<div>"),r=(0,E.Ly)(u);if(r.add("entry"),i.className&&i.className.split(" ").forEach(function(n){r.add(n)}),(0,E.CF)(u,g,v),i.label){var t=(0,E.zm)("<span>");t.textContent=i.label,u.appendChild(t)}return i.imageUrl&&u.appendChild((0,E.zm)('<img src="'+i.imageUrl+'" />')),i.active===!0&&r.add("active"),i.disabled===!0&&r.add("disabled"),i.title&&(u.title=i.title),u},o.prototype._bindAutoClose=function(){this._eventBus.once(_,this.close,this)},o.prototype._unbindAutoClose=function(){this._eventBus.off(_,this.close,this)};function c(i,v){i.style["transform-origin"]="top left",["","-ms-","-webkit-"].forEach(function(u){i.style[u+"transform"]=v})}},40127:(rt,G,m)=>{"use strict";m.d(G,{A:()=>E});var s=m(6226);const E={__init__:["popupMenu"],popupMenu:["type",s.A]}},38134:(rt,G,m)=>{"use strict";m.d(G,{A:()=>c});var s=m(76594),E=m(33225),g=m(63030),_=m(12266),p=["marker-start","marker-mid","marker-end"],o=["circle","ellipse","line","path","polygon","polyline","rect"];function c(t,n,e,a){this._elementRegistry=t,this._canvas=e,this._styles=a,this._clonedMarkers={};var f=this;n.on("drag.cleanup",function(){(0,s.jJ)(f._clonedMarkers,function(C){(0,E.TF)(C)}),f._clonedMarkers={}})}c.$inject=["elementRegistry","eventBus","canvas","styles"],c.prototype.getGfx=function(t){return this._elementRegistry.getGraphics(t)},c.prototype.addDragger=function(t,n,e){e=e||this.getGfx(t);var a=(0,E.o8)(e),f=e.getBoundingClientRect();return this._cloneMarkers((0,_.P)(a)),(0,E.CF)(a,this._styles.cls("djs-dragger",[],{x:f.top,y:f.left})),(0,E.BC)(n,a),a},c.prototype.addFrame=function(t,n){var e=(0,E.vt)("rect",{class:"djs-resize-overlay",width:t.width,height:t.height,x:t.x,y:t.y});return(0,E.BC)(n,e),e},c.prototype._cloneMarkers=function(t){var n=this;if(t.childNodes)for(var e=0;e<t.childNodes.length;e++)n._cloneMarkers(t.childNodes[e]);r(t)&&p.forEach(function(a){if((0,E.CF)(t,a)){var f=i(t,a,n._canvas.getContainer());n._cloneMarker(t,f,a)}})},c.prototype._cloneMarker=function(t,n,e){var a=n.id,f=this._clonedMarkers[a];if(!f){f=(0,E.o8)(n);var C=a+"-clone";f.id=C,(0,E.Ly)(f).add("djs-dragger").add("djs-dragger-marker"),this._clonedMarkers[a]=f;var P=(0,g.P)("defs",this._canvas._svg);P||(P=(0,E.vt)("defs"),(0,E.BC)(this._canvas._svg,P)),(0,E.BC)(P,f)}var y=u(this._clonedMarkers[a].id);(0,E.CF)(t,e,y)};function i(t,n,e){var a=v((0,E.CF)(t,n));return(0,g.P)("marker#"+a,e||document)}function v(t){return t.match(/url\(['"]?#([^'"]*)['"]?\)/)[1]}function u(t){return"url(#"+t+")"}function r(t){return o.indexOf(t.nodeName)!==-1}},71953:(rt,G,m)=>{"use strict";m.d(G,{A:()=>E});var s=m(38134);const E={__init__:["previewSupport"],previewSupport:["type",s.A]}},73229:(rt,G,m)=>{"use strict";m.d(G,{A:()=>p,a:()=>c});var s=m(76594),E=m(11345),g=m(65911),_=10;function p(v,u,r,t){this._dragging=t,this._rules=u;var n=this;function e(C,P){var y=C.shape,T=C.direction,I=C.resizeConstraints,D;C.delta=P,D=(0,E.Ih)(y,T,P),C.newBounds=(0,E.Dp)(D,I),C.canExecute=n.canResize(C)}function a(C){var P=C.resizeConstraints,y=C.minBounds;P===void 0&&(y===void 0&&(y=n.computeMinResizeBox(C)),C.resizeConstraints={min:(0,g.Fy)(y)})}function f(C){var P=C.shape,y=C.canExecute,T=C.newBounds;if(y){if(T=(0,g.Au)(T),!o(P,T))return;r.resizeShape(P,T)}}v.on("resize.start",function(C){a(C.context)}),v.on("resize.move",function(C){var P={x:C.dx,y:C.dy};e(C.context,P)}),v.on("resize.end",function(C){f(C.context)})}p.prototype.canResize=function(v){var u=this._rules,r=(0,s.Up)(v,["newBounds","shape","delta","direction"]);return u.allowed("shape.resize",r)},p.prototype.activate=function(v,u,r){var t=this._dragging,n,e;if(typeof r=="string"&&(r={direction:r}),n=(0,s.kp)({shape:u},r),e=n.direction,!e)throw new Error("must provide a direction (n|w|s|e|nw|se|ne|sw)");t.init(v,c(u,e),"resize",{autoActivate:!0,cursor:i(e),data:{shape:u,context:n}})},p.prototype.computeMinResizeBox=function(v){var u=v.shape,r=v.direction,t,n;return t=v.minDimensions||{width:_,height:_},n=(0,E.uR)(u,v.childrenBoxPadding),(0,E.Cw)(r,u,t,n)},p.$inject=["eventBus","rules","modeling","dragging"];function o(v,u){return v.x!==u.x||v.y!==u.y||v.width!==u.width||v.height!==u.height}function c(v,u){var r=(0,g.pp)(v),t=(0,g.Fy)(v),n={x:r.x,y:r.y};return u.indexOf("n")!==-1?n.y=t.top:u.indexOf("s")!==-1&&(n.y=t.bottom),u.indexOf("e")!==-1?n.x=t.right:u.indexOf("w")!==-1&&(n.x=t.left),n}function i(v){var u="resize-";return v==="n"||v==="s"?u+"ns":v==="e"||v==="w"?u+"ew":v==="nw"||v==="se"?u+"nwse":u+"nesw"}},25342:(rt,G,m)=>{"use strict";m.d(G,{A:()=>t});var s=m(76594),E=m(33225),g=m(63030),_=m(60053),p=m(52965),o=m(73229),c=-6,i=4,v=20,u="djs-resizer",r=["n","w","s","e","nw","ne","se","sw"];function t(e,a,f,C){this._resize=C,this._canvas=a;var P=this;e.on("selection.changed",function(y){var T=y.newSelection;P.removeResizers(),T.length===1&&(0,s.jJ)(T,(0,s.oI)(P.addResizer,P))}),e.on("shape.changed",function(y){var T=y.element;f.isSelected(T)&&(P.removeResizers(),P.addResizer(T))})}t.prototype.makeDraggable=function(e,a,f){var C=this._resize;function P(y){(0,_.ls)(y)&&C.activate(y,e,f)}g.f0.bind(a,"mousedown",P),g.f0.bind(a,"touchstart",P)},t.prototype._createResizer=function(e,a,f,C){var P=this._getResizersParent(),y=n(C),T=(0,E.vt)("g");(0,E.Ly)(T).add(u),(0,E.Ly)(T).add(u+"-"+e.id),(0,E.Ly)(T).add(u+"-"+C),(0,E.BC)(P,T);var I=(0,E.vt)("rect");(0,E.CF)(I,{x:-i/2+y.x,y:-i/2+y.y,width:i,height:i}),(0,E.Ly)(I).add(u+"-visual"),(0,E.BC)(T,I);var D=(0,E.vt)("rect");return(0,E.CF)(D,{x:-v/2+y.x,y:-v/2+y.y,width:v,height:v}),(0,E.Ly)(D).add(u+"-hit"),(0,E.BC)(T,D),(0,p.pd)(T,a,f),T},t.prototype.createResizer=function(e,a){var f=(0,o.a)(e,a),C=this._createResizer(e,f.x,f.y,a);this.makeDraggable(e,C,a)},t.prototype.addResizer=function(e){var a=this,f=this._resize;f.canResize({shape:e})&&(0,s.jJ)(r,function(C){a.createResizer(e,C)})},t.prototype.removeResizers=function(){var e=this._getResizersParent();(0,E.IU)(e)},t.prototype._getResizersParent=function(){return this._canvas.getLayer("resizers")},t.$inject=["eventBus","canvas","selection","resize"];function n(e){var a={x:0,y:0};return e.indexOf("e")!==-1?a.x=-c:e.indexOf("w")!==-1&&(a.x=c),e.indexOf("s")!==-1?a.y=-c:e.indexOf("n")!==-1&&(a.y=c),a}},88729:(rt,G,m)=>{"use strict";m.d(G,{A:()=>p});var s=m(33225),E="djs-resizing",g="resize-not-ok",_=500;function p(o,c,i){function v(r){var t=r.shape,n=r.newBounds,e=r.frame;e||(e=r.frame=i.addFrame(t,c.getDefaultLayer()),c.addMarker(t,E)),n.width>5&&(0,s.CF)(e,{x:n.x,width:n.width}),n.height>5&&(0,s.CF)(e,{y:n.y,height:n.height}),r.canExecute?(0,s.Ly)(e).remove(g):(0,s.Ly)(e).add(g)}function u(r){var t=r.shape,n=r.frame;n&&(0,s.TF)(r.frame),c.removeMarker(t,E)}o.on("resize.move",_,function(r){v(r.context)}),o.on("resize.cleanup",function(r){u(r.context)})}p.$inject=["eventBus","canvas","previewSupport"]},11345:(rt,G,m)=>{"use strict";m.d(G,{Cw:()=>n,Dp:()=>t,Ih:()=>i,uR:()=>C});var s=m(76594),E=m(10018),g=m(65911),_=Math.max,p=Math.min,o=20;function c(P,y){return{top:P.top-y.top,right:P.right-y.right,bottom:P.bottom-y.bottom,left:P.left-y.left}}function i(P,y,T){var I=T.x,D=T.y,R={x:P.x,y:P.y,width:P.width,height:P.height};return y.indexOf("n")!==-1?(R.y=P.y+D,R.height=P.height-D):y.indexOf("s")!==-1&&(R.height=P.height+D),y.indexOf("e")!==-1?R.width=P.width+I:y.indexOf("w")!==-1&&(R.x=P.x+I,R.width=P.width-I),R}function v(P,y){return{x:P.x+(y.left||0),y:P.y+(y.top||0),width:P.width-(y.left||0)+(y.right||0),height:P.height-(y.top||0)+(y.bottom||0)}}function u(P,y,T){var I=P.width/y.width,D=P.height/y.height;return{x:Math.round(y.x+y.width/2)-Math.floor((P.x+P.width/2-T.x)/I),y:Math.round(y.y+y.height/2)-Math.floor((P.y+P.height/2-T.y)/D)}}function r(P,y,T){var I=y[P],D=T.min&&T.min[P],R=T.max&&T.max[P];return(0,s.Et)(D)&&(I=(/top|left/.test(P)?p:_)(I,D)),(0,s.Et)(R)&&(I=(/top|left/.test(P)?_:p)(I,R)),I}function t(P,y){if(!y)return P;var T=(0,g.Fy)(P);return(0,g.cD)({top:r("top",T,y),right:r("right",T,y),bottom:r("bottom",T,y),left:r("left",T,y)})}function n(P,y,T,I){var D=(0,g.Fy)(y),R={top:/n/.test(P)?D.bottom-T.height:D.top,left:/w/.test(P)?D.right-T.width:D.left,bottom:/s/.test(P)?D.top+T.height:D.bottom,right:/e/.test(P)?D.left+T.width:D.right},U=I?(0,g.Fy)(I):R,L={top:p(R.top,U.top),left:p(R.left,U.left),bottom:_(R.bottom,U.bottom),right:_(R.right,U.right)};return(0,g.cD)(L)}function e(P,y){return typeof P<"u"?P:o}function a(P,y){var T,I,D,R;return typeof y=="object"?(T=e(y.left),I=e(y.right),D=e(y.top),R=e(y.bottom)):T=I=D=R=e(y),{x:P.x-T,y:P.y-D,width:P.width+T+I,height:P.height+D+R}}function f(P){return!(P.waypoints||P.type==="label")}function C(P,y){var T;if(P.length===void 0?T=(0,s.pb)(P.children,f):T=P,T.length)return a((0,E.U7)(T),y)}},43537:(rt,G,m)=>{"use strict";m.d(G,{A:()=>_});var s=m(51270),E=m.n(s),g=m(29086);function _(p){g.A.call(this,p),this.init()}_.$inject=["eventBus"],E()(_,g.A),_.prototype.addRule=function(p,o,c){var i=this;typeof p=="string"&&(p=[p]),p.forEach(function(v){i.canExecute(v,o,function(u,r,t){return c(u)},!0)})},_.prototype.init=function(){}},11918:(rt,G,m)=>{"use strict";m.d(G,{A:()=>E});function s(g){this._commandStack=g.get("commandStack",!1)}s.$inject=["injector"],s.prototype.allowed=function(g,_){var p=!0,o=this._commandStack;return o&&(p=o.canExecute(g,_)),p===void 0?!0:p};const E={__init__:["rules"],rules:["type",s]}},6587:(rt,G,m)=>{"use strict";m.d(G,{A:()=>E});var s=m(76594);function E(g){this._eventBus=g,this._selectedElements=[];var _=this;g.on(["shape.remove","connection.remove"],function(p){var o=p.element;_.deselect(o)}),g.on(["diagram.clear"],function(p){_.select(null)})}E.$inject=["eventBus"],E.prototype.deselect=function(g){var _=this._selectedElements,p=_.indexOf(g);if(p!==-1){var o=_.slice();_.splice(p,1),this._eventBus.fire("selection.changed",{oldSelection:o,newSelection:_})}},E.prototype.get=function(){return this._selectedElements},E.prototype.isSelected=function(g){return this._selectedElements.indexOf(g)!==-1},E.prototype.select=function(g,_){var p=this._selectedElements,o=p.slice();(0,s.cy)(g)||(g=g?[g]:[]),_?(0,s.jJ)(g,function(c){p.indexOf(c)===-1&&p.push(c)}):this._selectedElements=p=g.slice(),this._eventBus.fire("selection.changed",{oldSelection:o,newSelection:p})}},56773:(rt,G,m)=>{"use strict";m.d(G,{A:()=>r});var s=m(69380),E=m(35576),g=m(6587),_=m(76594),p="hover",o="selected";function c(t,n,e,a){this._multiSelectionBox=null;function f(P,y){n.addMarker(P,y)}function C(P,y){n.removeMarker(P,y)}t.on("element.hover",function(P){f(P.element,p)}),t.on("element.out",function(P){C(P.element,p)}),t.on("selection.changed",function(P){function y(R){C(R,o)}function T(R){f(R,o)}var I=P.oldSelection,D=P.newSelection;(0,_.jJ)(I,function(R){D.indexOf(R)===-1&&y(R)}),(0,_.jJ)(D,function(R){I.indexOf(R)===-1&&T(R)})})}c.$inject=["eventBus","canvas","selection","styles"];var i=m(60053);function v(t,n,e,a){t.on("create.end",500,function(f){var C=f.context,P=C.canExecute,y=C.elements,T=C.hints||{},I=T.autoSelect;if(P){if(I===!1)return;(0,_.cy)(I)?n.select(I):n.select(y.filter(u))}}),t.on("connect.end",500,function(f){f.context.canExecute&&f.context.connection&&n.select(f.context.connection)}),t.on("shape.move.end",500,function(f){var C=f.previousSelection||[],P=a.get(f.context.shape.id),y=(0,_.I6)(C,function(T){return P.id===T.id});y||n.select(P)}),t.on("element.click",function(f){var C=f.element;C===e.getRootElement()&&(C=null);var P=n.isSelected(C),y=n.get().length>1,T=(0,i.Io)(f);if(P&&y)return T?n.deselect(C):n.select(C);P||n.select(C,T)})}v.$inject=["eventBus","selection","canvas","elementRegistry"];function u(t){return!t.hidden}const r={__init__:["selectionVisuals","selectionBehavior"],__depends__:[s.A,E.A],selection:["type",g.A],selectionVisuals:["type",c],selectionBehavior:["type",v]}},17521:(rt,G,m)=>{"use strict";m.d(G,{AC:()=>v,CU:()=>u,_:()=>g,i0:()=>r,jz:()=>i,lA:()=>_,oF:()=>c});var s=Math.abs,E=Math.round;function g(t,n,e){e=e===void 0?10:e;var a,f;for(a=0;a<n.length;a++)if(f=n[a],s(f-t)<=e)return f}function _(t){return{x:t.x,y:t.y}}function p(t){return{x:t.x+t.width,y:t.y}}function o(t){return{x:t.x,y:t.y+t.height}}function c(t){return{x:t.x+t.width,y:t.y+t.height}}function i(t,n){return!t||isNaN(t.x)||isNaN(t.y)?n:{x:E(t.x+t.width/2),y:E(t.y+t.height/2)}}function v(t,n){var e=t.snapped;return e?typeof n=="string"?e[n]:e.x&&e.y:!1}function u(t,n,e){if(typeof n!="string")throw new Error("axis must be in [x, y]");if(typeof e!="number"&&e!==!1)throw new Error("value must be Number or false");var a,f=t[n],C=t.snapped=t.snapped||{};return e===!1?C[n]=!1:(C[n]=!0,a=e-f,t[n]+=a,t["d"+n]+=a),f}function r(t){return t.children||[]}},97317:(rt,G,m)=>{"use strict";m.d(G,{A:()=>o});var s=m(76594),E=m(17521),g=m(33225),_=7,p=1e3;function o(c){this._canvas=c,this._asyncHide=(0,s.sg)((0,s.oI)(this.hide,this),p)}o.$inject=["canvas"],o.prototype.snap=function(c,i){var v=c.context,u=v.snapContext,r=u.getSnapLocations(),t={x:(0,E.AC)(c,"x"),y:(0,E.AC)(c,"y")};(0,s.jJ)(r,function(n){var e=u.getSnapOrigin(n),a={x:c.x+e.x,y:c.y+e.y};if((0,s.jJ)(["x","y"],function(f){var C;t[f]||(C=i.snap(a,n,f,_),C!==void 0&&(t[f]={value:C,originValue:C-e[f]}))}),t.x&&t.y)return!1}),this.showSnapLine("vertical",t.x&&t.x.value),this.showSnapLine("horizontal",t.y&&t.y.value),(0,s.jJ)(["x","y"],function(n){var e=t[n];(0,s.Gv)(e)&&(0,E.CU)(c,n,e.originValue)})},o.prototype._createLine=function(c){var i=this._canvas.getLayer("snap"),v=(0,g.vt)("path");return(0,g.CF)(v,{d:"M0,0 L0,0"}),(0,g.Ly)(v).add("djs-snap-line"),(0,g.BC)(i,v),{update:function(u){(0,s.Et)(u)?c==="horizontal"?(0,g.CF)(v,{d:"M-100000,"+u+" L+100000,"+u,display:""}):(0,g.CF)(v,{d:"M "+u+",-100000 L "+u+", +100000",display:""}):(0,g.CF)(v,{display:"none"})}}},o.prototype._createSnapLines=function(){this._snapLines={horizontal:this._createLine("horizontal"),vertical:this._createLine("vertical")}},o.prototype.showSnapLine=function(c,i){var v=this.getSnapLine(c);v&&v.update(i),this._asyncHide()},o.prototype.getSnapLine=function(c){return this._snapLines||this._createSnapLines(),this._snapLines[c]},o.prototype.hide=function(){(0,s.jJ)(this._snapLines,function(c){c.update()})}},40133:(rt,G,m)=>{"use strict";m.d(G,{A:()=>D});var s=m(76594),E=m(17521);function g(){this._targets={},this._snapOrigins={},this._snapLocations=[],this._defaultSnaps={}}g.prototype.getSnapOrigin=function(R){return this._snapOrigins[R]},g.prototype.setSnapOrigin=function(R,U){this._snapOrigins[R]=U,this._snapLocations.indexOf(R)===-1&&this._snapLocations.push(R)},g.prototype.addDefaultSnap=function(R,U){var L=this._defaultSnaps[R];L||(L=this._defaultSnaps[R]=[]),L.push(U)},g.prototype.getSnapLocations=function(){return this._snapLocations},g.prototype.setSnapLocations=function(R){this._snapLocations=R},g.prototype.pointsForTarget=function(R){var U=R.id||R,L=this._targets[U];return L||(L=this._targets[U]=new _,L.initDefaults(this._defaultSnaps)),L};function _(R){this._snapValues={}}_.prototype.add=function(R,U){var L=this._snapValues[R];L||(L=this._snapValues[R]={x:[],y:[]}),L.x.indexOf(U.x)===-1&&L.x.push(U.x),L.y.indexOf(U.y)===-1&&L.y.push(U.y)},_.prototype.snap=function(R,U,L,N){var Y=this._snapValues[U];return Y&&(0,E._)(R[L],Y[L],N)},_.prototype.initDefaults=function(R){var U=this;(0,s.jJ)(R||{},function(L,N){(0,s.jJ)(L,function(Y){U.add(N,Y)})})};var p=m(34495),o=1250;function c(R,U,L){var N=this;this._elementRegistry=R,U.on(["create.start","shape.move.start"],function(Y){N.initSnap(Y)}),U.on(["create.move","create.end","shape.move.move","shape.move.end"],o,function(Y){var Q=Y.context,it=Q.shape,tt=Q.snapContext,$=Q.target;if(!(Y.originalEvent&&(0,p.nM)(Y.originalEvent))&&!((0,E.AC)(Y)||!$)){var W=tt.pointsForTarget($);W.initialized||(W=N.addSnapTargetPoints(W,it,$),W.initialized=!0),L.snap(Y,W)}}),U.on(["create.cleanup","shape.move.cleanup"],function(){L.hide()})}c.$inject=["elementRegistry","eventBus","snapping"],c.prototype.initSnap=function(R){var U=this._elementRegistry,L=R.context,N=L.shape,Y=L.snapContext;Y||(Y=L.snapContext=new g);var Q;U.get(N.id)?Q=(0,E.jz)(N,R):Q={x:R.x+(0,E.jz)(N).x,y:R.y+(0,E.jz)(N).y};var it={x:Q.x-N.width/2,y:Q.y-N.height/2},tt={x:Q.x+N.width/2,y:Q.y+N.height/2};return Y.setSnapOrigin("mid",{x:Q.x-R.x,y:Q.y-R.y}),u(N)||(Y.setSnapOrigin("top-left",{x:it.x-R.x,y:it.y-R.y}),Y.setSnapOrigin("bottom-right",{x:tt.x-R.x,y:tt.y-R.y})),Y},c.prototype.addSnapTargetPoints=function(R,U,L){var N=this.getSnapTargets(U,L);return(0,s.jJ)(N,function(Y){if(u(Y)){u(U)&&R.add("mid",(0,E.jz)(Y));return}if(i(Y)){if(Y.waypoints.length<3)return;var Q=Y.waypoints.slice(1,-1);(0,s.jJ)(Q,function(it){R.add("mid",it)});return}R.add("mid",(0,E.jz)(Y))}),!(0,s.Et)(U.x)||!(0,s.Et)(U.y)||this._elementRegistry.get(U.id)&&R.add("mid",(0,E.jz)(U)),R},c.prototype.getSnapTargets=function(R,U){return(0,E.i0)(U).filter(function(L){return!v(L)})};function i(R){return!!R.waypoints}function v(R){return!!R.hidden}function u(R){return!!R.labelTarget}var r=m(65911),t=1250;function n(R,U){var L=this;R.on(["resize.start"],function(N){L.initSnap(N)}),R.on(["resize.move","resize.end"],t,function(N){var Y=N.context,Q=Y.shape,it=Q.parent,tt=Y.direction,$=Y.snapContext;if(!(N.originalEvent&&(0,p.nM)(N.originalEvent))&&!(0,E.AC)(N)){var W=$.pointsForTarget(it);W.initialized||(W=L.addSnapTargetPoints(W,Q,it,tt),W.initialized=!0),y(tt)&&(0,E.CU)(N,"x",N.x),T(tt)&&(0,E.CU)(N,"y",N.y),U.snap(N,W)}}),R.on(["resize.cleanup"],function(){U.hide()})}n.prototype.initSnap=function(R){var U=R.context,L=U.shape,N=U.direction,Y=U.snapContext;Y||(Y=U.snapContext=new g);var Q=e(L,N);return Y.setSnapOrigin("corner",{x:Q.x-R.x,y:Q.y-R.y}),Y},n.prototype.addSnapTargetPoints=function(R,U,L,N){var Y=this.getSnapTargets(U,L);return(0,s.jJ)(Y,function(Q){R.add("corner",(0,E.oF)(Q)),R.add("corner",(0,E.lA)(Q))}),R.add("corner",e(U,N)),R},n.$inject=["eventBus","snapping"],n.prototype.getSnapTargets=function(R,U){return(0,E.i0)(U).filter(function(L){return!a(L,R)&&!f(L)&&!C(L)&&!P(L)})};function e(R,U){var L=(0,r.pp)(R),N=(0,r.Fy)(R),Y={x:L.x,y:L.y};return U.indexOf("n")!==-1?Y.y=N.top:U.indexOf("s")!==-1&&(Y.y=N.bottom),U.indexOf("e")!==-1?Y.x=N.right:U.indexOf("w")!==-1&&(Y.x=N.left),Y}function a(R,U){return R.host===U}function f(R){return!!R.waypoints}function C(R){return!!R.hidden}function P(R){return!!R.labelTarget}function y(R){return R==="n"||R==="s"}function T(R){return R==="e"||R==="w"}var I=m(97317);const D={__init__:["createMoveSnapping","resizeSnapping","snapping"],createMoveSnapping:["type",c],resizeSnapping:["type",n],snapping:["type",I.A]}},19506:(rt,G,m)=>{"use strict";m.d(G,{A:()=>a});var s=m(76594),E=m(65911),g=m(10018),_=m(45240),p=m(60053),o=m(46837),c=Math.abs,i=Math.round,v={x:"width",y:"height"},u="crosshair",r={n:"top",w:"left",s:"bottom",e:"right"},t=1500,n={n:"s",w:"e",s:"n",e:"w"},e=20;function a(D,R,U,L,N,Y){this._canvas=D,this._dragging=R,this._eventBus=U,this._modeling=L,this._rules=N,this._toolManager=Y;var Q=this;Y.registerTool("space",{tool:"spaceTool.selection",dragging:"spaceTool"}),U.on("spaceTool.selection.end",function(it){U.once("spaceTool.selection.ended",function(){Q.activateMakeSpace(it.originalEvent)})}),U.on("spaceTool.move",t,function(it){var tt=it.context,$=tt.initialized;$||($=tt.initialized=Q.init(it,tt)),$&&C(it)}),U.on("spaceTool.end",function(it){var tt=it.context,$=tt.direction,W=tt.movingShapes,O=tt.resizingShapes,l=tt.start;if(tt.initialized){C(it);var x=Q.getDelta(it);Q.makeSpace(W,O,x,$,l),U.once("spaceTool.ended",function(h){Q.activateSelection(h.originalEvent,!0,!0)})}})}a.$inject=["canvas","dragging","eventBus","modeling","rules","toolManager"],a.prototype.activateSelection=function(D,R,U){this._dragging.init(D,"spaceTool.selection",{autoActivate:R,cursor:u,data:{context:{reactivate:U}},trapClick:!1})},a.prototype.activateMakeSpace=function(D){this._dragging.init(D,"spaceTool",{autoActivate:!0,cursor:u,data:{context:{}}})},a.prototype.makeSpace=function(D,R,U,L,N){return this._modeling.createSpace(D,R,U,L,N)},a.prototype.init=function(D,R){var U=c(D.dx)>c(D.dy)?"x":"y",L=D["d"+U],N=D[U]-L;if(c(L)<5)return!1;L<0&&(L*=-1),(0,p.Io)(D)&&(L*=-1);var Y=(0,_.u6)(U,L),Q=this._canvas.getRootElement(),it=(0,g.cZ)(Q,!0),tt=this.calculateAdjustments(it,U,L,N),$=this._eventBus.fire("spaceTool.getMinDimensions",{shapes:tt.resizingShapes}),W=P(tt,U,Y,N,$);return(0,s.kp)(R,tt,{axis:U,direction:Y,spaceToolConstraints:W,start:N}),(0,o.hZ)("resize-"+(U==="x"?"ew":"ns")),!0},a.prototype.calculateAdjustments=function(D,R,U,L){var N=this._rules,Y=[],Q=[];return(0,s.jJ)(D,function(it){if(!(!it.parent||T(it))){var tt=it[R],$=tt+it[v[R]];if(U>0&&tt>L||U<0&&$<L)return Y.push(it);if(tt<L&&$>L&&N.allowed("shape.resize",{shape:it}))return Q.push(it)}}),{movingShapes:Y,resizingShapes:Q}},a.prototype.toggle=function(){this.isActive()?this._dragging.cancel():this.activateSelection()},a.prototype.isActive=function(){var D=this._dragging.context();return D&&/^spaceTool/.test(D.prefix)},a.prototype.getDelta=function(D){var R=D.context,U=R.axis,L={x:0,y:0};return L[U]=i(D["d"+U]),L};function f(D){return{top:D.top-e,right:D.right+e,bottom:D.bottom+e,left:D.left-e}}function C(D){var R=D.context,U=R.spaceToolConstraints;if(U){var L,N;(0,s.Et)(U.left)&&(L=Math.max(D.x,U.left),D.dx=D.dx+L-D.x,D.x=L),(0,s.Et)(U.right)&&(L=Math.min(D.x,U.right),D.dx=D.dx+L-D.x,D.x=L),(0,s.Et)(U.top)&&(N=Math.max(D.y,U.top),D.dy=D.dy+N-D.y,D.y=N),(0,s.Et)(U.bottom)&&(N=Math.min(D.y,U.bottom),D.dy=D.dy+N-D.y,D.y=N)}}function P(D,R,U,L,N){var Y=D.movingShapes,Q=D.resizingShapes;if(Q.length){var it={},tt,$;return(0,s.jJ)(Q,function(W){var O=(0,E.Fy)(W),l=(0,s.pb)(W.children,function(j){return!T(j)&&!I(j)&&!y(Y,j)&&!y(Q,j)}),x=(0,s.pb)(W.children,function(j){return!T(j)&&!I(j)&&y(Y,j)}),h,d,M;l.length&&(d=f((0,E.Fy)((0,g.U7)(l))),h=L-O[r[U]]+d[r[U]],U==="n"?it.bottom=$=(0,s.Et)($)?Math.min($,h):h:U==="w"?it.right=$=(0,s.Et)($)?Math.min($,h):h:U==="s"?it.top=tt=(0,s.Et)(tt)?Math.max(tt,h):h:U==="e"&&(it.left=tt=(0,s.Et)(tt)?Math.max(tt,h):h)),x.length&&(M=f((0,E.Fy)((0,g.U7)(x))),h=L-M[r[n[U]]]+O[r[n[U]]],U==="n"?it.bottom=$=(0,s.Et)($)?Math.min($,h):h:U==="w"?it.right=$=(0,s.Et)($)?Math.min($,h):h:U==="s"?it.top=tt=(0,s.Et)(tt)?Math.max(tt,h):h:U==="e"&&(it.left=tt=(0,s.Et)(tt)?Math.max(tt,h):h));var S=N&&N[W.id];S&&(U==="n"?(h=L+W[v[R]]-S[v[R]],it.bottom=$=(0,s.Et)($)?Math.min($,h):h):U==="w"?(h=L+W[v[R]]-S[v[R]],it.right=$=(0,s.Et)($)?Math.min($,h):h):U==="s"?(h=L-W[v[R]]+S[v[R]],it.top=tt=(0,s.Et)(tt)?Math.max(tt,h):h):U==="e"&&(h=L-W[v[R]]+S[v[R]],it.left=tt=(0,s.Et)(tt)?Math.max(tt,h):h))}),it}}function y(D,R){return D.indexOf(R)!==-1}function T(D){return!!D.waypoints}function I(D){return!!D.labelTarget}},7264:(rt,G,m)=>{"use strict";m.d(G,{A:()=>i});var s=m(76594),E=m(33225),g=m(52965),_="djs-dragging",p="djs-resizing",o=250,c=Math.max;function i(u,r,t,n,e){var a=this;function f(C,P){(0,s.jJ)(C,function(y){e.addDragger(y,P),t.addMarker(y,_)})}u.on("spaceTool.selection.start",function(C){var P=t.getLayer("space"),y=C.context,T={x:"M 0,-10000 L 0,10000",y:"M -10000,0 L 10000,0"},I=(0,E.vt)("g");(0,E.CF)(I,n.cls("djs-crosshair-group",["no-events"])),(0,E.BC)(P,I);var D=(0,E.vt)("path");(0,E.CF)(D,"d",T.x),(0,E.Ly)(D).add("djs-crosshair"),(0,E.BC)(I,D);var R=(0,E.vt)("path");(0,E.CF)(R,"d",T.y),(0,E.Ly)(R).add("djs-crosshair"),(0,E.BC)(I,R),y.crosshairGroup=I}),u.on("spaceTool.selection.move",function(C){var P=C.context.crosshairGroup;(0,g.Tl)(P,C.x,C.y)}),u.on("spaceTool.selection.cleanup",function(C){var P=C.context,y=P.crosshairGroup;y&&(0,E.TF)(y)}),u.on("spaceTool.move",o,function(C){var P=C.context,y=P.line,T=P.axis,I=P.movingShapes,D=P.resizingShapes;if(P.initialized){if(!P.dragGroup){var R=t.getLayer("space");y=(0,E.vt)("path"),(0,E.CF)(y,"d","M0,0 L0,0"),(0,E.Ly)(y).add("djs-crosshair"),(0,E.BC)(R,y),P.line=y;var U=(0,E.vt)("g");(0,E.CF)(U,n.cls("djs-drag-group",["no-events"])),(0,E.BC)(t.getDefaultLayer(),U),f(I,U);var L=P.movingConnections=r.filter(function(tt){var $=!1;(0,s.jJ)(I,function(x){(0,s.jJ)(x.outgoing,function(h){tt===h&&($=!0)})});var W=!1;(0,s.jJ)(I,function(x){(0,s.jJ)(x.incoming,function(h){tt===h&&(W=!0)})});var O=!1;(0,s.jJ)(D,function(x){(0,s.jJ)(x.outgoing,function(h){tt===h&&(O=!0)})});var l=!1;return(0,s.jJ)(D,function(x){(0,s.jJ)(x.incoming,function(h){tt===h&&(l=!0)})}),v(tt)&&($||O)&&(W||l)});f(L,U),P.dragGroup=U}if(!P.frameGroup){var N=(0,E.vt)("g");(0,E.CF)(N,n.cls("djs-frame-group",["no-events"])),(0,E.BC)(t.getDefaultLayer(),N);var Y=[];(0,s.jJ)(D,function(tt){var $=e.addFrame(tt,N),W=$.getBBox();Y.push({element:$,initialBounds:W}),t.addMarker(tt,p)}),P.frameGroup=N,P.frames=Y}var Q={x:"M"+C.x+", -10000 L"+C.x+", 10000",y:"M -10000, "+C.y+" L 10000, "+C.y};(0,E.CF)(y,{d:Q[T]});var it=a.getDelta(C);(0,g.Tl)(P.dragGroup,it.x,it.y),(0,s.jJ)(P.frames,function(tt){var $=tt.element,W=tt.initialBounds,O,l;P.direction==="e"?(0,E.CF)($,{width:c(W.width+it.x,5)}):(O=c(W.width-it.x,5),(0,E.CF)($,{width:O,x:W.x+W.width-O})),P.direction==="s"?(0,E.CF)($,{height:c(W.height+it.y,5)}):(l=c(W.height-it.y,5),(0,E.CF)($,{height:l,y:W.y+W.height-l}))})}}),u.on("spaceTool.cleanup",function(C){var P=C.context,y=P.movingShapes,T=P.movingConnections,I=P.resizingShapes,D=P.line,R=P.dragGroup,U=P.frameGroup;(0,s.jJ)(y,function(L){t.removeMarker(L,_)}),(0,s.jJ)(T,function(L){t.removeMarker(L,_)}),R&&((0,E.TF)(D),(0,E.TF)(R)),(0,s.jJ)(I,function(L){t.removeMarker(L,p)}),U&&(0,E.TF)(U)})}i.$inject=["eventBus","elementRegistry","canvas","styles","previewSupport"];function v(u){return u.waypoints}i.prototype.getDelta=function(u){var r=u.context,t={x:"y",y:"x"},n={x:u.dx,y:u.dy};return n[t[r.axis]]=0,n}},45240:(rt,G,m)=>{"use strict";m.d(G,{Gq:()=>g,Ih:()=>p,u6:()=>E});var s=m(76594);function E(o,c){if(o==="x"){if(c>0)return"e";if(c<0)return"w"}if(o==="y"){if(c>0)return"s";if(c<0)return"n"}return null}function g(o,c){var i=[];return(0,s.jJ)(o,function(v){var u=v.incoming,r=v.outgoing;(0,s.jJ)(u.concat(r),function(t){var n=t.source,e=t.target;(_(o,n)||_(o,e)||_(c,n)||_(c,e))&&(_(i,t)||i.push(t))})}),i}function _(o,c){return o.indexOf(c)!==-1}function p(o,c,i){var v=o.x,u=o.y,r=o.width,t=o.height,n=i.x,e=i.y;switch(c){case"n":return{x:v,y:u+e,width:r,height:t-e};case"s":return{x:v,y:u,width:r,height:t+e};case"w":return{x:v+n,y:u,width:r-n,height:t};case"e":return{x:v,y:u,width:r+n,height:t};default:throw new Error("unknown direction: "+c)}}},28400:(rt,G,m)=>{"use strict";m.d(G,{A:()=>r});var s=m(76594),E=m(63030),g=m(50941),_=new g.A("tt");function p(t){var n=(0,E.zm)('<div class="djs-tooltip-container" style="position: absolute; width: 0; height: 0;" />');return t.insertBefore(n,t.firstChild),n}function o(t,n,e){(0,s.kp)(t.style,{left:n+"px",top:e+"px"})}function c(t,n){t.style.display=n===!1?"none":""}var i="djs-tooltip",v="."+i;function u(t,n){this._eventBus=t,this._canvas=n,this._ids=_,this._tooltipDefaults={show:{minZoom:.7,maxZoom:5}},this._tooltips={},this._tooltipRoot=p(n.getContainer());var e=this;E.Mm.bind(this._tooltipRoot,v,"mousedown",function(a){a.stopPropagation()}),E.Mm.bind(this._tooltipRoot,v,"mouseover",function(a){e.trigger("mouseover",a)}),E.Mm.bind(this._tooltipRoot,v,"mouseout",function(a){e.trigger("mouseout",a)}),this._init()}u.$inject=["eventBus","canvas"],u.prototype.add=function(t){if(!t.position)throw new Error("must specifiy tooltip position");if(!t.html)throw new Error("must specifiy tooltip html");var n=this._ids.next();return t=(0,s.kp)({},this._tooltipDefaults,t,{id:n}),this._addTooltip(t),t.timeout&&this.setTimeout(t),n},u.prototype.trigger=function(t,n){var e=n.delegateTarget||n.target,a=this.get((0,E.CF)(e,"data-tooltip-id"));a&&(t==="mouseover"&&a.timeout&&this.clearTimeout(a),t==="mouseout"&&a.timeout&&(a.timeout=1e3,this.setTimeout(a)))},u.prototype.get=function(t){return typeof t!="string"&&(t=t.id),this._tooltips[t]},u.prototype.clearTimeout=function(t){if(t=this.get(t),!!t){var n=t.removeTimer;n&&(clearTimeout(n),t.removeTimer=null)}},u.prototype.setTimeout=function(t){if(t=this.get(t),!!t){this.clearTimeout(t);var n=this;t.removeTimer=setTimeout(function(){n.remove(t)},t.timeout)}},u.prototype.remove=function(t){var n=this.get(t);n&&((0,E.TF)(n.html),(0,E.TF)(n.htmlContainer),delete n.htmlContainer,delete this._tooltips[n.id])},u.prototype.show=function(){c(this._tooltipRoot)},u.prototype.hide=function(){c(this._tooltipRoot,!1)},u.prototype._updateRoot=function(t){var n=t.scale||1,e=t.scale||1,a="matrix("+n+",0,0,"+e+","+-1*t.x*n+","+-1*t.y*e+")";this._tooltipRoot.style.transform=a,this._tooltipRoot.style["-ms-transform"]=a},u.prototype._addTooltip=function(t){var n=t.id,e=t.html,a,f=this._tooltipRoot;e.get&&e.constructor.prototype.jquery&&(e=e.get(0)),(0,s.Kg)(e)&&(e=(0,E.zm)(e)),a=(0,E.zm)('<div data-tooltip-id="'+n+'" class="'+i+'" style="position: absolute">'),a.appendChild(e),t.type&&(0,E.Ly)(a).add("djs-tooltip-"+t.type),t.className&&(0,E.Ly)(a).add(t.className),t.htmlContainer=a,f.appendChild(a),this._tooltips[n]=t,this._updateTooltip(t)},u.prototype._updateTooltip=function(t){var n=t.position,e=t.htmlContainer;o(e,n.x,n.y)},u.prototype._updateTooltipVisibilty=function(t){(0,s.jJ)(this._tooltips,function(n){var e=n.show,a=n.htmlContainer,f=!0;e&&((e.minZoom>t.scale||e.maxZoom<t.scale)&&(f=!1),c(a,f))})},u.prototype._init=function(){var t=this;function n(e){t._updateRoot(e),t._updateTooltipVisibilty(e),t.show()}this._eventBus.on("canvas.viewbox.changing",function(e){t.hide()}),this._eventBus.on("canvas.viewbox.changed",function(e){n(e.viewbox)})};const r={__init__:["tooltips"],tooltips:["type",u]}},10033:(rt,G,m)=>{"use strict";m.d(G,{A:()=>E});var s=m(65911);function E(){}E.prototype.layoutConnection=function(g,_){return _=_||{},[_.connectionStart||(0,s.pp)(_.source||g.source),_.connectionEnd||(0,s.pp)(_.target||g.target)]}},23550:(rt,G,m)=>{"use strict";m.d(G,{A:()=>_});var s=m(76594),E=m(65911);function g(p){return(0,s.kp)({original:p.point.original||p.point},p.actual)}function _(p,o){this._elementRegistry=p,this._graphicsFactory=o}_.$inject=["elementRegistry","graphicsFactory"],_.prototype.getCroppedWaypoints=function(p,o,c){o=o||p.source,c=c||p.target;var i=this.getDockingPoint(p,o,!0),v=this.getDockingPoint(p,c),u=p.waypoints.slice(i.idx+1,v.idx);return u.unshift(g(i)),u.push(g(v)),u},_.prototype.getDockingPoint=function(p,o,c){var i=p.waypoints,v,u,r;return v=c?0:i.length-1,u=i[v],r=this._getIntersection(o,p,c),{point:u,actual:r||u,idx:v}},_.prototype._getIntersection=function(p,o,c){var i=this._getShapePath(p),v=this._getConnectionPath(o);return(0,E.ki)(i,v,c)},_.prototype._getConnectionPath=function(p){return this._graphicsFactory.getConnectionPath(p)},_.prototype._getShapePath=function(p){return this._graphicsFactory.getShapePath(p)},_.prototype._getGfx=function(p){return this._elementRegistry.getGraphics(p)}},65911:(rt,G,m)=>{"use strict";m.d(G,{Au:()=>p,Fy:()=>c,PG:()=>o,Wy:()=>n,cD:()=>i,ki:()=>r,pp:()=>v,vc:()=>u});var s=m(76594),E=m(92159),g=m(38305),_=m.n(g);function p(e){return{x:Math.round(e.x),y:Math.round(e.y),width:Math.round(e.width),height:Math.round(e.height)}}function o(e){return{x:Math.round(e.x),y:Math.round(e.y)}}function c(e){return{top:e.y,right:e.x+(e.width||0),bottom:e.y+(e.height||0),left:e.x}}function i(e){return{x:e.left,y:e.top,width:e.right-e.left,height:e.bottom-e.top}}function v(e){return o({x:e.x+(e.width||0)/2,y:e.y+(e.height||0)/2})}function u(e,a,f){f=f||0,(0,s.Gv)(f)||(f={x:f,y:f});var C=c(e),P=c(a),y=C.bottom+f.y<=P.top,T=C.left-f.x>=P.right,I=C.top-f.y>=P.bottom,D=C.right+f.x<=P.left,R=y?"top":I?"bottom":null,U=D?"left":T?"right":null;return U&&R?R+"-"+U:U||R||"intersect"}function r(e,a,f){var C=t(e,a);return C.length===1||C.length===2&&(0,E.cK)(C[0],C[1])<1?o(C[0]):C.length>1?(C=(0,s.Ul)(C,function(P){var y=Math.floor(P.t2*100)||1;return y=100-y,y=(y<10?"0":"")+y,P.segment2+"#"+y}),o(C[f?0:C.length-1])):null}function t(e,a){return _()(e,a)}function n(e){e=e.slice();for(var a=0,f,C,P;e[a];)f=e[a],C=e[a-1],P=e[a+1],(0,E.cK)(f,P)===0||(0,E.XP)(C,P,f)?e.splice(a,1):a++;return e}},74419:(rt,G,m)=>{"use strict";m.d(G,{WI:()=>T,Z9:()=>y,d7:()=>W});var s=m(76594),E=m(65911),g=m(92159),_=20,p=5,o=Math.round,c=20,i={"h:h":20,"v:v":20,"h:v":-10,"v:h":-10};function v(O,l){return!{t:/top/,r:/right/,b:/bottom/,l:/left/,h:/./,v:/./}[l].test(O)}function u(O,l){return{t:/top/,r:/right/,b:/bottom/,l:/left/,h:/left|right/,v:/top|bottom/}[O].test(l)}function r(O,l,x){var h=(0,E.vc)(l,O,p),d=x.split(":")[0],M=o((l.x-O.x)/2+O.x),S=o((l.y-O.y)/2+O.y),j,B,V=u(d,h),J=/h|r|l/.test(d),X=!1,q=!1;return V?(j=J?{x:M,y:O.y}:{x:O.x,y:S},B=J?"h:h":"v:v"):(X=v(h,d),B=J?"h:v":"v:h",X?J?(q=S===O.y,j={x:O.x+_*(/l/.test(d)?-1:1),y:q?S+_:S}):(q=M===O.x,j={x:q?M+_:M,y:O.y+_*(/t/.test(d)?-1:1)}):j={x:M,y:S}),{waypoints:C(O,j,B).concat(j),directions:B,turnNextDirections:q}}function t(O,l,x){return r(O,l,x)}function n(O,l,x){var h=r(l,O,a(x));return{waypoints:h.waypoints.slice().reverse(),directions:a(h.directions),turnNextDirections:h.turnNextDirections}}function e(O,l){var x=O.directions.split(":")[1],h=l.directions.split(":")[0];O.turnNextDirections&&(x=x=="h"?"v":"h"),l.turnNextDirections&&(h=h=="h"?"v":"h");var d=x+":"+h,M=C(O.waypoints[O.waypoints.length-1],l.waypoints[0],d);return{waypoints:M,directions:d}}function a(O){return O.split(":").reverse().join(":")}function f(O,l,x){var h=o((l.x-O.x)/2+O.x),d=o((l.y-O.y)/2+O.y);if(x==="h:v")return[{x:l.x,y:O.y}];if(x==="v:h")return[{x:O.x,y:l.y}];if(x==="h:h")return[{x:h,y:O.y},{x:h,y:l.y}];if(x==="v:v")return[{x:O.x,y:d},{x:l.x,y:d}];throw new Error("invalid directions: can only handle varians of [hv]:[hv]")}function C(O,l,x){if(x=x||"h:h",!Q(x))throw new Error("unknown directions: <"+x+">: must be specified as <start>:<end> with start/end in { h,v,t,r,b,l }");if(it(x)){var h=t(O,l,x),d=n(O,l,x),M=e(h,d);return[].concat(h.waypoints,M.waypoints,d.waypoints)}return f(O,l,x)}function P(O,l,x){var h=C(O,l,x);return h.unshift(O),h.push(l),W(h)}function y(O,l,x,h,d){var M=d&&d.preferredLayouts||[],S=(0,s.FF)(M,"straight")[0]||"h:h",j=i[S]||0,B=(0,E.vc)(O,l,j),V=Y(B,S);x=x||(0,E.pp)(O),h=h||(0,E.pp)(l);var J=V.split(":"),X=$(x,O,J[0],tt(B)),q=$(h,l,J[1],B);return P(X,q,V)}function T(O,l,x,h,d,M){(0,s.cy)(x)&&(d=x,M=h,x=(0,E.pp)(O),h=(0,E.pp)(l)),M=(0,s.kp)({preferredLayouts:[]},M),d=d||[];var S=M.preferredLayouts,j=S.indexOf("straight")!==-1,B;return B=j&&R(O,l,x,h,M),B||(B=M.connectionEnd&&L(l,O,h,d),B)||(B=M.connectionStart&&U(O,l,x,d),B)?B:!M.connectionStart&&!M.connectionEnd&&d&&d.length?d:y(O,l,x,h,M)}function I(O,l,x){return O>=l&&O<=x}function D(O,l,x){var h={x:"width",y:"height"};return I(l[O],x[O],x[O]+x[h[O]])}function R(O,l,x,h,d){var M={},S,j;return j=(0,E.vc)(O,l),/^(top|bottom|left|right)$/.test(j)?(/top|bottom/.test(j)&&(S="x"),/left|right/.test(j)&&(S="y"),d.preserveDocking==="target"?D(S,h,O)?(M[S]=h[S],[{x:M.x!==void 0?M.x:x.x,y:M.y!==void 0?M.y:x.y,original:{x:M.x!==void 0?M.x:x.x,y:M.y!==void 0?M.y:x.y}},{x:h.x,y:h.y}]):null:D(S,x,l)?(M[S]=x[S],[{x:x.x,y:x.y},{x:M.x!==void 0?M.x:h.x,y:M.y!==void 0?M.y:h.y,original:{x:M.x!==void 0?M.x:h.x,y:M.y!==void 0?M.y:h.y}}]):null):null}function U(O,l,x,h){return N(O,l,x,h)}function L(O,l,x,h){var d=h.slice().reverse();return d=N(O,l,x,d),d?d.reverse():null}function N(O,l,x,h){function d(J){return J.length<3?!0:J.length>4?!1:!!(0,s.I6)(J,function(X,q){var nt=J[q-1];return nt&&(0,g.cK)(X,nt)<3})}function M(J,X,q){var nt=(0,g.ke)(X,J);switch(nt){case"v":return{x:q.x,y:J.y};case"h":return{x:J.x,y:q.y}}return{x:J.x,y:J.y}}function S(J,X,q){var nt;for(nt=J.length-2;nt!==0;nt--)if((0,g.El)(J[nt],X,c)||(0,g.El)(J[nt],q,c))return J.slice(nt);return J}if(d(h))return null;var j=h[0],B=h.slice(),V;return B[0]=x,B[1]=M(B[1],j,x),V=S(B,O,l),V!==B&&(B=N(O,l,x,V)),B&&(0,g.ke)(B)?null:B}function Y(O,l){if(it(l))return l;switch(O){case"intersect":return"t:t";case"top":case"bottom":return"v:v";case"left":case"right":return"h:h";default:return l}}function Q(O){return O&&/^h|v|t|r|b|l:h|v|t|r|b|l$/.test(O)}function it(O){return O&&/t|r|b|l/.test(O)}function tt(O){return{top:"bottom",bottom:"top",left:"right",right:"left","top-left":"bottom-right","bottom-right":"top-left","top-right":"bottom-left","bottom-left":"top-right"}[O]}function $(O,l,x,h){if(x==="h"&&(x=/left/.test(h)?"l":"r"),x==="v"&&(x=/top/.test(h)?"t":"b"),x==="t")return{original:O,x:O.x,y:l.y};if(x==="r")return{original:O,x:l.x+l.width,y:O.y};if(x==="b")return{original:O,x:O.x,y:l.y+l.height};if(x==="l")return{original:O,x:l.x,y:O.y};throw new Error("unexpected dockingDirection: <"+x+">")}function W(O){return O.reduce(function(l,x,h){var d=l[l.length-1],M=O[h+1];return(0,g.XP)(d,M,x,0)||l.push(x),l},[])}},49096:(rt,G,m)=>{"use strict";m.d(G,{C6:()=>r,bL:()=>n,vt:()=>C});var s=m(76594),E=m(51270),g=m.n(E),_=m(82867),p=m.n(_),o=new(p())({name:"children",enumerable:!0,collection:!0},{name:"parent"}),c=new(p())({name:"labels",enumerable:!0,collection:!0},{name:"labelTarget"}),i=new(p())({name:"attachers",collection:!0},{name:"host"}),v=new(p())({name:"outgoing",collection:!0},{name:"source"}),u=new(p())({name:"incoming",collection:!0},{name:"target"});function r(){Object.defineProperty(this,"businessObject",{writable:!0}),Object.defineProperty(this,"label",{get:function(){return this.labels[0]},set:function(P){var y=this.label,T=this.labels;!P&&y?T.remove(y):T.add(P,0)}}),o.bind(this,"parent"),c.bind(this,"labels"),v.bind(this,"outgoing"),u.bind(this,"incoming")}function t(){r.call(this),o.bind(this,"children"),i.bind(this,"host"),i.bind(this,"attachers")}g()(t,r);function n(){t.call(this)}g()(n,t);function e(){t.call(this),c.bind(this,"labelTarget")}g()(e,t);function a(){r.call(this),v.bind(this,"source"),u.bind(this,"target")}g()(a,r);var f={connection:a,shape:t,label:e,root:n};function C(P,y){var T=f[P];if(!T)throw new Error("unknown type: <"+P+">");return(0,s.kp)(new T,y)}},64916:(rt,G,m)=>{"use strict";m.d(G,{A:()=>v});var s=m(46837),E=m(200),g=m(56764),_=m(63030),p=m(86439),o=15;function c(u,r){var t;u.on("element.mousedown",500,function(f){return a(f.originalEvent)});function n(f){var C=t.start,P=(0,p.gK)(f),y=(0,g.p)(P,C);if(!t.dragging&&i(y)>o&&(t.dragging=!0,(0,E.a)(u),(0,s.hZ)("grab")),t.dragging){var T=t.last||t.start;y=(0,g.p)(P,T),r.scroll({dx:y.x,dy:y.y}),t.last=P}f.preventDefault()}function e(f){_.f0.unbind(document,"mousemove",n),_.f0.unbind(document,"mouseup",e),t=null,(0,s.wC)()}function a(f){if(!(0,_.kp)(f.target,".djs-draggable")&&!(f.button||f.ctrlKey||f.shiftKey||f.altKey))return t={start:(0,p.gK)(f)},_.f0.bind(document,"mousemove",n),_.f0.bind(document,"mouseup",e),!0}}c.$inject=["eventBus","canvas"];function i(u){return Math.sqrt(Math.pow(u.x,2)+Math.pow(u.y,2))}const v={__init__:["moveCanvas"],moveCanvas:["type",c]}},32959:(rt,G,m)=>{"use strict";m.d(G,{A:()=>P});var s=m(69380),E=m(76594),g=m(63030),_=m(66716),p=m.n(_),o=m(86439),c=.2,i=4,v=["mousedown","mouseup","mouseover","mouseout","click","dblclick"];function u(){}function r(y,T){return T.get(y,!1)}function t(y){y.preventDefault(),y.stopPropagation(),typeof y.stopImmediatePropagation=="function"&&y.stopImmediatePropagation()}function n(y){function T(Q){(0,E.jJ)(v,function(it){g.f0.bind(y,it,t,!0)})}function I(Q){setTimeout(function(){(0,E.jJ)(v,function(it){g.f0.unbind(y,it,t,!0)})},500)}g.f0.bind(y,"touchstart",T,!0),g.f0.bind(y,"touchend",I,!0),g.f0.bind(y,"touchcancel",I,!0);var D=new(p()).Manager(y,{inputClass:p().TouchInput,recognizers:[]}),R=new(p()).Tap,U=new(p()).Pan({threshold:10}),L=new(p()).Press,N=new(p()).Pinch,Y=new(p()).Tap({event:"doubletap",taps:2});return N.requireFailure(U),N.requireFailure(L),D.add([U,L,N,Y,R]),D.reset=function(Q){var it=this.recognizers,tt=this.session;tt.stopped||(D.stop(Q),setTimeout(function(){var $,W;for($=0;W=it[$];$++)W.reset(),W.state=8;tt.curRecognizer=null},0))},D.on("hammer.input",function(Q){Q.srcEvent.defaultPrevented&&D.reset(!0)}),D}function e(y,T,I,D,R){var U=r("dragging",y),L=r("move",y),N=r("contextPad",y),Y=r("palette",y),Q;function it(W){return function(O){R.fire(W,O)}}function tt(W){var O=(0,g.kp)(W,"svg, .djs-element",!0);return O}function $(W){Q=n(W),Q.on("doubletap",it("element.dblclick")),Q.on("tap",it("element.click"));function O(h){var d=0,M=0;function S(B){var V=B.deltaX-d,J=B.deltaY-M;T.scroll({dx:V,dy:J}),d=B.deltaX,M=B.deltaY}function j(B){Q.off("panmove",S),Q.off("panend",j),Q.off("pancancel",j)}Q.on("panmove",S),Q.on("panend",j),Q.on("pancancel",j)}function l(h){var d=tt(h.target),M=d&&D.get(d);if(L&&T.getRootElement()!==M)return L.start(h,M,!0);O(h)}function x(h){var d=T.zoom(),M=h.center;function S(B){var V=1-(1-B.scale)/1.5,J=Math.max(c,Math.min(i,V*d));T.zoom(J,M),t(B)}function j(B){Q.off("pinchmove",S),Q.off("pinchend",j),Q.off("pinchcancel",j),Q.reset(!0)}Q.on("pinchmove",S),Q.on("pinchend",j),Q.on("pinchcancel",j)}Q.on("panstart",l),Q.on("press",l),Q.on("pinchstart",x)}U&&I.on("drag.move",function(W){var O=W.originalEvent;if(!(!O||O instanceof MouseEvent)){var l=(0,o.gK)(O),x=document.elementFromPoint(l.x,l.y),h=tt(x),d=h&&D.get(h);d!==W.hover&&(W.hover&&U.out(W),d&&(U.hover({element:d,gfx:h}),W.hover=d,W.hoverGfx=h))}}),N&&I.on("contextPad.create",function(W){var O=W.pad.html,l=n(O);l.on("panstart",function(x){N.trigger("dragstart",x,!0)}),l.on("press",function(x){N.trigger("dragstart",x,!0)}),l.on("tap",function(x){N.trigger("click",x)})}),Y&&I.on("palette.create",function(W){var O=W.container,l=n(O);l.on("panstart",function(x){Y.trigger("dragstart",x,!0)}),l.on("press",function(x){Y.trigger("dragstart",x,!0)}),l.on("tap",function(x){Y.trigger("click",x)})}),I.on("canvas.init",function(W){$(W.svg)})}e.$inject=["injector","canvas","eventBus","elementRegistry","interactionEvents","touchFix"];var a=m(33225);function f(y,T){var I=this;T.on("canvas.init",function(D){I.addBBoxMarker(D.svg)})}f.$inject=["canvas","eventBus"],f.prototype.addBBoxMarker=function(y){var T={fill:"none",class:"outer-bound-marker"},I=(0,a.vt)("rect");(0,a.CF)(I,{x:-1e4,y:1e4,width:10,height:10}),(0,a.CF)(I,T),(0,a.BC)(y,I);var D=(0,a.vt)("rect");(0,a.CF)(D,{x:1e4,y:1e4,width:10,height:10}),(0,a.CF)(D,T),(0,a.BC)(y,D)};const P={__depends__:[{__depends__:[s.A],__init__:["touchInteractionEvents"],touchInteractionEvents:["type",e],touchFix:["type",f]}]}},436:(rt,G,m)=>{"use strict";m.d(G,{A:()=>u});var s=m(63030),E=m(56165),g=m(55817),_=m(76594),p=Math.sign||function(r){return r>=0?1:-1},o={min:.2,max:4},c=10,i=.1,v=.75;function u(r,t,n){r=r||{},this._enabled=!1,this._canvas=n,this._container=n._container,this._handleWheel=(0,_.oI)(this._handleWheel,this),this._totalDelta=0,this._scale=r.scale||v;var e=this;t.on("canvas.init",function(a){e._init(r.enabled!==!1)})}u.$inject=["config.zoomScroll","eventBus","canvas"],u.prototype.scroll=function(t){this._canvas.scroll(t)},u.prototype.reset=function(){this._canvas.zoom("fit-viewport")},u.prototype.zoom=function(t,n){var e=(0,E.U)(o,c*2);this._totalDelta+=t,Math.abs(this._totalDelta)>i&&(this._zoom(t,n,e),this._totalDelta=0)},u.prototype._handleWheel=function(t){if(!(0,s.kp)(t.target,".djs-scrollable",!0)){var n=this._container;t.preventDefault();var e=t.ctrlKey,a=t.shiftKey,f=-1*this._scale,C;if(e?f*=t.deltaMode===0?.02:.32:f*=t.deltaMode===0?1:16,e){var P=n.getBoundingClientRect(),y={x:t.clientX-P.left,y:t.clientY-P.top};C=Math.sqrt(Math.pow(t.deltaY,2)+Math.pow(t.deltaX,2))*p(t.deltaY)*f,this.zoom(C,y)}else a?C={dx:f*t.deltaY,dy:0}:C={dx:f*t.deltaX,dy:f*t.deltaY},this.scroll(C)}},u.prototype.stepZoom=function(t,n){var e=(0,E.U)(o,c);this._zoom(t,n,e)},u.prototype._zoom=function(r,t,n){var e=this._canvas,a=r>0?1:-1,f=(0,g.Y)(e.zoom()),C=Math.round(f/n)*n;C+=n*a;var P=Math.pow(10,C);e.zoom((0,E.N)(o,P),t)},u.prototype.toggle=function(t){var n=this._container,e=this._handleWheel,a=this._enabled;return typeof t>"u"&&(t=!a),a!==t&&s.f0[t?"bind":"unbind"](n,"wheel",e,!1),this._enabled=t,t},u.prototype._init=function(r){this.toggle(r)}},56165:(rt,G,m)=>{"use strict";m.d(G,{N:()=>g,U:()=>E});var s=m(55817);function E(_,p){var o=(0,s.Y)(_.min),c=(0,s.Y)(_.max),i=Math.abs(o)+Math.abs(c);return i/p}function g(_,p){return Math.max(_.min,Math.min(_.max,p))}},81284:(rt,G,m)=>{"use strict";m.d(G,{A:()=>E});var s=m(436);const E={__init__:["zoomScroll"],zoomScroll:["type",s.A]}},200:(rt,G,m)=>{"use strict";m.d(G,{a:()=>E});var s=5e3;function E(g,_){_=_||"element.click";function p(){return!1}return g.once(_,s,p),function(){g.off(_,p)}}},6958:(rt,G,m)=>{"use strict";m.d(G,{TF:()=>s,WQ:()=>E,qh:()=>g});function s(_,p){if(!_||!p)return-1;var o=_.indexOf(p);return o!==-1&&_.splice(o,1),o}function E(_,p,o){if(!(!_||!p)){typeof o!="number"&&(o=-1);var c=_.indexOf(p);if(c!==-1){if(c===o)return;if(o!==-1)_.splice(c,1);else return}o!==-1?_.splice(o,0,p):_.push(p)}}function g(_,p){return!_||!p?-1:_.indexOf(p)}},46837:(rt,G,m)=>{"use strict";m.d(G,{hZ:()=>g,wC:()=>_});var s=m(63030),E=/^djs-cursor-.*$/;function g(o){var c=(0,s.Ly)(document.body);c.removeMatching(E),o&&c.add("djs-cursor-"+o)}function _(){g(null)}function p(o){var c=domClasses(document.body);return c.has("djs-cursor-"+o)}},10018:(rt,G,m)=>{"use strict";m.d(G,{Pw:()=>t,U7:()=>u,cZ:()=>i,eb:()=>n,qO:()=>p,rx:()=>r,wT:()=>E,yO:()=>v});var s=m(76594);function E(a){return(0,s.pb)(a,function(f){return!(0,s.I6)(a,function(C){return C!==f&&g(f,C)})})}function g(a,f){if(f){if(a===f)return f;if(a.parent)return g(a.parent,f)}}function _(a,f,C){var P=!C||a.indexOf(f)===-1;return P&&a.push(f),P}function p(a,f,C){C=C||0,(0,s.cy)(a)||(a=[a]),(0,s.jJ)(a,function(P,y){var T=f(P,y,C);(0,s.cy)(T)&&T.length&&p(T,f,C+1)})}function o(a,f,C){var P=[],y=[];return p(a,function(T,I,D){_(P,T,f);var R=T.children;if((C===-1||D<C)&&R&&_(y,R,f))return R}),P}function c(a,f){return o(a,!f,1)}function i(a,f){return o(a,!f,-1)}function v(a,f,C){(0,s.b0)(f)&&(f=!0),(0,s.Gv)(f)&&(C=f,f=!0),C=C||{};var P=e(C.allShapes),y=e(C.allConnections),T=e(C.enclosedElements),I=e(C.enclosedConnections),D=e(C.topLevel,f&&(0,s.$z)(a,function(L){return L.id}));function R(L){D[L.source.id]&&D[L.target.id]&&(D[L.id]=[L]),P[L.source.id]&&P[L.target.id]&&(I[L.id]=T[L.id]=L),y[L.id]=L}function U(L){if(T[L.id]=L,L.waypoints)I[L.id]=y[L.id]=L;else return P[L.id]=L,(0,s.jJ)(L.incoming,R),(0,s.jJ)(L.outgoing,R),L.children}return p(a,U),{allShapes:P,allConnections:y,topLevel:D,enclosedConnections:I,enclosedElements:T}}function u(a,f){f=!!f,(0,s.cy)(a)||(a=[a]);var C,P,y,T;return(0,s.jJ)(a,function(I){var D=I;I.waypoints&&!f&&(D=u(I.waypoints,!0));var R=D.x,U=D.y,L=D.height||0,N=D.width||0;(R<C||C===void 0)&&(C=R),(U<P||P===void 0)&&(P=U),(R+N>y||y===void 0)&&(y=R+N),(U+L>T||T===void 0)&&(T=U+L)}),{x:C,y:P,height:T-P,width:y-C}}function r(a,f){var C={};return(0,s.jJ)(a,function(P){var y=P;y.waypoints&&(y=u(y)),!(0,s.Et)(f.y)&&y.x>f.x&&(C[P.id]=P),!(0,s.Et)(f.x)&&y.y>f.y&&(C[P.id]=P),y.x>f.x&&y.y>f.y&&((0,s.Et)(f.width)&&(0,s.Et)(f.height)&&y.width+y.x<f.width+f.x&&y.height+y.y<f.height+f.y||!(0,s.Et)(f.width)||!(0,s.Et)(f.height))&&(C[P.id]=P)}),C}function t(a){return"waypoints"in a?"connection":"x"in a?"shape":"root"}function n(a){return!!(a&&a.isFrame)}function e(a,f){return(0,s.kp)({},a||{},f||{})}},86439:(rt,G,m)=>{"use strict";m.d(G,{AF:()=>E,dG:()=>g,gK:()=>_});function s(p){!p||typeof p.stopPropagation!="function"||p.stopPropagation()}function E(p){return p.originalEvent||p.srcEvent}function g(p,o){s(p,o),s(E(p),o)}function _(p){return p.pointers&&p.pointers.length&&(p=p.pointers[0]),p.touches&&p.touches.length&&(p=p.touches[0]),p?{x:p.clientX,y:p.clientY}:null}},92159:(rt,G,m)=>{"use strict";m.d(G,{El:()=>i,P8:()=>v,XP:()=>g,cK:()=>E,ke:()=>p});var s=m(76594);function E(u,r){return!u||!r?-1:Math.sqrt(Math.pow(u.x-r.x,2)+Math.pow(u.y-r.y,2))}function g(u,r,t,n){if(typeof n>"u"&&(n=5),!u||!r||!t)return!1;var e=(r.x-u.x)*(t.y-u.y)-(r.y-u.y)*(t.x-u.x),a=E(u,r);return Math.abs(e/a)<=n}var _=2;function p(u,r){var t;return(0,s.cy)(u)?t=u:t=[u,r],o(t)?"h":c(t)?"v":!1}function o(u,r){var t;(0,s.cy)(u)?t=u:t=[u,r];var n=t.slice().shift();return(0,s.Si)(t,function(e){return Math.abs(n.y-e.y)<=_})}function c(u,r){var t;(0,s.cy)(u)?t=u:t=[u,r];var n=t.slice().shift();return(0,s.Si)(t,function(e){return Math.abs(n.x-e.x)<=_})}function i(u,r,t){return t=t||0,u.x>r.x-t&&u.y>r.y-t&&u.x<r.x+r.width+t&&u.y<r.y+r.height+t}function v(u,r){return{x:Math.round(u.x+(r.x-u.x)/2),y:Math.round(u.y+(r.y-u.y)/2)}}},12266:(rt,G,m)=>{"use strict";m.d(G,{P:()=>s,i:()=>E});function s(g){return g.childNodes[0]}function E(g){return g.parentNode.childNodes[1]}},50941:(rt,G,m)=>{"use strict";m.d(G,{A:()=>s});function s(E){this._counter=0,this._prefix=(E?E+"-":"")+Math.floor(Math.random()*1e9)+"-"}s.prototype.next=function(){return this._prefix+ ++this._counter}},55817:(rt,G,m)=>{"use strict";m.d(G,{Y:()=>s});function s(E){return Math.log(E)/Math.log(10)}},60053:(rt,G,m)=>{"use strict";m.d(G,{Io:()=>_,KH:()=>p,ls:()=>g});var s=m(86439);function E(){return/mac/i.test(navigator.platform)}function g(o){return!((0,s.AF)(o)||o).button}function _(o){var c=(0,s.AF)(o)||o;return g(o)?E()?c.metaKey:c.ctrlKey:!1}function p(o){var c=(0,s.AF)(o)||o;return g(o)&&c.shiftKey}},56764:(rt,G,m)=>{"use strict";m.d(G,{g:()=>s,p:()=>E});function s(g){return{x:g.x+g.width/2,y:g.y+g.height/2}}function E(g,_){return{x:g.x-_.x,y:g.y-_.y}}},91799:(rt,G,m)=>{"use strict";m.d(G,{l:()=>s});function s(E,g){if(typeof g!="function")throw new Error("removeFn iterator must be a function");if(E){for(var _;_=E[0];)g(_);return E}}},12619:(rt,G,m)=>{"use strict";m.d(G,{RJ:()=>_,si:()=>p,tx:()=>E});var s=m(33225);function E(o){return o.join(",").replace(/,?([A-z]),?/g,"$1")}function g(o){for(var c="",i=0,v;v=o[i];i++)c+=v.x+","+v.y+" ";return c}function _(o,c){var i=(0,s.vt)("polyline");return(0,s.CF)(i,{points:g(o)}),c&&(0,s.CF)(i,c),i}function p(o,c){return(0,s.CF)(o,{points:g(c)}),o}},52965:(rt,G,m)=>{"use strict";m.d(G,{Tl:()=>g,e$:()=>_,pd:()=>E});var s=m(33225);function E(o,c,i,v,u){var r=(0,s.l1)();r.setTranslate(c,i);var t=(0,s.l1)();t.setRotate(v||0,0,0);var n=(0,s.l1)();n.setScale(u||1,u||1),(0,s.pd)(o,[r,t,n])}function g(o,c,i){var v=(0,s.l1)();v.setTranslate(c,i),(0,s.pd)(o,v)}function _(o,c){var i=(0,s.l1)();i.setRotate(c,0,0),(0,s.pd)(o,i)}function p(o,c){var i=createTransform();i.setScale(c,c),svgTransform(o,i)}},44156:(rt,G,m)=>{"use strict";m.d(G,{A:()=>n});var s=m(76594),E=m(33225),g=0,_={width:150,height:50};function p(a){var f=a.split("-");return{horizontal:f[0]||"center",vertical:f[1]||"top"}}function o(a){return(0,s.Gv)(a)?(0,s.kp)({top:0,left:0,right:0,bottom:0},a):{top:a,left:a,right:a,bottom:a}}function c(a,f){f.textContent=a;var C;try{var P,y=a==="";return f.textContent=y?"dummy":a,C=f.getBBox(),P={width:C.width+C.x*2,height:C.height},y&&(P.width=0),P}catch{return{width:0,height:0}}}function i(a,f,C){for(var P=a.shift(),y=P,T;;){if(T=c(y,C),T.width=y?T.width:0,y===" "||y===""||Math.round(T.width)<=Math.round(f)||y.length<2)return v(a,y,P,T);y=r(y,T.width,f)}}function v(a,f,C,P){if(f.length<C.length){var y=C.slice(f.length).trim();a.unshift(y)}return{width:P.width,height:P.height,text:f}}function u(a,f){var C=a.split(/(\s|-)/g),P,y=[],T=0;if(C.length>1)for(;P=C.shift();)if(P.length+T<f)y.push(P),T+=P.length;else{P==="-"&&y.pop();break}return y.join("")}function r(a,f,C){var P=Math.max(a.length*(C/f),1),y=u(a,P);return y||(y=a.slice(0,Math.max(Math.round(P-1),1))),y}function t(){var a=document.getElementById("helper-svg");return a||(a=(0,E.vt)("svg"),(0,E.CF)(a,{id:"helper-svg",width:0,height:0,style:"visibility: hidden; position: fixed"}),document.body.appendChild(a)),a}function n(a){this._config=(0,s.kp)({},{size:_,padding:g,style:{},align:"center-top"},a||{})}n.prototype.createText=function(a,f){return this.layoutText(a,f).element},n.prototype.getDimensions=function(a,f){return this.layoutText(a,f).dimensions},n.prototype.layoutText=function(a,f){var C=(0,s.kp)({},this._config.size,f.box),P=(0,s.kp)({},this._config.style,f.style),y=p(f.align||this._config.align),T=o(f.padding!==void 0?f.padding:this._config.padding),I=f.fitBox||!1,D=e(P),R=a.split(/\r?\n/g),U=[],L=C.width-T.left-T.right,N=(0,E.vt)("text");(0,E.CF)(N,{x:0,y:0}),(0,E.CF)(N,P);var Y=t();for((0,E.BC)(Y,N);R.length;)U.push(i(R,L,N));y.vertical==="middle"&&(T.top=T.bottom=0);var Q=(0,s.TS)(U,function(O,l,x){return O+(D||l.height)},0)+T.top+T.bottom,it=(0,s.TS)(U,function(O,l,x){return l.width>O?l.width:O},0),tt=T.top;y.vertical==="middle"&&(tt+=(C.height-Q)/2),tt-=(D||U[0].height)/4;var $=(0,E.vt)("text");(0,E.CF)($,P),(0,s.jJ)(U,function(O){var l;switch(tt+=D||O.height,y.horizontal){case"left":l=T.left;break;case"right":l=(I?it:L)-T.right-O.width;break;default:l=Math.max(((I?it:L)-O.width)/2+T.left,0)}var x=(0,E.vt)("tspan");(0,E.CF)(x,{x:l,y:tt}),x.textContent=O.text,(0,E.BC)($,x)}),(0,E.TF)(N);var W={width:it,height:Q};return{dimensions:W,element:$}};function e(a){if("fontSize"in a&&"lineHeight"in a)return a.lineHeight*parseInt(a.fontSize,10)}},33225:(rt,G,m)=>{"use strict";m.d(G,{BC:()=>g,CF:()=>v,IU:()=>C,Ly:()=>e,TF:()=>f,l1:()=>$,o8:()=>P,pd:()=>k,uK:()=>tt,vt:()=>R});function s(w,z){if(w.ownerDocument!==z.ownerDocument)try{return z.ownerDocument.importNode(w,!0)}catch{}return w}function E(w,z){return z.appendChild(s(w,z))}function g(w,z){return E(z,w),w}var _=2,p={"alignment-baseline":1,"baseline-shift":1,clip:1,"clip-path":1,"clip-rule":1,color:1,"color-interpolation":1,"color-interpolation-filters":1,"color-profile":1,"color-rendering":1,cursor:1,direction:1,display:1,"dominant-baseline":1,"enable-background":1,fill:1,"fill-opacity":1,"fill-rule":1,filter:1,"flood-color":1,"flood-opacity":1,font:1,"font-family":1,"font-size":_,"font-size-adjust":1,"font-stretch":1,"font-style":1,"font-variant":1,"font-weight":1,"glyph-orientation-horizontal":1,"glyph-orientation-vertical":1,"image-rendering":1,kerning:1,"letter-spacing":1,"lighting-color":1,marker:1,"marker-end":1,"marker-mid":1,"marker-start":1,mask:1,opacity:1,overflow:1,"pointer-events":1,"shape-rendering":1,"stop-color":1,"stop-opacity":1,stroke:1,"stroke-dasharray":1,"stroke-dashoffset":1,"stroke-linecap":1,"stroke-linejoin":1,"stroke-miterlimit":1,"stroke-opacity":1,"stroke-width":_,"text-anchor":1,"text-decoration":1,"text-rendering":1,"unicode-bidi":1,visibility:1,"word-spacing":1,"writing-mode":1};function o(w,z){return p[z]?w.style[z]:w.getAttributeNS(null,z)}function c(w,z,Z){var ot=z.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),st=p[ot];st?(st===_&&typeof Z=="number"&&(Z=String(Z)+"px"),w.style[ot]=Z):w.setAttributeNS(null,z,Z)}function i(w,z){var Z=Object.keys(z),ot,st;for(ot=0,st;st=Z[ot];ot++)c(w,st,z[st])}function v(w,z,Z){if(typeof z=="string")if(Z!==void 0)c(w,z,Z);else return o(w,z);else i(w,z);return w}function u(w,z){if(w.indexOf)return w.indexOf(z);for(var Z=0;Z<w.length;++Z)if(w[Z]===z)return Z;return-1}var r=/\s+/,t=Object.prototype.toString;function n(w){return typeof w<"u"}function e(w){return new a(w)}function a(w){if(!w||!w.nodeType)throw new Error("A DOM element reference is required");this.el=w,this.list=w.classList}a.prototype.add=function(w){if(this.list)return this.list.add(w),this;var z=this.array(),Z=u(z,w);return~Z||z.push(w),n(this.el.className.baseVal)?this.el.className.baseVal=z.join(" "):this.el.className=z.join(" "),this},a.prototype.remove=function(w){if(t.call(w)==="[object RegExp]")return this.removeMatching(w);if(this.list)return this.list.remove(w),this;var z=this.array(),Z=u(z,w);return~Z&&z.splice(Z,1),this.el.className.baseVal=z.join(" "),this},a.prototype.removeMatching=function(w){for(var z=this.array(),Z=0;Z<z.length;Z++)w.test(z[Z])&&this.remove(z[Z]);return this},a.prototype.toggle=function(w,z){return this.list?(n(z)?z!==this.list.toggle(w,z)&&this.list.toggle(w):this.list.toggle(w),this):(n(z)?z?this.add(w):this.remove(w):this.has(w)?this.remove(w):this.add(w),this)},a.prototype.array=function(){var w=this.el.getAttribute("class")||"",z=w.replace(/^\s+|\s+$/g,""),Z=z.split(r);return Z[0]===""&&Z.shift(),Z},a.prototype.has=a.prototype.contains=function(w){return this.list?this.list.contains(w):!!~u(this.array(),w)};function f(w){var z=w.parentNode;return z&&z.removeChild(w),w}function C(w){for(var z;z=w.firstChild;)f(z);return w}function P(w){return w.cloneNode(!0)}var y={svg:"http://www.w3.org/2000/svg"},T='<svg xmlns="'+y.svg+'"';function I(w){var z=!1;w.substring(0,4)==="<svg"?w.indexOf(y.svg)===-1&&(w=T+w.substring(4)):(w=T+">"+w+"</svg>",z=!0);var Z=D(w);if(!z)return Z;for(var ot=document.createDocumentFragment(),st=Z.firstChild;st.firstChild;)ot.appendChild(st.firstChild);return ot}function D(w){var z;return z=new DOMParser,z.async=!1,z.parseFromString(w,"text/xml")}function R(w,z){var Z;return w.charAt(0)==="<"?(Z=I(w).firstChild,Z=document.importNode(Z,!0)):Z=document.createElementNS(y.svg,w),z&&v(Z,z),Z}function U(w,z,Z,ot){w.addEventListener(z,Z,ot)}function L(w,z,Z,ot){w.removeEventListener(z,Z,ot)}var N=null;function Y(){return N===null&&(N=R("svg")),N}function Q(w,z){var Z,ot,st=Object.keys(z);for(Z=0;ot=st[Z];Z++)w[ot]=z[ot];return w}function it(w,z){var Z=Y().createSVGPoint();switch(arguments.length){case 0:return Z;case 2:w={x:w,y:z};break}return Q(Z,w)}function tt(w,z,Z,ot,st,ut){var ft=Y().createSVGMatrix();switch(arguments.length){case 0:return ft;case 1:return Q(ft,w);case 6:return Q(ft,{a:w,b:z,c:Z,d:ot,e:st,f:ut})}}function $(w){return w?Y().createSVGTransformFromMatrix(w):Y().createSVGTransform()}var W=/([&<>]{1})/g,O=/([\n\r"]{1})/g,l={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"'"};function x(w,z){function Z(ot,st){return l[st]||st}return w.replace(z,Z)}function h(w,z){var Z,ot,st,ut,ft;switch(w.nodeType){case 3:z.push(x(w.textContent,W));break;case 1:if(z.push("<",w.tagName),w.hasAttributes())for(st=w.attributes,Z=0,ot=st.length;Z<ot;++Z)ut=st.item(Z),z.push(" ",ut.name,'="',x(ut.value,O),'"');if(w.hasChildNodes()){for(z.push(">"),ft=w.childNodes,Z=0,ot=ft.length;Z<ot;++Z)h(ft.item(Z),z);z.push("</",w.tagName,">")}else z.push("/>");break;case 8:z.push("<!--",x(w.nodeValue,W),"-->");break;case 4:z.push("<![CDATA[",w.nodeValue,"]]>");break;default:throw new Error("unable to handle node "+w.nodeType)}return z}function d(w,z){var Z=I(z);if(C(w),!!z){S(Z)||(Z=Z.documentElement);for(var ot=B(Z.childNodes),st=0;st<ot.length;st++)E(ot[st],w)}}function M(w){for(var z=w.firstChild,Z=[];z;)h(z,Z),z=z.nextSibling;return Z.join("")}function S(w){return w.nodeName==="#document-fragment"}function j(w,z){if(z!==void 0){try{d(w,z)}catch(Z){throw new Error("error parsing SVG: "+Z.message)}return w}else return M(w)}function B(w){return Array.prototype.slice.call(w)}function V(w,z){return w.querySelector(z)}function J(w,z){var Z=w.querySelectorAll(z);return[].map.call(Z,function(ot){return ot})}function X(w,z){return z.insertBefore(s(w,z),z.firstChild||null)}function q(w,z){return X(z,w),w}function nt(w,z){return w.parentNode.replaceChild(s(z,w),w),z}function F(w,z){return z instanceof SVGMatrix?w.createSVGTransformFromMatrix(z):z}function H(w,z){var Z,ot;for(w.clear(),Z=0;ot=z[Z];Z++)w.appendItem(F(w,ot))}function k(w,z){var Z=w.transform.baseVal;return z&&(Array.isArray(z)||(z=[z]),H(Z,z)),Z.consolidate()}},87004:(rt,G,m)=>{"use strict";m.d(G,{BC:()=>g,CF:()=>v,Ly:()=>r,TF:()=>V,o8:()=>e,pd:()=>nt,uK:()=>N,vt:()=>y});function s(F,H){if(F.ownerDocument!==H.ownerDocument)try{return H.ownerDocument.importNode(F,!0)}catch{}return F}function E(F,H){return H.appendChild(s(F,H))}function g(F,H){return E(H,F),F}var _=2,p={"alignment-baseline":1,"baseline-shift":1,clip:1,"clip-path":1,"clip-rule":1,color:1,"color-interpolation":1,"color-interpolation-filters":1,"color-profile":1,"color-rendering":1,cursor:1,direction:1,display:1,"dominant-baseline":1,"enable-background":1,fill:1,"fill-opacity":1,"fill-rule":1,filter:1,"flood-color":1,"flood-opacity":1,font:1,"font-family":1,"font-size":_,"font-size-adjust":1,"font-stretch":1,"font-style":1,"font-variant":1,"font-weight":1,"glyph-orientation-horizontal":1,"glyph-orientation-vertical":1,"image-rendering":1,kerning:1,"letter-spacing":1,"lighting-color":1,marker:1,"marker-end":1,"marker-mid":1,"marker-start":1,mask:1,opacity:1,overflow:1,"pointer-events":1,"shape-rendering":1,"stop-color":1,"stop-opacity":1,stroke:1,"stroke-dasharray":1,"stroke-dashoffset":1,"stroke-linecap":1,"stroke-linejoin":1,"stroke-miterlimit":1,"stroke-opacity":1,"stroke-width":_,"text-anchor":1,"text-decoration":1,"text-rendering":1,"unicode-bidi":1,visibility:1,"word-spacing":1,"writing-mode":1};function o(F,H){return p[H]?F.style[H]:F.getAttributeNS(null,H)}function c(F,H,k){var w=H.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),z=p[w];z?(z===_&&typeof k=="number"&&(k=String(k)+"px"),F.style[w]=k):F.setAttributeNS(null,H,k)}function i(F,H){var k=Object.keys(H),w,z;for(w=0,z;z=k[w];w++)c(F,z,H[z])}function v(F,H,k){if(typeof H=="string")if(k!==void 0)c(F,H,k);else return o(F,H);else i(F,H);return F}const u=Object.prototype.toString;function r(F){return new t(F)}function t(F){if(!F||!F.nodeType)throw new Error("A DOM element reference is required");this.el=F,this.list=F.classList}t.prototype.add=function(F){return this.list.add(F),this},t.prototype.remove=function(F){return u.call(F)=="[object RegExp]"?this.removeMatching(F):(this.list.remove(F),this)},t.prototype.removeMatching=function(F){const H=this.array();for(let k=0;k<H.length;k++)F.test(H[k])&&this.remove(H[k]);return this},t.prototype.toggle=function(F,H){return typeof H<"u"?H!==this.list.toggle(F,H)&&this.list.toggle(F):this.list.toggle(F),this},t.prototype.array=function(){return Array.from(this.list)},t.prototype.has=t.prototype.contains=function(F){return this.list.contains(F)};function n(F){for(var H;H=F.firstChild;)F.removeChild(H);return F}function e(F){return F.cloneNode(!0)}var a={svg:"http://www.w3.org/2000/svg"},f='<svg xmlns="'+a.svg+'"';function C(F){var H=!1;F.substring(0,4)==="<svg"?F.indexOf(a.svg)===-1&&(F=f+F.substring(4)):(F=f+">"+F+"</svg>",H=!0);var k=P(F);if(!H)return k;for(var w=document.createDocumentFragment(),z=k.firstChild;z.firstChild;)w.appendChild(z.firstChild);return w}function P(F){var H;return H=new DOMParser,H.async=!1,H.parseFromString(F,"text/xml")}function y(F,H){var k;return F=F.trim(),F.charAt(0)==="<"?(k=C(F).firstChild,k=document.importNode(k,!0)):k=document.createElementNS(a.svg,F),H&&v(k,H),k}function T(F,H,k,w){F.addEventListener(H,k,w)}function I(F,H,k,w){F.removeEventListener(H,k,w)}var D=null;function R(){return D===null&&(D=y("svg")),D}function U(F,H){var k,w,z=Object.keys(H);for(k=0;w=z[k];k++)F[w]=H[w];return F}function L(F,H){var k=R().createSVGPoint();switch(arguments.length){case 0:return k;case 2:F={x:F,y:H};break}return U(k,F)}function N(F,H,k,w,z,Z){var ot=R().createSVGMatrix();switch(arguments.length){case 0:return ot;case 1:return U(ot,F);case 6:return U(ot,{a:F,b:H,c:k,d:w,e:z,f:Z})}}function Y(F){return F?R().createSVGTransformFromMatrix(F):R().createSVGTransform()}var Q=/([&<>]{1})/g,it=/([\n\r"]{1})/g,tt={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"'"};function $(F,H){function k(w,z){return tt[z]||z}return F.replace(H,k)}function W(F,H){var k,w,z,Z,ot;switch(F.nodeType){case 3:H.push($(F.textContent,Q));break;case 1:if(H.push("<",F.tagName),F.hasAttributes())for(z=F.attributes,k=0,w=z.length;k<w;++k)Z=z.item(k),H.push(" ",Z.name,'="',$(Z.value,it),'"');if(F.hasChildNodes()){for(H.push(">"),ot=F.childNodes,k=0,w=ot.length;k<w;++k)W(ot.item(k),H);H.push("</",F.tagName,">")}else H.push("/>");break;case 8:H.push("<!--",$(F.nodeValue,Q),"-->");break;case 4:H.push("<![CDATA[",F.nodeValue,"]]>");break;default:throw new Error("unable to handle node "+F.nodeType)}return H}function O(F,H){var k=C(H);if(n(F),!!H){x(k)||(k=k.documentElement);for(var w=d(k.childNodes),z=0;z<w.length;z++)E(w[z],F)}}function l(F){for(var H=F.firstChild,k=[];H;)W(H,k),H=H.nextSibling;return k.join("")}function x(F){return F.nodeName==="#document-fragment"}function h(F,H){if(H!==void 0){try{O(F,H)}catch(k){throw new Error("error parsing SVG: "+k.message)}return F}else return l(F)}function d(F){return Array.prototype.slice.call(F)}function M(F,H){return F.querySelector(H)}function S(F,H){var k=F.querySelectorAll(H);return[].map.call(k,function(w){return w})}function j(F,H){return H.insertBefore(s(F,H),H.firstChild||null)}function B(F,H){return j(H,F),F}function V(F){var H=F.parentNode;return H&&H.removeChild(F),F}function J(F,H){return F.parentNode.replaceChild(s(H,F),F),H}function X(F,H){return H instanceof SVGMatrix?F.createSVGTransformFromMatrix(H):H}function q(F,H){var k,w;for(F.clear(),k=0;w=H[k];k++)F.appendItem(X(F,w))}function nt(F,H){var k=F.transform.baseVal;return H&&(Array.isArray(H)||(H=[H]),q(k,H)),k.consolidate()}}}]);
