(self.webpackChunkapp_studio_enterprise_schema_view=self.webpackChunkapp_studio_enterprise_schema_view||[]).push([[119],{91119:(g,v,a)=>{"use strict";a.r(v),a.d(v,{CrtDashboardsComponent:()=>i,CrtDashboardsModule:()=>C,createDashboardsSelectedDashboardAttributeName:()=>y,generateDashboardsName:()=>j});var c=a(97270),e=a(99314),d=a(44537),p=a(38628),N=a(11622),O=a(79076),l=a(76696),u=a(26182),m=a(475),b=a(90590),I=a(62115),J=a(21556),R=a(67206),L=a(52170);const E=["list"],T=["schemaContainer"];function V(o,s){if(o&1&&(e.\u0275\u0275elementStart(0,"crt-select-list-item",9,3),e.\u0275\u0275elementContainerStart(2,10),e.\u0275\u0275element(3,"mat-icon",11),e.\u0275\u0275elementContainerEnd(),e.\u0275\u0275elementStart(4,"span",12),e.\u0275\u0275text(5),e.\u0275\u0275elementEnd()()),o&2){const t=s.$implicit;e.\u0275\u0275property("cdkOption",t),e.\u0275\u0275advance(4),e.\u0275\u0275property("title",t),e.\u0275\u0275advance(),e.\u0275\u0275textInterpolate1(" ",t,"")}}function x(o,s){if(o&1){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",7),e.\u0275\u0275listener("cdkListboxValueChange",function(r){e.\u0275\u0275restoreView(t);const h=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(h.onSelectedDashboardChanged(r.value[0]))}),e.\u0275\u0275template(1,V,6,3,"crt-select-list-item",8),e.\u0275\u0275elementEnd()}if(o&2){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(),e.\u0275\u0275property("ngForOf",t.dashboards)}}let i=class _ extends O.K0{constructor(s,t){super(s),this._schemaOutletComponent=t,this.displayedDashboard="",this.selectedDashboardChange=new e.EventEmitter}_setSchemaOutletSchemaName(s){this._schemaOutletComponentInstance&&(this._schemaOutletComponentInstance.schemaName=s)}_updateDisplayedDashboard(){const s=this.selectedDashboard&&this.dashboards.includes(this.selectedDashboard),t=this.dashboards?.[0];this.displayedDashboard=s?this.selectedDashboard:t,this._setSchemaOutletSchemaName(this.displayedDashboard)}onSelectedDashboardChanged(s){s&&this.selectedDashboard!==s&&this.selectedDashboardChange.emit(s),this.listComponent.isOpen=!1}ngOnChanges(s){("selectedDashboard"in s||"dashboards"in s)&&this._updateDisplayedDashboard()}ngAfterViewInit(){const s=this.schemaContainerRef.createComponent(this._schemaOutletComponent);this._schemaOutletComponentInstance=s.instance,this._updateDisplayedDashboard(),this.schemaContainerRef.insert(s.hostView)}static{this.\u0275fac=function(t){return new(t||_)(e.\u0275\u0275directiveInject(e.Injector),e.\u0275\u0275directiveInject(N.OP))}}static{this.\u0275cmp=e.\u0275\u0275defineComponent({type:_,selectors:[["crt-dashboards"]],viewQuery:function(t,n){if(t&1&&(e.\u0275\u0275viewQuery(E,7,p.jeM),e.\u0275\u0275viewQuery(T,7,e.ViewContainerRef)),t&2){let r;e.\u0275\u0275queryRefresh(r=e.\u0275\u0275loadQuery())&&(n.listComponent=r.first),e.\u0275\u0275queryRefresh(r=e.\u0275\u0275loadQuery())&&(n.schemaContainerRef=r.first)}},inputs:{dashboards:"dashboards",selectedDashboard:"selectedDashboard"},outputs:{selectedDashboardChange:"selectedDashboardChange"},features:[e.\u0275\u0275InheritDefinitionFeature,e.\u0275\u0275NgOnChangesFeature],decls:7,vars:3,consts:[["overlayOrigin","cdkOverlayOrigin"],["list",""],["schemaContainer",""],["cdkOptionRef","cdkOption"],["cdkOverlayOrigin","","iconPosition","right-icon","displayType","text","size","extra-large","icon","menu-arrow",1,"crt-dashboards-selected-dashboard-button",3,"clicked","caption"],[3,"trigger"],["cdkListbox","",3,"cdkListboxValueChange",4,"ngIf"],["cdkListbox","",3,"cdkListboxValueChange"],[3,"cdkOption",4,"ngFor","ngForOf"],[3,"cdkOption"],["crt-select-list-item-icon",""],["crtSelectListItemIcon","","svgIcon","bars-button-icon"],[1,"crt-dashboards-select-item-name",3,"title"]],template:function(t,n){if(t&1){const r=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"crt-button",4,0),e.\u0275\u0275listener("clicked",function(){e.\u0275\u0275restoreView(r);const F=e.\u0275\u0275reference(3);return e.\u0275\u0275resetView(F.isOpen=!0)}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(2,"crt-select-list",5,1),e.\u0275\u0275template(4,x,2,1,"div",6),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementContainer(5,null,2)}if(t&2){const r=e.\u0275\u0275reference(1),h=e.\u0275\u0275reference(3);e.\u0275\u0275property("caption",n.displayedDashboard),e.\u0275\u0275advance(2),e.\u0275\u0275property("trigger",r),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",h.isOpen)}},dependencies:[l.NgForOf,l.NgIf,u.An,m.wX,m.Mk,b.$Q,I.B,J.j,R.Z,L.O],styles:[".crt-dashboards-select-item-name[_ngcontent-%COMP%]{white-space:nowrap;text-overflow:ellipsis;overflow:hidden}"],changeDetection:0})}};(0,c.Cg)([(0,d.CrtInput)(),(0,c.Sn)("design:type",Array)],i.prototype,"dashboards",void 0),(0,c.Cg)([(0,d.CrtInput)(),(0,c.Sn)("design:type",String)],i.prototype,"selectedDashboard",void 0),(0,c.Cg)([(0,d.CrtOutput)(),(0,c.Sn)("design:type",Object)],i.prototype,"selectedDashboardChange",void 0),i=(0,c.Cg)([(0,d.CrtViewElement)({type:"crt.Dashboards",reuseStrategy:d.ViewElementReuseStrategy.Reuse}),(0,d.CrtInterfaceDesignerItem)({toolbarConfig:{position:300,requiredFeatures:{ShowDesignerDemoItems:!0},icon:a(95141)},propertiesPanelComponentTypeName:"crt.DashboardsPropertiesPanel",typeCaption:"Dashboards.Caption",viewElementGroupType:d.ViewElementGroupType.Components}),(0,c.Sn)("design:paramtypes",[e.Injector,Object])],i);var S=a(86731),D=a(96590),w=a(85970);const A={"zh-TW":JSON.parse('{"Dashboards":{"Caption":"\u5100\u8868\u677F"}}'),"zh-CN":JSON.parse('{"Dashboards":{"Caption":"Dashboards"}}'),"vi-VN":JSON.parse('{"Dashboards":{"Caption":"B\u1EA3ng \u0111i\u1EC1u khi\u1EC3n"}}'),"tr-TR":JSON.parse('{"Dashboards":{"Caption":"G\xF6steri\u015Fli panolar"}}'),"th-TH":JSON.parse('{"Dashboards":{"Caption":"\u0E41\u0E14\u0E0A\u0E1A\u0E2D\u0E23\u0E4C\u0E14"}}'),"sv-SE":JSON.parse('{"Dashboards":{"Caption":"Dashboards"}}'),"sq-AL":JSON.parse('{"Dashboards":{"Caption":"Panelet"}}'),"ro-RO":JSON.parse('{"Dashboards":{"Caption":"Dashboards"}}'),"pt-PT":JSON.parse('{"Dashboards":{"Caption":"Dashboards"}}'),"pt-BR":JSON.parse('{"Dashboards":{"Caption":"Dashboards"}}'),"pl-PL":JSON.parse('{"Dashboards":{"Caption":"Dashboardy"}}'),"nl-NL":JSON.parse('{"Dashboards":{"Caption":"Dashboards"}}'),"lv-LV":JSON.parse('{"Dashboards":{"Caption":"Inform\u0101cijas pane\u013Ci"}}'),"ko-KR":JSON.parse('{"Dashboards":{"Caption":"\uB300\uC2DC\uBCF4\uB4DC"}}'),"ja-JP":JSON.parse('{"Dashboards":{"Caption":"\u30C0\u30C3\u30B7\u30E5\u30DC\u30FC\u30C9"}}'),"it-IT":JSON.parse('{"Dashboards":{"Caption":"Cruscotti"}}'),"id-ID":JSON.parse('{"Dashboards":{"Caption":"Dasbor"}}'),"hu-HU":JSON.parse('{"Dashboards":{"Caption":"Ir\xE1ny\xEDt\xF3pultok"}}'),"hr-HR":JSON.parse('{"Dashboards":{"Caption":"Nadzorne plo\u010De"}}'),"he-IL":JSON.parse('{"Dashboards":{"Caption":"\u05DC\u05D5\u05D7 \u05DE\u05D7\u05D5\u05D5\u05E0\u05D9\u05DD"}}'),"fr-FR":JSON.parse('{"Dashboards":{"Caption":"Tableaux de bord"}}'),"es-ES":JSON.parse('{"Dashboards":{"Caption":"Tableros"}}'),"de-DE":JSON.parse('{"Dashboards":{"Caption":"Dashboards"}}'),"cs-CZ":JSON.parse('{"Dashboards":{"Caption":"Dashboardy"}}'),"bg-BG":JSON.parse('{"Dashboards":{"Caption":"\u0418\u043D\u0444\u043E\u0440\u043C\u0430\u0446\u0438\u043E\u043D\u043D\u0438 \u0442\u0430\u0431\u043B\u0430"}}'),"ar-SA":JSON.parse('{"Dashboards":{"Caption":"\u0644\u0648\u062D\u0627\u062A \u0627\u0644\u062A\u062D\u0643\u0645"}}'),"en-US":JSON.parse('{"Dashboards":{"Caption":"Dashboards"}}'),"ru-RU":JSON.parse('{"Dashboards":{"Caption":"\u0414\u0430\u0448\u0431\u043E\u0440\u0434\u044B"}}'),"uk-UA":JSON.parse('{"Dashboards":{"Caption":"\u0414\u043E\u043C\u0430\u0448\u043D\u044F \u0441\u0442\u043E\u0440\u0456\u043D\u043A\u0430"}}')};var M=a(16837),P=a(62441);function H(o){return o?.name?.replace(/[^\w]/g,"")||j()}function j(){return D.NameGenerator.generateUnique("Dashboards")}function y(o){return`${H(o)}_SelectedDashboard`}let U=(()=>{class o{constructor(t){this._profileAttributeService=t}_getDashboardsViewConfigs(t){return M.uSH.getViewConfigInfoByProperty("type","crt.Dashboards",t).map(n=>n?.viewConfig).filter(Boolean)}_setSelectedDashboardAttribute(t,n){if(!(0,P.A)(n.selectedDashboard))return;const r=y(n);this._profileAttributeService.createOrUpdateAttributeWithChangeRequest(t,n,"selectedDashboard",r)}crtOnMetaDataInit(t){const n=t,r=this._getDashboardsViewConfigs(n.viewConfig);for(const h of r)this._setSelectedDashboardAttribute(n,h);return Promise.resolve(t)}static{this.\u0275fac=function(n){return new(n||o)(e.\u0275\u0275inject(p.HZk))}}static{this.\u0275prov=e.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac})}}return o})(),C=class f{static{this.\u0275fac=function(t){return new(t||f)}}static{this.\u0275mod=e.\u0275\u0275defineNgModule({type:f})}static{this.\u0275inj=e.\u0275\u0275defineInjector({providers:[{provide:w.m9D,useClass:U,multi:!0}],imports:[l.CommonModule,S.h,O.cT,u.m_,b.z_,D.CrtLibTranslateModule.forRoot({i18n:A}),p.qOu,p.Sjg,p.SSK]})}};C=(0,c.Cg)([(0,d.CrtModule)({viewElements:[i]})],C),function(){(typeof ngJitMode>"u"||ngJitMode)&&e.\u0275\u0275setNgModuleScope(C,{declarations:[i],imports:[l.CommonModule,S.h,O.cT,u.m_,m.wX,m.Mk,b.$Q,b.z_,D.CrtLibTranslateModule,p.qOu,p.Sjg,p.SSK],exports:[i]})}()},95141:g=>{g.exports=`<svg width="72" height="64" viewBox="0 0 72 64" fill="none" xmlns="http://www.w3.org/2000/svg">
<rect x="8.5" y="12.5" width="55" height="39" rx="2.5" fill="white" stroke="#70ACEE"/>
<path d="M44 34H39V44H44V34Z" fill="#20C964"/>
<path d="M51 20H46V44H51V20Z" fill="#0091EA"/>
<path d="M58 25H53V44H58V25Z" fill="#8E4AC7"/>
<path fill-rule="evenodd" clip-rule="evenodd" d="M28.6581 20.9409C30.631 21.7719 32.3457 23.1155 33.6243 24.8324L30.4166 27.2214C28.9581 25.2661 26.6269 24 24 24C23.6393 24 23.2842 24.0239 22.9361 24.0701L22.4043 20.1066C24.526 19.8219 26.6853 20.11 28.6581 20.9409Z" fill="#32C966"/>
<path fill-rule="evenodd" clip-rule="evenodd" d="M17.1529 22.1453C18.7239 21.0537 20.5331 20.3536 22.4297 20.1033L22.953 24.0679C19.0295 24.5808 16 27.9366 16 32C16 33.2885 16.3046 34.5058 16.8458 35.5839L13.2709 37.3747C12.4141 35.6643 11.9786 33.7739 12.0008 31.861C12.023 29.9482 12.5021 28.0683 13.3984 26.3782C14.2946 24.6882 15.5819 23.2368 17.1529 22.1453Z" fill="#0091EA"/>
<path fill-rule="evenodd" clip-rule="evenodd" d="M23.9999 40C28.4182 40 31.9999 36.4183 31.9999 32C31.9999 30.0762 31.3209 28.311 30.1894 26.931L33.2834 24.3974C34.7871 26.2337 35.7124 28.4747 35.9425 30.8369C36.1725 33.1991 35.6969 35.5764 34.5758 37.6683C33.4547 39.7602 31.7385 41.4727 29.6441 42.5892C27.557 43.7019 25.1878 44.1729 22.8342 43.9433L22.8097 43.9409C20.7917 43.7399 18.8573 43.0307 17.1875 41.8794C15.5108 40.7235 14.156 39.1598 13.2505 37.3357L16.8325 35.5576C18.142 38.1906 20.8597 40 23.9999 40Z" fill="#8E4AC7"/>
</svg>
`}}]);
