require(["@angular/common","@angular/core","@angular/elements","@angular/platform-browser","rxjs"],(XP,JP,QP,ZP,eC)=>(()=>{var tC={543:function(Rr,ht){!function(Pt){function dt(a,l){if(!(a instanceof l))throw new TypeError("Cannot call a class as a function")}var Qt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function X(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}var ge={exports:{}},Ln=function(a){return a&&a.Math==Math&&a},ye=Ln("object"==typeof globalThis&&globalThis)||Ln("object"==typeof window&&window)||Ln("object"==typeof self&&self)||Ln("object"==typeof Qt&&Qt)||function(){return this}()||Function("return this")(),re=function(a){try{return!!a()}catch{return!0}},qs=!re(function(){var a=function(){}.bind();return"function"!=typeof a||a.hasOwnProperty("prototype")}),Al=qs,Na=Function.prototype,pi=Na.apply,Sr=Na.call,gi="object"==typeof Reflect&&Reflect.apply||(Al?Sr.bind(pi):function(){return Sr.apply(pi,arguments)}),Ra=qs,Bo=Function.prototype,Ml=Bo.call,Ee=Ra&&Bo.bind.bind(Ml,Ml),ct=Ra?Ee:function(a){return function(){return Ml.apply(a,arguments)}},yi=ct,Jm=yi({}.toString),ir=yi("".slice),Qn=function(a){return ir(Jm(a),8,-1)},Yv=Qn,mi=ct,Lo=function(a){if("Function"===Yv(a))return mi(a)},Zn="object"==typeof document&&document.all,ze={all:Zn,IS_HTMLDDA:typeof Zn>"u"&&void 0!==Zn},pr=ze,et=pr.all,bt=pr.IS_HTMLDDA?function(a){return"function"==typeof a||a===et}:function(a){return"function"==typeof a},jr={},Ot=!re(function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}),Ys=qs,zo=Function.prototype.call,Vt=Ys?zo.bind(zo):function(){return zo.apply(zo,arguments)},Ct={},ei={}.propertyIsEnumerable,gr=Object.getOwnPropertyDescriptor,Kv=gr&&!ei.call({1:2},1);Ct.f=Kv?function(l){var v=gr(this,l);return!!v&&v.enumerable}:ei;var zn,Qh,bi=function(a,l){return{enumerable:!(1&a),configurable:!(2&a),writable:!(4&a),value:l}},Xv=re,Zi=Qn,Fr=Object,Jv=ct("".split),Fa=Xv(function(){return!Fr("z").propertyIsEnumerable(0)})?function(a){return"String"==Zi(a)?Jv(a,""):Fr(a)}:Fr,xr=function(a){return null==a},Ho=xr,Ks=TypeError,St=function(a){if(Ho(a))throw Ks("Can't call method on "+a);return a},Z=Fa,F=St,L=function(a){return Z(F(a))},G=bt,Ye=ze,tt=Ye.all,ut=Ye.IS_HTMLDDA?function(a){return"object"==typeof a?null!==a:G(a)||a===tt}:function(a){return"object"==typeof a?null!==a:G(a)},qe={},$e=qe,xe=ye,Br=bt,Xs=function(a){return Br(a)?a:void 0},Zt=function(a,l){return arguments.length<2?Xs($e[a])||Xs(xe[a]):$e[a]&&$e[a][l]||xe[a]&&xe[a][l]},Rt=ct({}.isPrototypeOf),wi=typeof navigator<"u"&&String(navigator.userAgent)||"",Xh=ye,Qr=wi,Jh=Xh.process,Qm=Xh.Deno,Ba=Jh&&Jh.versions||Qm&&Qm.version,Wo=Ba&&Ba.v8;Wo&&(zn=Wo.split("."),Qh=zn[0]>0&&zn[0]<4?1:+(zn[0]+zn[1])),!Qh&&Qr&&(!(zn=Qr.match(/Edge\/(\d+)/))||zn[1]>=74)&&(zn=Qr.match(/Chrome\/(\d+)/))&&(Qh=+zn[1]);var Js=Qh,Zm=Js,Nl=re,_i=!!Object.getOwnPropertySymbols&&!Nl(function(){var a=Symbol();return!String(a)||!(Object(a)instanceof Symbol)||!Symbol.sham&&Zm&&Zm<41}),La=_i&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,yE=Zt,mE=bt,Zr=Rt,bE=Object,Ha=La?function(a){return"symbol"==typeof a}:function(a){var l=yE("Symbol");return mE(l)&&Zr(l.prototype,bE(a))},Rl=String,Ei=function(a){try{return Rl(a)}catch{return"Object"}},jl=bt,Zv=Ei,eb=TypeError,Tr=function(a){if(jl(a))return a;throw eb(Zv(a)+" is not a function")},tb=Tr,wE=xr,Zh=function(a,l){var v=a[l];return wE(v)?void 0:tb(v)},Zs=Vt,eu=bt,eo=ut,tu=TypeError,_E=function(a,l){var v,g;if("string"===l&&eu(v=a.toString)&&!eo(g=Zs(v,a))||eu(v=a.valueOf)&&!eo(g=Zs(v,a))||"string"!==l&&eu(v=a.toString)&&!eo(g=Zs(v,a)))return g;throw tu("Can't convert object to primitive value")},en={exports:{}},tn=!0,rb=ye,qt=Object.defineProperty,kE=function(a,l){try{qt(rb,a,{value:l,configurable:!0,writable:!0})}catch{rb[a]=l}return l},nb="__core-js_shared__",ru=ye[nb]||kE(nb,{}),ep=ru;(en.exports=function(a,l){return ep[a]||(ep[a]=void 0!==l?l:{})})("versions",[]).push({version:"3.29.0",mode:"pure",copyright:"\xa9 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.29.0/LICENSE",source:"https://github.com/zloirock/core-js"});var Wa=en.exports,OE=St,SE=Object,ar=function(a){return SE(OE(a))},tp=ar,jt=ct({}.hasOwnProperty),We=Object.hasOwn||function(l,v){return jt(tp(l),v)},ib=ct,rp=0,ob=Math.random(),xE=ib(1..toString),td=function(a){return"Symbol("+(void 0===a?"":a)+")_"+xE(++rp+ob,36)},IE=Wa,ab=We,rd=td,Fl=_i,nd=La,Vo=ye.Symbol,Bl=IE("wks"),sb=nd?Vo.for||Vo:Vo&&Vo.withoutSetter||rd,$t=function(a){return ab(Bl,a)||(Bl[a]=Fl&&ab(Vo,a)?Vo[a]:sb("Symbol."+a)),Bl[a]},ub=Vt,lb=ut,cb=Ha,PE=Zh,CE=_E,DE=TypeError,AE=$t("toPrimitive"),db=function(a,l){if(!lb(a)||cb(a))return a;var g,v=PE(a,AE);if(v){if(void 0===l&&(l="default"),g=ub(v,a,l),!lb(g)||cb(g))return g;throw DE("Can't convert object to primitive value")}return void 0===l&&(l="number"),CE(a,l)},ME=Ha,id=function(a){var l=db(a,"string");return ME(l)?l:l+""},nu=ut,np=ye.document,NE=nu(np)&&nu(np.createElement),ip=function(a){return NE?np.createElement(a):{}},RE=re,jE=ip,vb=!Ot&&!RE(function(){return 7!=Object.defineProperty(jE("div"),"a",{get:function(){return 7}}).a}),qo=Ot,yr=Vt,rn=Ct,pb=bi,FE=L,BE=id,kn=We,On=vb,gb=Object.getOwnPropertyDescriptor;jr.f=qo?gb:function(l,v){if(l=FE(l),v=BE(v),On)try{return gb(l,v)}catch{}if(kn(l,v))return pb(!yr(rn.f,l,v),l[v])};var LE=re,od=bt,zl=/#|\.prototype\./,iu=function(a,l){var v=ap[op(a)];return v==Hl||v!=sp&&(od(l)?LE(l):!!l)},op=iu.normalize=function(a){return String(a).replace(zl,".").toLowerCase()},ap=iu.data={},sp=iu.NATIVE="N",Hl=iu.POLYFILL="P",ou=iu,zE=Tr,to=qs,ro=Lo(Lo.bind),ti=function(a,l){return zE(a),void 0===l?a:to?ro(a,l):function(){return a.apply(l,arguments)}},Sn={},WE=re,yb=Ot&&WE(function(){return 42!=Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype}),au=ut,su=String,uu=TypeError,er=function(a){if(au(a))return a;throw uu(su(a)+" is not an object")},mb=Ot,Re=vb,De=yb,sd=er,up=id,bb=TypeError,lu=Object.defineProperty,wb=Object.getOwnPropertyDescriptor,ud="enumerable",cu="configurable",Ua="writable";Sn.f=mb?De?function(l,v,g){if(sd(l),v=up(v),sd(g),"function"==typeof l&&"prototype"===v&&"value"in g&&Ua in g&&!g[Ua]){var y=wb(l,v);y&&y[Ua]&&(l[v]=g.value,g={configurable:cu in g?g[cu]:y[cu],enumerable:ud in g?g[ud]:y[ud],writable:!1})}return lu(l,v,g)}:lu:function(l,v,g){if(sd(l),v=up(v),sd(g),Re)try{return lu(l,v,g)}catch{}if("get"in g||"set"in g)throw bb("Accessors not supported");return"value"in g&&(l[v]=g.value),l};var UE=Sn,VE=bi,Gt=Ot?function(a,l,v){return UE.f(a,l,VE(1,v))}:function(a,l,v){return a[l]=v,a},Va=ye,qE=gi,GE=Lo,_b=bt,nn=jr.f,Wl=ou,ki=qe,YE=ti,hu=Gt,Eb=We,qa=function(a){var l=function(v,g,y){if(this instanceof l){switch(arguments.length){case 0:return new a;case 1:return new a(v);case 2:return new a(v,g)}return new a(v,g,y)}return qE(a,this,arguments)};return l.prototype=a.prototype,l},Me=function(a,l){var M,R,j,H,V,pe,Ne,Le,Qe,v=a.target,g=a.global,y=a.stat,w=a.proto,O=g?Va:y?Va[v]:(Va[v]||{}).prototype,P=g?ki:ki[v]||hu(ki,v,{})[v],x=P.prototype;for(H in l)R=!(M=Wl(g?H:v+(y?".":"#")+H,a.forced))&&O&&Eb(O,H),pe=P[H],R&&(Ne=a.dontCallGetSet?(Qe=nn(O,H))&&Qe.value:O[H]),V=R&&Ne?Ne:l[H],(!R||typeof pe!=typeof V)&&(Le=a.bind&&R?YE(V,Va):a.wrap&&R?qa(V):w&&_b(V)?GE(V):V,(a.sham||V&&V.sham||pe&&pe.sham)&&hu(Le,"sham",!0),hu(P,H,Le),w&&(Eb(ki,j=v+"Prototype")||hu(ki,j,{}),hu(ki[j],H,V),a.real&&x&&(M||!x[H])&&hu(x,H,V)))},Ul=Me,KE=Ot,kb=Sn.f;Ul({target:"Object",stat:!0,forced:Object.defineProperty!==kb,sham:!KE},{defineProperty:kb});var du=qe.Object,Ob=ge.exports=function(l,v,g){return du.defineProperty(l,v,g)};du.defineProperty.sham&&(Ob.sham=!0);var Sb=ge.exports,Yo=Sb,ql=X(Yo),ek=Qn,io=Array.isArray||function(l){return"Array"==ek(l)},Tb=Math.ceil,Ht=Math.floor,Ib=Math.trunc||function(l){var v=+l;return(v>0?Ht:Tb)(v)},ld=function(a){var l=+a;return l!=l||0===l?0:Ib(l)},Gl=ld,Pb=Math.min,Cb=function(a){return a>0?Pb(Gl(a),9007199254740991):0},xn=function(a){return Cb(a.length)},tk=TypeError,rk=9007199254740991,vu=function(a){if(a>rk)throw tk("Maximum allowed index exceeded");return a},$b=id,Kl=Sn,nk=bi,Dt=function(a,l,v){var g=$b(l);g in a?Kl.f(a,g,nk(0,v)):a[g]=v},Xl=$t("toStringTag"),Db={};Db[Xl]="z";var Jl="[object z]"===String(Db),ok=Jl,Ab=bt,ee=Qn,cp=$t("toStringTag"),cd=Object,Mb="Arguments"==ee(function(){return arguments}()),Nb=function(a,l){try{return a[l]}catch{}},Oi=ok?ee:function(a){var l,v,g;return void 0===a?"Undefined":null===a?"Null":"string"==typeof(v=Nb(l=cd(a),cp))?v:Mb?ee(l):"Object"==(g=ee(l))&&Ab(l.callee)?"Arguments":g},Rb=bt,hd=ru,dd=ct(Function.toString);Rb(hd.inspectSource)||(hd.inspectSource=function(a){return dd(a)});var pu=hd.inspectSource,Si=ct,gu=re,jb=bt,ak=Oi,vd=pu,Fb=function(){},sk=[],Ko=Zt("Reflect","construct"),pd=/^\s*(?:class|function)\b/,uk=Si(pd.exec),on=!pd.exec(Fb),oo=function(l){if(!jb(l))return!1;try{return Ko(Fb,sk,l),!0}catch{return!1}},Bb=function(l){if(!jb(l))return!1;switch(ak(l)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return on||!!uk(pd,vd(l))}catch{return!0}};Bb.sham=!0;var gd=!Ko||gu(function(){var a;return oo(oo.call)||!oo(Object)||!oo(function(){a=!0})||a})?Bb:oo,Lb=io,zb=gd,dp=ut,Hb=$t("species"),Wb=Array,Ub=function(a){var l;return Lb(a)&&(l=a.constructor,(zb(l)&&(l===Wb||Lb(l.prototype))||dp(l)&&null===(l=l[Hb]))&&(l=void 0)),void 0===l?Wb:l},Ql=function(a,l){return new(Ub(a))(0===l?0:l)},lk=re,md=Js,ck=$t("species"),ao=function(a){return md>=51||!lk(function(){var l=[];return(l.constructor={})[ck]=function(){return{foo:1}},1!==l[a](Boolean).foo})},qb=Me,hk=re,bd=io,yu=ut,dk=ar,fk=xn,wd=vu,_d=Dt,vk=Ql,xi=ao,Hn=Js,Zl=$t("isConcatSpreadable"),vp=Hn>=51||!hk(function(){var a=[];return a[Zl]=!1,a.concat()[0]!==a}),pp=function(a){if(!yu(a))return!1;var l=a[Zl];return void 0!==l?!!l:bd(a)},Gb=!vp||!xi("concat");qb({target:"Array",proto:!0,arity:1,forced:Gb},{concat:function(l){var w,O,P,x,M,v=dk(this),g=vk(v,0),y=0;for(w=-1,P=arguments.length;w<P;w++)if(M=-1===w?v:arguments[w],pp(M))for(x=fk(M),wd(y+x),O=0;O<x;O++,y++)O in M&&_d(g,y,M[O]);else wd(y+1),_d(g,y++,M);return g.length=y,g}});var mu=Oi,Ya=String,an=function(a){if("Symbol"===mu(a))throw TypeError("Cannot convert a Symbol value to a string");return Ya(a)},Ed={},pk=ld,gp=Math.max,Yb=Math.min,kd=function(a,l){var v=pk(a);return v<0?gp(v+l,0):Yb(v,l)},gk=L,Od=kd,yk=xn,yp=function(a){return function(l,v,g){var P,y=gk(l),w=yk(y),O=Od(g,w);if(a&&v!=v){for(;w>O;)if((P=y[O++])!=P)return!0}else for(;w>O;O++)if((a||O in y)&&y[O]===v)return a||O||0;return!a&&-1}},mk={includes:yp(!0),indexOf:yp(!1)},bu={},Kb=ct,mp=We,Xb=L,Ka=mk.indexOf,bp=bu,Jo=Kb([].push),Sd=function(a,l){var w,v=Xb(a),g=0,y=[];for(w in v)!mp(bp,w)&&mp(v,w)&&Jo(y,w);for(;l.length>g;)mp(v,w=l[g++])&&(~Ka(y,w)||Jo(y,w));return y},wu=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],_u=Sd,xd=wu,Tn=Object.keys||function(l){return _u(l,xd)},Eu=Ot,ec=yb,Xa=Sn,Jb=er,bk=L,wk=Tn;Ed.f=Eu&&!ec?Object.defineProperties:function(l,v){Jb(l);for(var P,g=bk(v),y=wk(v),w=y.length,O=0;w>O;)Xa.f(l,P=y[O++],g[P]);return l};var ku,Qb=Zt("document","documentElement"),wp=td,e0=Wa("keys"),Qo=function(a){return e0[a]||(e0[a]=wp(a))},_k=er,tc=Ed,t0=wu,Ek=bu,kk=Qb,Ok=ip,_p=">",Ti="<",Td="prototype",Id="script",Ep=Qo("IE_PROTO"),Pd=function(){},n0=function(a){return Ti+Id+_p+a+Ti+"/"+Id+_p},i0=function(a){a.write(n0("")),a.close();var l=a.parentWindow.Object;return a=null,l},kp=function(){var v,a=Ok("iframe"),l="java"+Id+":";return a.style.display="none",kk.appendChild(a),a.src=String(l),(v=a.contentWindow.document).open(),v.write(n0("document.F=Object")),v.close(),v.F},Cd=function(){try{ku=new ActiveXObject("htmlfile")}catch{}Cd=typeof document<"u"?document.domain&&ku?i0(ku):kp():i0(ku);for(var a=t0.length;a--;)delete Cd[Td][t0[a]];return Cd()};Ek[Ep]=!0;var Ja=Object.create||function(l,v){var g;return null!==l?(Pd[Td]=_k(l),g=new Pd,Pd[Td]=null,g[Ep]=l):g=Cd(),void 0===v?g:tc.f(g,v)},Qa={},Zo=Sd,Ii=wu.concat("length","prototype");Qa.f=Object.getOwnPropertyNames||function(l){return Zo(l,Ii)};var ea={},so=kd,Sk=xn,xk=Dt,Tk=Array,Ik=Math.max,o0=function(a,l,v){for(var g=Sk(a),y=so(l,g),w=so(void 0===v?g:v,g),O=Tk(Ik(w-y,0)),P=0;y<w;y++,P++)xk(O,P,a[y]);return O.length=P,O},a0=Qn,ta=L,Za=Qa.f,$d=o0,Dd="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],Op=function(a){try{return Za(a)}catch{return $d(Dd)}};ea.f=function(l){return Dd&&"Window"==a0(l)?Op(l):Za(ta(l))};var rc={};rc.f=Object.getOwnPropertySymbols;var Su=Gt,ri=function(a,l,v,g){return g&&g.enumerable?a[l]=v:Su(a,l,v),a},Pk=Sn,Yt=function(a,l,v){return Pk.f(a,l,v)},nc={},Sp=$t;nc.f=Sp;var ni,Tu,Bd,xu=qe,Ad=We,Ck=nc,xp=Sn.f,pt=function(a){var l=xu.Symbol||(xu.Symbol={});Ad(l,a)||xp(l,a,{value:Ck.f(a)})},Md=Vt,s0=Zt,ic=$t,u0=ri,Tp=function(){var a=s0("Symbol"),l=a&&a.prototype,v=l&&l.valueOf,g=ic("toPrimitive");l&&!l[g]&&u0(l,g,function(y){return Md(v,this)},{arity:1})},Ip=Oi,l0=Jl?{}.toString:function(){return"[object "+Ip(this)+"]"},c0=Jl,h0=Sn.f,Pp=Gt,Cp=We,$p=l0,d0=$t("toStringTag"),es=function(a,l,v,g){if(a){var y=v?a:a.prototype;Cp(y,d0)||h0(y,d0,{configurable:!0,value:l}),g&&!c0&&Pp(y,"toString",$p)}},Dk=bt,Rd=ye.WeakMap,sn=Dk(Rd)&&/native code/.test(String(Rd)),oc=ye,ac=ut,Ak=Gt,sc=We,In=ru,uo=Qo,Fd=bu,v0="Object already initialized",uc=oc.TypeError,p0=oc.WeakMap,Dp=function(a){return Bd(a)?Tu(a):ni(a,{})},lo=function(a){return function(l){var v;if(!ac(l)||(v=Tu(l)).type!==a)throw uc("Incompatible receiver, "+a+" required");return v}};if(sn||In.state){var Lr=In.state||(In.state=new p0);Lr.get=Lr.get,Lr.has=Lr.has,Lr.set=Lr.set,ni=function(a,l){if(Lr.has(a))throw uc(v0);return l.facade=a,Lr.set(a,l),l},Tu=function(a){return Lr.get(a)||{}},Bd=function(a){return Lr.has(a)}}else{var ra=uo("state");Fd[ra]=!0,ni=function(a,l){if(sc(a,ra))throw uc(v0);return l.facade=a,Ak(a,ra,l),l},Tu=function(a){return sc(a,ra)?a[ra]:{}},Bd=function(a){return sc(a,ra)}}var na={set:ni,get:Tu,has:Bd,enforce:Dp,getterFor:lo},Ap=ti,lc=Fa,Iu=ar,g0=xn,y0=Ql,Mp=ct([].push),un=function(a){var l=1==a,v=2==a,g=3==a,y=4==a,w=6==a,O=7==a,P=5==a||w;return function(x,M,R,j){for(var En,mt,H=Iu(x),V=lc(H),pe=Ap(M,R),Ne=g0(V),Le=0,Qe=j||y0,it=l?Qe(x,Ne):v||O?Qe(x,0):void 0;Ne>Le;Le++)if((P||Le in V)&&(mt=pe(En=V[Le],Le,H),a))if(l)it[Le]=mt;else if(mt)switch(a){case 3:return!0;case 5:return En;case 6:return Le;case 2:Mp(it,En)}else switch(a){case 4:return!1;case 7:Mp(it,En)}return w?-1:g||y?y:it}},rs={forEach:un(0),map:un(1),filter:un(2),some:un(3),every:un(4),find:un(5),findIndex:un(6),filterReject:un(7)},cc=Me,Np=ye,Rp=Vt,Mk=ct,Pi=Ot,Pu=_i,jp=re,sr=We,Nk=Rt,Fp=er,Ld=L,zd=id,Rk=an,Hd=bi,co=Ja,Bp=Tn,jk=Qa,Lp=ea,Fk=rc,Wd=jr,m0=Sn,b0=Ed,Ud=Ct,zp=ri,Cu=Yt,Vd=Wa,Hp=Qo,Wp=bu,Up=td,w0=$t,ns=nc,Bk=pt,ho=Tp,hc=es,Vp=na,is=rs.forEach,zr=Hp("hidden"),qd="Symbol",dc="prototype",_0=Vp.set,qp=Vp.getterFor(qd),Wn=Object[dc],ia=Np.Symbol,fc=ia&&ia[dc],E0=Np.TypeError,vc=Np.QObject,Gd=Wd.f,oa=m0.f,Yd=Lp.f,k0=Ud.f,fo=Mk([].push),Ir=Vd("symbols"),oe=Vd("op-symbols"),O0=Vd("wks"),aa=!vc||!vc[dc]||!vc[dc].findChild,pc=Pi&&jp(function(){return 7!=co(oa({},"a",{get:function(){return oa(this,"a",{value:7}).a}})).a})?function(a,l,v){var g=Gd(Wn,l);g&&delete Wn[l],oa(a,l,v),g&&a!==Wn&&oa(Wn,l,g)}:oa,Kd=function(a,l){var v=Ir[a]=co(fc);return _0(v,{type:qd,tag:a,description:l}),Pi||(v.description=l),v},$u=function(l,v,g){l===Wn&&$u(oe,v,g),Fp(l);var y=zd(v);return Fp(g),sr(Ir,y)?(g.enumerable?(sr(l,zr)&&l[zr][y]&&(l[zr][y]=!1),g=co(g,{enumerable:Hd(0,!1)})):(sr(l,zr)||oa(l,zr,Hd(1,{})),l[zr][y]=!0),pc(l,y,g)):oa(l,y,g)},Gp=function(l,v){Fp(l);var g=Ld(v),y=Bp(g).concat(S0(g));return is(y,function(w){(!Pi||Rp(gc,g,w))&&$u(l,w,g[w])}),l},Xd=function(l,v){return void 0===v?co(l):Gp(co(l),v)},gc=function(l){var v=zd(l),g=Rp(k0,this,v);return!(this===Wn&&sr(Ir,v)&&!sr(oe,v))&&(!(g||!sr(this,v)||!sr(Ir,v)||sr(this,zr)&&this[zr][v])||g)},Yp=function(l,v){var g=Ld(l),y=zd(v);if(g!==Wn||!sr(Ir,y)||sr(oe,y)){var w=Gd(g,y);return w&&sr(Ir,y)&&!(sr(g,zr)&&g[zr][y])&&(w.enumerable=!0),w}},sa=function(l){var v=Yd(Ld(l)),g=[];return is(v,function(y){!sr(Ir,y)&&!sr(Wp,y)&&fo(g,y)}),g},S0=function(a){var l=a===Wn,v=Yd(l?oe:Ld(a)),g=[];return is(v,function(y){sr(Ir,y)&&(!l||sr(Wn,y))&&fo(g,Ir[y])}),g};Pu||(ia=function(){if(Nk(fc,this))throw E0("Symbol is not a constructor");var l=arguments.length&&void 0!==arguments[0]?Rk(arguments[0]):void 0,v=Up(l),g=function(y){this===Wn&&Rp(g,oe,y),sr(this,zr)&&sr(this[zr],v)&&(this[zr][v]=!1),pc(this,v,Hd(1,y))};return Pi&&aa&&pc(Wn,v,{configurable:!0,set:g}),Kd(v,l)},fc=ia[dc],zp(fc,"toString",function(){return qp(this).tag}),zp(ia,"withoutSetter",function(a){return Kd(Up(a),a)}),Ud.f=gc,m0.f=$u,b0.f=Gp,Wd.f=Yp,jk.f=Lp.f=sa,Fk.f=S0,ns.f=function(a){return Kd(w0(a),a)},Pi&&Cu(fc,"description",{configurable:!0,get:function(){return qp(this).description}})),cc({global:!0,constructor:!0,wrap:!0,forced:!Pu,sham:!Pu},{Symbol:ia}),is(Bp(O0),function(a){Bk(a)}),cc({target:qd,stat:!0,forced:!Pu},{useSetter:function(){aa=!0},useSimple:function(){aa=!1}}),cc({target:"Object",stat:!0,forced:!Pu,sham:!Pi},{create:Xd,defineProperty:$u,defineProperties:Gp,getOwnPropertyDescriptor:Yp}),cc({target:"Object",stat:!0,forced:!Pu},{getOwnPropertyNames:sa}),ho(),hc(ia,qd),Wp[zr]=!0;var Xp=_i&&!!Symbol.for&&!!Symbol.keyFor,x0=Me,Jp=Zt,Lk=We,yc=an,T0=Wa,Qp=Xp,Zp=T0("string-to-symbol-registry"),zk=T0("symbol-to-string-registry");x0({target:"Symbol",stat:!0,forced:!Qp},{for:function(a){var l=yc(a);if(Lk(Zp,l))return Zp[l];var v=Jp("Symbol")(l);return Zp[l]=v,zk[v]=l,v}});var I0=Me,mc=We,eg=Ha,P0=Ei,C0=Xp,$0=Wa("symbol-to-string-registry");I0({target:"Symbol",stat:!0,forced:!C0},{keyFor:function(l){if(!eg(l))throw TypeError(P0(l)+" is not a symbol");if(mc($0,l))return $0[l]}});var Du=ct([].slice),A0=io,Uk=bt,M0=Qn,N0=an,R0=ct([].push),bc=Me,j0=Zt,F0=gi,Jd=Vt,os=ct,B0=re,L0=bt,z0=Ha,H0=Du,W0=function(a){if(Uk(a))return a;if(A0(a)){for(var l=a.length,v=[],g=0;g<l;g++){var y=a[g];"string"==typeof y?R0(v,y):("number"==typeof y||"Number"==M0(y)||"String"==M0(y))&&R0(v,N0(y))}var w=v.length,O=!0;return function(P,x){if(O)return O=!1,x;if(A0(this))return x;for(var M=0;M<w;M++)if(v[M]===P)return x}}},qk=_i,U0=String,Ci=j0("JSON","stringify"),Qd=os(/./.exec),tg=os("".charAt),Zd=os("".charCodeAt),wc=os("".replace),Au=os(1..toString),ef=/[\uD800-\uDFFF]/g,tf=/^[\uD800-\uDBFF]$/,V0=/^[\uDC00-\uDFFF]$/,rf=!qk||B0(function(){var a=j0("Symbol")();return"[null]"!=Ci([a])||"{}"!=Ci({a})||"{}"!=Ci(Object(a))}),nf=B0(function(){return'"\\udf06\\ud834"'!==Ci("\udf06\ud834")||'"\\udead"'!==Ci("\udead")}),Bt=function(a,l){var v=H0(arguments),g=W0(l);if(L0(g)||void 0!==a&&!z0(a))return v[1]=function(y,w){if(L0(g)&&(w=Jd(g,this,U0(y),w)),!z0(w))return w},F0(Ci,null,v)},q0=function(a,l,v){var g=tg(v,l-1),y=tg(v,l+1);return Qd(tf,a)&&!Qd(V0,y)||Qd(V0,a)&&!Qd(tf,g)?"\\u"+Au(Zd(a,0),16):a};Ci&&bc({target:"JSON",stat:!0,arity:3,forced:rf||nf},{stringify:function(l,v,g){var y=H0(arguments),w=F0(rf?Bt:Ci,null,y);return nf&&"string"==typeof w?wc(w,ef,q0):w}});var G0=Me,Y0=re,of=rc,Yk=ar,Kk=!_i||Y0(function(){of.f(1)});G0({target:"Object",stat:!0,forced:Kk},{getOwnPropertySymbols:function(l){var v=of.f;return v?v(Yk(l)):[]}}),pt("asyncIterator"),pt("hasInstance"),pt("isConcatSpreadable"),pt("iterator"),pt("match"),pt("matchAll"),pt("replace"),pt("search"),pt("species"),pt("split");var Ru=Tp;pt("toPrimitive"),Ru();var Zk=Zt,eO=es;pt("toStringTag"),eO(Zk("Symbol"),"Symbol"),pt("unscopables"),es(ye.JSON,"JSON",!0);var Ai,ff,Tc,ig=qe.Symbol,Di={},sf=Ot,uf=We,lf=Function.prototype,Q0=sf&&Object.getOwnPropertyDescriptor,cf=uf(lf,"name"),og=cf&&"something"===function(){}.name,ag=cf&&(!sf||sf&&Q0(lf,"name").configurable),sg={EXISTS:cf,PROPER:og,CONFIGURABLE:ag},ug=!re(function(){function a(){}return a.prototype.constructor=null,Object.getPrototypeOf(new a)!==a.prototype}),kc=We,as=bt,hf=ar,rO=ug,ew=Qo("IE_PROTO"),lg=Object,tw=lg.prototype,Oc=rO?lg.getPrototypeOf:function(a){var l=hf(a);if(kc(l,ew))return l[ew];var v=l.constructor;return as(v)&&l instanceof v?v.prototype:l instanceof lg?tw:null},Sc=re,ln=bt,df=ut,ju=Ja,rw=Oc,cg=ri,po=$t("iterator"),xc=!1;[].keys&&("next"in(Tc=[].keys())?(ff=rw(rw(Tc)))!==Object.prototype&&(Ai=ff):xc=!0),Ai=!df(Ai)||Sc(function(){var a={};return Ai[po].call(a)!==a})?{}:ju(Ai),ln(Ai[po])||cg(Ai,po,function(){return this});var ua={IteratorPrototype:Ai,BUGGY_SAFARI_ITERATORS:xc},hg=ua.IteratorPrototype,nw=Ja,la=bi,Ue=es,Fu=Di,nO=function(){return this},dg=function(a,l,v,g){var y=l+" Iterator";return a.prototype=nw(hg,{next:la(+!g,v)}),Ue(a,y,!1,!0),Fu[y]=nO,a},iw=ct,vf=Tr,Ic=bt,vg=String,ow=TypeError,pg=function(a,l,v){try{return iw(vf(Object.getOwnPropertyDescriptor(a,l)[v]))}catch{}},gg=er,aw=function(a){if("object"==typeof a||Ic(a))return a;throw ow("Can't set "+vg(a)+" as a prototype")},Pr=Object.setPrototypeOf||("__proto__"in{}?function(){var v,a=!1,l={};try{(v=pg(Object.prototype,"__proto__","set"))(l,[]),a=l instanceof Array}catch{}return function(y,w){return gg(y),aw(w),a?v(y,w):y.__proto__=w,y}}():void 0),iO=Me,oO=Vt,sw=sg,gf=dg,uw=Oc,go=es,lw=ri,aO=$t,cw=Di,hw=ua,sO=sw.PROPER;sw.CONFIGURABLE,hw.IteratorPrototype;var Pc=hw.BUGGY_SAFARI_ITERATORS,yf=aO("iterator"),yg="keys",ss="values",us="entries",uO=function(){return this},mf=function(a,l,v,g,y,w,O){gf(v,l,g);var pe,Ne,Le,P=function(Qe){if(Qe===y&&H)return H;if(!Pc&&Qe in R)return R[Qe];switch(Qe){case yg:case ss:case us:return function(){return new v(this,Qe)}}return function(){return new v(this)}},x=l+" Iterator",M=!1,R=a.prototype,j=R[yf]||R["@@iterator"]||y&&R[y],H=!Pc&&j||P(y),V="Array"==l&&R.entries||j;if(V&&(pe=uw(V.call(new a)))!==Object.prototype&&pe.next&&(go(pe,x,!0,!0),cw[x]=uO),sO&&y==ss&&j&&j.name!==ss&&(M=!0,H=function(){return oO(j,this)}),y)if(Ne={values:P(ss),keys:w?H:P(yg),entries:P(us)},O)for(Le in Ne)(Pc||M||!(Le in R))&&lw(R,Le,Ne[Le]);else iO({target:l,proto:!0,forced:Pc||M},Ne);return O&&R[yf]!==H&&lw(R,yf,H,{name:y}),cw[l]=H,Ne},mg=function(a,l){return{value:a,done:l}},dw=L,Cc=Di,bg=na;Sn.f;var $c=mf,Dc=mg,wg="Array Iterator",fw=bg.set,bf=bg.getterFor(wg);$c(Array,"Array",function(a,l){fw(this,{type:wg,target:dw(a),index:0,kind:l})},function(){var a=bf(this),l=a.target,v=a.kind,g=a.index++;return!l||g>=l.length?(a.target=void 0,Dc(void 0,!0)):Dc("keys"==v?g:"values"==v?l[g]:[g,l[g]],!1)},"values"),Cc.Arguments=Cc.Array;var lO={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},cO=ye,ca=Oi,wf=Gt,Ac=Di,vw=$t("toStringTag");for(var _g in lO){var pw=cO[_g],_f=pw&&pw.prototype;_f&&ca(_f)!==vw&&wf(_f,vw,_g),Ac[_g]=Ac.Array}var kg=ig;pt("dispose");var dO=kg;pt("asyncDispose");var fO=Me,pO=ct,Ef=Zt("Symbol"),mw=Ef.keyFor,gO=pO(Ef.prototype.valueOf);fO({target:"Symbol",stat:!0},{isRegistered:function(l){try{return void 0!==mw(gO(l))}catch{return!1}}});for(var yO=Me,bw=Wa,kf=Zt,mO=ct,ww=Ha,Og=$t,Of=kf("Symbol"),_w=Of.isWellKnown,Sg=kf("Object","getOwnPropertyNames"),bO=mO(Of.prototype.valueOf),Sf=bw("wks"),xg=0,Tg=Sg(Of),wO=Tg.length;xg<wO;xg++)try{var Mc=Tg[xg];ww(Of[Mc])&&Og(Mc)}catch{}yO({target:"Symbol",stat:!0,forced:!0},{isWellKnown:function(l){if(_w&&_w(l))return!0;try{for(var v=bO(l),g=0,y=Sg(Sf),w=y.length;g<w;g++)if(Sf[y[g]]==v)return!0}catch{}return!1}}),pt("matcher"),pt("metadataKey"),pt("observable"),pt("metadata"),pt("patternMatch"),pt("replaceAll");var ha=dO,Bu=X(ha),ft=ct,kO=ld,xw=an,Tw=St,ce=ft("".charAt),Tf=ft("".charCodeAt),Iw=ft("".slice),Pw=function(a){return function(l,v){var O,P,g=xw(Tw(l)),y=kO(v),w=g.length;return y<0||y>=w?a?"":void 0:(O=Tf(g,y))<55296||O>56319||y+1===w||(P=Tf(g,y+1))<56320||P>57343?a?ce(g,y):O:a?Iw(g,y,y+2):P-56320+(O-55296<<10)+65536}},$w=(Pw(!1),Pw(!0)),Dw=an,Pg=na,Aw=mf,Cg=mg,Mw="String Iterator",Nw=Pg.set,If=Pg.getterFor(Mw);Aw(String,"String",function(a){Nw(this,{type:Mw,string:Dw(a),index:0})},function(){var y,l=If(this),v=l.string,g=l.index;return g>=v.length?Cg(void 0,!0):(y=$w(v,g),l.index+=y.length,Cg(y,!1))});var jw=nc.f("iterator"),Dg=jw,Lw=X(Dg);function mr(a){return(mr="function"==typeof Bu&&"symbol"==typeof Lw?function(l){return typeof l}:function(l){return l&&"function"==typeof Bu&&l.constructor===Bu&&l!==Bu.prototype?"symbol":typeof l})(a)}var Cf=X(nc.f("toPrimitive"));function AO(a,l){if("object"!==mr(a)||null===a)return a;var v=a[Cf];if(void 0!==v){var g=v.call(a,l||"default");if("object"!==mr(g))return g;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===l?String:Number)(a)}function Ng(a){var l=AO(a,"string");return"symbol"===mr(l)?l:String(l)}function Rg(a,l){for(var v=0;v<l.length;v++){var g=l[v];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),ql(a,Ng(g.key),g)}}function yo(a,l,v){return l&&Rg(a.prototype,l),v&&Rg(a,v),ql(a,"prototype",{writable:!1}),a}function rt(a,l,v){return(l=Ng(l))in a?ql(a,l,{value:v,enumerable:!0,configurable:!0,writable:!0}):a[l]=v,a}var jg=ct,At=Tr,ii=ut,mo=We,Hw=Du,Ww=qs,Uw=Function,Fg=jg([].concat),Vw=jg([].join),Rc={},br=function(a,l,v){if(!mo(Rc,l)){for(var g=[],y=0;y<l;y++)g[y]="a["+y+"]";Rc[l]=Uw("C,a","return new C("+Vw(g,",")+")")}return Rc[l](a,v)},qw=Ww?Uw.bind:function(l){var v=At(this),g=v.prototype,y=Hw(arguments,1),w=function(){var P=Fg(y,Hw(arguments));return this instanceof w?br(v,P.length,P):v.apply(l,P)};return ii(g)&&(w.prototype=g),w},Gw=qw;Me({target:"Function",proto:!0,forced:Function.bind!==Gw},{bind:Gw});var NO=qe,Hr=function(a){return NO[a+"Prototype"]},gt=Hr("Function").bind,RO=Rt,jO=gt,Lg=Function.prototype,Hg=function(a){var l=a.bind;return a===Lg||RO(Lg,a)&&l===Lg.bind?jO:l},da=X(Hg),Df=Tr,Mt=ar,cn=Fa,Cr=xn,jc=TypeError,Fc=function(a){return function(l,v,g,y){Df(v);var w=Mt(l),O=cn(w),P=Cr(w),x=a?P-1:0,M=a?-1:1;if(g<2)for(;;){if(x in O){y=O[x],x+=M;break}if(x+=M,a?x<0:P<=x)throw jc("Reduce of empty array with no initial value")}for(;a?x>=0:P>x;x+=M)x in O&&(y=v(y,O[x],x,w));return y}},FO={left:Fc(!1),right:Fc(!0)},Hu=re,Wu=function(a,l){var v=[][a];return!!v&&Hu(function(){v.call(null,l||function(){return 1},1)})},Bc=Qn,bo=typeof process<"u"&&"process"==Bc(process),Yw=Me,Wr=FO.left,BO=Wu,Wg=Js,Kw=!bo&&Wg>79&&Wg<83||!BO("reduce");Yw({target:"Array",proto:!0,forced:Kw},{reduce:function(l){var v=arguments.length;return Wr(this,l,v,v>1?arguments[1]:void 0)}});var zO=Hr("Array").reduce,HO=Rt,WO=zO,Af=Array.prototype,Jw=X(function(a){var l=a.reduce;return a===Af||HO(Af,a)&&l===Af.reduce?WO:l}),ls=Me,Qw=rs.filter,e1=ao("filter");ls({target:"Array",proto:!0,forced:!e1},{filter:function(l){return Qw(this,l,arguments.length>1?arguments[1]:void 0)}});var qO=Hr("Array").filter,Vg=Rt,t1=qO,qg=Array.prototype,Kt=X(function(a){var l=a.filter;return a===qg||Vg(qg,a)&&l===qg.filter?t1:l}),r1=Me,JO=rs.map,QO=ao("map");r1({target:"Array",proto:!0,forced:!QO},{map:function(l){return JO(this,l,arguments.length>1?arguments[1]:void 0)}});var eS=Hr("Array").map,Gg=Rt,tS=eS,oi=Array.prototype,Cn=X(function(a){var l=a.map;return a===oi||Gg(oi,a)&&l===oi.map?tS:l}),oS=io,aS=xn,sS=vu,uS=ti,i1=function(a,l,v,g,y,w,O,P){for(var j,H,x=y,M=0,R=!!O&&uS(O,P);M<g;)M in v&&(j=R?R(v[M],M,l):v[M],w>0&&oS(j)?(H=aS(j),x=i1(a,l,j,H,x,w-1)-1):(sS(x+1),a[x]=j),x++),M++;return x},o1=i1,lS=Tr,cS=ar,a1=xn,Jg=Ql;Me({target:"Array",proto:!0},{flatMap:function(l){var y,v=cS(this),g=a1(v);return lS(l),(y=Jg(v,0)).length=o1(y,v,v,g,0,1,l,arguments.length>1?arguments[1]:void 0),y}});var Qg=Hr("Array").flatMap,Zg=Rt,dS=Qg,Ur=Array.prototype,ty=X(function(a){var l=a.flatMap;return a===Ur||Zg(Ur,a)&&l===Ur.flatMap?dS:l});function vS(a){return new pS(a)}var l1=function(){function a(l,v,g){var y,w,O;dt(this,a),rt(this,"_source",void 0),rt(this,"_transformers",void 0),rt(this,"_target",void 0),rt(this,"_listeners",{add:da(y=this._add).call(y,this),remove:da(w=this._remove).call(w,this),update:da(O=this._update).call(O,this)}),this._source=l,this._transformers=v,this._target=g}return yo(a,[{key:"all",value:function(){return this._target.update(this._transformItems(this._source.get())),this}},{key:"start",value:function(){return this._source.on("add",this._listeners.add),this._source.on("remove",this._listeners.remove),this._source.on("update",this._listeners.update),this}},{key:"stop",value:function(){return this._source.off("add",this._listeners.add),this._source.off("remove",this._listeners.remove),this._source.off("update",this._listeners.update),this}},{key:"_transformItems",value:function(v){var g;return Jw(g=this._transformers).call(g,function(y,w){return w(y)},v)}},{key:"_add",value:function(v,g){null!=g&&this._target.add(this._transformItems(this._source.get(g.items)))}},{key:"_update",value:function(v,g){null!=g&&this._target.update(this._transformItems(this._source.get(g.items)))}},{key:"_remove",value:function(v,g){null!=g&&this._target.remove(this._transformItems(g.oldData))}}]),a}(),pS=function(){function a(l){dt(this,a),rt(this,"_source",void 0),rt(this,"_transformers",[]),this._source=l}return yo(a,[{key:"filter",value:function(v){return this._transformers.push(function(g){return Kt(g).call(g,v)}),this}},{key:"map",value:function(v){return this._transformers.push(function(g){return Cn(g).call(g,v)}),this}},{key:"flatMap",value:function(v){return this._transformers.push(function(g){return ty(g).call(g,v)}),this}},{key:"to",value:function(v){return new l1(this._source,this._transformers,v)}}]),a}(),gS=Vt,Mf=er,c1=Zh,Vr=function(a,l,v){var g,y;Mf(a);try{if(!(g=c1(a,"return"))){if("throw"===l)throw v;return v}g=gS(g,a)}catch(w){y=!0,g=w}if("throw"===l)throw v;if(y)throw g;return Mf(g),v},zc=er,yS=Vr,mS=function(a,l,v,g){try{return g?l(zc(v)[0],v[1]):l(v)}catch(y){yS(a,"throw",y)}},h1=Di,bS=$t("iterator"),d1=Array.prototype,Hc=function(a){return void 0!==a&&(h1.Array===a||d1[bS]===a)},f1=Oi,ny=Zh,wS=xr,_S=Di,kS=$t("iterator"),Wc=function(a){if(!wS(a))return ny(a,kS)||ny(a,"@@iterator")||_S[f1(a)]},Uc=Vt,iy=Tr,v1=er,oy=Ei,p1=Wc,g1=TypeError,hn=function(a,l){var v=arguments.length<2?p1(a):l;if(iy(v))return v1(Uc(v,a));throw g1(oy(a)+" is not iterable")},y1=ti,OS=Vt,m1=ar,Nf=mS,b1=Hc,ai=gd,Vn=xn,Vc=Dt,Ni=hn,cs=Wc,at=Array,SS=function(l){var v=m1(l),g=ai(this),y=arguments.length,w=y>1?arguments[1]:void 0,O=void 0!==w;O&&(w=y1(w,y>2?arguments[2]:void 0));var M,R,j,H,V,pe,P=cs(v),x=0;if(!P||this===at&&b1(P))for(M=Vn(v),R=g?new this(M):at(M);M>x;x++)pe=O?w(v[x],x):v[x],Vc(R,x,pe);else for(V=(H=Ni(v,P)).next,R=g?new this:[];!(j=OS(V,H)).done;x++)pe=O?Nf(H,w,[j.value,x],!0):j.value,Vc(R,x,pe);return R.length=x,R},dn=$t("iterator"),Uu=!1;try{var Rf=0,ay={next:function(){return{done:!!Rf++}},return:function(){Uu=!0}};ay[dn]=function(){return this},Array.from(ay,function(){throw 2})}catch{}var ds=function(a,l){if(!l&&!Uu)return!1;var v=!1;try{var g={};g[dn]=function(){return{next:function(){return{done:v=!0}}}},a(g)}catch{}return v},w1=Me,_1=SS,fs=!ds(function(a){Array.from(a)});w1({target:"Array",stat:!0,forced:fs},{from:_1});var sy=qe.Array.from,Bf=X(sy),qn=X(Wc),ji=X(qe.Object.getOwnPropertySymbols),ps={exports:{}},gs=Me,qu=re,$n=L,pn=jr.f,Gu=Ot,si=!Gu||qu(function(){pn(1)});gs({target:"Object",stat:!0,forced:si,sham:!Gu},{getOwnPropertyDescriptor:function(l,v){return pn($n(l),v)}});var Hf=qe.Object,k1=ps.exports=function(l,v){return Hf.getOwnPropertyDescriptor(l,v)};Hf.getOwnPropertyDescriptor.sham&&(k1.sham=!0);var bs=X(ps.exports),ly=Zt,va=Qa,cy=rc,_s=er,Ku=ct([].concat),pa=ly("Reflect","ownKeys")||function(l){var v=va.f(_s(l)),g=cy.f;return g?Ku(v,g(l)):v},hy=pa,IS=L,Es=jr,dy=Dt;Me({target:"Object",stat:!0,sham:!Ot},{getOwnPropertyDescriptors:function(l){for(var P,x,v=IS(l),g=Es.f,y=hy(v),w={},O=0;y.length>O;)void 0!==(x=g(v,P=y[O++]))&&dy(w,P,x);return w}});var Ju=X(qe.Object.getOwnPropertyDescriptors),ks={exports:{}},Fi=Me,Dn=Ot,ui=Ed.f;Fi({target:"Object",stat:!0,forced:Object.defineProperties!==ui,sham:!Dn},{defineProperties:ui});var Uf=qe.Object,Qu=ks.exports=function(l,v){return Uf.defineProperties(l,v)};Uf.defineProperties.sham&&(Qu.sham=!0);var fy=X(ks.exports),qf=X(Sb);Me({target:"Array",stat:!0},{isArray:io});var O1=qe.Array.isArray,Eo=X(O1);function $S(a){if(Eo(a))return a}function x1(a,l){var v=null==a?null:typeof Bu<"u"&&qn(a)||a["@@iterator"];if(null!=v){var g,y,w,O,P=[],x=!0,M=!1;try{if(w=(v=v.call(a)).next,0===l){if(Object(v)!==v)return;x=!1}else for(;!(x=(g=w.call(v)).done)&&(P.push(g.value),P.length!==l);x=!0);}catch(R){M=!0,y=R}finally{try{if(!x&&null!=v.return&&(O=v.return(),Object(O)!==O))return}finally{if(M)throw y}}return P}}var yy=Me,th=io,my=gd,ga=ut,rh=kd,T1=xn,by=L,ko=Dt,DS=$t,AS=Du,_y=ao("slice"),MS=DS("species"),nh=Array,I1=Math.max;yy({target:"Array",proto:!0,forced:!_y},{slice:function(l,v){var P,x,M,g=by(this),y=T1(g),w=rh(l,y),O=rh(void 0===v?y:v,y);if(th(g)&&(P=g.constructor,(my(P)&&(P===nh||th(P.prototype))||ga(P)&&null===(P=P[MS]))&&(P=void 0),P===nh||void 0===P))return AS(g,w,O);for(x=new(void 0===P?nh:P)(I1(O-w,0)),M=0;w<O;w++,M++)w in g&&ko(x,M,g[w]);return x.length=M,x}});var ya=Hr("Array").slice,P1=Rt,Yf=ya,ih=Array.prototype,xs=function(a){var l=a.slice;return a===ih||P1(ih,a)&&l===ih.slice?Yf:l},Xf=xs,C1=X(Xf),Qf=X(sy);function oh(a,l){(null==l||l>a.length)&&(l=a.length);for(var v=0,g=new Array(l);v<l;v++)g[v]=a[v];return g}function Ts(a,l){var v;if(a){if("string"==typeof a)return oh(a,l);var g=C1(v=Object.prototype.toString.call(a)).call(v,8,-1);if("Object"===g&&a.constructor&&(g=a.constructor.name),"Map"===g||"Set"===g)return Qf(a);if("Arguments"===g||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(g))return oh(a,l)}}function A1(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Dr(a,l){return $S(a)||x1(a,l)||Ts(a,l)||A1()}function M1(a){if(Eo(a))return oh(a)}function NS(a){if(typeof Bu<"u"&&null!=qn(a)||null!=a["@@iterator"])return Qf(a)}function Iy(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Ar(a){return M1(a)||NS(a)||Ts(a)||Iy()}var Is=X(kg),RS=Hr("Array").concat,N1=Rt,jS=RS,Py=Array.prototype,ah=X(function(a){var l=a.concat;return a===Py||N1(Py,a)&&l===Py.concat?jS:l}),ba=X(xs);Me({target:"Reflect",stat:!0},{ownKeys:pa});var sh=X(qe.Reflect.ownKeys),cr=X(O1),tv=Me,F1=ar,il=Tn,hr=re(function(){il(1)});tv({target:"Object",stat:!0,forced:hr},{keys:function(l){return il(F1(l))}});var rv=X(qe.Object.keys),B1=rs.forEach,Dy=Wu("forEach")?[].forEach:function(l){return B1(this,l,arguments.length>1?arguments[1]:void 0)},L1=Dy;Me({target:"Array",proto:!0,forced:[].forEach!=L1},{forEach:L1});var al=Hr("Array").forEach,sl=Oi,iv=We,ul=Rt,_a=al,dr=Array.prototype,ov={DOMTokenList:!0,NodeList:!0},To=function(a){var l=a.forEach;return a===dr||ul(dr,a)&&l===dr.forEach||iv(ov,sl(a))?_a:l},je=X(To),Ie=Me,fr=io,cl=ct([].reverse),lh=[1,2];Ie({target:"Array",proto:!0,forced:String(lh)===String(lh.reverse())},{reverse:function(){return fr(this)&&(this.length=this.length),cl(this)}});var US=Hr("Array").reverse,H1=Rt,VS=US,ch=Array.prototype,W1=function(a){var l=a.reverse;return a===ch||H1(ch,a)&&l===ch.reverse?VS:l},Ay=X(W1),hh=Ot,Mr=io,My=TypeError,V1=Object.getOwnPropertyDescriptor,Ny=hh&&!function(){if(void 0!==this)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(a){return a instanceof TypeError}}(),q1=Ei,jy=TypeError,av=function(a,l){if(!delete a[l])throw jy("Cannot delete property "+q1(l)+" of "+q1(a))},Fy=Me,qS=ar,sv=kd,G1=ld,Y1=xn,GS=Ny?function(a,l){if(Mr(a)&&!V1(a,"length").writable)throw My("Cannot set read only .length");return a.length=l}:function(a,l){return a.length=l},By=vu,dh=Ql,Ly=Dt,Ea=av,Hy=ao("splice"),K1=Math.max,X1=Math.min;Fy({target:"Array",proto:!0,forced:!Hy},{splice:function(l,v){var P,x,M,R,j,H,g=qS(this),y=Y1(g),w=sv(l,y),O=arguments.length;for(0===O?P=x=0:1===O?(P=0,x=y-w):(P=O-2,x=X1(K1(G1(v),0),y-w)),By(y+P-x),M=dh(g,x),R=0;R<x;R++)(j=w+R)in g&&Ly(M,R,g[j]);if(M.length=x,P<x){for(R=w;R<y-x;R++)H=R+P,(j=R+x)in g?g[H]=g[j]:Ea(g,H);for(R=y;R>y-x+P;R--)Ea(g,R-1)}else if(P>x)for(R=y-x;R>w;R--)H=R+P-1,(j=R+x-1)in g?g[H]=g[j]:Ea(g,H);for(R=0;R<P;R++)g[R+w]=arguments[R+2];return GS(g,y-x+P),M}});var hl=Hr("Array").splice,fh=Rt,Wy=hl,dl=Array.prototype,Nr=X(function(a){var l=a.splice;return a===dl||fh(dl,a)&&l===dl.splice?Wy:l}),Uy=Ot,Vy=ct,qy=Vt,lv=re,Gy=Tn,KS=rc,XS=Ct,Yy=ar,e_=Fa,$s=Object.assign,cv=Object.defineProperty,hv=Vy([].concat),t_=!$s||lv(function(){if(Uy&&1!==$s({b:1},$s(cv({},"a",{enumerable:!0,get:function(){cv(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var a={},l={},v=Symbol(),g="abcdefghijklmnopqrst";return a[v]=7,g.split("").forEach(function(y){l[y]=y}),7!=$s({},a)[v]||Gy($s({},l)).join("")!=g})?function(l,v){for(var g=Yy(l),y=arguments.length,w=1,O=KS.f,P=XS.f;y>w;)for(var H,x=e_(arguments[w++]),M=O?hv(Gy(x),O(x)):Gy(x),R=M.length,j=0;R>j;)H=M[j++],(!Uy||qy(P,x,H))&&(g[H]=x[H]);return g}:$s,vh=t_;Me({target:"Object",stat:!0,arity:2,forced:Object.assign!==vh},{assign:vh});var fv=X(qe.Object.assign),JS=Me,QS=ar,i_=Oc,ZS=ug,ex=re(function(){i_(1)});JS({target:"Object",stat:!0,forced:ex,sham:!ZS},{getPrototypeOf:function(l){return i_(QS(l))}});var o_=qe.Object.getPrototypeOf;Me({target:"Object",stat:!0,sham:!Ot},{create:Ja});var gh=qe.Object,u_=function(l,v){return gh.create(l,v)},Jy=X(u_),pv=qe,ox=gi;pv.JSON||(pv.JSON={stringify:JSON.stringify});var a,yh=function(l,v,g){return ox(pv.JSON.stringify,null,arguments)},ax=X(yh),sx="function"==typeof Bun&&Bun&&"string"==typeof Bun.version,ux=TypeError,gv=function(a,l){if(a<l)throw ux("Not enough arguments");return a},c_=ye,h_=gi,lx=bt,fl=sx,yv=wi,d_=Du,Qy=gv,f_=c_.Function,Zy=/MSIE .\./.test(yv)||fl&&((a=c_.Bun.version.split(".")).length<3||0==a[0]&&(a[1]<3||3==a[1]&&0==a[2])),mv=function(a,l){var v=l?2:1;return Zy?function(g,y){var w=Qy(arguments.length,1)>v,O=lx(g)?g:f_(g),P=w?d_(arguments,v):[],x=w?function(){h_(O,this,P)}:O;return l?a(x,y):a(x)}:a},bv=Me,em=ye,Co=mv(em.setInterval,!0);bv({global:!0,bind:!0,forced:em.setInterval!==Co},{setInterval:Co});var cx=Me,_v=ye,v_=mv(_v.setTimeout,!0);cx({global:!0,bind:!0,forced:_v.setTimeout!==v_},{setTimeout:v_});var zi=X(qe.setTimeout),bh={exports:{}};!function(a){function l(g){if(g)return v(g)}function v(g){for(var y in l.prototype)g[y]=l.prototype[y];return g}a.exports=l,l.prototype.on=l.prototype.addEventListener=function(g,y){return this._callbacks=this._callbacks||{},(this._callbacks["$"+g]=this._callbacks["$"+g]||[]).push(y),this},l.prototype.once=function(g,y){function w(){this.off(g,w),y.apply(this,arguments)}return w.fn=y,this.on(g,w),this},l.prototype.off=l.prototype.removeListener=l.prototype.removeAllListeners=l.prototype.removeEventListener=function(g,y){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var w=this._callbacks["$"+g];if(!w)return this;if(1==arguments.length)return delete this._callbacks["$"+g],this;for(var O,P=0;P<w.length;P++)if((O=w[P])===y||O.fn===y){w.splice(P,1);break}return 0===w.length&&delete this._callbacks["$"+g],this},l.prototype.emit=function(g){this._callbacks=this._callbacks||{};for(var y=new Array(arguments.length-1),w=this._callbacks["$"+g],O=1;O<arguments.length;O++)y[O-1]=arguments[O];if(w){O=0;for(var P=(w=w.slice(0)).length;O<P;++O)w[O].apply(this,y)}return this},l.prototype.listeners=function(g){return this._callbacks=this._callbacks||{},this._callbacks["$"+g]||[]},l.prototype.hasListeners=function(g){return!!this.listeners(g).length}}(bh);var wh,dx=X(bh.exports);function li(){return li=Object.assign||function(a){for(var l=1;l<arguments.length;l++){var v=arguments[l];for(var g in v)Object.prototype.hasOwnProperty.call(v,g)&&(a[g]=v[g])}return a},li.apply(this,arguments)}function bn(a,l){a.prototype=Object.create(l.prototype),a.prototype.constructor=a,a.__proto__=l}function vl(a){if(void 0===a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}wh="function"!=typeof Object.assign?function(l){if(null==l)throw new TypeError("Cannot convert undefined or null to object");for(var v=Object(l),g=1;g<arguments.length;g++){var y=arguments[g];if(null!=y)for(var w in y)y.hasOwnProperty(w)&&(v[w]=y[w])}return v}:Object.assign;var Hi,Sa=wh,Ev=["","webkit","Moz","MS","ms","o"],xa=typeof document>"u"?{style:{}}:document.createElement("div"),g_="function",pl=Math.round,Yn=Math.abs,Ta=Date.now;function An(a,l){for(var v,g,y=l[0].toUpperCase()+l.slice(1),w=0;w<Ev.length;){if((g=(v=Ev[w])?v+y:l)in a)return g;w++}}Hi=typeof window>"u"?{}:window;var _h=An(xa.style,"touchAction"),y_=void 0!==_h;function m_(){if(!y_)return!1;var a={},l=Hi.CSS&&Hi.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(v){return a[v]=!l||Hi.CSS.supports("touch-action",v)}),a}var nm="compute",b_="auto",gl="manipulation",Wi="none",Ia="pan-x",yl="pan-y",kv=m_(),fx=/mobile|tablet|ip(ad|hone|od)|android/i,w_="ontouchstart"in Hi,vx=void 0!==An(Hi,"PointerEvent"),px=w_&&fx.test(navigator.userAgent),Pa="touch",__="pen",Ov="mouse",E_="kinect",im=25,Yr=1,Ns=2,Jt=4,wn=8,Sv=1,Eh=2,Rs=4,js=8,$o=16,ci=Eh|Rs,Fs=js|$o,k_=ci|Fs,O_=["x","y"],xv=["clientX","clientY"];function Do(a,l,v){var g;if(a)if(a.forEach)a.forEach(l,v);else if(void 0!==a.length)for(g=0;g<a.length;)l.call(v,a[g],g,a),g++;else for(g in a)a.hasOwnProperty(g)&&l.call(v,a[g],g,a)}function ml(a,l){return typeof a===g_?a.apply(l&&l[0]||void 0,l):a}function Bs(a,l){return a.indexOf(l)>-1}function S_(a){if(Bs(a,Wi))return Wi;var l=Bs(a,Ia),v=Bs(a,yl);return l&&v?Wi:l||v?l?Ia:yl:Bs(a,gl)?gl:b_}var om=function(){function a(v,g){this.manager=v,this.set(g)}var l=a.prototype;return l.set=function(g){g===nm&&(g=this.compute()),y_&&this.manager.element.style&&kv[g]&&(this.manager.element.style[_h]=g),this.actions=g.toLowerCase().trim()},l.update=function(){this.set(this.manager.options.touchAction)},l.compute=function(){var g=[];return Do(this.manager.recognizers,function(y){ml(y.options.enable,[y])&&(g=g.concat(y.getTouchAction()))}),S_(g.join(" "))},l.preventDefaults=function(g){var y=g.srcEvent,w=g.offsetDirection;if(!this.manager.session.prevented){var O=this.actions,P=Bs(O,Wi)&&!kv[Wi],x=Bs(O,yl)&&!kv[yl],M=Bs(O,Ia)&&!kv[Ia];if(P){var R=1===g.pointers.length,j=g.distance<2,H=g.deltaTime<250;if(R&&j&&H)return}return M&&x||!(P||x&&w&ci||M&&w&Fs)?void 0:this.preventSrc(y)}y.preventDefault()},l.preventSrc=function(g){this.manager.session.prevented=!0,g.preventDefault()},a}();function kh(a,l){for(;a;){if(a===l)return!0;a=a.parentNode}return!1}function x_(a){var l=a.length;if(1===l)return{x:pl(a[0].clientX),y:pl(a[0].clientY)};for(var v=0,g=0,y=0;y<l;)v+=a[y].clientX,g+=a[y].clientY,y++;return{x:pl(v/l),y:pl(g/l)}}function am(a){for(var l=[],v=0;v<a.pointers.length;)l[v]={clientX:pl(a.pointers[v].clientX),clientY:pl(a.pointers[v].clientY)},v++;return{timeStamp:Ta(),pointers:l,center:x_(l),deltaX:a.deltaX,deltaY:a.deltaY}}function Tv(a,l,v){v||(v=O_);var g=l[v[0]]-a[v[0]],y=l[v[1]]-a[v[1]];return Math.sqrt(g*g+y*y)}function Ls(a,l,v){v||(v=O_);var g=l[v[0]]-a[v[0]],y=l[v[1]]-a[v[1]];return 180*Math.atan2(y,g)/Math.PI}function Iv(a,l){return a===l?Sv:Yn(a)>=Yn(l)?a<0?Eh:Rs:l<0?js:$o}function gx(a,l){var v=l.center,g=a.offsetDelta||{},y=a.prevDelta||{},w=a.prevInput||{};(l.eventType===Yr||w.eventType===Jt)&&(y=a.prevDelta={x:w.deltaX||0,y:w.deltaY||0},g=a.offsetDelta={x:v.x,y:v.y}),l.deltaX=y.x+(v.x-g.x),l.deltaY=y.y+(v.y-g.y)}function T_(a,l,v){return{x:l/a||0,y:v/a||0}}function yx(a,l){return Tv(l[0],l[1],xv)/Tv(a[0],a[1],xv)}function mx(a,l){return Ls(l[1],l[0],xv)+Ls(a[1],a[0],xv)}function sm(a,l){var y,w,O,P,v=a.lastInterval||l,g=l.timeStamp-v.timeStamp;if(l.eventType!==wn&&(g>im||void 0===v.velocity)){var x=l.deltaX-v.deltaX,M=l.deltaY-v.deltaY,R=T_(g,x,M);w=R.x,O=R.y,y=Yn(R.x)>Yn(R.y)?R.x:R.y,P=Iv(x,M),a.lastInterval=l}else y=v.velocity,w=v.velocityX,O=v.velocityY,P=v.direction;l.velocity=y,l.velocityX=w,l.velocityY=O,l.direction=P}function bx(a,l){var v=a.session,g=l.pointers,y=g.length;v.firstInput||(v.firstInput=am(l)),y>1&&!v.firstMultiple?v.firstMultiple=am(l):1===y&&(v.firstMultiple=!1);var w=v.firstInput,O=v.firstMultiple,P=O?O.center:w.center,x=l.center=x_(g);l.timeStamp=Ta(),l.deltaTime=l.timeStamp-w.timeStamp,l.angle=Ls(P,x),l.distance=Tv(P,x),gx(v,l),l.offsetDirection=Iv(l.deltaX,l.deltaY);var M=T_(l.deltaTime,l.deltaX,l.deltaY);l.overallVelocityX=M.x,l.overallVelocityY=M.y,l.overallVelocity=Yn(M.x)>Yn(M.y)?M.x:M.y,l.scale=O?yx(O.pointers,g):1,l.rotation=O?mx(O.pointers,g):0,l.maxPointers=v.prevInput?l.pointers.length>v.prevInput.maxPointers?l.pointers.length:v.prevInput.maxPointers:l.pointers.length,sm(v,l);var H,R=a.element,j=l.srcEvent;kh(H=j.composedPath?j.composedPath()[0]:j.path?j.path[0]:j.target,R)&&(R=H),l.target=R}function Oh(a,l,v){var g=v.pointers.length,y=v.changedPointers.length,w=l&Yr&&g-y==0,O=l&(Jt|wn)&&g-y==0;v.isFirst=!!w,v.isFinal=!!O,w&&(a.session={}),v.eventType=l,bx(a,v),a.emit("hammer.input",v),a.recognize(v),a.session.prevInput=v}function Sh(a){return a.trim().split(/\s+/g)}function rr(a,l,v){Do(Sh(l),function(g){a.addEventListener(g,v,!1)})}function bl(a,l,v){Do(Sh(l),function(g){a.removeEventListener(g,v,!1)})}function um(a){var l=a.ownerDocument||a;return l.defaultView||l.parentWindow||window}var Ca=function(){function a(v,g){var y=this;this.manager=v,this.callback=g,this.element=v.element,this.target=v.options.inputTarget,this.domHandler=function(w){ml(v.options.enable,[v])&&y.handler(w)},this.init()}var l=a.prototype;return l.handler=function(){},l.init=function(){this.evEl&&rr(this.element,this.evEl,this.domHandler),this.evTarget&&rr(this.target,this.evTarget,this.domHandler),this.evWin&&rr(um(this.element),this.evWin,this.domHandler)},l.destroy=function(){this.evEl&&bl(this.element,this.evEl,this.domHandler),this.evTarget&&bl(this.target,this.evTarget,this.domHandler),this.evWin&&bl(um(this.element),this.evWin,this.domHandler)},a}();function zs(a,l,v){if(a.indexOf&&!v)return a.indexOf(l);for(var g=0;g<a.length;){if(v&&a[g][v]==l||!v&&a[g]===l)return g;g++}return-1}var wx={pointerdown:Yr,pointermove:Ns,pointerup:Jt,pointercancel:wn,pointerout:wn},lm={2:Pa,3:__,4:Ov,5:E_},wl="pointerdown",cm="pointermove pointerup pointercancel";Hi.MSPointerEvent&&!Hi.PointerEvent&&(wl="MSPointerDown",cm="MSPointerMove MSPointerUp MSPointerCancel");var K=function(a){function l(){var g,y=l.prototype;return y.evEl=wl,y.evWin=cm,(g=a.apply(this,arguments)||this).store=g.manager.session.pointerEvents=[],g}return bn(l,a),l.prototype.handler=function(y){var w=this.store,O=!1,P=y.type.toLowerCase().replace("ms",""),x=wx[P],M=lm[y.pointerType]||y.pointerType,R=M===Pa,j=zs(w,y.pointerId,"pointerId");x&Yr&&(0===y.button||R)?j<0&&(w.push(y),j=w.length-1):x&(Jt|wn)&&(O=!0),!(j<0)&&(w[j]=y,this.callback(this.manager,x,{pointers:w,changedPointers:[y],pointerType:M,srcEvent:y}),O&&w.splice(j,1))},l}(Ca);function xh(a){return Array.prototype.slice.call(a,0)}function Th(a,l,v){for(var g=[],y=[],w=0;w<a.length;){var O=l?a[w][l]:a[w];zs(y,O)<0&&g.push(a[w]),y[w]=O,w++}return v&&(g=l?g.sort(function(P,x){return P[l]>x[l]}):g.sort()),g}var hm={touchstart:Yr,touchmove:Ns,touchend:Jt,touchcancel:wn},dm="touchstart touchmove touchend touchcancel",nt=function(a){function l(){var g;return l.prototype.evTarget=dm,(g=a.apply(this,arguments)||this).targetIds={},g}return bn(l,a),l.prototype.handler=function(y){var w=hm[y.type],O=yt.call(this,y,w);O&&this.callback(this.manager,w,{pointers:O[0],changedPointers:O[1],pointerType:Pa,srcEvent:y})},l}(Ca);function yt(a,l){var v=xh(a.touches),g=this.targetIds;if(l&(Yr|Ns)&&1===v.length)return g[v[0].identifier]=!0,[v,v];var y,w,O=xh(a.changedTouches),P=[],x=this.target;if(w=v.filter(function(M){return kh(M.target,x)}),l===Yr)for(y=0;y<w.length;)g[w[y].identifier]=!0,y++;for(y=0;y<O.length;)g[O[y].identifier]&&P.push(O[y]),l&(Jt|wn)&&delete g[O[y].identifier],y++;return P.length?[Th(w.concat(P),"identifier",!0),P]:void 0}var fm={mousedown:Yr,mousemove:Ns,mouseup:Jt},be="mousedown",Ao="mousemove mouseup",vm=function(a){function l(){var g,y=l.prototype;return y.evEl=be,y.evWin=Ao,(g=a.apply(this,arguments)||this).pressed=!1,g}return bn(l,a),l.prototype.handler=function(y){var w=fm[y.type];w&Yr&&0===y.button&&(this.pressed=!0),w&Ns&&1!==y.which&&(w=Jt),this.pressed&&(w&Jt&&(this.pressed=!1),this.callback(this.manager,w,{pointers:[y],changedPointers:[y],pointerType:Ov,srcEvent:y}))},l}(Ca),I_=2500,Ui=25;function Pv(a){var v=a.changedPointers[0];if(v.identifier===this.primaryTouch){var g={x:v.clientX,y:v.clientY},y=this.lastTouches;this.lastTouches.push(g),setTimeout(function(){var P=y.indexOf(g);P>-1&&y.splice(P,1)},I_)}}function pm(a,l){a&Yr?(this.primaryTouch=l.changedPointers[0].identifier,Pv.call(this,l)):a&(Jt|wn)&&Pv.call(this,l)}function _x(a){for(var l=a.srcEvent.clientX,v=a.srcEvent.clientY,g=0;g<this.lastTouches.length;g++){var y=this.lastTouches[g],w=Math.abs(l-y.x),O=Math.abs(v-y.y);if(w<=Ui&&O<=Ui)return!0}return!1}var gm=function(){return function(l){function v(y,w){var O;return(O=l.call(this,y,w)||this).handler=function(P,x,M){var R=M.pointerType===Pa,j=M.pointerType===Ov;if(!(j&&M.sourceCapabilities&&M.sourceCapabilities.firesTouchEvents)){if(R)pm.call(vl(vl(O)),x,M);else if(j&&_x.call(vl(vl(O)),M))return;O.callback(P,x,M)}},O.touch=new nt(O.manager,O.handler),O.mouse=new vm(O.manager,O.handler),O.primaryTouch=null,O.lastTouches=[],O}return bn(v,l),v.prototype.destroy=function(){this.touch.destroy(),this.mouse.destroy()},v}(Ca)}();function Ex(a){var v=a.options.inputClass;return new(v||(vx?K:px?nt:w_?gm:vm))(a,Oh)}function _l(a,l,v){return!!Array.isArray(a)&&(Do(a,v[l],v),!0)}var hi=1,Mn=2,El=4,$a=8,Mo=$a,Ih=16,Vi=32,kx=1;function Ox(){return kx++}function Cv(a,l){var v=l.manager;return v?v.get(a):a}function P_(a){return a&Ih?"cancel":a&$a?"end":a&El?"move":a&Mn?"start":""}var Ph=function(){function a(v){void 0===v&&(v={}),this.options=li({enable:!0},v),this.id=Ox(),this.manager=null,this.state=hi,this.simultaneous={},this.requireFail=[]}var l=a.prototype;return l.set=function(g){return Sa(this.options,g),this.manager&&this.manager.touchAction.update(),this},l.recognizeWith=function(g){if(_l(g,"recognizeWith",this))return this;var y=this.simultaneous;return y[(g=Cv(g,this)).id]||(y[g.id]=g,g.recognizeWith(this)),this},l.dropRecognizeWith=function(g){return _l(g,"dropRecognizeWith",this)||(g=Cv(g,this),delete this.simultaneous[g.id]),this},l.requireFailure=function(g){if(_l(g,"requireFailure",this))return this;var y=this.requireFail;return-1===zs(y,g=Cv(g,this))&&(y.push(g),g.requireFailure(this)),this},l.dropRequireFailure=function(g){if(_l(g,"dropRequireFailure",this))return this;g=Cv(g,this);var y=zs(this.requireFail,g);return y>-1&&this.requireFail.splice(y,1),this},l.hasRequireFailures=function(){return this.requireFail.length>0},l.canRecognizeWith=function(g){return!!this.simultaneous[g.id]},l.emit=function(g){var y=this,w=this.state;function O(P){y.manager.emit(P,g)}w<$a&&O(y.options.event+P_(w)),O(y.options.event),g.additionalEvent&&O(g.additionalEvent),w>=$a&&O(y.options.event+P_(w))},l.tryEmit=function(g){if(this.canEmit())return this.emit(g);this.state=Vi},l.canEmit=function(){for(var g=0;g<this.requireFail.length;){if(!(this.requireFail[g].state&(Vi|hi)))return!1;g++}return!0},l.recognize=function(g){var y=Sa({},g);if(!ml(this.options.enable,[this,y]))return this.reset(),void(this.state=Vi);this.state&(Mo|Ih|Vi)&&(this.state=hi),this.state=this.process(y),this.state&(Mn|El|$a|Ih)&&this.tryEmit(y)},l.process=function(g){},l.getTouchAction=function(){},l.reset=function(){},a}(),ym=function(a){function l(g){var y;return void 0===g&&(g={}),(y=a.call(this,li({event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},g))||this).pTime=!1,y.pCenter=!1,y._timer=null,y._input=null,y.count=0,y}bn(l,a);var v=l.prototype;return v.getTouchAction=function(){return[gl]},v.process=function(y){var w=this,O=this.options,P=y.pointers.length===O.pointers,x=y.distance<O.threshold,M=y.deltaTime<O.time;if(this.reset(),y.eventType&Yr&&0===this.count)return this.failTimeout();if(x&&M&&P){if(y.eventType!==Jt)return this.failTimeout();var R=!this.pTime||y.timeStamp-this.pTime<O.interval,j=!this.pCenter||Tv(this.pCenter,y.center)<O.posThreshold;if(this.pTime=y.timeStamp,this.pCenter=y.center,j&&R?this.count+=1:this.count=1,this._input=y,0==this.count%O.taps)return this.hasRequireFailures()?(this._timer=setTimeout(function(){w.state=Mo,w.tryEmit()},O.interval),Mn):Mo}return Vi},v.failTimeout=function(){var y=this;return this._timer=setTimeout(function(){y.state=Vi},this.options.interval),Vi},v.reset=function(){clearTimeout(this._timer)},v.emit=function(){this.state===Mo&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))},l}(Ph),Hs=function(a){function l(g){return void 0===g&&(g={}),a.call(this,li({pointers:1},g))||this}bn(l,a);var v=l.prototype;return v.attrTest=function(y){var w=this.options.pointers;return 0===w||y.pointers.length===w},v.process=function(y){var w=this.state,O=y.eventType,P=w&(Mn|El),x=this.attrTest(y);return P&&(O&wn||!x)?w|Ih:P||x?O&Jt?w|$a:w&Mn?w|El:Mn:Vi},l}(Ph);function C_(a){return a===$o?"down":a===js?"up":a===Eh?"left":a===Rs?"right":""}var mm=function(a){function l(g){var y;return void 0===g&&(g={}),(y=a.call(this,li({event:"pan",threshold:10,pointers:1,direction:k_},g))||this).pX=null,y.pY=null,y}bn(l,a);var v=l.prototype;return v.getTouchAction=function(){var y=this.options.direction,w=[];return y&ci&&w.push(yl),y&Fs&&w.push(Ia),w},v.directionTest=function(y){var w=this.options,O=!0,P=y.distance,x=y.direction,M=y.deltaX,R=y.deltaY;return x&w.direction||(w.direction&ci?(x=0===M?Sv:M<0?Eh:Rs,O=M!==this.pX,P=Math.abs(y.deltaX)):(x=0===R?Sv:R<0?js:$o,O=R!==this.pY,P=Math.abs(y.deltaY))),y.direction=x,O&&P>w.threshold&&x&w.direction},v.attrTest=function(y){return Hs.prototype.attrTest.call(this,y)&&(this.state&Mn||!(this.state&Mn)&&this.directionTest(y))},v.emit=function(y){this.pX=y.deltaX,this.pY=y.deltaY;var w=C_(y.direction);w&&(y.additionalEvent=this.options.event+w),a.prototype.emit.call(this,y)},l}(Hs),$_=function(a){function l(g){return void 0===g&&(g={}),a.call(this,li({event:"swipe",threshold:10,velocity:.3,direction:ci|Fs,pointers:1},g))||this}bn(l,a);var v=l.prototype;return v.getTouchAction=function(){return mm.prototype.getTouchAction.call(this)},v.attrTest=function(y){var O,w=this.options.direction;return w&(ci|Fs)?O=y.overallVelocity:w&ci?O=y.overallVelocityX:w&Fs&&(O=y.overallVelocityY),a.prototype.attrTest.call(this,y)&&w&y.offsetDirection&&y.distance>this.options.threshold&&y.maxPointers===this.options.pointers&&Yn(O)>this.options.velocity&&y.eventType&Jt},v.emit=function(y){var w=C_(y.offsetDirection);w&&this.manager.emit(this.options.event+w,y),this.manager.emit(this.options.event,y)},l}(Hs),bm=function(a){function l(g){return void 0===g&&(g={}),a.call(this,li({event:"pinch",threshold:0,pointers:2},g))||this}bn(l,a);var v=l.prototype;return v.getTouchAction=function(){return[Wi]},v.attrTest=function(y){return a.prototype.attrTest.call(this,y)&&(Math.abs(y.scale-1)>this.options.threshold||this.state&Mn)},v.emit=function(y){if(1!==y.scale){var w=y.scale<1?"in":"out";y.additionalEvent=this.options.event+w}a.prototype.emit.call(this,y)},l}(Hs),D_=function(a){function l(g){return void 0===g&&(g={}),a.call(this,li({event:"rotate",threshold:0,pointers:2},g))||this}bn(l,a);var v=l.prototype;return v.getTouchAction=function(){return[Wi]},v.attrTest=function(y){return a.prototype.attrTest.call(this,y)&&(Math.abs(y.rotation)>this.options.threshold||this.state&Mn)},l}(Hs),A_=function(a){function l(g){var y;return void 0===g&&(g={}),(y=a.call(this,li({event:"press",pointers:1,time:251,threshold:9},g))||this)._timer=null,y._input=null,y}bn(l,a);var v=l.prototype;return v.getTouchAction=function(){return[b_]},v.process=function(y){var w=this,O=this.options,P=y.pointers.length===O.pointers,x=y.distance<O.threshold,M=y.deltaTime>O.time;if(this._input=y,!x||!P||y.eventType&(Jt|wn)&&!M)this.reset();else if(y.eventType&Yr)this.reset(),this._timer=setTimeout(function(){w.state=Mo,w.tryEmit()},O.time);else if(y.eventType&Jt)return Mo;return Vi},v.reset=function(){clearTimeout(this._timer)},v.emit=function(y){this.state===Mo&&(y&&y.eventType&Jt?this.manager.emit(this.options.event+"up",y):(this._input.timeStamp=Ta(),this.manager.emit(this.options.event,this._input)))},l}(Ph),M_={domEvents:!1,touchAction:nm,enable:!0,inputTarget:null,inputClass:null,cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},N_=[[D_,{enable:!1}],[bm,{enable:!1},["rotate"]],[$_,{direction:ci}],[mm,{direction:ci},["swipe"]],[ym],[ym,{event:"doubletap",taps:2},["tap"]],[A_]],Sx=1,wm=2;function R_(a,l){var g,v=a.element;v.style&&(Do(a.options.cssProps,function(y,w){g=An(v.style,w),l?(a.oldCssProps[g]=v.style[g],v.style[g]=y):v.style[g]=a.oldCssProps[g]||""}),l||(a.oldCssProps={}))}function Ch(a,l){var v=document.createEvent("Event");v.initEvent(a,!0,!0),v.gesture=l,l.target.dispatchEvent(v)}var _m=function(){function a(v,g){var y=this;this.options=Sa({},M_,g||{}),this.options.inputTarget=this.options.inputTarget||v,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=v,this.input=Ex(this),this.touchAction=new om(this,this.options.touchAction),R_(this,!0),Do(this.options.recognizers,function(w){var O=y.add(new w[0](w[1]));w[2]&&O.recognizeWith(w[2]),w[3]&&O.requireFailure(w[3])},this)}var l=a.prototype;return l.set=function(g){return Sa(this.options,g),g.touchAction&&this.touchAction.update(),g.inputTarget&&(this.input.destroy(),this.input.target=g.inputTarget,this.input.init()),this},l.stop=function(g){this.session.stopped=g?wm:Sx},l.recognize=function(g){var y=this.session;if(!y.stopped){this.touchAction.preventDefaults(g);var w,O=this.recognizers,P=y.curRecognizer;(!P||P&&P.state&Mo)&&(y.curRecognizer=null,P=null);for(var x=0;x<O.length;)w=O[x],y.stopped===wm||P&&w!==P&&!w.canRecognizeWith(P)?w.reset():w.recognize(g),!P&&w.state&(Mn|El|$a)&&(y.curRecognizer=w,P=w),x++}},l.get=function(g){if(g instanceof Ph)return g;for(var y=this.recognizers,w=0;w<y.length;w++)if(y[w].options.event===g)return y[w];return null},l.add=function(g){if(_l(g,"add",this))return this;var y=this.get(g.options.event);return y&&this.remove(y),this.recognizers.push(g),g.manager=this,this.touchAction.update(),g},l.remove=function(g){if(_l(g,"remove",this))return this;var y=this.get(g);if(g){var w=this.recognizers,O=zs(w,y);-1!==O&&(w.splice(O,1),this.touchAction.update())}return this},l.on=function(g,y){if(void 0===g||void 0===y)return this;var w=this.handlers;return Do(Sh(g),function(O){w[O]=w[O]||[],w[O].push(y)}),this},l.off=function(g,y){if(void 0===g)return this;var w=this.handlers;return Do(Sh(g),function(O){y?w[O]&&w[O].splice(zs(w[O],y),1):delete w[O]}),this},l.emit=function(g,y){this.options.domEvents&&Ch(g,y);var w=this.handlers[g]&&this.handlers[g].slice();if(w&&w.length){y.type=g,y.preventDefault=function(){y.srcEvent.preventDefault()};for(var O=0;O<w.length;)w[O](y),O++}},l.destroy=function(){this.element&&R_(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null},a}(),j_={touchstart:Yr,touchmove:Ns,touchend:Jt,touchcancel:wn},Em="touchstart",km="touchstart touchmove touchend touchcancel",Om=function(a){function l(){var g,y=l.prototype;return y.evTarget=Em,y.evWin=km,(g=a.apply(this,arguments)||this).started=!1,g}return bn(l,a),l.prototype.handler=function(y){var w=j_[y.type];if(w===Yr&&(this.started=!0),this.started){var O=Nn.call(this,y,w);w&(Jt|wn)&&O[0].length-O[1].length==0&&(this.started=!1),this.callback(this.manager,w,{pointers:O[0],changedPointers:O[1],pointerType:Pa,srcEvent:y})}},l}(Ca);function Nn(a,l){var v=xh(a.touches),g=xh(a.changedTouches);return l&(Jt|wn)&&(v=Th(v.concat(g),"identifier",!0)),[v,g]}function F_(a,l,v){var g="DEPRECATED METHOD: "+l+"\n"+v+" AT \n";return function(){var y=new Error("get-stack-trace"),w=y&&y.stack?y.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",O=window.console&&(window.console.warn||window.console.log);return O&&O.call(window.console,g,w),a.apply(this,arguments)}}var Sm=F_(function(a,l,v){for(var g=Object.keys(l),y=0;y<g.length;)(!v||v&&void 0===a[g[y]])&&(a[g[y]]=l[g[y]]),y++;return a},"extend","Use `assign`."),xx=F_(function(a,l){return Sm(a,l,!0)},"merge","Use `assign`.");function $v(a,l,v){var y,g=l.prototype;(y=a.prototype=Object.create(g)).constructor=a,y._super=g,v&&Sa(y,v)}function B_(a,l){return function(){return a.apply(l,arguments)}}var Ix=function(){var a=function(v,g){return void 0===g&&(g={}),new _m(v,li({recognizers:N_.concat()},g))};return a.VERSION="2.0.17-rc",a.DIRECTION_ALL=k_,a.DIRECTION_DOWN=$o,a.DIRECTION_LEFT=Eh,a.DIRECTION_RIGHT=Rs,a.DIRECTION_UP=js,a.DIRECTION_HORIZONTAL=ci,a.DIRECTION_VERTICAL=Fs,a.DIRECTION_NONE=Sv,a.DIRECTION_DOWN=$o,a.INPUT_START=Yr,a.INPUT_MOVE=Ns,a.INPUT_END=Jt,a.INPUT_CANCEL=wn,a.STATE_POSSIBLE=hi,a.STATE_BEGAN=Mn,a.STATE_CHANGED=El,a.STATE_ENDED=$a,a.STATE_RECOGNIZED=Mo,a.STATE_CANCELLED=Ih,a.STATE_FAILED=Vi,a.Manager=_m,a.Input=Ca,a.TouchAction=om,a.TouchInput=nt,a.MouseInput=vm,a.PointerEventInput=K,a.TouchMouseInput=gm,a.SingleTouchInput=Om,a.Recognizer=Ph,a.AttrRecognizer=Hs,a.Tap=ym,a.Pan=mm,a.Swipe=$_,a.Pinch=bm,a.Rotate=D_,a.Press=A_,a.on=rr,a.off=bl,a.each=Do,a.merge=xx,a.extend=Sm,a.bindFn=B_,a.assign=Sa,a.inherit=$v,a.bindFn=B_,a.prefixed=An,a.toArray=xh,a.inArray=zs,a.uniqueArray=Th,a.splitStr=Sh,a.boolOrFn=ml,a.hasParent=kh,a.addEventListeners=rr,a.removeEventListeners=bl,a.defaults=Sa({},M_,{preset:N_}),a}();function L_(a,l){var v=typeof Is<"u"&&qn(a)||a["@@iterator"];if(!v){if(cr(a)||(v=Px(a))||l&&a&&"number"==typeof a.length){v&&(a=v);var g=0,y=function(){};return{s:y,n:function(){return g>=a.length?{done:!0}:{done:!1,value:a[g++]}},e:function(M){throw M},f:y}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var P,w=!0,O=!1;return{s:function(){v=v.call(a)},n:function(){var M=v.next();return w=M.done,M},e:function(M){O=!0,P=M},f:function(){try{!w&&null!=v.return&&v.return()}finally{if(O)throw P}}}}function Px(a,l){var v;if(a){if("string"==typeof a)return z_(a,l);var g=ba(v=Object.prototype.toString.call(a)).call(v,8,-1);if("Object"===g&&a.constructor&&(g=a.constructor.name),"Map"===g||"Set"===g)return Bf(a);if("Arguments"===g||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(g))return z_(a,l)}}function z_(a,l){(null==l||l>a.length)&&(l=a.length);for(var v=0,g=new Array(l);v<l;v++)g[v]=a[v];return g}var kl=Is("DELETE");function Cx(a){for(var l,v=arguments.length,g=new Array(v>1?v-1:0),y=1;y<v;y++)g[y-1]=arguments[y];return di.apply(void 0,ah(l=[{},a]).call(l,g))}function di(){var a=$h.apply(void 0,arguments);return Dv(a),a}function $h(){for(var a=arguments.length,l=new Array(a),v=0;v<a;v++)l[v]=arguments[v];if(l.length<2)return l[0];var g;if(l.length>2)return $h.apply(void 0,ah(g=[di(l[0],l[1])]).call(g,Ar(ba(l).call(l,2))));var P,y=l[0],w=l[1],O=L_(sh(w));try{for(O.s();!(P=O.n()).done;){var x=P.value;Object.prototype.propertyIsEnumerable.call(w,x)&&(w[x]===kl?delete y[x]:null===y[x]||null===w[x]||"object"!==mr(y[x])||"object"!==mr(w[x])||cr(y[x])||cr(w[x])?y[x]=xm(w[x]):y[x]=$h(y[x],w[x]))}}catch(M){O.e(M)}finally{O.f()}return y}function xm(a){return cr(a)?Cn(a).call(a,function(l){return xm(l)}):"object"===mr(a)&&null!==a?$h({},a):a}function Dv(a){for(var l=0,v=rv(a);l<v.length;l++){var g=v[l];a[g]===kl?delete a[g]:"object"===mr(a[g])&&null!==a[g]&&Dv(a[g])}}function $x(){var a=function(){};return{on:a,off:a,destroy:a,emit:a,get:function(){return{set:a}}}}var Dx=typeof window<"u"?window.Hammer||Ix:function(){return $x()};function qi(a){var v,l=this;this._cleanupQueue=[],this.active=!1,this._dom={container:a,overlay:document.createElement("div")},this._dom.overlay.classList.add("vis-overlay"),this._dom.container.appendChild(this._dom.overlay),this._cleanupQueue.push(function(){l._dom.overlay.parentNode.removeChild(l._dom.overlay)});var g=Dx(this._dom.overlay);g.on("tap",da(v=this._onTapOverlay).call(v,this)),this._cleanupQueue.push(function(){g.destroy()});var y=["tap","doubletap","press","pinch","pan","panstart","panmove","panend"];je(y).call(y,function(w){g.on(w,function(O){O.srcEvent.stopPropagation()})}),document&&document.body&&(this._onClick=function(w){Lt(w.target,a)||l.deactivate()},document.body.addEventListener("click",this._onClick),this._cleanupQueue.push(function(){document.body.removeEventListener("click",l._onClick)})),this._escListener=function(w){("key"in w?"Escape"===w.key:27===w.keyCode)&&l.deactivate()}}function Lt(a,l){for(;a;){if(a===l)return!0;a=a.parentNode}return!1}dx(qi.prototype),qi.current=null,qi.prototype.destroy=function(){var a,l;this.deactivate();var g,v=L_(Ay(a=Nr(l=this._cleanupQueue).call(l,0)).call(a));try{for(v.s();!(g=v.n()).done;)(0,g.value)()}catch(w){v.e(w)}finally{v.f()}},qi.prototype.activate=function(){qi.current&&qi.current.deactivate(),qi.current=this,this.active=!0,this._dom.overlay.style.display="none",this._dom.container.classList.add("vis-active"),this.emit("change"),this.emit("activate"),document.body.addEventListener("keydown",this._escListener)},qi.prototype.deactivate=function(){this.active=!1,this._dom.overlay.style.display="block",this._dom.container.classList.remove("vis-active"),document.body.removeEventListener("keydown",this._escListener),this.emit("change"),this.emit("deactivate")},qi.prototype._onTapOverlay=function(a){this.activate(),a.srcEvent.stopPropagation()};var Ax=gd,Mx=Ei,H_=TypeError,W_=function(a){if(Ax(a))return a;throw H_(Mx(a)+" is not a constructor")},Nx=Me,Tm=gi,Rx=qw,Im=W_,jx=er,Pm=ut,Cm=Ja,$m=re,Av=Zt("Reflect","construct"),Dm=Object.prototype,V_=[].push,Mv=$m(function(){function a(){}return!(Av(function(){},[],a)instanceof a)}),Nv=!$m(function(){Av(function(){})}),No=Mv||Nv;Nx({target:"Reflect",stat:!0,forced:No,sham:No},{construct:function(l,v){Im(l),jx(v);var g=arguments.length<3?l:Im(arguments[2]);if(Nv&&!Mv)return Av(l,v,g);if(l==g){switch(v.length){case 0:return new l;case 1:return new l(v[0]);case 2:return new l(v[0],v[1]);case 3:return new l(v[0],v[1],v[2]);case 4:return new l(v[0],v[1],v[2],v[3])}var y=[null];return Tm(V_,y,v),new(Tm(Rx,l,y))}var w=g.prototype,O=Cm(Pm(w)?w:Dm),P=Tm(l,O,v);return Pm(P)?P:O}});var Ro=X(qe.Reflect.construct);function Rn(a){if(void 0===a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}var K_=u_,X_=X(K_);Me({target:"Object",stat:!0},{setPrototypeOf:Pr});var Bv=qe.Object.setPrototypeOf,Mm=X(Bv),Q_=X(Hg);function Rh(a,l){var v;return(Rh=Mm?Q_(v=Mm).call(v):function(y,w){return y.__proto__=w,y})(a,l)}function Nm(a,l){if("function"!=typeof l&&null!==l)throw new TypeError("Super expression must either be null or a function");a.prototype=X_(l&&l.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),ql(a,"prototype",{writable:!1}),l&&Rh(a,l)}function Sl(a,l){if(l&&("object"===mr(l)||"function"==typeof l))return l;if(void 0!==l)throw new TypeError("Derived constructors may only return object or undefined");return Rn(a)}var zv=o_,Hv=X(zv);function Us(a){var l;return(Us=Mm?Q_(l=Hv).call(l):function(g){return g.__proto__||Hv(g)})(a)}var Gi={exports:{}},Fm={exports:{}};!function(a){var l=ha,v=Dg;function g(y){return a.exports=g="function"==typeof l&&"symbol"==typeof v?function(w){return typeof w}:function(w){return w&&"function"==typeof l&&w.constructor===l&&w!==l.prototype?"symbol":typeof w},a.exports.__esModule=!0,a.exports.default=a.exports,g(y)}a.exports=g,a.exports.__esModule=!0,a.exports.default=a.exports}(Fm);var eE=Fm.exports,rE=To,s=We,c=pa,d=jr,p=Sn,m=function(a,l,v){for(var g=c(l),y=p.f,w=d.f,O=0;O<g.length;O++){var P=g[O];!s(a,P)&&(!v||!s(v,P))&&y(a,P,w(l,P))}},_=ut,S=Gt,T=function(a,l){_(l)&&"cause"in l&&S(a,"cause",l.cause)},A=Error,z=ct("".replace),B=String(A("zxcasd").stack),q=/\n\s*at [^:]*:[^\n]*/,ae=q.test(B),ve=function(a,l){if(ae&&"string"==typeof a&&!A.prepareStackTrace)for(;l--;)a=z(a,q,"");return a},ke=bi,Fe=!re(function(){var a=Error("a");return!("stack"in a)||(Object.defineProperty(a,"stack",ke(1,7)),7!==a.stack)}),Te=Gt,vt=ve,Xe=Fe,Tt=Error.captureStackTrace,Yi=function(a,l,v,g){Xe&&(Tt?Tt(a,l):Te(a,"stack",vt(v,g)))},zt=ti,_n=Vt,vr=er,Xr=Ei,Fh=Hc,Vs=xn,Ki=Rt,Lm=hn,Bh=Wc,nE=Vr,zm=TypeError,Lh=function(a,l){this.stopped=a,this.result=l},jo=Lh.prototype,Kn=function(a,l,v){var M,R,j,H,V,pe,Ne,g=v&&v.that,y=!(!v||!v.AS_ENTRIES),w=!(!v||!v.IS_RECORD),O=!(!v||!v.IS_ITERATOR),P=!(!v||!v.INTERRUPTED),x=zt(l,g),Le=function(it){return M&&nE(M,"normal",it),new Lh(!0,it)},Qe=function(it){return y?(vr(it),P?x(it[0],it[1],Le):x(it[0],it[1])):P?x(it,Le):x(it)};if(w)M=a.iterator;else if(O)M=a;else{if(!(R=Bh(a)))throw zm(Xr(a)+" is not iterable");if(Fh(R)){for(j=0,H=Vs(a);H>j;j++)if((V=Qe(a[j]))&&Ki(jo,V))return V;return new Lh(!1)}M=Lm(a,R)}for(pe=w?a.next:M.next;!(Ne=_n(pe,M)).done;){try{V=Qe(Ne.value)}catch(it){nE(M,"throw",it)}if("object"==typeof V&&V&&Ki(jo,V))return V}return new Lh(!1)},Wv=an,zh=function(a,l){return void 0===a?arguments.length<2?"":l:Wv(a)},ie=Me,Q=Rt,te=Oc,Ae=Pr,we=m,lt=Ja,It=Gt,Ge=bi,Jr=T,Da=Yi,xl=Kn,Aa=zh,UT=$t("toStringTag"),Hm=Error,mT=[].push,Uv=function(l,v){var y,g=Q(iE,this);Ae?y=Ae(Hm(),g?te(this):iE):(y=g?this:lt(iE),It(y,UT,"Error")),void 0!==v&&It(y,"message",Aa(v)),Da(y,Uv,y.stack,1),arguments.length>2&&Jr(y,arguments[2]);var w=[];return xl(l,mT,{that:w}),It(y,"errors",w),y};Ae?Ae(Uv,Hm):we(Uv,Hm,{name:!0});var iE=Uv.prototype=lt(Hm.prototype,{constructor:Ge(1,Uv),message:Ge(1,""),name:Ge(1,"AggregateError")});ie({global:!0,constructor:!0,arity:2},{AggregateError:Uv});var Um,Wh,aT,uE,VT=Zt,Xx=Yt,GT=Ot,bT=$t("species"),Jx=function(a){var l=VT(a);GT&&l&&!l[bT]&&Xx(l,bT,{configurable:!0,get:function(){return this}})},YT=Rt,KT=TypeError,oE=function(a,l){if(YT(l,a))return a;throw KT("Incorrect invocation")},wT=er,XT=W_,_T=xr,QT=$t("species"),Qx=function(a,l){var g,v=wT(a).constructor;return void 0===v||_T(g=wT(v)[QT])?l:XT(g)},ZT=wi,Zx=/(?:ipad|iphone|ipod).*applewebkit/i.test(ZT),jn=ye,eI=gi,tI=ti,eT=bt,rI=We,tT=re,rT=Qb,Tl=Du,nT=ip,nI=gv,iI=Zx,oI=bo,iT=jn.setImmediate,aE=jn.clearImmediate,aI=jn.process,oT=jn.Dispatch,sI=jn.Function,sE=jn.MessageChannel,uI=jn.String,Hh=0,Wm={},ET="onreadystatechange";tT(function(){Um=jn.location});var sT=function(a){if(rI(Wm,a)){var l=Wm[a];delete Wm[a],l()}},uT=function(a){return function(){sT(a)}},kT=function(a){sT(a.data)},OT=function(a){jn.postMessage(uI(a),Um.protocol+"//"+Um.host)};(!iT||!aE)&&(iT=function(l){nI(arguments.length,1);var v=eT(l)?l:sI(l),g=Tl(arguments,1);return Wm[++Hh]=function(){eI(v,void 0,g)},Wh(Hh),Hh},aE=function(l){delete Wm[l]},oI?Wh=function(a){aI.nextTick(uT(a))}:oT&&oT.now?Wh=function(a){oT.now(uT(a))}:sE&&!iI?(aT=new sE,uE=aT.port2,aT.port1.onmessage=kT,Wh=tI(uE.postMessage,uE)):jn.addEventListener&&eT(jn.postMessage)&&!jn.importScripts&&Um&&"file:"!==Um.protocol&&!tT(OT)?(Wh=OT,jn.addEventListener("message",kT,!1)):Wh=ET in nT("script")?function(a){rT.appendChild(nT("script"))[ET]=function(){rT.removeChild(this),sT(a)}}:function(a){setTimeout(uT(a),0)});var ST={set:iT,clear:aE},xT=function(){this.head=null,this.tail=null};xT.prototype={add:function(a){var l={item:a,next:null},v=this.tail;v?v.next=l:this.head=l,this.tail=l},get:function(){var a=this.head;if(a)return null===(this.head=a.next)&&(this.tail=null),a.item}};var Vv,hE,fT,le,ne,lE=xT,lI=wi,TT=/ipad|iphone|ipod/i.test(lI)&&typeof Pebble<"u",IT=wi,PT=/web0s(?!.*chrome)/i.test(IT),Uh=ye,CT=ti,cI=jr.f,lT=ST.set,hI=lE,dI=Zx,cT=TT,fI=PT,cE=bo,$T=Uh.MutationObserver||Uh.WebKitMutationObserver,hT=Uh.document,DT=Uh.process,Vm=Uh.Promise,AT=cI(Uh,"queueMicrotask"),dT=AT&&AT.value;if(!dT){var U=new hI,Il=function(){var a,l;for(cE&&(a=DT.domain)&&a.exit();l=U.get();)try{l()}catch(v){throw U.head&&Vv(),v}a&&a.enter()};dI||cE||fI||!$T||!hT?!cT&&Vm&&Vm.resolve?((le=Vm.resolve(void 0)).constructor=Vm,ne=CT(le.then,le),Vv=function(){ne(Il)}):cE?Vv=function(){DT.nextTick(Il)}:(lT=CT(lT,Uh),Vv=function(){lT(Il)}):(hE=!0,fT=hT.createTextNode(""),new $T(Il).observe(fT,{characterData:!0}),Vv=function(){fT.data=hE=!hE}),dT=function(a){U.head||Vv(),U.add(a)}}var Oe=dT,vT=function(a,l){try{1==arguments.length?console.error(a):console.error(a,l)}catch{}},Pl=function(a){try{return{error:!1,value:a()}}catch(l){return{error:!0,value:l}}},Cl=ye.Promise,pT="object"==typeof Deno&&Deno&&"object"==typeof Deno.version,pI=bo,gI=!pT&&!pI&&"object"==typeof window&&"object"==typeof document,_e=ye,qm=Cl,n=bt,e=ou,t=pu,r=$t,i=gI,o=pT,u=Js,h=qm&&qm.prototype,f=r("species"),b=!1,E=n(_e.PromiseRejectionEvent),I={CONSTRUCTOR:e("Promise",function(){var a=t(qm),l=a!==String(qm);if(!l&&66===u||!h.catch||!h.finally)return!0;if(!u||u<51||!/native code/.test(a)){var v=new qm(function(w){w(1)}),g=function(w){w(function(){},function(){})};if((v.constructor={})[f]=g,!(b=v.then(function(){})instanceof g))return!0}return!l&&(i||o)&&!E}),REJECTION_EVENT:E,SUBCLASSING:b},$={},D=Tr,N=TypeError,W=function(a){var l,v;this.promise=new a(function(g,y){if(void 0!==l||void 0!==v)throw N("Bad Promise constructor");l=g,v=y}),this.resolve=D(l),this.reject=D(v)};$.f=function(a){return new W(a)};var Y=Me,J=bo,ue=ye,he=Vt,Pe=ri,Je=es,Ve=Jx,Be=Tr,Se=bt,kt=ut,st=oE,xt=Qx,Nt=ST.set,Ut=Oe,Xi=vT,kr=Pl,dE=lE,GI=na,yI=Cl,mI=I,YI=$,NT="Promise",KI=mI.CONSTRUCTOR,nC=mI.REJECTION_EVENT;mI.SUBCLASSING;var RT,tP,cC,bI=GI.getterFor(NT),iC=GI.set,oC=yI&&yI.prototype,fE=yI,wI=oC,XI=ue.TypeError,_I=ue.document,EI=ue.process,kI=YI.f,aC=kI,sC=!!(_I&&_I.createEvent&&ue.dispatchEvent),JI="unhandledrejection",uC="rejectionhandled",QI=0,ZI=1,lC=2,OI=1,eP=2,rP=function(a){var l;return!(!kt(a)||!Se(l=a.then))&&l},nP=function(a,l){var x,M,R,v=l.value,g=l.state==ZI,y=g?a.ok:a.fail,w=a.resolve,O=a.reject,P=a.domain;try{y?(g||(l.rejection===eP&&dC(l),l.rejection=OI),!0===y?x=v:(P&&P.enter(),x=y(v),P&&(P.exit(),R=!0)),x===a.promise?O(XI("Promise-chain cycle")):(M=rP(x))?he(M,x,w,O):w(x)):O(v)}catch(j){P&&!R&&P.exit(),O(j)}},iP=function(a,l){a.notified||(a.notified=!0,Ut(function(){for(var g,v=a.reactions;g=v.get();)nP(g,a);a.notified=!1,l&&!a.rejection&&hC(a)}))},oP=function(a,l,v){var g,y;sC?((g=_I.createEvent("Event")).promise=l,g.reason=v,g.initEvent(a,!1,!0),ue.dispatchEvent(g)):g={promise:l,reason:v},!nC&&(y=ue["on"+a])?y(g):a===JI&&Xi("Unhandled promise rejection",v)},hC=function(a){he(Nt,ue,function(){var y,l=a.facade,v=a.value;if(aP(a)&&(y=kr(function(){J?EI.emit("unhandledRejection",v,l):oP(JI,l,v)}),a.rejection=J||aP(a)?eP:OI,y.error))throw y.value})},aP=function(a){return a.rejection!==OI&&!a.parent},dC=function(a){he(Nt,ue,function(){var l=a.facade;J?EI.emit("rejectionHandled",l):oP(uC,l,a.value)})},vE=function(a,l,v){return function(g){a(l,g,v)}},pE=function(a,l,v){a.done||(a.done=!0,v&&(a=v),a.value=l,a.state=lC,iP(a,!0))},SI=function(a,l,v){if(!a.done){a.done=!0,v&&(a=v);try{if(a.facade===l)throw XI("Promise can't be resolved itself");var g=rP(l);g?Ut(function(){var y={done:!1};try{he(g,l,vE(SI,y,a),vE(pE,y,a))}catch(w){pE(y,w,a)}}):(a.value=l,a.state=ZI,iP(a,!1))}catch(y){pE({done:!1},y,a)}}};KI&&(wI=(fE=function(l){st(this,wI),Be(l),he(RT,this);var v=bI(this);try{l(vE(SI,v),vE(pE,v))}catch(g){pE(v,g)}}).prototype,(RT=function(l){iC(this,{type:NT,done:!1,notified:!1,parent:!1,reactions:new dE,rejection:!1,state:QI,value:void 0})}).prototype=Pe(wI,"then",function(l,v){var g=bI(this),y=kI(xt(this,fE));return g.parent=!0,y.ok=!Se(l)||l,y.fail=Se(v)&&v,y.domain=J?EI.domain:void 0,g.state==QI?g.reactions.add(y):Ut(function(){nP(y,g)}),y.promise}),tP=function(){var a=new RT,l=bI(a);this.promise=a,this.resolve=vE(SI,l),this.reject=vE(pE,l)},YI.f=kI=function(a){return a===fE||a===cC?new tP(a):aC(a)}),Y({global:!0,constructor:!0,wrap:!0,forced:KI},{Promise:fE}),Je(fE,NT,!1,!0),Ve(NT);var fC=Cl,vC=ds,jT=I.CONSTRUCTOR||!vC(function(a){fC.all(a).then(void 0,function(){})}),yC=Vt,mC=Tr,bC=$,wC=Pl,_C=Kn;Me({target:"Promise",stat:!0,forced:jT},{all:function(l){var v=this,g=bC.f(v),y=g.resolve,w=g.reject,O=wC(function(){var P=mC(v.resolve),x=[],M=0,R=1;_C(l,function(j){var H=M++,V=!1;R++,yC(P,v,j).then(function(pe){V||(V=!0,x[H]=pe,--R||y(x))},w)}),--R||y(x)});return O.error&&w(O.value),g.promise}});var kC=Me,OC=I.CONSTRUCTOR,sP=Cl;sP&&sP.prototype,kC({target:"Promise",proto:!0,forced:OC,real:!0},{catch:function(a){return this.then(void 0,a)}});var xC=Vt,TC=Tr,IC=$,PC=Pl,CC=Kn;Me({target:"Promise",stat:!0,forced:jT},{race:function(l){var v=this,g=IC.f(v),y=g.reject,w=PC(function(){var O=TC(v.resolve);CC(l,function(P){xC(O,v,P).then(g.resolve,y)})});return w.error&&y(w.value),g.promise}});var DC=Me,AC=Vt,MC=$,NC=I.CONSTRUCTOR;DC({target:"Promise",stat:!0,forced:NC},{reject:function(l){var v=MC.f(this);return AC(v.reject,void 0,l),v.promise}});var RC=er,jC=ut,FC=$,uP=function(a,l){if(RC(a),jC(l)&&l.constructor===a)return l;var v=FC.f(a);return(0,v.resolve)(l),v.promise},BC=Me,LC=Zt,zC=tn,HC=Cl,WC=I.CONSTRUCTOR,UC=uP,VC=LC("Promise"),qC=!WC;BC({target:"Promise",stat:!0,forced:zC},{resolve:function(l){return UC(qC&&this===VC?HC:this,l)}});var YC=Vt,KC=Tr,XC=$,JC=Pl,QC=Kn;Me({target:"Promise",stat:!0,forced:jT},{allSettled:function(l){var v=this,g=XC.f(v),y=g.resolve,w=g.reject,O=JC(function(){var P=KC(v.resolve),x=[],M=0,R=1;QC(l,function(j){var H=M++,V=!1;R++,YC(P,v,j).then(function(pe){V||(V=!0,x[H]={status:"fulfilled",value:pe},--R||y(x))},function(pe){V||(V=!0,x[H]={status:"rejected",reason:pe},--R||y(x))})}),--R||y(x)});return O.error&&w(O.value),g.promise}});var t$=Vt,r$=Tr,n$=Zt,i$=$,o$=Pl,a$=Kn,lP="No one promise resolved";Me({target:"Promise",stat:!0,forced:jT},{any:function(l){var v=this,g=n$("AggregateError"),y=i$.f(v),w=y.resolve,O=y.reject,P=o$(function(){var x=r$(v.resolve),M=[],R=0,j=1,H=!1;a$(l,function(V){var pe=R++,Ne=!1;j++,t$(x,v,V).then(function(Le){Ne||H||(H=!0,w(Le))},function(Le){Ne||H||(Ne=!0,M[pe]=Le,--j||O(new g(M,lP)))})}),--j||O(new g(M,lP))});return P.error&&O(P.value),y.promise}});var u$=Me,xI=Cl,l$=re,c$=Zt,h$=bt,d$=Qx,cP=uP,f$=xI&&xI.prototype,v$=!!xI&&l$(function(){f$.finally.call({then:function(){}},function(){})});u$({target:"Promise",proto:!0,real:!0,forced:v$},{finally:function(a){var l=d$(this,c$("Promise")),v=h$(a);return this.then(v?function(g){return cP(l,a()).then(function(){return g})}:a,v?function(g){return cP(l,a()).then(function(){throw g})}:a)}});var w$=qe.Promise,E$=$,k$=Pl;Me({target:"Promise",stat:!0,forced:!0},{try:function(a){var l=E$.f(this),v=k$(a);return(v.error?l.reject:l.resolve)(v.value),l.promise}});var T$=w$,A$=W1;!function(a){var l=eE.default,v=Yo,g=ha,y=K_,w=zv,O=rE,P=Bv,x=T$,M=A$,R=Xf;function j(){a.exports=j=function(){return H},a.exports.__esModule=!0,a.exports.default=a.exports;var H={},V=Object.prototype,pe=V.hasOwnProperty,Ne=v||function(me,se,fe){me[se]=fe.value},Le="function"==typeof g?g:{},Qe=Le.iterator||"@@iterator",it=Le.asyncIterator||"@@asyncIterator",En=Le.toStringTag||"@@toStringTag";function mt(me,se,fe){return v(me,se,{value:fe,enumerable:!0,configurable:!0,writable:!0}),me[se]}try{mt({},"")}catch{mt=function(fe,Ce,Ze){return fe[Ce]=Ze}}function Xn(me,se,fe,Ce){var Ze=se&&se.prototype instanceof Fo?se:Fo,He=y(Ze.prototype),Or=new UI(Ce||[]);return Ne(He,"_invoke",{value:LM(me,fe,Or)}),He}function Jn(me,se,fe){try{return{type:"normal",arg:me.call(se,fe)}}catch(Ce){return{type:"throw",arg:Ce}}}H.wrap=Xn;var Bn={};function Fo(){}function Dl(){}function Ma(){}var qh={};mt(qh,Qe,function(){return this});var gE=w&&w(w(VI([])));gE&&gE!==V&&pe.call(gE,Qe)&&(qh=gE);var Yh=Ma.prototype=Fo.prototype=y(qh);function GP(me){var se;O(se=["next","throw","return"]).call(se,function(fe){mt(me,fe,function(Ce){return this._invoke(fe,Ce)})})}function WT(me,se){function fe(Ze,He,Or,vi){var Qi=Jn(me[Ze],me,He);if("throw"!==Qi.type){var Km=Qi.arg,Gv=Km.value;return Gv&&"object"==l(Gv)&&pe.call(Gv,"__await")?se.resolve(Gv.__await).then(function(Xm){fe("next",Xm,Or,vi)},function(Xm){fe("throw",Xm,Or,vi)}):se.resolve(Gv).then(function(Xm){Km.value=Xm,Or(Km)},function(Xm){return fe("throw",Xm,Or,vi)})}vi(Qi.arg)}var Ce;Ne(this,"_invoke",{value:function(He,Or){function vi(){return new se(function(Qi,Km){fe(He,Or,Qi,Km)})}return Ce=Ce?Ce.then(vi,vi):vi()}})}function LM(me,se,fe){var Ce="suspendedStart";return function(Ze,He){if("executing"===Ce)throw new Error("Generator is already running");if("completed"===Ce){if("throw"===Ze)throw He;return KP()}for(fe.method=Ze,fe.arg=He;;){var Or=fe.delegate;if(Or){var vi=YP(Or,fe);if(vi){if(vi===Bn)continue;return vi}}if("next"===fe.method)fe.sent=fe._sent=fe.arg;else if("throw"===fe.method){if("suspendedStart"===Ce)throw Ce="completed",fe.arg;fe.dispatchException(fe.arg)}else"return"===fe.method&&fe.abrupt("return",fe.arg);Ce="executing";var Qi=Jn(me,se,fe);if("normal"===Qi.type){if(Ce=fe.done?"completed":"suspendedYield",Qi.arg===Bn)continue;return{value:Qi.arg,done:fe.done}}"throw"===Qi.type&&(Ce="completed",fe.method="throw",fe.arg=Qi.arg)}}}function YP(me,se){var fe=se.method,Ce=me.iterator[fe];if(void 0===Ce)return se.delegate=null,"throw"===fe&&me.iterator.return&&(se.method="return",se.arg=void 0,YP(me,se),"throw"===se.method)||"return"!==fe&&(se.method="throw",se.arg=new TypeError("The iterator does not provide a '"+fe+"' method")),Bn;var Ze=Jn(Ce,me.iterator,se.arg);if("throw"===Ze.type)return se.method="throw",se.arg=Ze.arg,se.delegate=null,Bn;var He=Ze.arg;return He?He.done?(se[me.resultName]=He.value,se.next=me.nextLoc,"return"!==se.method&&(se.method="next",se.arg=void 0),se.delegate=null,Bn):He:(se.method="throw",se.arg=new TypeError("iterator result is not an object"),se.delegate=null,Bn)}function zM(me){var se={tryLoc:me[0]};1 in me&&(se.catchLoc=me[1]),2 in me&&(se.finallyLoc=me[2],se.afterLoc=me[3]),this.tryEntries.push(se)}function WI(me){var se=me.completion||{};se.type="normal",delete se.arg,me.completion=se}function UI(me){this.tryEntries=[{tryLoc:"root"}],O(me).call(me,zM,this),this.reset(!0)}function VI(me){if(me){var se=me[Qe];if(se)return se.call(me);if("function"==typeof me.next)return me;if(!isNaN(me.length)){var fe=-1,Ce=function Ze(){for(;++fe<me.length;)if(pe.call(me,fe))return Ze.value=me[fe],Ze.done=!1,Ze;return Ze.value=void 0,Ze.done=!0,Ze};return Ce.next=Ce}}return{next:KP}}function KP(){return{value:void 0,done:!0}}return Dl.prototype=Ma,Ne(Yh,"constructor",{value:Ma,configurable:!0}),Ne(Ma,"constructor",{value:Dl,configurable:!0}),Dl.displayName=mt(Ma,En,"GeneratorFunction"),H.isGeneratorFunction=function(me){var se="function"==typeof me&&me.constructor;return!!se&&(se===Dl||"GeneratorFunction"===(se.displayName||se.name))},H.mark=function(me){return P?P(me,Ma):(me.__proto__=Ma,mt(me,En,"GeneratorFunction")),me.prototype=y(Yh),me},H.awrap=function(me){return{__await:me}},GP(WT.prototype),mt(WT.prototype,it,function(){return this}),H.AsyncIterator=WT,H.async=function(me,se,fe,Ce,Ze){void 0===Ze&&(Ze=x);var He=new WT(Xn(me,se,fe,Ce),Ze);return H.isGeneratorFunction(se)?He:He.next().then(function(Or){return Or.done?Or.value:He.next()})},GP(Yh),mt(Yh,En,"Generator"),mt(Yh,Qe,function(){return this}),mt(Yh,"toString",function(){return"[object Generator]"}),H.keys=function(me){var se=Object(me),fe=[];for(var Ce in se)fe.push(Ce);return M(fe).call(fe),function Ze(){for(;fe.length;){var He=fe.pop();if(He in se)return Ze.value=He,Ze.done=!1,Ze}return Ze.done=!0,Ze}},H.values=VI,UI.prototype={constructor:UI,reset:function(se){var fe;if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,O(fe=this.tryEntries).call(fe,WI),!se)for(var Ce in this)"t"===Ce.charAt(0)&&pe.call(this,Ce)&&!isNaN(+R(Ce).call(Ce,1))&&(this[Ce]=void 0)},stop:function(){this.done=!0;var se=this.tryEntries[0].completion;if("throw"===se.type)throw se.arg;return this.rval},dispatchException:function(se){if(this.done)throw se;var fe=this;function Ce(Km,Gv){return Or.type="throw",Or.arg=se,fe.next=Km,Gv&&(fe.method="next",fe.arg=void 0),!!Gv}for(var Ze=this.tryEntries.length-1;Ze>=0;--Ze){var He=this.tryEntries[Ze],Or=He.completion;if("root"===He.tryLoc)return Ce("end");if(He.tryLoc<=this.prev){var vi=pe.call(He,"catchLoc"),Qi=pe.call(He,"finallyLoc");if(vi&&Qi){if(this.prev<He.catchLoc)return Ce(He.catchLoc,!0);if(this.prev<He.finallyLoc)return Ce(He.finallyLoc)}else if(vi){if(this.prev<He.catchLoc)return Ce(He.catchLoc,!0)}else{if(!Qi)throw new Error("try statement without catch or finally");if(this.prev<He.finallyLoc)return Ce(He.finallyLoc)}}}},abrupt:function(se,fe){for(var Ce=this.tryEntries.length-1;Ce>=0;--Ce){var Ze=this.tryEntries[Ce];if(Ze.tryLoc<=this.prev&&pe.call(Ze,"finallyLoc")&&this.prev<Ze.finallyLoc){var He=Ze;break}}He&&("break"===se||"continue"===se)&&He.tryLoc<=fe&&fe<=He.finallyLoc&&(He=null);var Or=He?He.completion:{};return Or.type=se,Or.arg=fe,He?(this.method="next",this.next=He.finallyLoc,Bn):this.complete(Or)},complete:function(se,fe){if("throw"===se.type)throw se.arg;return"break"===se.type||"continue"===se.type?this.next=se.arg:"return"===se.type?(this.rval=this.arg=se.arg,this.method="return",this.next="end"):"normal"===se.type&&fe&&(this.next=fe),Bn},finish:function(se){for(var fe=this.tryEntries.length-1;fe>=0;--fe){var Ce=this.tryEntries[fe];if(Ce.finallyLoc===se)return this.complete(Ce.completion,Ce.afterLoc),WI(Ce),Bn}},catch:function(se){for(var fe=this.tryEntries.length-1;fe>=0;--fe){var Ce=this.tryEntries[fe];if(Ce.tryLoc===se){var Ze=Ce.completion;if("throw"===Ze.type){var He=Ze.arg;WI(Ce)}return He}}throw new Error("illegal catch attempt")},delegateYield:function(se,fe,Ce){return this.delegate={iterator:VI(se),resultName:fe,nextLoc:Ce},"next"===this.method&&(this.arg=void 0),Bn}},H}a.exports=j,a.exports.__esModule=!0,a.exports.default=a.exports}(Gi);var FT=(0,Gi.exports)(),N$=FT;try{regeneratorRuntime=FT}catch{"object"==typeof globalThis?globalThis.regeneratorRuntime=FT:Function("r","regeneratorRuntime = r")(FT)}var Ji=X(N$),hP={exports:{}},j$=re(function(){if("function"==typeof ArrayBuffer){var a=new ArrayBuffer(8);Object.isExtensible(a)&&Object.defineProperty(a,"a",{value:8})}}),F$=re,B$=ut,L$=Qn,dP=j$,BT=Object.isExtensible,H$=F$(function(){BT(1)})||dP?function(l){return!(!B$(l)||dP&&"ArrayBuffer"==L$(l))&&(!BT||BT(l))}:BT,U$=!re(function(){return Object.isExtensible(Object.preventExtensions({}))}),V$=Me,q$=ct,G$=bu,Y$=ut,TI=We,K$=Sn.f,fP=Qa,X$=ea,II=H$,Q$=U$,vP=!1,Vh=td("meta"),Z$=0,PI=function(a){K$(a,Vh,{value:{objectID:"O"+Z$++,weakData:{}}})},eD=function(a,l){if(!Y$(a))return"symbol"==typeof a?a:("string"==typeof a?"S":"P")+a;if(!TI(a,Vh)){if(!II(a))return"F";if(!l)return"E";PI(a)}return a[Vh].objectID},tD=function(a,l){if(!TI(a,Vh)){if(!II(a))return!0;if(!l)return!1;PI(a)}return a[Vh].weakData},rD=function(a){return Q$&&vP&&II(a)&&!TI(a,Vh)&&PI(a),a},nD=function(){iD.enable=function(){},vP=!0;var a=fP.f,l=q$([].splice),v={};v[Vh]=1,a(v).length&&(fP.f=function(g){for(var y=a(g),w=0,O=y.length;w<O;w++)if(y[w]===Vh){l(y,w,1);break}return y},V$({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:X$.f}))},iD=hP.exports={enable:nD,fastKey:eD,getWeakData:tD,onFreeze:rD};G$[Vh]=!0;var pP=hP.exports,oD=Me,aD=ye,sD=pP,uD=re,lD=Gt,cD=Kn,hD=oE,dD=bt,fD=ut,vD=es,pD=Sn.f,gD=rs.forEach,yD=Ot,gP=na,mD=gP.set,bD=gP.getterFor,yP=function(a,l,v){var M,g=-1!==a.indexOf("Map"),y=-1!==a.indexOf("Weak"),w=g?"set":"add",O=aD[a],P=O&&O.prototype,x={};if(yD&&dD(O)&&(y||P.forEach&&!uD(function(){(new O).entries().next()}))){var R=(M=l(function(H,V){mD(hD(H,R),{type:a,collection:new O}),null!=V&&cD(V,H[w],{that:H,AS_ENTRIES:g})})).prototype,j=bD(a);gD(["add","clear","delete","forEach","get","has","set","keys","values","entries"],function(H){var V="add"==H||"set"==H;H in P&&(!y||"clear"!=H)&&lD(R,H,function(pe,Ne){var Le=j(this).collection;if(!V&&y&&!fD(pe))return"get"==H&&void 0;var Qe=Le[H](0===pe?0:pe,Ne);return V?this:Qe})}),y||pD(R,"size",{configurable:!0,get:function(){return j(this).collection.size}})}else M=v.getConstructor(l,a,g,w),sD.enable();return vD(M,a,!1,!0),x[a]=M,oD({global:!0,forced:!0},x),y||v.setStrong(M,a,g),M},wD=ri,ED=Ja,kD=Yt,mP=function(a,l,v){for(var g in l)v&&v.unsafe&&a[g]?a[g]=l[g]:wD(a,g,l[g],v);return a},OD=ti,SD=oE,xD=xr,TD=Kn,ID=mf,LT=mg,PD=Jx,gT=Ot,bP=pP.fastKey,wP=na,_P=wP.set,CI=wP.getterFor,EP={getConstructor:function(a,l,v,g){var y=a(function(M,R){SD(M,w),_P(M,{type:l,index:ED(null),first:void 0,last:void 0,size:0}),gT||(M.size=0),xD(R)||TD(R,M[g],{that:M,AS_ENTRIES:v})}),w=y.prototype,O=CI(l),P=function(M,R,j){var pe,Ne,H=O(M),V=x(M,R);return V?V.value=j:(H.last=V={index:Ne=bP(R,!0),key:R,value:j,previous:pe=H.last,next:void 0,removed:!1},H.first||(H.first=V),pe&&(pe.next=V),gT?H.size++:M.size++,"F"!==Ne&&(H.index[Ne]=V)),M},x=function(M,R){var V,j=O(M),H=bP(R);if("F"!==H)return j.index[H];for(V=j.first;V;V=V.next)if(V.key==R)return V};return mP(w,{clear:function(){for(var R=this,j=O(R),H=j.index,V=j.first;V;)V.removed=!0,V.previous&&(V.previous=V.previous.next=void 0),delete H[V.index],V=V.next;j.first=j.last=void 0,gT?j.size=0:R.size=0},delete:function(M){var R=this,j=O(R),H=x(R,M);if(H){var V=H.next,pe=H.previous;delete j.index[H.index],H.removed=!0,pe&&(pe.next=V),V&&(V.previous=pe),j.first==H&&(j.first=V),j.last==H&&(j.last=pe),gT?j.size--:R.size--}return!!H},forEach:function(R){for(var V,j=O(this),H=OD(R,arguments.length>1?arguments[1]:void 0);V=V?V.next:j.first;)for(H(V.value,V.key,this);V&&V.removed;)V=V.previous},has:function(R){return!!x(this,R)}}),mP(w,v?{get:function(R){var j=x(this,R);return j&&j.value},set:function(R,j){return P(this,0===R?0:R,j)}}:{add:function(R){return P(this,R=0===R?0:R,R)}}),gT&&kD(w,"size",{configurable:!0,get:function(){return O(this).size}}),y},setStrong:function(a,l,v){var g=l+" Iterator",y=CI(l),w=CI(g);ID(a,l,function(O,P){_P(this,{type:g,target:O,state:y(O),kind:P,last:void 0})},function(){for(var O=w(this),P=O.kind,x=O.last;x&&x.removed;)x=x.previous;return O.target&&(O.last=x=x?x.next:O.state.first)?LT("keys"==P?x.key:"values"==P?x.value:[x.key,x.value],!1):(O.target=void 0,LT(void 0,!0))},v?"entries":"values",!v,!0),PD(l)}};yP("Map",function(a){return function(){return a(this,arguments.length?arguments[0]:void 0)}},EP);var kP=X(qe.Map),jD=Me,FD=rs.some,LD=Wu("some");jD({target:"Array",proto:!0,forced:!LD},{some:function(l){return FD(this,l,arguments.length>1?arguments[1]:void 0)}});var HD=Hr("Array").some,WD=Rt,UD=HD,$I=Array.prototype,KD=X(function(a){var l=a.some;return a===$I||WD($I,a)&&l===$I.some?UD:l}),JD=Hr("Array").keys,eA=Oi,tA=We,rA=Rt,nA=JD,DI=Array.prototype,iA={DOMTokenList:!0,NodeList:!0},Gm=X(function(a){var l=a.keys;return a===DI||rA(DI,a)&&l===DI.keys||tA(iA,eA(a))?nA:l}),OP=o0,sA=Math.floor,AI=function(a,l){var v=a.length,g=sA(v/2);return v<8?uA(a,l):lA(a,AI(OP(a,0,g),l),AI(OP(a,g),l),l)},uA=function(a,l){for(var y,w,v=a.length,g=1;g<v;){for(w=g,y=a[g];w&&l(a[w-1],y)>0;)a[w]=a[--w];w!==g++&&(a[w]=y)}return a},lA=function(a,l,v,g){for(var y=l.length,w=v.length,O=0,P=0;O<y||P<w;)a[O+P]=O<y&&P<w?g(l[O],v[P])<=0?l[O++]:v[P++]:O<y?l[O++]:v[P++];return a},cA=AI,SP=wi.match(/firefox\/(\d+)/i),dA=!!SP&&+SP[1],fA=wi,vA=/MSIE|Trident/.test(fA),xP=wi.match(/AppleWebKit\/(\d+)\./),gA=!!xP&&+xP[1],yA=Me,TP=ct,mA=Tr,bA=ar,IP=xn,wA=av,PP=an,MI=re,_A=cA,EA=Wu,CP=dA,kA=vA,$P=Js,DP=gA,qv=[],AP=TP(qv.sort),OA=TP(qv.push),SA=MI(function(){qv.sort(void 0)}),xA=MI(function(){qv.sort(null)}),TA=EA("sort"),MP=!MI(function(){if($P)return $P<70;if(!(CP&&CP>3)){if(kA)return!0;if(DP)return DP<603;var l,v,g,y,a="";for(l=65;l<76;l++){switch(v=String.fromCharCode(l),l){case 66:case 69:case 70:case 72:g=3;break;case 68:case 71:g=4;break;default:g=2}for(y=0;y<47;y++)qv.push({k:v+y,v:g})}for(qv.sort(function(w,O){return O.v-w.v}),y=0;y<qv.length;y++)v=qv[y].k.charAt(0),a.charAt(a.length-1)!==v&&(a+=v);return"DGBEFHACIJK"!==a}}),PA=function(a){return function(l,v){return void 0===v?-1:void 0===l?1:void 0!==a?+a(l,v)||0:PP(l)>PP(v)?1:-1}};yA({target:"Array",proto:!0,forced:SA||!xA||!TA||!MP},{sort:function(l){void 0!==l&&mA(l);var v=bA(this);if(MP)return void 0===l?AP(v):AP(v,l);var w,O,g=[],y=IP(v);for(O=0;O<y;O++)O in v&&OA(g,v[O]);for(_A(g,PA(l)),w=IP(g),O=0;O<w;)v[O]=g[O++];for(;O<y;)wA(v,O++);return v}});var $A=Hr("Array").sort,DA=Rt,AA=$A,NI=Array.prototype,RI=X(function(a){var l=a.sort;return a===NI||DA(NI,a)&&l===NI.sort?AA:l}),BA=Hr("Array").values,HA=Oi,WA=We,UA=Rt,VA=BA,jI=Array.prototype,qA={DOMTokenList:!0,NodeList:!0},NP=X(function(a){var l=a.values;return a===jI||UA(jI,a)&&l===jI.values||WA(qA,HA(a))?VA:l}),Ym=X(jw),JA=Hr("Array").entries,eM=Oi,tM=We,rM=Rt,nM=JA,FI=Array.prototype,iM={DOMTokenList:!0,NodeList:!0},sM=X(function(a){var l=a.entries;return a===FI||rM(FI,a)&&l===FI.entries||tM(iM,eM(a))?nM:l});let zT;const uM=new Uint8Array(16);function lM(){if(!zT&&(zT=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!zT))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return zT(uM)}const Fn=[];for(let a=0;a<256;++a)Fn.push((a+256).toString(16).slice(1));function cM(a,l=0){return Fn[a[l+0]]+Fn[a[l+1]]+Fn[a[l+2]]+Fn[a[l+3]]+"-"+Fn[a[l+4]]+Fn[a[l+5]]+"-"+Fn[a[l+6]]+Fn[a[l+7]]+"-"+Fn[a[l+8]]+Fn[a[l+9]]+"-"+Fn[a[l+10]]+Fn[a[l+11]]+Fn[a[l+12]]+Fn[a[l+13]]+Fn[a[l+14]]+Fn[a[l+15]]}var RP={randomUUID:typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};function hM(a,l,v){if(RP.randomUUID&&!l&&!a)return RP.randomUUID();const g=(a=a||{}).random||(a.rng||lM)();if(g[6]=15&g[6]|64,g[8]=63&g[8]|128,l){v=v||0;for(let y=0;y<16;++y)l[v+y]=g[y];return l}return cM(g)}function BI(a){return"string"==typeof a||"number"==typeof a}var jP=function(){function a(l){dt(this,a),rt(this,"delay",void 0),rt(this,"max",void 0),rt(this,"_queue",[]),rt(this,"_timeout",null),rt(this,"_extended",null),this.delay=null,this.max=1/0,this.setOptions(l)}return yo(a,[{key:"setOptions",value:function(v){v&&typeof v.delay<"u"&&(this.delay=v.delay),v&&typeof v.max<"u"&&(this.max=v.max),this._flushIfNeeded()}},{key:"destroy",value:function(){if(this.flush(),this._extended){for(var v=this._extended.object,g=this._extended.methods,y=0;y<g.length;y++){var w=g[y];w.original?v[w.name]=w.original:delete v[w.name]}this._extended=null}}},{key:"replace",value:function(v,g){var y=this,w=v[g];if(!w)throw new Error("Method "+g+" undefined");v[g]=function(){for(var O=arguments.length,P=new Array(O),x=0;x<O;x++)P[x]=arguments[x];y.queue({args:P,fn:w,context:this})}}},{key:"queue",value:function(v){"function"==typeof v?this._queue.push({fn:v}):this._queue.push(v),this._flushIfNeeded()}},{key:"_flushIfNeeded",value:function(){var v=this;this._queue.length>this.max&&this.flush(),null!=this._timeout&&(clearTimeout(this._timeout),this._timeout=null),this.queue.length>0&&"number"==typeof this.delay&&(this._timeout=zi(function(){v.flush()},this.delay))}},{key:"flush",value:function(){var v,g;je(v=Nr(g=this._queue).call(g,0)).call(v,function(y){y.fn.apply(y.context||y.fn,y.args||[])})}}],[{key:"extend",value:function(v,g){var y=new a(g);if(void 0!==v.flush)throw new Error("Target object already has a property flush");v.flush=function(){y.flush()};var w=[{name:"flush",original:void 0}];if(g&&g.replace)for(var O=0;O<g.replace.length;O++){var P=g.replace[O];w.push({name:P,original:v[P]}),y.replace(v,P)}return y._extended={object:v,methods:w},y}}]),a}(),FP=function(){function a(){dt(this,a),rt(this,"_subscribers",{"*":[],add:[],remove:[],update:[]}),rt(this,"subscribe",a.prototype.on),rt(this,"unsubscribe",a.prototype.off)}return yo(a,[{key:"_trigger",value:function(v,g,y){var w,O;if("*"===v)throw new Error("Cannot trigger event *");je(w=ah(O=[]).call(O,Ar(this._subscribers[v]),Ar(this._subscribers["*"]))).call(w,function(P){P(v,g,y??null)})}},{key:"on",value:function(v,g){"function"==typeof g&&this._subscribers[v].push(g)}},{key:"off",value:function(v,g){var y;this._subscribers[v]=Kt(y=this._subscribers[v]).call(y,function(w){return w!==g})}}]),a}();yP("Set",function(a){return function(){return a(this,arguments.length?arguments[0]:void 0)}},EP);var BP,HT=X(qe.Set),LI=X(hn);function $l(a,l){var v=typeof Is<"u"&&qn(a)||a["@@iterator"];if(!v){if(cr(a)||(v=PM(a))||l&&a&&"number"==typeof a.length){v&&(a=v);var g=0,y=function(){};return{s:y,n:function(){return g>=a.length?{done:!0}:{done:!1,value:a[g++]}},e:function(M){throw M},f:y}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var P,w=!0,O=!1;return{s:function(){v=v.call(a)},n:function(){var M=v.next();return w=M.done,M},e:function(M){O=!0,P=M},f:function(){try{!w&&null!=v.return&&v.return()}finally{if(O)throw P}}}}function PM(a,l){var v;if(a){if("string"==typeof a)return LP(a,l);var g=ba(v=Object.prototype.toString.call(a)).call(v,8,-1);if("Object"===g&&a.constructor&&(g=a.constructor.name),"Map"===g||"Set"===g)return Bf(a);if("Arguments"===g||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(g))return LP(a,l)}}function LP(a,l){(null==l||l>a.length)&&(l=a.length);for(var v=0,g=new Array(l);v<l;v++)g[v]=a[v];return g}BP=Ym;var zI=function(){function a(l){dt(this,a),rt(this,"_pairs",void 0),this._pairs=l}return yo(a,[{key:BP,value:Ji.mark(function l(){var v,g,y,w,O;return Ji.wrap(function(x){for(;;)switch(x.prev=x.next){case 0:v=$l(this._pairs),x.prev=1,v.s();case 3:if((g=v.n()).done){x.next=9;break}return y=Dr(g.value,2),w=y[0],O=y[1],x.next=7,[w,O];case 7:x.next=3;break;case 9:x.next=14;break;case 11:x.prev=11,x.t0=x.catch(1),v.e(x.t0);case 14:return x.prev=14,v.f(),x.finish(14);case 17:case"end":return x.stop()}},l,this,[[1,11,14,17]])})},{key:"entries",value:Ji.mark(function l(){var v,g,y,w,O;return Ji.wrap(function(x){for(;;)switch(x.prev=x.next){case 0:v=$l(this._pairs),x.prev=1,v.s();case 3:if((g=v.n()).done){x.next=9;break}return y=Dr(g.value,2),w=y[0],O=y[1],x.next=7,[w,O];case 7:x.next=3;break;case 9:x.next=14;break;case 11:x.prev=11,x.t0=x.catch(1),v.e(x.t0);case 14:return x.prev=14,v.f(),x.finish(14);case 17:case"end":return x.stop()}},l,this,[[1,11,14,17]])})},{key:"keys",value:Ji.mark(function l(){var v,g,y,w;return Ji.wrap(function(P){for(;;)switch(P.prev=P.next){case 0:v=$l(this._pairs),P.prev=1,v.s();case 3:if((g=v.n()).done){P.next=9;break}return y=Dr(g.value,1),w=y[0],P.next=7,w;case 7:P.next=3;break;case 9:P.next=14;break;case 11:P.prev=11,P.t0=P.catch(1),v.e(P.t0);case 14:return P.prev=14,v.f(),P.finish(14);case 17:case"end":return P.stop()}},l,this,[[1,11,14,17]])})},{key:"values",value:Ji.mark(function l(){var v,g,y,w;return Ji.wrap(function(P){for(;;)switch(P.prev=P.next){case 0:v=$l(this._pairs),P.prev=1,v.s();case 3:if((g=v.n()).done){P.next=9;break}return y=Dr(g.value,2),w=y[1],P.next=7,w;case 7:P.next=3;break;case 9:P.next=14;break;case 11:P.prev=11,P.t0=P.catch(1),v.e(P.t0);case 14:return P.prev=14,v.f(),P.finish(14);case 17:case"end":return P.stop()}},l,this,[[1,11,14,17]])})},{key:"toIdArray",value:function(){var v;return Cn(v=Ar(this._pairs)).call(v,function(g){return g[0]})}},{key:"toItemArray",value:function(){var v;return Cn(v=Ar(this._pairs)).call(v,function(g){return g[1]})}},{key:"toEntryArray",value:function(){return Ar(this._pairs)}},{key:"toObjectMap",value:function(){var y,v=Jy(null),g=$l(this._pairs);try{for(g.s();!(y=g.n()).done;){var w=Dr(y.value,2),O=w[0],P=w[1];v[O]=P}}catch(x){g.e(x)}finally{g.f()}return v}},{key:"toMap",value:function(){return new kP(this._pairs)}},{key:"toIdSet",value:function(){return new HT(this.toIdArray())}},{key:"toItemSet",value:function(){return new HT(this.toItemArray())}},{key:"cache",value:function(){return new a(Ar(this._pairs))}},{key:"distinct",value:function(v){var w,g=new HT,y=$l(this._pairs);try{for(y.s();!(w=y.n()).done;){var O=Dr(w.value,2),P=O[0],x=O[1];g.add(v(x,P))}}catch(M){y.e(M)}finally{y.f()}return g}},{key:"filter",value:function(v){var g=this._pairs;return new a(rt({},Ym,Ji.mark(function y(){var w,O,P,x,M;return Ji.wrap(function(j){for(;;)switch(j.prev=j.next){case 0:w=$l(g),j.prev=1,w.s();case 3:if((O=w.n()).done){j.next=10;break}if(P=Dr(O.value,2),x=P[0],M=P[1],!v(M,x)){j.next=8;break}return j.next=8,[x,M];case 8:j.next=3;break;case 10:j.next=15;break;case 12:j.prev=12,j.t0=j.catch(1),w.e(j.t0);case 15:return j.prev=15,w.f(),j.finish(15);case 18:case"end":return j.stop()}},y,null,[[1,12,15,18]])})))}},{key:"forEach",value:function(v){var y,g=$l(this._pairs);try{for(g.s();!(y=g.n()).done;){var w=Dr(y.value,2),O=w[0];v(w[1],O)}}catch(x){g.e(x)}finally{g.f()}}},{key:"map",value:function(v){var g=this._pairs;return new a(rt({},Ym,Ji.mark(function y(){var w,O,P,x,M;return Ji.wrap(function(j){for(;;)switch(j.prev=j.next){case 0:w=$l(g),j.prev=1,w.s();case 3:if((O=w.n()).done){j.next=9;break}return P=Dr(O.value,2),x=P[0],M=P[1],j.next=7,[x,v(M,x)];case 7:j.next=3;break;case 9:j.next=14;break;case 11:j.prev=11,j.t0=j.catch(1),w.e(j.t0);case 14:return j.prev=14,w.f(),j.finish(14);case 17:case"end":return j.stop()}},y,null,[[1,11,14,17]])})))}},{key:"max",value:function(v){var g=LI(this._pairs),y=g.next();if(y.done)return null;for(var w=y.value[1],O=v(y.value[1],y.value[0]);!(y=g.next()).done;){var P=Dr(y.value,2),x=P[0],M=P[1],R=v(M,x);R>O&&(O=R,w=M)}return w}},{key:"min",value:function(v){var g=LI(this._pairs),y=g.next();if(y.done)return null;for(var w=y.value[1],O=v(y.value[1],y.value[0]);!(y=g.next()).done;){var P=Dr(y.value,2),x=P[0],M=P[1],R=v(M,x);R<O&&(O=R,w=M)}return w}},{key:"reduce",value:function(v,g){var w,y=$l(this._pairs);try{for(y.s();!(w=y.n()).done;){var O=Dr(w.value,2),P=O[0];g=v(g,O[1],P)}}catch(M){y.e(M)}finally{y.f()}return g}},{key:"sort",value:function(v){var g=this;return new a(rt({},Ym,function(){var y;return LI(RI(y=Ar(g._pairs)).call(y,function(w,O){var P=Dr(w,2),x=P[0],M=P[1],R=Dr(O,2),j=R[0],H=R[1];return v(M,H,x,j)}))}))}}]),a}();function zP(a,l){var v=rv(a);if(ji){var g=ji(a);l&&(g=Kt(g).call(g,function(y){return bs(a,y).enumerable})),v.push.apply(v,g)}return v}function HP(a){for(var l=1;l<arguments.length;l++){var v,g,y=null!=arguments[l]?arguments[l]:{};l%2?je(v=zP(Object(y),!0)).call(v,function(w){rt(a,w,y[w])}):Ju?fy(a,Ju(y)):je(g=zP(Object(y))).call(g,function(w){qf(a,w,bs(y,w))})}return a}function HI(a,l){var v=typeof Is<"u"&&qn(a)||a["@@iterator"];if(!v){if(cr(a)||(v=CM(a))||l&&a&&"number"==typeof a.length){v&&(a=v);var g=0,y=function(){};return{s:y,n:function(){return g>=a.length?{done:!0}:{done:!1,value:a[g++]}},e:function(M){throw M},f:y}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var P,w=!0,O=!1;return{s:function(){v=v.call(a)},n:function(){var M=v.next();return w=M.done,M},e:function(M){O=!0,P=M},f:function(){try{!w&&null!=v.return&&v.return()}finally{if(O)throw P}}}}function CM(a,l){var v;if(a){if("string"==typeof a)return WP(a,l);var g=ba(v=Object.prototype.toString.call(a)).call(v,8,-1);if("Object"===g&&a.constructor&&(g=a.constructor.name),"Map"===g||"Set"===g)return Bf(a);if("Arguments"===g||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(g))return WP(a,l)}}function WP(a,l){(null==l||l>a.length)&&(l=a.length);for(var v=0,g=new Array(l);v<l;v++)g[v]=a[v];return g}function $M(a){var l=DM();return function(){var y,g=Us(a);if(l){var w=Us(this).constructor;y=Ro(g,arguments,w)}else y=g.apply(this,arguments);return Sl(this,y)}}function DM(){if(typeof Reflect>"u"||!Ro||Ro.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Ro(Boolean,[],function(){})),!0}catch{return!1}}function AM(a,l){return null==a[l]&&(a[l]=hM()),a}var UP=function(a){Nm(v,a);var l=$M(v);function v(g,y){var w;return dt(this,v),rt(Rn(w=l.call(this)),"flush",void 0),rt(Rn(w),"length",void 0),rt(Rn(w),"_options",void 0),rt(Rn(w),"_data",void 0),rt(Rn(w),"_idProp",void 0),rt(Rn(w),"_queue",null),g&&!cr(g)&&(y=g,g=[]),w._options=y||{},w._data=new kP,w.length=0,w._idProp=w._options.fieldId||"id",g&&g.length&&w.add(g),w.setOptions(y),w}return yo(v,[{key:"idProp",get:function(){return this._idProp}},{key:"setOptions",value:function(y){y&&void 0!==y.queue&&(!1===y.queue?this._queue&&(this._queue.destroy(),this._queue=null):(this._queue||(this._queue=jP.extend(this,{replace:["add","update","remove"]})),y.queue&&"object"===mr(y.queue)&&this._queue.setOptions(y.queue)))}},{key:"add",value:function(y,w){var x,O=this,P=[];if(cr(y)){var M=Cn(y).call(y,function(H){return H[O._idProp]});if(KD(M).call(M,function(H){return O._data.has(H)}))throw new Error("A duplicate id was found in the parameter array.");for(var R=0,j=y.length;R<j;R++)x=this._addItem(y[R]),P.push(x)}else{if(!y||"object"!==mr(y))throw new Error("Unknown dataType");x=this._addItem(y),P.push(x)}return P.length&&this._trigger("add",{items:P},w),P}},{key:"update",value:function(y,w){var O=this,P=[],x=[],M=[],R=[],j=this._idProp,H=function(Qe){var it=Qe[j];if(null!=it&&O._data.has(it)){var En=Qe,mt=fv({},O._data.get(it)),Xn=O._updateItem(En);x.push(Xn),R.push(En),M.push(mt)}else{var Jn=O._addItem(Qe);P.push(Jn)}};if(cr(y))for(var V=0,pe=y.length;V<pe;V++)y[V]&&"object"===mr(y[V])?H(y[V]):console.warn("Ignoring input item, which is not an object at index "+V);else{if(!y||"object"!==mr(y))throw new Error("Unknown dataType");H(y)}if(P.length&&this._trigger("add",{items:P},w),x.length){var Ne={items:x,oldData:M,data:R};this._trigger("update",Ne,w)}return ah(P).call(P,x)}},{key:"updateOnly",value:function(y,w){var O,P=this;cr(y)||(y=[y]);var x=Cn(O=Cn(y).call(y,function(R){var j=P._data.get(R[P._idProp]);if(null==j)throw new Error("Updating non-existent items is not allowed.");return{oldData:j,update:R}})).call(O,function(R){var j=R.oldData,H=R.update,V=j[P._idProp],pe=Cx(j,H);return P._data.set(V,pe),{id:V,oldData:j,updatedData:pe}});if(x.length){var M={items:Cn(x).call(x,function(R){return R.id}),oldData:Cn(x).call(x,function(R){return R.oldData}),data:Cn(x).call(x,function(R){return R.updatedData})};return this._trigger("update",M,w),M.items}return[]}},{key:"get",value:function(y,w){var O=void 0,P=void 0,x=void 0;BI(y)?(O=y,x=w):cr(y)?(P=y,x=w):x=y;var Gh,M=x&&"Object"===x.returnType?"Object":"Array",R=x&&Kt(x),j=[],H=void 0,V=void 0,pe=void 0;if(null!=O)(H=this._data.get(O))&&R&&!R(H)&&(H=void 0);else if(null!=P)for(var Ne=0,Le=P.length;Ne<Le;Ne++)null!=(H=this._data.get(P[Ne]))&&(!R||R(H))&&j.push(H);else for(var Qe,it=0,En=(V=Ar(Gm(Qe=this._data).call(Qe))).length;it<En;it++)pe=V[it],null!=(H=this._data.get(pe))&&(!R||R(H))&&j.push(H);if(x&&x.order&&null==O&&this._sort(j,x.order),x&&x.fields){var mt=x.fields;if(null!=O&&null!=H)H=this._filterFields(H,mt);else for(var Xn=0,Jn=j.length;Xn<Jn;Xn++)j[Xn]=this._filterFields(j[Xn],mt)}if("Object"==M){for(var Bn={},Fo=0,Dl=j.length;Fo<Dl;Fo++){var Ma=j[Fo];Bn[Ma[this._idProp]]=Ma}return Bn}return null!=O?null!==(Gh=H)&&void 0!==Gh?Gh:null:j}},{key:"getIds",value:function(y){var w=this._data,O=y&&Kt(y),P=y&&y.order,x=Ar(Gm(w).call(w)),M=[];if(O)if(P){for(var R=[],j=0,H=x.length;j<H;j++){var V=x[j],pe=this._data.get(V);null!=pe&&O(pe)&&R.push(pe)}this._sort(R,P);for(var Ne=0,Le=R.length;Ne<Le;Ne++)M.push(R[Ne][this._idProp])}else for(var Qe=0,it=x.length;Qe<it;Qe++){var En=x[Qe],mt=this._data.get(En);null!=mt&&O(mt)&&M.push(mt[this._idProp])}else if(P){for(var Xn=[],Jn=0,Bn=x.length;Jn<Bn;Jn++){var Fo=x[Jn];Xn.push(w.get(Fo))}this._sort(Xn,P);for(var Dl=0,Ma=Xn.length;Dl<Ma;Dl++)M.push(Xn[Dl][this._idProp])}else for(var qh=0,Gh=x.length;qh<Gh;qh++){var gE=x[qh],Yh=w.get(gE);null!=Yh&&M.push(Yh[this._idProp])}return M}},{key:"getDataSet",value:function(){return this}},{key:"forEach",value:function(y,w){var O=w&&Kt(w),P=this._data,x=Ar(Gm(P).call(P));if(w&&w.order)for(var M=this.get(w),R=0,j=M.length;R<j;R++){var H=M[R];y(H,H[this._idProp])}else for(var pe=0,Ne=x.length;pe<Ne;pe++){var Le=x[pe],Qe=this._data.get(Le);null!=Qe&&(!O||O(Qe))&&y(Qe,Le)}}},{key:"map",value:function(y,w){for(var O=w&&Kt(w),P=[],x=this._data,M=Ar(Gm(x).call(x)),R=0,j=M.length;R<j;R++){var H=M[R],V=this._data.get(H);null!=V&&(!O||O(V))&&P.push(y(V,H))}return w&&w.order&&this._sort(P,w.order),P}},{key:"_filterFields",value:function(y,w){var O;return y&&Jw(O=cr(w)?w:rv(w)).call(O,function(P,x){return P[x]=y[x],P},{})}},{key:"_sort",value:function(y,w){if("string"==typeof w){var O=w;RI(y).call(y,function(P,x){var M=P[O],R=x[O];return M>R?1:M<R?-1:0})}else{if("function"!=typeof w)throw new TypeError("Order must be a function or a string");RI(y).call(y,w)}}},{key:"remove",value:function(y,w){for(var O=[],P=[],x=cr(y)?y:[y],M=0,R=x.length;M<R;M++){var j=this._remove(x[M]);if(j){var H=j[this._idProp];null!=H&&(O.push(H),P.push(j))}}return O.length&&this._trigger("remove",{items:O,oldData:P},w),O}},{key:"_remove",value:function(y){var w;if(BI(y)?w=y:y&&"object"===mr(y)&&(w=y[this._idProp]),null!=w&&this._data.has(w)){var O=this._data.get(w)||null;return this._data.delete(w),--this.length,O}return null}},{key:"clear",value:function(y){for(var w,O=Ar(Gm(w=this._data).call(w)),P=[],x=0,M=O.length;x<M;x++)P.push(this._data.get(O[x]));return this._data.clear(),this.length=0,this._trigger("remove",{items:O,oldData:P},y),O}},{key:"max",value:function(y){var w,M,O=null,P=null,x=HI(NP(w=this._data).call(w));try{for(x.s();!(M=x.n()).done;){var R=M.value,j=R[y];"number"==typeof j&&(null==P||j>P)&&(O=R,P=j)}}catch(H){x.e(H)}finally{x.f()}return O||null}},{key:"min",value:function(y){var w,M,O=null,P=null,x=HI(NP(w=this._data).call(w));try{for(x.s();!(M=x.n()).done;){var R=M.value,j=R[y];"number"==typeof j&&(null==P||j<P)&&(O=R,P=j)}}catch(H){x.e(H)}finally{x.f()}return O||null}},{key:"distinct",value:function(y){for(var w=this._data,O=Ar(Gm(w).call(w)),P=[],x=0,M=0,R=O.length;M<R;M++){for(var j=O[M],V=w.get(j)[y],pe=!1,Ne=0;Ne<x;Ne++)if(P[Ne]==V){pe=!0;break}!pe&&void 0!==V&&(P[x]=V,x++)}return P}},{key:"_addItem",value:function(y){var w=AM(y,this._idProp),O=w[this._idProp];if(this._data.has(O))throw new Error("Cannot add item: item with id "+O+" already exists");return this._data.set(O,w),++this.length,O}},{key:"_updateItem",value:function(y){var w=y[this._idProp];if(null==w)throw new Error("Cannot update item: item has no id (item: "+ax(y)+")");var O=this._data.get(w);if(!O)throw new Error("Cannot update item: no item with id "+w+" found");return this._data.set(w,HP(HP({},O),y)),w}},{key:"stream",value:function(y){if(y){var w=this._data;return new zI(rt({},Ym,Ji.mark(function P(){var x,M,R,j;return Ji.wrap(function(V){for(;;)switch(V.prev=V.next){case 0:x=HI(y),V.prev=1,x.s();case 3:if((M=x.n()).done){V.next=11;break}if(R=M.value,null==(j=w.get(R))){V.next=9;break}return V.next=9,[R,j];case 9:V.next=3;break;case 11:V.next=16;break;case 13:V.prev=13,V.t0=V.catch(1),x.e(V.t0);case 16:return V.prev=16,x.f(),V.finish(16);case 19:case"end":return V.stop()}},P,null,[[1,13,16,19]])})))}var O;return new zI(rt({},Ym,da(O=sM(this._data)).call(O,this._data)))}}]),v}(FP);function MM(a,l){var v=typeof Is<"u"&&qn(a)||a["@@iterator"];if(!v){if(cr(a)||(v=NM(a))||l&&a&&"number"==typeof a.length){v&&(a=v);var g=0,y=function(){};return{s:y,n:function(){return g>=a.length?{done:!0}:{done:!1,value:a[g++]}},e:function(M){throw M},f:y}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var P,w=!0,O=!1;return{s:function(){v=v.call(a)},n:function(){var M=v.next();return w=M.done,M},e:function(M){O=!0,P=M},f:function(){try{!w&&null!=v.return&&v.return()}finally{if(O)throw P}}}}function NM(a,l){var v;if(a){if("string"==typeof a)return VP(a,l);var g=ba(v=Object.prototype.toString.call(a)).call(v,8,-1);if("Object"===g&&a.constructor&&(g=a.constructor.name),"Map"===g||"Set"===g)return Bf(a);if("Arguments"===g||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(g))return VP(a,l)}}function VP(a,l){(null==l||l>a.length)&&(l=a.length);for(var v=0,g=new Array(l);v<l;v++)g[v]=a[v];return g}function RM(a){var l=jM();return function(){var y,g=Us(a);if(l){var w=Us(this).constructor;y=Ro(g,arguments,w)}else y=g.apply(this,arguments);return Sl(this,y)}}function jM(){if(typeof Reflect>"u"||!Ro||Ro.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Ro(Boolean,[],function(){})),!0}catch{return!1}}var FM=function(a){Nm(v,a);var l=RM(v);function v(g,y){var w,O;return dt(this,v),rt(Rn(O=l.call(this)),"length",0),rt(Rn(O),"_listener",void 0),rt(Rn(O),"_data",void 0),rt(Rn(O),"_ids",new HT),rt(Rn(O),"_options",void 0),O._options=y||{},O._listener=da(w=O._onEvent).call(w,Rn(O)),O.setData(g),O}return yo(v,[{key:"idProp",get:function(){return this.getDataSet().idProp}},{key:"setData",value:function(y){if(this._data){this._data.off&&this._data.off("*",this._listener);var w=this._data.getIds({filter:Kt(this._options)}),O=this._data.get(w);this._ids.clear(),this.length=0,this._trigger("remove",{items:w,oldData:O})}if(null!=y){this._data=y;for(var P=this._data.getIds({filter:Kt(this._options)}),x=0,M=P.length;x<M;x++){var R=P[x];this._ids.add(R)}this.length=P.length,this._trigger("add",{items:P})}else this._data=new UP;this._data.on&&this._data.on("*",this._listener)}},{key:"refresh",value:function(){for(var y=this._data.getIds({filter:Kt(this._options)}),w=Ar(this._ids),O={},P=[],x=[],M=[],R=0,j=y.length;R<j;R++){var H=y[R];O[H]=!0,this._ids.has(H)||(P.push(H),this._ids.add(H))}for(var V=0,pe=w.length;V<pe;V++){var Ne=w[V],Le=this._data.get(Ne);null==Le?console.error("If you see this, report it please."):O[Ne]||(x.push(Ne),M.push(Le),this._ids.delete(Ne))}this.length+=P.length-x.length,P.length&&this._trigger("add",{items:P}),x.length&&this._trigger("remove",{items:x,oldData:M})}},{key:"get",value:function(y,w){if(null==this._data)return null;var P,O=null;BI(y)||cr(y)?(O=y,P=w):P=y;var x=fv({},this._options,P),M=Kt(this._options),R=P&&Kt(P);return M&&R&&(x.filter=function(j){return M(j)&&R(j)}),null==O?this._data.get(x):this._data.get(O,x)}},{key:"getIds",value:function(y){if(this._data.length){var P,w=Kt(this._options),O=null!=y?Kt(y):null;return P=O?w?function(M){return w(M)&&O(M)}:O:w,this._data.getIds({filter:P,order:y&&y.order})}return[]}},{key:"forEach",value:function(y,w){if(this._data){var O,M,P=Kt(this._options),x=w&&Kt(w);M=x?P?function(j){return P(j)&&x(j)}:x:P,je(O=this._data).call(O,y,{filter:M,order:w&&w.order})}}},{key:"map",value:function(y,w){if(this._data){var O,M,P=Kt(this._options),x=w&&Kt(w);return M=x?P?function(j){return P(j)&&x(j)}:x:P,Cn(O=this._data).call(O,y,{filter:M,order:w&&w.order})}return[]}},{key:"getDataSet",value:function(){return this._data.getDataSet()}},{key:"stream",value:function(y){var w;return this._data.stream(y||rt({},Ym,da(w=Gm(this._ids)).call(w,this._ids)))}},{key:"dispose",value:function(){var y;null!==(y=this._data)&&void 0!==y&&y.off&&this._data.off("*",this._listener);var x,w="This data view has already been disposed of.",O={get:function(){throw new Error(w)},set:function(){throw new Error(w)},configurable:!1},P=MM(sh(v.prototype));try{for(P.s();!(x=P.n()).done;){var M=x.value;qf(this,M,O)}}catch(R){P.e(R)}finally{P.f()}}},{key:"_onEvent",value:function(y,w,O){if(w&&w.items&&this._data){var P=w.items,x=[],M=[],R=[],j=[],H=[],V=[];switch(y){case"add":for(var pe=0,Ne=P.length;pe<Ne;pe++){var Le=P[pe];this.get(Le)&&(this._ids.add(Le),x.push(Le))}break;case"update":for(var it=0,En=P.length;it<En;it++){var mt=P[it];this.get(mt)?this._ids.has(mt)?(M.push(mt),H.push(w.data[it]),j.push(w.oldData[it])):(this._ids.add(mt),x.push(mt)):this._ids.has(mt)&&(this._ids.delete(mt),R.push(mt),V.push(w.oldData[it]))}break;case"remove":for(var Jn=0,Bn=P.length;Jn<Bn;Jn++){var Fo=P[Jn];this._ids.has(Fo)&&(this._ids.delete(Fo),R.push(Fo),V.push(w.oldData[Jn]))}}this.length+=x.length-R.length,x.length&&this._trigger("add",{items:x},O),M.length&&this._trigger("update",{items:M,oldData:j,data:H},O),R.length&&this._trigger("remove",{items:R,oldData:V},O)}}}]),v}(FP);function qP(a,l){return"object"===mr(l)&&null!==l&&a===l.idProp&&"function"==typeof l.add&&"function"==typeof l.clear&&"function"==typeof l.distinct&&"function"==typeof je(l)&&"function"==typeof l.get&&"function"==typeof l.getDataSet&&"function"==typeof l.getIds&&"number"==typeof l.length&&"function"==typeof Cn(l)&&"function"==typeof l.max&&"function"==typeof l.min&&"function"==typeof l.off&&"function"==typeof l.on&&"function"==typeof l.remove&&"function"==typeof l.setOptions&&"function"==typeof l.stream&&"function"==typeof l.update&&"function"==typeof l.updateOnly}function BM(a,l){return"object"===mr(l)&&null!==l&&a===l.idProp&&"function"==typeof je(l)&&"function"==typeof l.get&&"function"==typeof l.getDataSet&&"function"==typeof l.getIds&&"number"==typeof l.length&&"function"==typeof Cn(l)&&"function"==typeof l.off&&"function"==typeof l.on&&"function"==typeof l.stream&&qP(a,l.getDataSet())}Pt.DELETE=kl,Pt.DataSet=UP,Pt.DataStream=zI,Pt.DataView=FM,Pt.Queue=jP,Pt.createNewDataPipeFrom=vS,Pt.isDataSetLike=qP,Pt.isDataViewLike=BM}(ht)},377:function(Rr,ht){!function(Pt){function dt(s,c){if(!(s instanceof c))throw new TypeError("Cannot call a class as a function")}var Qt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function X(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var ge={exports:{}},Ln=function(s){return s&&s.Math==Math&&s},ye=Ln("object"==typeof globalThis&&globalThis)||Ln("object"==typeof window&&window)||Ln("object"==typeof self&&self)||Ln("object"==typeof Qt&&Qt)||function(){return this}()||Function("return this")(),re=function(s){try{return!!s()}catch{return!0}},nr=!re(function(){var s=function(){}.bind();return"function"!=typeof s||s.hasOwnProperty("prototype")}),qs=nr,Al=Function.prototype,Na=Al.apply,pi=Al.call,Sr="object"==typeof Reflect&&Reflect.apply||(qs?pi.bind(Na):function(){return pi.apply(Na,arguments)}),gi=nr,Ra=Function.prototype,Bo=Ra.call,Ml=gi&&Ra.bind.bind(Bo,Bo),Ee=gi?Ml:function(s){return function(){return Bo.apply(s,arguments)}},ct=Ee,yi=ct({}.toString),Jm=ct("".slice),ir=function(s){return Jm(yi(s),8,-1)},Qn=ir,Yv=Ee,mi=function(s){if("Function"===Qn(s))return Yv(s)},Lo="object"==typeof document&&document.all,Zn={all:Lo,IS_HTMLDDA:void 0===Lo&&void 0!==Lo},Gs=Zn.all,ze=Zn.IS_HTMLDDA?function(s){return"function"==typeof s||s===Gs}:function(s){return"function"==typeof s},pr={},et=!re(function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}),bt=nr,jr=Function.prototype.call,ot=bt?jr.bind(jr):function(){return jr.apply(jr,arguments)},Ot={},Ys={}.propertyIsEnumerable,zo=Object.getOwnPropertyDescriptor,Vt=zo&&!Ys.call({1:2},1);Ot.f=Vt?function(s){var c=zo(this,s);return!!c&&c.enumerable}:Ys;var Ct,ei,gr=function(s,c){return{enumerable:!(1&s),configurable:!(2&s),writable:!(4&s),value:c}},Kv=re,bi=ir,ja=Object,Xv=Ee("".split),Zi=Kv(function(){return!ja("z").propertyIsEnumerable(0)})?function(s){return"String"==bi(s)?Xv(s,""):ja(s)}:ja,Fr=function(s){return null==s},Jv=Fr,Fa=TypeError,xr=function(s){if(Jv(s))throw Fa("Can't call method on "+s);return s},Ho=Zi,Ks=xr,St=function(s){return Ho(Ks(s))},Z=ze,F=Zn.all,L=Zn.IS_HTMLDDA?function(s){return"object"==typeof s?null!==s:Z(s)||s===F}:function(s){return"object"==typeof s?null!==s:Z(s)},G={},Ye=G,tt=ye,ut=ze,qe=function(s){return ut(s)?s:void 0},$e=function(s,c){return arguments.length<2?qe(Ye[s])||qe(tt[s]):Ye[s]&&Ye[s][c]||tt[s]&&tt[s][c]},xe=Ee({}.isPrototypeOf),Br=typeof navigator<"u"&&String(navigator.userAgent)||"",Xs=ye,Zt=Br,Qv=Xs.process,Rt=Xs.Deno,wi=Qv&&Qv.versions||Rt&&Rt.version,Xh=wi&&wi.v8;Xh&&(ei=(Ct=Xh.split("."))[0]>0&&Ct[0]<4?1:+(Ct[0]+Ct[1])),!ei&&Zt&&(!(Ct=Zt.match(/Edge\/(\d+)/))||Ct[1]>=74)&&(Ct=Zt.match(/Chrome\/(\d+)/))&&(ei=+Ct[1]);var Qr=ei,Jh=Qr,Qm=re,Ba=!!Object.getOwnPropertySymbols&&!Qm(function(){var s=Symbol();return!String(s)||!(Object(s)instanceof Symbol)||!Symbol.sham&&Jh&&Jh<41}),Wo=Ba&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,zn=$e,Qh=ze,Js=xe,Zm=Object,Nl=Wo?function(s){return"symbol"==typeof s}:function(s){var c=zn("Symbol");return Qh(c)&&Js(c.prototype,Zm(s))},_i=String,Qs=function(s){try{return _i(s)}catch{return"Object"}},La=ze,yE=Qs,mE=TypeError,Zr=function(s){if(La(s))return s;throw mE(yE(s)+" is not a function")},za=Zr,bE=Fr,Ha=function(s,c){var d=s[c];return bE(d)?void 0:za(d)},Rl=ot,Ei=ze,jl=L,Zv=TypeError,eb={exports:{}},Tr=ye,tb=Object.defineProperty,wE=function(s,c){try{tb(Tr,s,{value:c,configurable:!0,writable:!0})}catch{Tr[s]=c}return c},Zh="__core-js_shared__",Zs=ye[Zh]||wE(Zh,{}),eu=Zs;(eb.exports=function(s,c){return eu[s]||(eu[s]=void 0!==c?c:{})})("versions",[]).push({version:"3.29.0",mode:"pure",copyright:"\xa9 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.29.0/LICENSE",source:"https://github.com/zloirock/core-js"});var eo=eb.exports,tu=xr,_E=Object,en=function(s){return _E(tu(s))},tn=en,rb=Ee({}.hasOwnProperty),qt=Object.hasOwn||function(s,c){return rb(tn(s),c)},or=Ee,EE=0,kE=Math.random(),nb=or(1..toString),ed=function(s){return"Symbol("+(void 0===s?"":s)+")_"+nb(++EE+kE,36)},ru=eo,ep=qt,Wa=ed,OE=Ba,SE=Wo,ar=ye.Symbol,Uo=ru("wks"),tp=SE?ar.for||ar:ar&&ar.withoutSetter||Wa,jt=function(s){return ep(Uo,s)||(Uo[s]=OE&&ep(ar,s)?ar[s]:tp("Symbol."+s)),Uo[s]},We=ot,ib=L,rp=Nl,ob=Ha,xE=function(s,c){var d,p;if("string"===c&&Ei(d=s.toString)&&!jl(p=Rl(d,s))||Ei(d=s.valueOf)&&!jl(p=Rl(d,s))||"string"!==c&&Ei(d=s.toString)&&!jl(p=Rl(d,s)))return p;throw Zv("Can't convert object to primitive value")},td=TypeError,TE=jt("toPrimitive"),IE=function(s,c){if(!ib(s)||rp(s))return s;var d,p=ob(s,TE);if(p){if(void 0===c&&(c="default"),d=We(p,s,c),!ib(d)||rp(d))return d;throw td("Can't convert object to primitive value")}return void 0===c&&(c="number"),xE(s,c)},ab=Nl,rd=function(s){var c=IE(s,"string");return ab(c)?c:c+""},Fl=L,nd=ye.document,Vo=Fl(nd)&&Fl(nd.createElement),Bl=function(s){return Vo?nd.createElement(s):{}},sb=Bl,$t=!et&&!re(function(){return 7!=Object.defineProperty(sb("div"),"a",{get:function(){return 7}}).a}),ub=et,lb=ot,cb=Ot,PE=gr,CE=St,$E=rd,DE=qt,AE=$t,hb=Object.getOwnPropertyDescriptor;pr.f=ub?hb:function(s,c){if(s=CE(s),c=$E(c),AE)try{return hb(s,c)}catch{}if(DE(s,c))return PE(!lb(cb.f,s,c),s[c])};var db=re,ME=ze,id=/#|\.prototype\./,Ll=function(s,c){var d=np[nu(s)];return d==ip||d!=NE&&(ME(c)?db(c):!!c)},nu=Ll.normalize=function(s){return String(s).replace(id,".").toLowerCase()},np=Ll.data={},NE=Ll.NATIVE="N",ip=Ll.POLYFILL="P",fb=Ll,RE=Zr,jE=nr,vb=mi(mi.bind),qo=function(s,c){return RE(s),void 0===c?s:jE?vb(s,c):function(){return s.apply(c,arguments)}},yr={},rn=et&&re(function(){return 42!=Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype}),pb=L,FE=String,BE=TypeError,kn=function(s){if(pb(s))return s;throw BE(FE(s)+" is not an object")},On=et,gb=$t,LE=rn,od=kn,zl=rd,iu=TypeError,op=Object.defineProperty,ap=Object.getOwnPropertyDescriptor,sp="enumerable",Hl="configurable",ou="writable";yr.f=On?LE?function(s,c,d){if(od(s),c=zl(c),od(d),"function"==typeof s&&"prototype"===c&&"value"in d&&ou in d&&!d[ou]){var p=ap(s,c);p&&p[ou]&&(s[c]=d.value,d={configurable:Hl in d?d[Hl]:p[Hl],enumerable:sp in d?d[sp]:p[sp],writable:!1})}return op(s,c,d)}:op:function(s,c,d){if(od(s),c=zl(c),od(d),gb)try{return op(s,c,d)}catch{}if("get"in d||"set"in d)throw iu("Accessors not supported");return"value"in d&&(s[c]=d.value),s};var ad=yr,zE=gr,to=et?function(s,c,d){return ad.f(s,c,zE(1,d))}:function(s,c,d){return s[c]=d,s},ro=ye,ti=Sr,Sn=mi,HE=ze,WE=pr.f,yb=fb,au=G,su=qo,uu=to,er=qt,mb=function(s){var c=function(d,p,m){if(this instanceof c){switch(arguments.length){case 0:return new s;case 1:return new s(d);case 2:return new s(d,p)}return new s(d,p,m)}return ti(s,this,arguments)};return c.prototype=s.prototype,c},Re=function(s,c){var d,p,m,_,S,T,C,A,z,B=s.target,q=s.global,ae=s.stat,ve=s.proto,de=q?ro:ae?ro[B]:(ro[B]||{}).prototype,ke=q?au:au[B]||uu(au,B,{})[B],Fe=ke.prototype;for(_ in c)p=!(d=yb(q?_:B+(ae?".":"#")+_,s.forced))&&de&&er(de,_),T=ke[_],p&&(C=s.dontCallGetSet?(z=WE(de,_))&&z.value:de[_]),S=p&&C?C:c[_],p&&typeof T==typeof S||(A=s.bind&&p?su(S,ro):s.wrap&&p?mb(S):ve&&HE(S)?Sn(S):S,(s.sham||S&&S.sham||T&&T.sham)&&uu(A,"sham",!0),uu(ke,_,A),ve&&(er(au,m=B+"Prototype")||uu(au,m,{}),uu(au[m],_,S),s.real&&Fe&&(d||!Fe[_])&&uu(Fe,_,S)))},De=Re,sd=et,up=yr.f;De({target:"Object",stat:!0,forced:Object.defineProperty!==up,sham:!sd},{defineProperty:up});var bb=G.Object,lu=ge.exports=function(s,c,d){return bb.defineProperty(s,c,d)};bb.defineProperty.sham&&(lu.sham=!0);var wb=ge.exports,ud=wb,cu=X(ud),Ua=ir,Go=Array.isArray||function(s){return"Array"==Ua(s)},UE=Math.ceil,VE=Math.floor,Gt=Math.trunc||function(s){var c=+s;return(c>0?VE:UE)(c)},Va=function(s){var c=+s;return c!=c||0===c?0:Gt(c)},qE=Va,GE=Math.min,_b=function(s){return s>0?GE(qE(s),9007199254740991):0},nn=function(s){return _b(s.length)},Wl=TypeError,ki=function(s){if(s>9007199254740991)throw Wl("Maximum allowed index exceeded");return s},YE=rd,hu=yr,Eb=gr,qa=function(s,c,d){var p=YE(c);p in s?hu.f(s,p,Eb(0,d)):s[p]=d},Me={};Me[jt("toStringTag")]="z";var Ul="[object z]"===String(Me),KE=Ul,kb=ze,Ga=ir,du=jt("toStringTag"),Ob=Object,XE="Arguments"==Ga(function(){return arguments}()),no=KE?Ga:function(s){var c,d,p;return void 0===s?"Undefined":null===s?"Null":"string"==typeof(d=function(m,_){try{return m[_]}catch{}}(c=Ob(s),du))?d:XE?Ga(c):"Object"==(p=Ga(c))&&kb(c.callee)?"Arguments":p},Sb=ze,Vl=Zs,JE=Ee(Function.toString);Sb(Vl.inspectSource)||(Vl.inspectSource=function(s){return JE(s)});var xb=Vl.inspectSource,QE=Ee,ZE=re,Yo=ze,ql=no,ek=xb,io=function(){},Tb=[],Ht=$e("Reflect","construct"),fu=/^\s*(?:class|function)\b/,Ib=QE(fu.exec),ld=!fu.exec(io),Gl=function(s){if(!Yo(s))return!1;try{return Ht(io,Tb,s),!0}catch{return!1}},Pb=function(s){if(!Yo(s))return!1;switch(ql(s)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return ld||!!Ib(fu,ek(s))}catch{return!0}};Pb.sham=!0;var Yl=!Ht||ZE(function(){var s;return Gl(Gl.call)||!Gl(Object)||!Gl(function(){s=!0})||s})?Pb:Gl,Cb=Go,xn=Yl,tk=L,rk=jt("species"),vu=Array,$b=function(s){var c;return Cb(s)&&(c=s.constructor,(xn(c)&&(c===vu||Cb(c.prototype))||tk(c)&&null===(c=c[rk]))&&(c=void 0)),void 0===c?vu:c},Kl=function(s,c){return new($b(s))(0===c?0:c)},nk=re,Dt=Qr,ik=jt("species"),Xl=function(s){return Dt>=51||!nk(function(){var c=[];return(c.constructor={})[ik]=function(){return{foo:1}},1!==c[s](Boolean).foo})},Db=Re,Jl=re,ok=Go,Ab=L,ee=en,lp=nn,cp=ki,cd=qa,Mb=Kl,Nb=Xl,Oi=Qr,hp=jt("isConcatSpreadable"),Rb=Oi>=51||!Jl(function(){var s=[];return s[hp]=!1,s.concat()[0]!==s}),hd=function(s){if(!Ab(s))return!1;var c=s[hp];return void 0!==c?!!c:ok(s)};Db({target:"Array",proto:!0,arity:1,forced:!Rb||!Nb("concat")},{concat:function(s){var c,d,p,m,_,S=ee(this),T=Mb(S,0),C=0;for(c=-1,p=arguments.length;c<p;c++)if(hd(_=-1===c?S:arguments[c]))for(m=lp(_),cp(C+m),d=0;d<m;d++,C++)d in _&&cd(T,C,_[d]);else cp(C+1),cd(T,C++,_);return T.length=C,T}});var dd=no,pu=String,Si=function(s){if("Symbol"===dd(s))throw TypeError("Cannot convert a Symbol value to a string");return pu(s)},gu={},jb=Va,ak=Math.max,fd=Math.min,vd=function(s,c){var d=jb(s);return d<0?ak(d+c,0):fd(d,c)},Fb=St,sk=vd,Ko=nn,pd=function(s){return function(c,d,p){var m,_=Fb(c),S=Ko(_),T=sk(p,S);if(s&&d!=d){for(;S>T;)if((m=_[T++])!=m)return!0}else for(;S>T;T++)if((s||T in _)&&_[T]===d)return s||T||0;return!s&&-1}},uk={includes:pd(!0),indexOf:pd(!1)},on={},oo=qt,Bb=St,gd=uk.indexOf,Lb=on,zb=Ee([].push),dp=function(s,c){var d,p=Bb(s),m=0,_=[];for(d in p)!oo(Lb,d)&&oo(p,d)&&zb(_,d);for(;c.length>m;)oo(p,d=c[m++])&&(~gd(_,d)||zb(_,d));return _},fp=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],Hb=dp,Wb=fp,yd=Object.keys||function(s){return Hb(s,Wb)},Ub=et,Ql=rn,lk=yr,Vb=kn,md=St,ck=yd;gu.f=Ub&&!Ql?Object.defineProperties:function(s,c){Vb(s);for(var d,p=md(c),m=ck(c),_=m.length,S=0;_>S;)lk.f(s,d=m[S++],p[d]);return s};var ao,qb=$e("document","documentElement"),hk=ed,bd=eo("keys"),yu=function(s){return bd[s]||(bd[s]=hk(s))},dk=kn,fk=gu,wd=fp,_d=on,vk=qb,xi=Bl,Xo="prototype",Hn="script",Zl=yu("IE_PROTO"),vp=function(){},pp=function(s){return"<"+Hn+">"+s+"</"+Hn+">"},Gb=function(s){s.write(pp("")),s.close();var c=s.parentWindow.Object;return s=null,c},mu=function(){try{ao=new ActiveXObject("htmlfile")}catch{}var s,c,d;mu=typeof document<"u"?document.domain&&ao?Gb(ao):(c=xi("iframe"),d="java"+Hn+":",c.style.display="none",vk.appendChild(c),c.src=String(d),(s=c.contentWindow.document).open(),s.write(pp("document.F=Object")),s.close(),s.F):Gb(ao);for(var p=wd.length;p--;)delete mu[Xo][wd[p]];return mu()};_d[Zl]=!0;var Ya=Object.create||function(s,c){var d;return null!==s?(vp[Xo]=dk(s),d=new vp,vp[Xo]=null,d[Zl]=s):d=mu(),void 0===c?d:fk.f(d,c)},an={},Ed=dp,pk=fp.concat("length","prototype");an.f=Object.getOwnPropertyNames||function(s){return Ed(s,pk)};var gp={},Yb=vd,kd=nn,gk=qa,Od=Array,yk=Math.max,yp=function(s,c,d){for(var p=kd(s),m=Yb(c,p),_=Yb(void 0===d?p:d,p),S=Od(yk(_-m,0)),T=0;m<_;m++,T++)gk(S,T,s[m]);return S.length=T,S},mk=ir,bu=St,Kb=an.f,mp=yp,Xb="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];gp.f=function(s){return Xb&&"Window"==mk(s)?function(c){try{return Kb(c)}catch{return mp(Xb)}}(s):Kb(bu(s))};var Ka={};Ka.f=Object.getOwnPropertySymbols;var bp=to,Jo=function(s,c,d,p){return p&&p.enumerable?s[c]=d:bp(s,c,d),s},Sd=yr,wu=function(s,c,d){return Sd.f(s,c,d)},_u={},xd=jt;_u.f=xd;var Tn,Eu,ec,Xa=G,Jb=qt,bk=_u,wk=yr.f,Ft=function(s){var c=Xa.Symbol||(Xa.Symbol={});Jb(c,s)||wk(c,s,{value:bk.f(s)})},Qb=ot,Zb=$e,wp=jt,e0=Jo,Qo=function(){var s=Zb("Symbol"),c=s&&s.prototype,d=c&&c.valueOf,p=wp("toPrimitive");c&&!c[p]&&e0(c,p,function(m){return Qb(d,this)},{arity:1})},_k=no,tc=Ul?{}.toString:function(){return"[object "+_k(this)+"]"},t0=Ul,Ek=yr.f,kk=to,Ok=qt,r0=tc,_p=jt("toStringTag"),Ti=function(s,c,d,p){if(s){var m=d?s:s.prototype;Ok(m,_p)||Ek(m,_p,{configurable:!0,value:c}),p&&!t0&&kk(m,"toString",r0)}},Td=ze,Id=ye.WeakMap,Ep=Td(Id)&&/native code/.test(String(Id)),Pd=ye,n0=L,i0=to,kp=qt,ku=Zs,Cd=yu,Ja=on,Qa="Object already initialized",Zo=Pd.TypeError,Ou=Pd.WeakMap;if(Ep||ku.state){var Ii=ku.state||(ku.state=new Ou);Ii.get=Ii.get,Ii.has=Ii.has,Ii.set=Ii.set,Tn=function(s,c){if(Ii.has(s))throw Zo(Qa);return c.facade=s,Ii.set(s,c),c},Eu=function(s){return Ii.get(s)||{}},ec=function(s){return Ii.has(s)}}else{var ea=Cd("state");Ja[ea]=!0,Tn=function(s,c){if(kp(s,ea))throw Zo(Qa);return c.facade=s,i0(s,ea,c),c},Eu=function(s){return kp(s,ea)?s[ea]:{}},ec=function(s){return kp(s,ea)}}var so={set:Tn,get:Eu,has:ec,enforce:function(s){return ec(s)?Eu(s):Tn(s,{})},getterFor:function(s){return function(c){var d;if(!n0(c)||(d=Eu(c)).type!==s)throw Zo("Incompatible receiver, "+s+" required");return d}}},Sk=qo,xk=Zi,Tk=en,Ik=nn,o0=Kl,a0=Ee([].push),ta=function(s){var c=1==s,d=2==s,p=3==s,m=4==s,_=6==s,S=7==s,T=5==s||_;return function(C,A,z,B){for(var q,ae,ve=Tk(C),de=xk(ve),ke=Sk(A,z),Fe=Ik(de),Te=0,vt=B||o0,Xe=c?vt(C,Fe):d||S?vt(C,0):void 0;Fe>Te;Te++)if((T||Te in de)&&(ae=ke(q=de[Te],Te,ve),s))if(c)Xe[Te]=ae;else if(ae)switch(s){case 3:return!0;case 5:return q;case 6:return Te;case 2:a0(Xe,q)}else switch(s){case 4:return!1;case 7:a0(Xe,q)}return _?-1:p||m?m:Xe}},Za={forEach:ta(0),map:ta(1),filter:ta(2),some:ta(3),every:ta(4),find:ta(5),findIndex:ta(6),filterReject:ta(7)},$d=Re,Dd=ye,Op=ot,rc=Ee,Su=et,ri=Ba,Pk=re,Yt=qt,nc=xe,Sp=kn,xu=St,Ad=rd,Ck=Si,xp=gr,pt=Ya,Md=yd,s0=an,ic=gp,u0=Ka,Tp=pr,Nd=yr,Ip=gu,l0=Ot,c0=Jo,h0=wu,Pp=eo,Cp=on,$p=ed,$k=jt,d0=_u,es=Ft,f0=Qo,Dk=Ti,Rd=so,jd=Za.forEach,sn=yu("hidden"),oc="Symbol",ac="prototype",Ak=Rd.set,sc=Rd.getterFor(oc),In=Object[ac],uo=Dd.Symbol,Fd=uo&&uo[ac],v0=Dd.TypeError,uc=Dd.QObject,p0=Tp.f,ni=Nd.f,Tu=ic.f,Bd=l0.f,Dp=rc([].push),lo=Pp("symbols"),Lr=Pp("op-symbols"),ra=Pp("wks"),na=!uc||!uc[ac]||!uc[ac].findChild,Ap=Su&&Pk(function(){return 7!=pt(ni({},"a",{get:function(){return ni(this,"a",{value:7}).a}})).a})?function(s,c,d){var p=p0(In,c);p&&delete In[c],ni(s,c,d),p&&s!==In&&ni(In,c,p)}:ni,ts=function(s,c){var d=lo[s]=pt(Fd);return Ak(d,{type:oc,tag:s,description:c}),Su||(d.description=c),d},lc=function(s,c,d){s===In&&lc(Lr,c,d),Sp(s);var p=Ad(c);return Sp(d),Yt(lo,p)?(d.enumerable?(Yt(s,sn)&&s[sn][p]&&(s[sn][p]=!1),d=pt(d,{enumerable:xp(0,!1)})):(Yt(s,sn)||ni(s,sn,xp(1,{})),s[sn][p]=!0),Ap(s,p,d)):ni(s,p,d)},Iu=function(s,c){Sp(s);var d=xu(c),p=Md(d).concat(un(d));return jd(p,function(m){Su&&!Op(g0,d,m)||lc(s,m,d[m])}),s},g0=function(s){var c=Ad(s),d=Op(Bd,this,c);return!(this===In&&Yt(lo,c)&&!Yt(Lr,c))&&(!(d||!Yt(this,c)||!Yt(lo,c)||Yt(this,sn)&&this[sn][c])||d)},y0=function(s,c){var d=xu(s),p=Ad(c);if(d!==In||!Yt(lo,p)||Yt(Lr,p)){var m=p0(d,p);return!m||!Yt(lo,p)||Yt(d,sn)&&d[sn][p]||(m.enumerable=!0),m}},Mp=function(s){var c=Tu(xu(s)),d=[];return jd(c,function(p){Yt(lo,p)||Yt(Cp,p)||Dp(d,p)}),d},un=function(s){var c=s===In,d=Tu(c?Lr:xu(s)),p=[];return jd(d,function(m){!Yt(lo,m)||c&&!Yt(In,m)||Dp(p,lo[m])}),p};ri||(uo=function(){if(nc(Fd,this))throw v0("Symbol is not a constructor");var s=arguments.length&&void 0!==arguments[0]?Ck(arguments[0]):void 0,c=$p(s),d=function(p){this===In&&Op(d,Lr,p),Yt(this,sn)&&Yt(this[sn],c)&&(this[sn][c]=!1),Ap(this,c,xp(1,p))};return Su&&na&&Ap(In,c,{configurable:!0,set:d}),ts(c,s)},c0(Fd=uo[ac],"toString",function(){return sc(this).tag}),c0(uo,"withoutSetter",function(s){return ts($p(s),s)}),l0.f=g0,Nd.f=lc,Ip.f=Iu,Tp.f=y0,s0.f=ic.f=Mp,u0.f=un,d0.f=function(s){return ts($k(s),s)},Su&&h0(Fd,"description",{configurable:!0,get:function(){return sc(this).description}})),$d({global:!0,constructor:!0,wrap:!0,forced:!ri,sham:!ri},{Symbol:uo}),jd(Md(ra),function(s){es(s)}),$d({target:oc,stat:!0,forced:!ri},{useSetter:function(){na=!0},useSimple:function(){na=!1}}),$d({target:"Object",stat:!0,forced:!ri,sham:!Su},{create:function(s,c){return void 0===c?pt(s):Iu(pt(s),c)},defineProperty:lc,defineProperties:Iu,getOwnPropertyDescriptor:y0}),$d({target:"Object",stat:!0,forced:!ri},{getOwnPropertyNames:Mp}),f0(),Dk(uo,oc),Cp[sn]=!0;var rs=Ba&&!!Symbol.for&&!!Symbol.keyFor,cc=Re,Np=$e,Rp=qt,Mk=Si,Pi=eo,Pu=rs,jp=Pi("string-to-symbol-registry"),sr=Pi("symbol-to-string-registry");cc({target:"Symbol",stat:!0,forced:!Pu},{for:function(s){var c=Mk(s);if(Rp(jp,c))return jp[c];var d=Np("Symbol")(c);return jp[c]=d,sr[d]=c,d}});var Nk=Re,Fp=qt,Ld=Nl,zd=Qs,Rk=rs,Hd=eo("symbol-to-string-registry");Nk({target:"Symbol",stat:!0,forced:!Rk},{keyFor:function(s){if(!Ld(s))throw TypeError(zd(s)+" is not a symbol");if(Fp(Hd,s))return Hd[s]}});var co=Ee([].slice),Bp=Go,jk=ze,Lp=ir,Fk=Si,Wd=Ee([].push),m0=Re,b0=$e,Ud=Sr,zp=ot,Cu=Ee,Vd=re,Hp=ze,Wp=Nl,Up=co,w0=function(s){if(jk(s))return s;if(Bp(s)){for(var c=s.length,d=[],p=0;p<c;p++){var m=s[p];"string"==typeof m?Wd(d,m):"number"!=typeof m&&"Number"!=Lp(m)&&"String"!=Lp(m)||Wd(d,Fk(m))}var _=d.length,S=!0;return function(T,C){if(S)return S=!1,C;if(Bp(this))return C;for(var A=0;A<_;A++)if(d[A]===T)return C}}},ns=Ba,Bk=String,ho=b0("JSON","stringify"),hc=Cu(/./.exec),Vp=Cu("".charAt),is=Cu("".charCodeAt),zr=Cu("".replace),qd=Cu(1..toString),dc=/[\uD800-\uDFFF]/g,_0=/^[\uD800-\uDBFF]$/,qp=/^[\uDC00-\uDFFF]$/,Wn=!ns||Vd(function(){var s=b0("Symbol")();return"[null]"!=ho([s])||"{}"!=ho({a:s})||"{}"!=ho(Object(s))}),ia=Vd(function(){return'"\\udf06\\ud834"'!==ho("\udf06\ud834")||'"\\udead"'!==ho("\udead")}),fc=function(s,c){var d=Up(arguments),p=w0(c);if(Hp(p)||void 0!==s&&!Wp(s))return d[1]=function(m,_){if(Hp(p)&&(_=zp(p,this,Bk(m),_)),!Wp(_))return _},Ud(ho,null,d)},E0=function(s,c,d){var p=Vp(d,c-1),m=Vp(d,c+1);return hc(_0,s)&&!hc(qp,m)||hc(qp,s)&&!hc(_0,p)?"\\u"+qd(is(s,0),16):s};ho&&m0({target:"JSON",stat:!0,arity:3,forced:Wn||ia},{stringify:function(s,c,d){var p=Up(arguments),m=Ud(Wn?fc:ho,null,p);return ia&&"string"==typeof m?zr(m,dc,E0):m}});var vc=Ka,Gd=en;Re({target:"Object",stat:!0,forced:!Ba||re(function(){vc.f(1)})},{getOwnPropertySymbols:function(s){var c=vc.f;return c?c(Gd(s)):[]}}),Ft("asyncIterator"),Ft("hasInstance"),Ft("isConcatSpreadable"),Ft("iterator"),Ft("match"),Ft("matchAll"),Ft("replace"),Ft("search"),Ft("species"),Ft("split");var oa=Qo;Ft("toPrimitive"),oa();var Yd=$e,k0=Ti;Ft("toStringTag"),k0(Yd("Symbol"),"Symbol"),Ft("unscopables"),Ti(ye.JSON,"JSON",!0);var fo,Ir,oe,O0=G.Symbol,aa={},pc=et,Kd=qt,$u=Function.prototype,Gp=pc&&Object.getOwnPropertyDescriptor,Xd=Kd($u,"name"),gc={EXISTS:Xd,PROPER:Xd&&"something"===function(){}.name,CONFIGURABLE:Xd&&(!pc||pc&&Gp($u,"name").configurable)},Yp=!re(function(){function s(){}return s.prototype.constructor=null,Object.getPrototypeOf(new s)!==s.prototype}),sa=qt,S0=ze,Kp=en,Xp=Yp,x0=yu("IE_PROTO"),Jp=Object,Lk=Jp.prototype,yc=Xp?Jp.getPrototypeOf:function(s){var c=Kp(s);if(sa(c,x0))return c[x0];var d=c.constructor;return S0(d)&&c instanceof d?d.prototype:c instanceof Jp?Lk:null},T0=re,Qp=ze,Zp=L,zk=Ya,I0=yc,mc=Jo,eg=jt("iterator"),P0=!1;[].keys&&("next"in(oe=[].keys())?(Ir=I0(I0(oe)))!==Object.prototype&&(fo=Ir):P0=!0);var Hk=!Zp(fo)||T0(function(){var s={};return fo[eg].call(s)!==s});Qp((fo=Hk?{}:zk(fo))[eg])||mc(fo,eg,function(){return this});var C0={IteratorPrototype:fo,BUGGY_SAFARI_ITERATORS:P0},$0=C0.IteratorPrototype,Wk=Ya,Du=gr,D0=Ti,A0=aa,Uk=function(){return this},M0=Ee,N0=Zr,R0=ze,Vk=String,bc=TypeError,j0=function(s,c,d){try{return M0(N0(Object.getOwnPropertyDescriptor(s,c)[d]))}catch{}},F0=kn,Jd=function(s){if("object"==typeof s||R0(s))return s;throw bc("Can't set "+Vk(s)+" as a prototype")},os=Object.setPrototypeOf||("__proto__"in{}?function(){var s,c=!1,d={};try{(s=j0(Object.prototype,"__proto__","set"))(d,[]),c=d instanceof Array}catch{}return function(p,m){return F0(p),Jd(m),c?s(p,m):p.__proto__=m,p}}():void 0),B0=Re,L0=ot,H0=function(s,c,d,p){var m=c+" Iterator";return s.prototype=Wk($0,{next:Du(+!p,d)}),D0(s,m,!1,!0),A0[m]=Uk,s},W0=yc,qk=Ti,U0=Jo,Ci=aa,Qd=C0,tg=gc.PROPER,Zd=Qd.BUGGY_SAFARI_ITERATORS,wc=jt("iterator"),Au="keys",ef="values",tf="entries",V0=function(){return this},rf=function(s,c,d,p,m,_,S){H0(d,c,p);var T,C,A,z=function(Fe){if(Fe===m&&de)return de;if(!Zd&&Fe in ae)return ae[Fe];switch(Fe){case Au:case ef:case tf:return function(){return new d(this,Fe)}}return function(){return new d(this)}},B=c+" Iterator",q=!1,ae=s.prototype,ve=ae[wc]||ae["@@iterator"]||m&&ae[m],de=!Zd&&ve||z(m),ke="Array"==c&&ae.entries||ve;if(ke&&(T=W0(ke.call(new s)))!==Object.prototype&&T.next&&(qk(T,B,!0,!0),Ci[B]=V0),tg&&m==ef&&ve&&ve.name!==ef&&(q=!0,de=function(){return L0(ve,this)}),m)if(C={values:z(ef),keys:_?de:z(Au),entries:z(tf)},S)for(A in C)(Zd||q||!(A in ae))&&U0(ae,A,C[A]);else B0({target:c,proto:!0,forced:Zd||q},C);return S&&ae[wc]!==de&&U0(ae,wc,de,{name:m}),Ci[c]=de,C},nf=function(s,c){return{value:s,done:c}},Bt=St,q0=aa,G0=so;yr.f;var Gk=rf,Y0=nf,of="Array Iterator",Yk=G0.set,Kk=G0.getterFor(of);Gk(Array,"Array",function(s,c){Yk(this,{type:of,target:Bt(s),index:0,kind:c})},function(){var s=Kk(this),c=s.target,d=s.kind,p=s.index++;return!c||p>=c.length?(s.target=void 0,Y0(void 0,!0)):Y0("keys"==d?p:"values"==d?c[p]:[p,c[p]],!1)},"values"),q0.Arguments=q0.Array;var Xk={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},Jk=ye,Qk=no,K0=to,vo=aa,$i=jt("toStringTag");for(var Mu in Xk){var _c=Jk[Mu],Ec=_c&&_c.prototype;Ec&&Qk(Ec)!==$i&&K0(Ec,$i,Mu),vo[Mu]=vo.Array}var X0=O0;Ft("dispose");var Nu=X0;Ft("asyncDispose");var Ru=Re,Zk=Ee,tr=$e("Symbol"),eO=tr.keyFor,rg=Zk(tr.prototype.valueOf);Ru({target:"Symbol",stat:!0},{isRegistered:function(s){try{return void 0!==eO(rg(s))}catch{return!1}}});for(var af=Re,ng=eo,J0=$e,ig=Ee,Di=Nl,sf=jt,uf=J0("Symbol"),lf=uf.isWellKnown,Q0=J0("Object","getOwnPropertyNames"),cf=ig(uf.prototype.valueOf),og=ng("wks"),ag=0,sg=Q0(uf),Z0=sg.length;ag<Z0;ag++)try{var ug=sg[ag];Di(uf[ug])&&sf(ug)}catch{}af({target:"Symbol",stat:!0,forced:!0},{isWellKnown:function(s){if(lf&&lf(s))return!0;try{for(var c=cf(s),d=0,p=Q0(og),m=p.length;d<m;d++)if(og[p[d]]==c)return!0}catch{}return!1}}),Ft("matcher"),Ft("metadataKey"),Ft("observable"),Ft("metadata"),Ft("patternMatch"),Ft("replaceAll");var kc=Nu,as=X(kc),hf=Ee,tO=Va,rO=Si,ew=xr,lg=hf("".charAt),tw=hf("".charCodeAt),Oc=hf("".slice),Sc=function(s){return function(c,d){var p,m,_=rO(ew(c)),S=tO(d),T=_.length;return S<0||S>=T?s?"":void 0:(p=tw(_,S))<55296||p>56319||S+1===T||(m=tw(_,S+1))<56320||m>57343?s?lg(_,S):p:s?Oc(_,S,S+2):m-56320+(p-55296<<10)+65536}},ln=(Sc(!1),Sc(!0)),df=Si,ju=so,rw=rf,cg=nf,Un="String Iterator",po=ju.set,xc=ju.getterFor(Un);rw(String,"String",function(s){po(this,{type:Un,string:df(s),index:0})},function(){var s,c=xc(this),d=c.string,p=c.index;return p>=d.length?cg(void 0,!0):(s=ln(d,p),c.index+=s.length,cg(s,!1))});var Ai=_u.f("iterator"),ff=Ai,Tc=X(ff);function ur(s){return(ur="function"==typeof as&&"symbol"==typeof Tc?function(c){return typeof c}:function(c){return c&&"function"==typeof as&&c.constructor===as&&c!==as.prototype?"symbol":typeof c})(s)}var ua=X(_u.f("toPrimitive"));function hg(s){var c=function(d,p){if("object"!==ur(d)||null===d)return d;var m=d[ua];if(void 0!==m){var _=m.call(d,p||"default");if("object"!==ur(_))return _;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===p?String:Number)(d)}(s,"string");return"symbol"===ur(c)?c:String(c)}function nw(s,c){for(var d=0;d<c.length;d++){var p=c[d];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),cu(s,hg(p.key),p)}}function la(s,c,d){return c&&nw(s.prototype,c),d&&nw(s,d),cu(s,"prototype",{writable:!1}),s}function Ue(s,c,d){return(c=hg(c))in s?cu(s,c,{value:d,enumerable:!0,configurable:!0,writable:!0}):s[c]=d,s}var Fu=Ee,nO=Zr,dg=L,iw=qt,vf=co,fg=nr,Ic=Function,vg=Fu([].concat),ow=Fu([].join),pf={},pg=fg?Ic.bind:function(s){var c=nO(this),d=c.prototype,p=vf(arguments,1),m=function(){var _=vg(p,vf(arguments));return this instanceof m?function(S,T,C){if(!iw(pf,T)){for(var A=[],z=0;z<T;z++)A[z]="a["+z+"]";pf[T]=Ic("C,a","return new C("+ow(A,",")+")")}return pf[T](S,C)}(c,_.length,_):c.apply(s,_)};return dg(d)&&(m.prototype=d),m},gg=pg;Re({target:"Function",proto:!0,forced:Function.bind!==gg},{bind:gg});var aw=G,Pr=function(s){return aw[s+"Prototype"]},iO=Pr("Function").bind,oO=xe,sw=iO,gf=Function.prototype,uw=function(s){var c=s.bind;return s===gf||oO(gf,s)&&c===gf.bind?sw:c},go=X(uw),lw=Zr,aO=en,cw=Zi,hw=nn,sO=TypeError,Pc=function(s){return function(c,d,p,m){lw(d);var _=aO(c),S=cw(_),T=hw(_),C=s?T-1:0,A=s?-1:1;if(p<2)for(;;){if(C in S){m=S[C],C+=A;break}if(C+=A,s?C<0:T<=C)throw sO("Reduce of empty array with no initial value")}for(;s?C>=0:T>C;C+=A)C in S&&(m=d(m,S[C],C,_));return m}},yf={left:Pc(!1),right:Pc(!0)},yg=re,ss=function(s,c){var d=[][s];return!!d&&yg(function(){d.call(null,c||function(){return 1},1)})},us=typeof process<"u"&&"process"==ir(process),uO=yf.left;Re({target:"Array",proto:!0,forced:!us&&Qr>79&&Qr<83||!ss("reduce")},{reduce:function(s){var c=arguments.length;return uO(this,s,c,c>1?arguments[1]:void 0)}});var mf=Pr("Array").reduce,mg=xe,dw=mf,Cc=Array.prototype,bg=X(function(s){var c=s.reduce;return s===Cc||mg(Cc,s)&&c===Cc.reduce?dw:c}),$c=Za.filter;Re({target:"Array",proto:!0,forced:!Xl("filter")},{filter:function(s){return $c(this,s,arguments.length>1?arguments[1]:void 0)}});var Dc=Pr("Array").filter,wg=xe,fw=Dc,bf=Array.prototype,lr=X(function(s){var c=s.filter;return s===bf||wg(bf,s)&&c===bf.filter?fw:c}),lO=Za.map;Re({target:"Array",proto:!0,forced:!Xl("map")},{map:function(s){return lO(this,s,arguments.length>1?arguments[1]:void 0)}});var cO=Pr("Array").map,ca=xe,wf=cO,Ac=Array.prototype,Pn=X(function(s){var c=s.map;return s===Ac||ca(Ac,s)&&c===Ac.map?wf:c}),vw=Go,_g=nn,pw=ki,_f=qo,Eg=function(s,c,d,p,m,_,S,T){for(var C,A,z=m,B=0,q=!!S&&_f(S,T);B<p;)B in d&&(C=q?q(d[B],B,c):d[B],_>0&&vw(C)?(A=_g(C),z=Eg(s,c,C,A,z,_-1)-1):(pw(z+1),s[z]=C),z++),B++;return z},kg=Eg,gw=Zr,hO=en,dO=nn,yw=Kl;Re({target:"Array",proto:!0},{flatMap:function(s){var c,d=hO(this),p=dO(d);return gw(s),(c=yw(d,0)).length=kg(c,d,d,p,0,1,s,arguments.length>1?arguments[1]:void 0),c}});var fO=Pr("Array").flatMap,vO=xe,pO=fO,Ef=Array.prototype,mw=X(function(s){var c=s.flatMap;return s===Ef||vO(Ef,s)&&c===Ef.flatMap?pO:c}),gO=function(){function s(c,d,p){var m,_,S;dt(this,s),Ue(this,"_source",void 0),Ue(this,"_transformers",void 0),Ue(this,"_target",void 0),Ue(this,"_listeners",{add:go(m=this._add).call(m,this),remove:go(_=this._remove).call(_,this),update:go(S=this._update).call(S,this)}),this._source=c,this._transformers=d,this._target=p}return la(s,[{key:"all",value:function(){return this._target.update(this._transformItems(this._source.get())),this}},{key:"start",value:function(){return this._source.on("add",this._listeners.add),this._source.on("remove",this._listeners.remove),this._source.on("update",this._listeners.update),this}},{key:"stop",value:function(){return this._source.off("add",this._listeners.add),this._source.off("remove",this._listeners.remove),this._source.off("update",this._listeners.update),this}},{key:"_transformItems",value:function(c){var d;return bg(d=this._transformers).call(d,function(p,m){return m(p)},c)}},{key:"_add",value:function(c,d){null!=d&&this._target.add(this._transformItems(this._source.get(d.items)))}},{key:"_update",value:function(c,d){null!=d&&this._target.update(this._transformItems(this._source.get(d.items)))}},{key:"_remove",value:function(c,d){null!=d&&this._target.remove(this._transformItems(d.oldData))}}]),s}(),yO=function(){function s(c){dt(this,s),Ue(this,"_source",void 0),Ue(this,"_transformers",[]),this._source=c}return la(s,[{key:"filter",value:function(c){return this._transformers.push(function(d){return lr(d).call(d,c)}),this}},{key:"map",value:function(c){return this._transformers.push(function(d){return Pn(d).call(d,c)}),this}},{key:"flatMap",value:function(c){return this._transformers.push(function(d){return mw(d).call(d,c)}),this}},{key:"to",value:function(c){return new gO(this._source,this._transformers,c)}}]),s}(),bw=ot,kf=kn,mO=Ha,ww=function(s,c,d){var p,m;kf(s);try{if(!(p=mO(s,"return"))){if("throw"===c)throw d;return d}p=bw(p,s)}catch(_){m=!0,p=_}if("throw"===c)throw d;if(m)throw p;return kf(p),d},Og=kn,Of=ww,_w=aa,Sg=jt("iterator"),bO=Array.prototype,Sf=function(s){return void 0!==s&&(_w.Array===s||bO[Sg]===s)},xg=no,Tg=Ha,wO=Fr,Mc=aa,Ew=jt("iterator"),Nc=function(s){if(!wO(s))return Tg(s,Ew)||Tg(s,"@@iterator")||Mc[xg(s)]},_O=ot,kw=Zr,Ig=kn,Ow=Qs,EO=Nc,Sw=TypeError,xf=function(s,c){var d=arguments.length<2?EO(s):c;if(kw(d))return Ig(_O(d,s));throw Sw(Ow(s)+" is not iterable")},ha=qo,Bu=ot,ft=en,kO=function(s,c,d,p){try{return p?c(Og(d)[0],d[1]):c(d)}catch(m){Of(s,"throw",m)}},xw=Sf,Tw=Yl,ce=nn,Tf=qa,Iw=xf,Pw=Nc,Cw=Array,$w=jt("iterator"),Dw=!1;try{var Pg=0,Aw={next:function(){return{done:!!Pg++}},return:function(){Dw=!0}};Aw[$w]=function(){return this},Array.from(Aw,function(){throw 2})}catch{}var Cg=function(s,c){if(!c&&!Dw)return!1;var d=!1;try{var p={};p[$w]=function(){return{next:function(){return{done:d=!0}}}},s(p)}catch{}return d},Mw=function(s){var c=ft(s),d=Tw(this),p=arguments.length,m=p>1?arguments[1]:void 0,_=void 0!==m;_&&(m=ha(m,p>2?arguments[2]:void 0));var S,T,C,A,z,B,q=Pw(c),ae=0;if(!q||this===Cw&&xw(q))for(S=ce(c),T=d?new this(S):Cw(S);S>ae;ae++)B=_?m(c[ae],ae):c[ae],Tf(T,ae,B);else for(z=(A=Iw(c,q)).next,T=d?new this:[];!(C=Bu(z,A)).done;ae++)B=_?kO(A,m,[C.value,ae],!0):C.value,Tf(T,ae,B);return T.length=ae,T};Re({target:"Array",stat:!0,forced:!Cg(function(s){Array.from(s)})},{from:Mw});var Nw=G.Array.from,If=X(Nw),Lu=X(Nc),Rw=X(G.Object.getOwnPropertySymbols),Pf={exports:{}},jw=Re,OO=re,SO=St,$g=pr.f,Fw=et;jw({target:"Object",stat:!0,forced:!Fw||OO(function(){$g(1)}),sham:!Fw},{getOwnPropertyDescriptor:function(s,c){return $g(SO(s),c)}});var Bw=G.Object,Dg=Pf.exports=function(s,c){return Bw.getOwnPropertyDescriptor(s,c)};Bw.getOwnPropertyDescriptor.sham&&(Dg.sham=!0);var Lw=X(Pf.exports),mr=$e,xO=an,TO=Ka,IO=kn,PO=Ee([].concat),Ag=mr("Reflect","ownKeys")||function(s){var c=xO.f(IO(s)),d=TO.f;return d?PO(c,d(s)):c},Mg=Ag,CO=St,$O=pr,DO=qa;Re({target:"Object",stat:!0,sham:!et},{getOwnPropertyDescriptors:function(s){for(var c,d,p=CO(s),m=$O.f,_=Mg(p),S={},T=0;_.length>T;)void 0!==(d=m(p,c=_[T++]))&&DO(S,c,d);return S}});var zw=X(G.Object.getOwnPropertyDescriptors),Cf={exports:{}},AO=Re,Ng=et,Rg=gu.f;AO({target:"Object",stat:!0,forced:Object.defineProperties!==Rg,sham:!Ng},{defineProperties:Rg});var yo=G.Object,rt=Cf.exports=function(s,c){return yo.defineProperties(s,c)};yo.defineProperties.sham&&(rt.sham=!0);var jg=X(Cf.exports),At=X(wb);Re({target:"Array",stat:!0},{isArray:Go});var ii=G.Array.isArray,mo=X(ii),Hw=Re,Ww=Go,Uw=Yl,Fg=L,Vw=vd,Rc=nn,br=St,qw=qa,MO=jt,Gw=co,NO=Xl("slice"),Hr=MO("species"),Bg=Array,gt=Math.max;Hw({target:"Array",proto:!0,forced:!NO},{slice:function(s,c){var d,p,m,_=br(this),S=Rc(_),T=Vw(s,S),C=Vw(void 0===c?S:c,S);if(Ww(_)&&(d=_.constructor,(Uw(d)&&(d===Bg||Ww(d.prototype))||Fg(d)&&null===(d=d[Hr]))&&(d=void 0),d===Bg||void 0===d))return Gw(_,T,C);for(p=new(void 0===d?Bg:d)(gt(C-T,0)),m=0;T<C;T++,m++)T in _&&qw(p,m,_[T]);return p.length=m,p}});var RO=Pr("Array").slice,jO=xe,Lg=RO,zg=Array.prototype,$f=function(s){var c=s.slice;return s===zg||jO(zg,s)&&c===zg.slice?Lg:c},Hg=$f,zu=X(Hg),da=X(Nw);function Df(s,c){(null==c||c>s.length)&&(c=s.length);for(var d=0,p=new Array(c);d<c;d++)p[d]=s[d];return p}function Mt(s,c){var d;if(s){if("string"==typeof s)return Df(s,c);var p=zu(d=Object.prototype.toString.call(s)).call(d,8,-1);return"Object"===p&&s.constructor&&(p=s.constructor.name),"Map"===p||"Set"===p?da(s):"Arguments"===p||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(p)?Df(s,c):void 0}}function cn(s,c){return function(d){if(mo(d))return d}(s)||function(d,p){var m=null==d?null:void 0!==as&&Lu(d)||d["@@iterator"];if(null!=m){var _,S,T,C,A=[],z=!0,B=!1;try{if(T=(m=m.call(d)).next,0===p){if(Object(m)!==m)return;z=!1}else for(;!(z=(_=T.call(m)).done)&&(A.push(_.value),A.length!==p);z=!0);}catch(q){B=!0,S=q}finally{try{if(!z&&null!=m.return&&(C=m.return(),Object(C)!==C))return}finally{if(B)throw S}}return A}}(s,c)||Mt(s,c)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Cr(s){return function(c){if(mo(c))return Df(c)}(s)||function(c){if(void 0!==as&&null!=Lu(c)||null!=c["@@iterator"])return da(c)}(s)||Mt(s)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var jc=X(X0),Fc=Pr("Array").concat,FO=xe,Hu=Fc,Wu=Array.prototype,Bc=X(function(s){var c=s.concat;return s===Wu||FO(Wu,s)&&c===Wu.concat?Hu:c}),bo=X($f);Re({target:"Reflect",stat:!0},{ownKeys:Ag});var Yw=X(G.Reflect.ownKeys),Wr=X(ii),BO=en,Wg=yd;Re({target:"Object",stat:!0,forced:re(function(){Wg(1)})},{keys:function(s){return Wg(BO(s))}});var Lc=X(G.Object.keys),LO=Za.forEach,Kw=ss("forEach")?[].forEach:function(s){return LO(this,s,arguments.length>1?arguments[1]:void 0)};Re({target:"Array",proto:!0,forced:[].forEach!=Kw},{forEach:Kw});var wt=Pr("Array").forEach,zO=no,HO=qt,WO=xe,Af=wt,Ug=Array.prototype,UO={DOMTokenList:!0,NodeList:!0},Xw=function(s){var c=s.forEach;return s===Ug||WO(Ug,s)&&c===Ug.forEach||HO(UO,zO(s))?Af:c},Mi=X(Xw),Jw=Re,ls=Go,Qw=Ee([].reverse),Zw=[1,2];Jw({target:"Array",proto:!0,forced:String(Zw)===String(Zw.reverse())},{reverse:function(){return ls(this)&&(this.length=this.length),Qw(this)}});var e1=Pr("Array").reverse,VO=xe,qO=e1,Vg=Array.prototype,t1=function(s){var c=s.reverse;return s===Vg||VO(Vg,s)&&c===Vg.reverse?qO:c},qg=X(t1),GO=et,YO=Go,KO=TypeError,XO=Object.getOwnPropertyDescriptor,Kt=GO&&!function(){if(void 0!==this)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(s){return s instanceof TypeError}}(),r1=Qs,JO=TypeError,n1=function(s,c){if(!delete s[c])throw JO("Cannot delete property "+r1(c)+" of "+r1(s))},QO=Re,ZO=en,eS=vd,Gg=Va,tS=nn,oi=Kt?function(s,c){if(YO(s)&&!XO(s,"length").writable)throw KO("Cannot set read only .length");return s.length=c}:function(s,c){return s.length=c},rS=ki,nS=Kl,iS=qa,Yg=n1,Cn=Xl("splice"),oS=Math.max,aS=Math.min;QO({target:"Array",proto:!0,forced:!Cn},{splice:function(s,c){var d,p,m,_,S,T,C=ZO(this),A=tS(C),z=eS(s,A),B=arguments.length;for(0===B?d=p=0:1===B?(d=0,p=A-z):(d=B-2,p=aS(oS(Gg(c),0),A-z)),rS(A+d-p),m=nS(C,p),_=0;_<p;_++)(S=z+_)in C&&iS(m,_,C[S]);if(m.length=p,d<p){for(_=z;_<A-p;_++)T=_+d,(S=_+p)in C?C[T]=C[S]:Yg(C,T);for(_=A;_>A-p+d;_--)Yg(C,_-1)}else if(d>p)for(_=A-p;_>z;_--)T=_+d-1,(S=_+p-1)in C?C[T]=C[S]:Yg(C,T);for(_=0;_<d;_++)C[_+z]=arguments[_+2];return oi(C,A-p+d),m}});var sS=Pr("Array").splice,uS=xe,i1=sS,Kg=Array.prototype,Xg=X(function(s){var c=s.splice;return s===Kg||uS(Kg,s)&&c===Kg.splice?i1:c}),o1=et,lS=Ee,cS=ot,a1=re,Jg=yd,hS=Ka,Qg=Ot,Zg=en,dS=Zi,Ur=Object.assign,s1=Object.defineProperty,u1=lS([].concat),fS=!Ur||a1(function(){if(o1&&1!==Ur({b:1},Ur(s1({},"a",{enumerable:!0,get:function(){s1(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var s={},c={},d=Symbol(),p="abcdefghijklmnopqrst";return s[d]=7,p.split("").forEach(function(m){c[m]=m}),7!=Ur({},s)[d]||Jg(Ur({},c)).join("")!=p})?function(s,c){for(var d=Zg(s),p=arguments.length,m=1,_=hS.f,S=Qg.f;p>m;)for(var T,C=dS(arguments[m++]),A=_?u1(Jg(C),_(C)):Jg(C),z=A.length,B=0;z>B;)T=A[B++],o1&&!cS(S,C,T)||(d[T]=C[T]);return d}:Ur,ey=fS;Re({target:"Object",stat:!0,arity:2,forced:Object.assign!==ey},{assign:ey});var ty=X(G.Object.assign),vS=en,l1=yc,pS=Yp;Re({target:"Object",stat:!0,forced:re(function(){l1(1)}),sham:!pS},{getPrototypeOf:function(s){return l1(vS(s))}});var gS=G.Object.getPrototypeOf;Re({target:"Object",stat:!0,sham:!et},{create:Ya});var Mf=G.Object,c1=function(s,c){return Mf.create(s,c)},Vr=X(c1),zc=G,yS=Sr;zc.JSON||(zc.JSON={stringify:JSON.stringify});var s,mS=function(s,c,d){return yS(zc.JSON.stringify,null,arguments)},ry=X(mS),h1="function"==typeof Bun&&Bun&&"string"==typeof Bun.version,bS=TypeError,d1=function(s,c){if(s<c)throw bS("Not enough arguments");return s},Hc=ye,f1=Sr,ny=ze,wS=h1,_S=Br,ES=co,kS=d1,Wc=Hc.Function,Uc=/MSIE .\./.test(_S)||wS&&((s=Hc.Bun.version.split(".")).length<3||0==s[0]&&(s[1]<3||3==s[1]&&0==s[2])),iy=function(s,c){var d=c?2:1;return Uc?function(p,m){var _=kS(arguments.length,1)>d,S=ny(p)?p:Wc(p),T=_?ES(arguments,d):[],C=_?function(){f1(S,this,T)}:S;return c?s(C,m):s(C)}:s},v1=Re,oy=ye,p1=iy(oy.setInterval,!0);v1({global:!0,bind:!0,forced:oy.setInterval!==p1},{setInterval:p1});var g1=Re,hn=ye,y1=iy(hn.setTimeout,!0);g1({global:!0,bind:!0,forced:hn.setTimeout!==y1},{setTimeout:y1});var OS=X(G.setTimeout),m1={exports:{}};!function(s){function c(d){if(d)return function(p){for(var m in c.prototype)p[m]=c.prototype[m];return p}(d)}s.exports=c,c.prototype.on=c.prototype.addEventListener=function(d,p){return this._callbacks=this._callbacks||{},(this._callbacks["$"+d]=this._callbacks["$"+d]||[]).push(p),this},c.prototype.once=function(d,p){function m(){this.off(d,m),p.apply(this,arguments)}return m.fn=p,this.on(d,m),this},c.prototype.off=c.prototype.removeListener=c.prototype.removeAllListeners=c.prototype.removeEventListener=function(d,p){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var m,_=this._callbacks["$"+d];if(!_)return this;if(1==arguments.length)return delete this._callbacks["$"+d],this;for(var S=0;S<_.length;S++)if((m=_[S])===p||m.fn===p){_.splice(S,1);break}return 0===_.length&&delete this._callbacks["$"+d],this},c.prototype.emit=function(d){this._callbacks=this._callbacks||{};for(var p=new Array(arguments.length-1),m=this._callbacks["$"+d],_=1;_<arguments.length;_++)p[_-1]=arguments[_];if(m){_=0;for(var S=(m=m.slice(0)).length;_<S;++_)m[_].apply(this,p)}return this},c.prototype.listeners=function(d){return this._callbacks=this._callbacks||{},this._callbacks["$"+d]||[]},c.prototype.hasListeners=function(d){return!!this.listeners(d).length}}(m1);var Nf,b1=X(m1.exports);function ai(){return ai=Object.assign||function(s){for(var c=1;c<arguments.length;c++){var d=arguments[c];for(var p in d)Object.prototype.hasOwnProperty.call(d,p)&&(s[p]=d[p])}return s},ai.apply(this,arguments)}function Vn(s,c){s.prototype=Object.create(c.prototype),s.prototype.constructor=s,s.__proto__=c}function Vc(s){if(void 0===s)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return s}Nf="function"!=typeof Object.assign?function(s){if(null==s)throw new TypeError("Cannot convert undefined or null to object");for(var c=Object(s),d=1;d<arguments.length;d++){var p=arguments[d];if(null!=p)for(var m in p)p.hasOwnProperty(m)&&(c[m]=p[m])}return c}:Object.assign;var Ni,cs=Nf,at=["","webkit","Moz","MS","ms","o"],SS=typeof document>"u"?{style:{}}:document.createElement("div"),hs=Math.round,dn=Math.abs,Uu=Date.now;function Rf(s,c){for(var d,p,m=c[0].toUpperCase()+c.slice(1),_=0;_<at.length;){if((p=(d=at[_])?d+m:c)in s)return p;_++}}Ni=typeof window>"u"?{}:window;var ay=Rf(SS.style,"touchAction"),ds=void 0!==ay,w1="compute",_1="auto",jf="manipulation",fs="none",qc="pan-x",Gc="pan-y",Ff=function(){if(!ds)return!1;var s={},c=Ni.CSS&&Ni.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(d){return s[d]=!c||Ni.CSS.supports("touch-action",d)}),s}(),sy="ontouchstart"in Ni,xS=void 0!==Rf(Ni,"PointerEvent"),Bf=sy&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),Yc="touch",Lf="mouse",TS=25,$r=1,Wt=4,fn=8,Kc=1,Vu=2,vn=4,Xc=8,qn=16,Ri=Vu|vn,vs=Xc|qn,uy=Ri|vs,E1=["x","y"],zf=["clientX","clientY"];function ji(s,c,d){var p;if(s)if(s.forEach)s.forEach(c,d);else if(void 0!==s.length)for(p=0;p<s.length;)c.call(d,s[p],p,s),p++;else for(p in s)s.hasOwnProperty(p)&&c.call(d,s[p],p,s)}function ps(s,c){return"function"==typeof s?s.apply(c&&c[0]||void 0,c):s}function gs(s,c){return s.indexOf(c)>-1}var qu=function(){function s(d,p){this.manager=d,this.set(p)}var c=s.prototype;return c.set=function(d){d===w1&&(d=this.compute()),ds&&this.manager.element.style&&Ff[d]&&(this.manager.element.style[ay]=d),this.actions=d.toLowerCase().trim()},c.update=function(){this.set(this.manager.options.touchAction)},c.compute=function(){var d=[];return ji(this.manager.recognizers,function(p){ps(p.options.enable,[p])&&(d=d.concat(p.getTouchAction()))}),function(p){if(gs(p,fs))return fs;var m=gs(p,qc),_=gs(p,Gc);return m&&_?fs:m||_?m?qc:Gc:gs(p,jf)?jf:_1}(d.join(" "))},c.preventDefaults=function(d){var p=d.srcEvent,m=d.offsetDirection;if(this.manager.session.prevented)p.preventDefault();else{var _=this.actions,S=gs(_,fs)&&!Ff[fs],T=gs(_,Gc)&&!Ff[Gc],C=gs(_,qc)&&!Ff[qc];if(S){var A=1===d.pointers.length,z=d.distance<2,B=d.deltaTime<250;if(A&&z&&B)return}if(!C||!T)return S||T&&m&Ri||C&&m&vs?this.preventSrc(p):void 0}},c.preventSrc=function(d){this.manager.session.prevented=!0,d.preventDefault()},s}();function $n(s,c){for(;s;){if(s===c)return!0;s=s.parentNode}return!1}function pn(s){var c=s.length;if(1===c)return{x:hs(s[0].clientX),y:hs(s[0].clientY)};for(var d=0,p=0,m=0;m<c;)d+=s[m].clientX,p+=s[m].clientY,m++;return{x:hs(d/c),y:hs(p/c)}}function Gu(s){for(var c=[],d=0;d<s.pointers.length;)c[d]={clientX:hs(s.pointers[d].clientX),clientY:hs(s.pointers[d].clientY)},d++;return{timeStamp:Uu(),pointers:c,center:pn(c),deltaX:s.deltaX,deltaY:s.deltaY}}function si(s,c,d){d||(d=E1);var p=c[d[0]]-s[d[0]],m=c[d[1]]-s[d[1]];return Math.sqrt(p*p+m*m)}function wo(s,c,d){d||(d=E1);var p=c[d[0]]-s[d[0]],m=c[d[1]]-s[d[1]];return 180*Math.atan2(m,p)/Math.PI}function Hf(s,c){return s===c?Kc:dn(s)>=dn(c)?s<0?Vu:vn:c<0?Xc:qn}function k1(s,c,d){return{x:c/s||0,y:d/s||0}}function Yu(s,c){var d=s.session,p=c.pointers,m=p.length;d.firstInput||(d.firstInput=Gu(c)),m>1&&!d.firstMultiple?d.firstMultiple=Gu(c):1===m&&(d.firstMultiple=!1);var de,ke,Fe,Te,vt,Xe,_=d.firstInput,S=d.firstMultiple,T=S?S.center:_.center,C=c.center=pn(p);c.timeStamp=Uu(),c.deltaTime=c.timeStamp-_.timeStamp,c.angle=wo(T,C),c.distance=si(T,C),de=d,Fe=(ke=c).center,Te=de.offsetDelta||{},vt=de.prevDelta||{},Xe=de.prevInput||{},ke.eventType!==$r&&Xe.eventType!==Wt||(vt=de.prevDelta={x:Xe.deltaX||0,y:Xe.deltaY||0},Te=de.offsetDelta={x:Fe.x,y:Fe.y}),ke.deltaX=vt.x+(Fe.x-Te.x),ke.deltaY=vt.y+(Fe.y-Te.y),c.offsetDirection=Hf(c.deltaX,c.deltaY);var A,z,B=k1(c.deltaTime,c.deltaX,c.deltaY);c.overallVelocityX=B.x,c.overallVelocityY=B.y,c.overallVelocity=dn(B.x)>dn(B.y)?B.x:B.y,c.scale=S?(A=S.pointers,si((z=p)[0],z[1],zf)/si(A[0],A[1],zf)):1,c.rotation=S?function(de,ke){return wo(ke[1],ke[0],zf)+wo(de[1],de[0],zf)}(S.pointers,p):0,c.maxPointers=d.prevInput?c.pointers.length>d.prevInput.maxPointers?c.pointers.length:d.prevInput.maxPointers:c.pointers.length,function(de,ke){var Fe,Te,vt,Xe,Tt=de.lastInterval||ke,Yi=ke.timeStamp-Tt.timeStamp;if(ke.eventType!==fn&&(Yi>TS||void 0===Tt.velocity)){var zt=ke.deltaX-Tt.deltaX,_n=ke.deltaY-Tt.deltaY,vr=k1(Yi,zt,_n);Te=vr.x,vt=vr.y,Fe=dn(vr.x)>dn(vr.y)?vr.x:vr.y,Xe=Hf(zt,_n),de.lastInterval=ke}else Fe=Tt.velocity,Te=Tt.velocityX,vt=Tt.velocityY,Xe=Tt.direction;ke.velocity=Fe,ke.velocityX=Te,ke.velocityY=vt,ke.direction=Xe}(d,c);var q,ae=s.element,ve=c.srcEvent;$n(q=ve.composedPath?ve.composedPath()[0]:ve.path?ve.path[0]:ve.target,ae)&&(ae=q),c.target=ae}function ys(s,c,d){var p=d.pointers.length,m=d.changedPointers.length,_=c&$r&&p-m==0,S=c&(Wt|fn)&&p-m==0;d.isFirst=!!_,d.isFinal=!!S,_&&(s.session={}),d.eventType=c,Yu(s,d),s.emit("hammer.input",d),s.recognize(d),s.session.prevInput=d}function ms(s){return s.trim().split(/\s+/g)}function fa(s,c,d){ji(ms(c),function(p){s.addEventListener(p,d,!1)})}function bs(s,c,d){ji(ms(c),function(p){s.removeEventListener(p,d,!1)})}function ly(s){var c=s.ownerDocument||s;return c.defaultView||c.parentWindow||window}var ws=function(){function s(d,p){var m=this;this.manager=d,this.callback=p,this.element=d.element,this.target=d.options.inputTarget,this.domHandler=function(_){ps(d.options.enable,[d])&&m.handler(_)},this.init()}var c=s.prototype;return c.handler=function(){},c.init=function(){this.evEl&&fa(this.element,this.evEl,this.domHandler),this.evTarget&&fa(this.target,this.evTarget,this.domHandler),this.evWin&&fa(ly(this.element),this.evWin,this.domHandler)},c.destroy=function(){this.evEl&&bs(this.element,this.evEl,this.domHandler),this.evTarget&&bs(this.target,this.evTarget,this.domHandler),this.evWin&&bs(ly(this.element),this.evWin,this.domHandler)},s}();function va(s,c,d){if(s.indexOf&&!d)return s.indexOf(c);for(var p=0;p<s.length;){if(d&&s[p][d]==c||!d&&s[p]===c)return p;p++}return-1}var cy={pointerdown:$r,pointermove:2,pointerup:Wt,pointercancel:fn,pointerout:fn},_s={2:Yc,3:"pen",4:Lf,5:"kinect"},Ku="pointerdown",pa="pointermove pointerup pointercancel";Ni.MSPointerEvent&&!Ni.PointerEvent&&(Ku="MSPointerDown",pa="MSPointerMove MSPointerUp MSPointerCancel");var Jc=function(s){function c(){var d,p=c.prototype;return p.evEl=Ku,p.evWin=pa,(d=s.apply(this,arguments)||this).store=d.manager.session.pointerEvents=[],d}return Vn(c,s),c.prototype.handler=function(d){var p=this.store,m=!1,_=d.type.toLowerCase().replace("ms",""),S=cy[_],T=_s[d.pointerType]||d.pointerType,C=T===Yc,A=va(p,d.pointerId,"pointerId");S&$r&&(0===d.button||C)?A<0&&(p.push(d),A=p.length-1):S&(Wt|fn)&&(m=!0),A<0||(p[A]=d,this.callback(this.manager,S,{pointers:p,changedPointers:[d],pointerType:T,srcEvent:d}),m&&p.splice(A,1))},c}(ws);function Xu(s){return Array.prototype.slice.call(s,0)}function hy(s,c,d){for(var p=[],m=[],_=0;_<s.length;){var S=c?s[_][c]:s[_];va(m,S)<0&&p.push(s[_]),m[_]=S,_++}return d&&(p=c?p.sort(function(T,C){return T[c]>C[c]}):p.sort()),p}var IS={touchstart:$r,touchmove:2,touchend:Wt,touchcancel:fn},Es=function(s){function c(){var d;return c.prototype.evTarget="touchstart touchmove touchend touchcancel",(d=s.apply(this,arguments)||this).targetIds={},d}return Vn(c,s),c.prototype.handler=function(d){var p=IS[d.type],m=dy.call(this,d,p);m&&this.callback(this.manager,p,{pointers:m[0],changedPointers:m[1],pointerType:Yc,srcEvent:d})},c}(ws);function dy(s,c){var d,p,m=Xu(s.touches),_=this.targetIds;if(c&(2|$r)&&1===m.length)return _[m[0].identifier]=!0,[m,m];var S=Xu(s.changedTouches),T=[],C=this.target;if(p=m.filter(function(A){return $n(A.target,C)}),c===$r)for(d=0;d<p.length;)_[p[d].identifier]=!0,d++;for(d=0;d<S.length;)_[S[d].identifier]&&T.push(S[d]),c&(Wt|fn)&&delete _[S[d].identifier],d++;return T.length?[hy(p.concat(T),"identifier",!0),T]:void 0}var PS={mousedown:$r,mousemove:2,mouseup:Wt},wr=function(s){function c(){var d,p=c.prototype;return p.evEl="mousedown",p.evWin="mousemove mouseup",(d=s.apply(this,arguments)||this).pressed=!1,d}return Vn(c,s),c.prototype.handler=function(d){var p=PS[d.type];p&$r&&0===d.button&&(this.pressed=!0),2&p&&1!==d.which&&(p=Wt),this.pressed&&(p&Wt&&(this.pressed=!1),this.callback(this.manager,p,{pointers:[d],changedPointers:[d],pointerType:Lf,srcEvent:d}))},c}(ws),Xt=2500;function qr(s){var c=s.changedPointers[0];if(c.identifier===this.primaryTouch){var d={x:c.clientX,y:c.clientY},p=this.lastTouches;this.lastTouches.push(d),setTimeout(function(){var m=p.indexOf(d);m>-1&&p.splice(m,1)},Xt)}}function Wf(s,c){s&$r?(this.primaryTouch=c.changedPointers[0].identifier,qr.call(this,c)):s&(Wt|fn)&&qr.call(this,c)}function Ju(s){for(var c=s.srcEvent.clientX,d=s.srcEvent.clientY,p=0;p<this.lastTouches.length;p++){var m=this.lastTouches[p],_=Math.abs(c-m.x),S=Math.abs(d-m.y);if(_<=25&&S<=25)return!0}return!1}var ks=function(s){function c(d,p){var m;return(m=s.call(this,d,p)||this).handler=function(_,S,T){var C=T.pointerType===Yc,A=T.pointerType===Lf;if(!(A&&T.sourceCapabilities&&T.sourceCapabilities.firesTouchEvents)){if(C)Wf.call(Vc(Vc(m)),S,T);else if(A&&Ju.call(Vc(Vc(m)),T))return;m.callback(_,S,T)}},m.touch=new Es(m.manager,m.handler),m.mouse=new wr(m.manager,m.handler),m.primaryTouch=null,m.lastTouches=[],m}return Vn(c,s),c.prototype.destroy=function(){this.touch.destroy(),this.mouse.destroy()},c}(ws);function Fi(s,c,d){return!!Array.isArray(s)&&(ji(s,d[c],d),!0)}var Dn=32,ui=1;function Bi(s,c){var d=c.manager;return d?d.get(s):s}function Uf(s){return 16&s?"cancel":8&s?"end":4&s?"move":2&s?"start":""}var Qu=function(){function s(d){void 0===d&&(d={}),this.options=ai({enable:!0},d),this.id=ui++,this.manager=null,this.state=1,this.simultaneous={},this.requireFail=[]}var c=s.prototype;return c.set=function(d){return cs(this.options,d),this.manager&&this.manager.touchAction.update(),this},c.recognizeWith=function(d){if(Fi(d,"recognizeWith",this))return this;var p=this.simultaneous;return p[(d=Bi(d,this)).id]||(p[d.id]=d,d.recognizeWith(this)),this},c.dropRecognizeWith=function(d){return Fi(d,"dropRecognizeWith",this)||(d=Bi(d,this),delete this.simultaneous[d.id]),this},c.requireFailure=function(d){if(Fi(d,"requireFailure",this))return this;var p=this.requireFail;return-1===va(p,d=Bi(d,this))&&(p.push(d),d.requireFailure(this)),this},c.dropRequireFailure=function(d){if(Fi(d,"dropRequireFailure",this))return this;d=Bi(d,this);var p=va(this.requireFail,d);return p>-1&&this.requireFail.splice(p,1),this},c.hasRequireFailures=function(){return this.requireFail.length>0},c.canRecognizeWith=function(d){return!!this.simultaneous[d.id]},c.emit=function(d){var p=this,m=this.state;function _(S){p.manager.emit(S,d)}m<8&&_(p.options.event+Uf(m)),_(p.options.event),d.additionalEvent&&_(d.additionalEvent),m>=8&&_(p.options.event+Uf(m))},c.tryEmit=function(d){if(this.canEmit())return this.emit(d);this.state=Dn},c.canEmit=function(){for(var d=0;d<this.requireFail.length;){if(!(33&this.requireFail[d].state))return!1;d++}return!0},c.recognize=function(d){var p=cs({},d);if(!ps(this.options.enable,[this,p]))return this.reset(),void(this.state=Dn);56&this.state&&(this.state=1),this.state=this.process(p),30&this.state&&this.tryEmit(p)},c.process=function(d){},c.getTouchAction=function(){},c.reset=function(){},s}(),Zu=function(s){function c(p){var m;return void 0===p&&(p={}),(m=s.call(this,ai({event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},p))||this).pTime=!1,m.pCenter=!1,m._timer=null,m._input=null,m.count=0,m}Vn(c,s);var d=c.prototype;return d.getTouchAction=function(){return[jf]},d.process=function(p){var m=this,_=this.options,S=p.pointers.length===_.pointers,T=p.distance<_.threshold,C=p.deltaTime<_.time;if(this.reset(),p.eventType&$r&&0===this.count)return this.failTimeout();if(T&&C&&S){if(p.eventType!==Wt)return this.failTimeout();var A=!this.pTime||p.timeStamp-this.pTime<_.interval,z=!this.pCenter||si(this.pCenter,p.center)<_.posThreshold;if(this.pTime=p.timeStamp,this.pCenter=p.center,z&&A?this.count+=1:this.count=1,this._input=p,this.count%_.taps==0)return this.hasRequireFailures()?(this._timer=setTimeout(function(){m.state=8,m.tryEmit()},_.interval),2):8}return Dn},d.failTimeout=function(){var p=this;return this._timer=setTimeout(function(){p.state=Dn},this.options.interval),Dn},d.reset=function(){clearTimeout(this._timer)},d.emit=function(){8===this.state&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))},c}(Qu),gn=function(s){function c(p){return void 0===p&&(p={}),s.call(this,ai({pointers:1},p))||this}Vn(c,s);var d=c.prototype;return d.attrTest=function(p){var m=this.options.pointers;return 0===m||p.pointers.length===m},d.process=function(p){var m=this.state,_=p.eventType,S=6&m,T=this.attrTest(p);return S&&(_&fn||!T)?16|m:S||T?_&Wt?8|m:2&m?4|m:2:Dn},c}(Qu);function Qc(s){return s===qn?"down":s===Xc?"up":s===Vu?"left":s===vn?"right":""}var _o=function(s){function c(p){var m;return void 0===p&&(p={}),(m=s.call(this,ai({event:"pan",threshold:10,pointers:1,direction:uy},p))||this).pX=null,m.pY=null,m}Vn(c,s);var d=c.prototype;return d.getTouchAction=function(){var p=this.options.direction,m=[];return p&Ri&&m.push(Gc),p&vs&&m.push(qc),m},d.directionTest=function(p){var m=this.options,_=!0,S=p.distance,T=p.direction,C=p.deltaX,A=p.deltaY;return T&m.direction||(m.direction&Ri?(T=0===C?Kc:C<0?Vu:vn,_=C!==this.pX,S=Math.abs(p.deltaX)):(T=0===A?Kc:A<0?Xc:qn,_=A!==this.pY,S=Math.abs(p.deltaY))),p.direction=T,_&&S>m.threshold&&T&m.direction},d.attrTest=function(p){return gn.prototype.attrTest.call(this,p)&&(2&this.state||!(2&this.state)&&this.directionTest(p))},d.emit=function(p){this.pX=p.deltaX,this.pY=p.deltaY;var m=Qc(p.direction);m&&(p.additionalEvent=this.options.event+m),s.prototype.emit.call(this,p)},c}(gn),fy=function(s){function c(p){return void 0===p&&(p={}),s.call(this,ai({event:"swipe",threshold:10,velocity:.3,direction:Ri|vs,pointers:1},p))||this}Vn(c,s);var d=c.prototype;return d.getTouchAction=function(){return _o.prototype.getTouchAction.call(this)},d.attrTest=function(p){var m,_=this.options.direction;return _&(Ri|vs)?m=p.overallVelocity:_&Ri?m=p.overallVelocityX:_&vs&&(m=p.overallVelocityY),s.prototype.attrTest.call(this,p)&&_&p.offsetDirection&&p.distance>this.options.threshold&&p.maxPointers===this.options.pointers&&dn(m)>this.options.velocity&&p.eventType&Wt},d.emit=function(p){var m=Qc(p.offsetDirection);m&&this.manager.emit(this.options.event+m,p),this.manager.emit(this.options.event,p)},c}(gn),Vf=function(s){function c(p){return void 0===p&&(p={}),s.call(this,ai({event:"pinch",threshold:0,pointers:2},p))||this}Vn(c,s);var d=c.prototype;return d.getTouchAction=function(){return[fs]},d.attrTest=function(p){return s.prototype.attrTest.call(this,p)&&(Math.abs(p.scale-1)>this.options.threshold||2&this.state)},d.emit=function(p){if(1!==p.scale){var m=p.scale<1?"in":"out";p.additionalEvent=this.options.event+m}s.prototype.emit.call(this,p)},c}(gn),qf=function(s){function c(p){return void 0===p&&(p={}),s.call(this,ai({event:"rotate",threshold:0,pointers:2},p))||this}Vn(c,s);var d=c.prototype;return d.getTouchAction=function(){return[fs]},d.attrTest=function(p){return s.prototype.attrTest.call(this,p)&&(Math.abs(p.rotation)>this.options.threshold||2&this.state)},c}(gn),vy=function(s){function c(p){var m;return void 0===p&&(p={}),(m=s.call(this,ai({event:"press",pointers:1,time:251,threshold:9},p))||this)._timer=null,m._input=null,m}Vn(c,s);var d=c.prototype;return d.getTouchAction=function(){return[_1]},d.process=function(p){var m=this,_=this.options,S=p.pointers.length===_.pointers,T=p.distance<_.threshold,C=p.deltaTime>_.time;if(this._input=p,!T||!S||p.eventType&(Wt|fn)&&!C)this.reset();else if(p.eventType&$r)this.reset(),this._timer=setTimeout(function(){m.state=8,m.tryEmit()},_.time);else if(p.eventType&Wt)return 8;return Dn},d.reset=function(){clearTimeout(this._timer)},d.emit=function(p){8===this.state&&(p&&p.eventType&Wt?this.manager.emit(this.options.event+"up",p):(this._input.timeStamp=Uu(),this.manager.emit(this.options.event,this._input)))},c}(Qu),Zc={domEvents:!1,touchAction:w1,enable:!0,inputTarget:null,inputClass:null,cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},Gf=[[qf,{enable:!1}],[Vf,{enable:!1},["rotate"]],[fy,{direction:Ri}],[_o,{direction:Ri},["swipe"]],[Zu],[Zu,{event:"doubletap",taps:2},["tap"]],[vy]];function py(s,c){var d,p=s.element;p.style&&(ji(s.options.cssProps,function(m,_){d=Rf(p.style,_),c?(s.oldCssProps[d]=p.style[d],p.style[d]=m):p.style[d]=s.oldCssProps[d]||""}),c||(s.oldCssProps={}))}var gy=function(){function s(d,p){var m,_=this;this.options=cs({},Zc,p||{}),this.options.inputTarget=this.options.inputTarget||d,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=d,this.input=new((m=this).options.inputClass||(xS?Jc:Bf?Es:sy?ks:wr))(m,ys),this.touchAction=new qu(this,this.options.touchAction),py(this,!0),ji(this.options.recognizers,function(S){var T=_.add(new S[0](S[1]));S[2]&&T.recognizeWith(S[2]),S[3]&&T.requireFailure(S[3])},this)}var c=s.prototype;return c.set=function(d){return cs(this.options,d),d.touchAction&&this.touchAction.update(),d.inputTarget&&(this.input.destroy(),this.input.target=d.inputTarget,this.input.init()),this},c.stop=function(d){this.session.stopped=d?2:1},c.recognize=function(d){var p=this.session;if(!p.stopped){var m;this.touchAction.preventDefaults(d);var _=this.recognizers,S=p.curRecognizer;(!S||S&&8&S.state)&&(p.curRecognizer=null,S=null);for(var T=0;T<_.length;)m=_[T],2===p.stopped||S&&m!==S&&!m.canRecognizeWith(S)?m.reset():m.recognize(d),!S&&14&m.state&&(p.curRecognizer=m,S=m),T++}},c.get=function(d){if(d instanceof Qu)return d;for(var p=this.recognizers,m=0;m<p.length;m++)if(p[m].options.event===d)return p[m];return null},c.add=function(d){if(Fi(d,"add",this))return this;var p=this.get(d.options.event);return p&&this.remove(p),this.recognizers.push(d),d.manager=this,this.touchAction.update(),d},c.remove=function(d){if(Fi(d,"remove",this))return this;var p=this.get(d);if(d){var m=this.recognizers,_=va(m,p);-1!==_&&(m.splice(_,1),this.touchAction.update())}return this},c.on=function(d,p){if(void 0===d||void 0===p)return this;var m=this.handlers;return ji(ms(d),function(_){m[_]=m[_]||[],m[_].push(p)}),this},c.off=function(d,p){if(void 0===d)return this;var m=this.handlers;return ji(ms(d),function(_){p?m[_]&&m[_].splice(va(m[_],p),1):delete m[_]}),this},c.emit=function(d,p){var S,T,C;this.options.domEvents&&(S=d,T=p,(C=document.createEvent("Event")).initEvent(S,!0,!0),C.gesture=T,T.target.dispatchEvent(C));var m=this.handlers[d]&&this.handlers[d].slice();if(m&&m.length){p.type=d,p.preventDefault=function(){p.srcEvent.preventDefault()};for(var _=0;_<m.length;)m[_](p),_++}},c.destroy=function(){this.element&&py(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null},s}(),O1={touchstart:$r,touchmove:2,touchend:Wt,touchcancel:fn},CS=function(s){function c(){var d,p=c.prototype;return p.evTarget="touchstart",p.evWin="touchstart touchmove touchend touchcancel",(d=s.apply(this,arguments)||this).started=!1,d}return Vn(c,s),c.prototype.handler=function(d){var p=O1[d.type];if(p===$r&&(this.started=!0),this.started){var m=eh.call(this,d,p);p&(Wt|fn)&&m[0].length-m[1].length==0&&(this.started=!1),this.callback(this.manager,p,{pointers:m[0],changedPointers:m[1],pointerType:Yc,srcEvent:d})}},c}(ws);function eh(s,c){var d=Xu(s.touches),p=Xu(s.changedTouches);return c&(Wt|fn)&&(d=hy(d.concat(p),"identifier",!0)),[d,p]}function el(s,c,d){var p="DEPRECATED METHOD: "+c+"\n"+d+" AT \n";return function(){var m=new Error("get-stack-trace"),_=m&&m.stack?m.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",S=window.console&&(window.console.warn||window.console.log);return S&&S.call(window.console,p,_),s.apply(this,arguments)}}var tl=el(function(s,c,d){for(var p=Object.keys(c),m=0;m<p.length;)(!d||d&&void 0===s[p[m]])&&(s[p[m]]=c[p[m]]),m++;return s},"extend","Use `assign`."),S1=el(function(s,c){return tl(s,c,!0)},"merge","Use `assign`.");function rl(s,c,d){var p,m=c.prototype;(p=s.prototype=Object.create(m)).constructor=s,p._super=m,d&&cs(p,d)}function Eo(s,c){return function(){return s.apply(c,arguments)}}var $S=function(){var s=function(c,d){return void 0===d&&(d={}),new gy(c,ai({recognizers:Gf.concat()},d))};return s.VERSION="2.0.17-rc",s.DIRECTION_ALL=uy,s.DIRECTION_DOWN=qn,s.DIRECTION_LEFT=Vu,s.DIRECTION_RIGHT=vn,s.DIRECTION_UP=Xc,s.DIRECTION_HORIZONTAL=Ri,s.DIRECTION_VERTICAL=vs,s.DIRECTION_NONE=Kc,s.DIRECTION_DOWN=qn,s.INPUT_START=$r,s.INPUT_MOVE=2,s.INPUT_END=Wt,s.INPUT_CANCEL=fn,s.STATE_POSSIBLE=1,s.STATE_BEGAN=2,s.STATE_CHANGED=4,s.STATE_ENDED=8,s.STATE_RECOGNIZED=8,s.STATE_CANCELLED=16,s.STATE_FAILED=Dn,s.Manager=gy,s.Input=ws,s.TouchAction=qu,s.TouchInput=Es,s.MouseInput=wr,s.PointerEventInput=Jc,s.TouchMouseInput=ks,s.SingleTouchInput=CS,s.Recognizer=Qu,s.AttrRecognizer=gn,s.Tap=Zu,s.Pan=_o,s.Swipe=fy,s.Pinch=Vf,s.Rotate=qf,s.Press=vy,s.on=fa,s.off=bs,s.each=ji,s.merge=S1,s.extend=tl,s.bindFn=Eo,s.assign=cs,s.inherit=rl,s.bindFn=Eo,s.prefixed=Rf,s.toArray=Xu,s.inArray=va,s.uniqueArray=hy,s.splitStr=ms,s.boolOrFn=ps,s.hasParent=$n,s.addEventListeners=fa,s.removeEventListeners=bs,s.defaults=cs({},Zc,{preset:Gf}),s}();function x1(s,c){var d=void 0!==jc&&Lu(s)||s["@@iterator"];if(!d){if(Wr(s)||(d=function(C,A){var z;if(C){if("string"==typeof C)return yy(C,A);var B=bo(z=Object.prototype.toString.call(C)).call(z,8,-1);if("Object"===B&&C.constructor&&(B=C.constructor.name),"Map"===B||"Set"===B)return If(C);if("Arguments"===B||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(B))return yy(C,A)}}(s))||c&&s&&"number"==typeof s.length){d&&(s=d);var p=0,m=function(){};return{s:m,n:function(){return p>=s.length?{done:!0}:{done:!1,value:s[p++]}},e:function(C){throw C},f:m}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var _,S=!0,T=!1;return{s:function(){d=d.call(s)},n:function(){var C=d.next();return S=C.done,C},e:function(C){T=!0,_=C},f:function(){try{S||null==d.return||d.return()}finally{if(T)throw _}}}}function yy(s,c){(null==c||c>s.length)&&(c=s.length);for(var d=0,p=new Array(c);d<c;d++)p[d]=s[d];return p}var th=jc("DELETE");function my(){var s=ga.apply(void 0,arguments);return T1(s),s}function ga(){for(var s=arguments.length,c=new Array(s),d=0;d<s;d++)c[d]=arguments[d];if(c.length<2)return c[0];var p;if(c.length>2)return ga.apply(void 0,Bc(p=[my(c[0],c[1])]).call(p,Cr(bo(c).call(c,2))));var m,_=c[0],S=c[1],T=x1(Yw(S));try{for(T.s();!(m=T.n()).done;){var C=m.value;Object.prototype.propertyIsEnumerable.call(S,C)&&(S[C]===th?delete _[C]:null===_[C]||null===S[C]||"object"!==ur(_[C])||"object"!==ur(S[C])||Wr(_[C])||Wr(S[C])?_[C]=rh(S[C]):_[C]=ga(_[C],S[C]))}}catch(A){T.e(A)}finally{T.f()}return _}function rh(s){return Wr(s)?Pn(s).call(s,function(c){return rh(c)}):"object"===ur(s)&&null!==s?ga({},s):s}function T1(s){for(var c=0,d=Lc(s);c<d.length;c++){var p=d[c];s[p]===th?delete s[p]:"object"===ur(s[p])&&null!==s[p]&&T1(s[p])}}var by=typeof window<"u"?window.Hammer||$S:function(){return function(){var s=function(){};return{on:s,off:s,destroy:s,emit:s,get:function(){return{set:s}}}}()};function ko(s){var c,d=this;this._cleanupQueue=[],this.active=!1,this._dom={container:s,overlay:document.createElement("div")},this._dom.overlay.classList.add("vis-overlay"),this._dom.container.appendChild(this._dom.overlay),this._cleanupQueue.push(function(){d._dom.overlay.parentNode.removeChild(d._dom.overlay)});var p=by(this._dom.overlay);p.on("tap",go(c=this._onTapOverlay).call(c,this)),this._cleanupQueue.push(function(){p.destroy()});var m=["tap","doubletap","press","pinch","pan","panstart","panmove","panend"];Mi(m).call(m,function(_){p.on(_,function(S){S.srcEvent.stopPropagation()})}),document&&document.body&&(this._onClick=function(_){(function(S,T){for(;S;){if(S===T)return!0;S=S.parentNode}return!1})(_.target,s)||d.deactivate()},document.body.addEventListener("click",this._onClick),this._cleanupQueue.push(function(){document.body.removeEventListener("click",d._onClick)})),this._escListener=function(_){("key"in _?"Escape"===_.key:27===_.keyCode)&&d.deactivate()}}b1(ko.prototype),ko.current=null,ko.prototype.destroy=function(){var s,c;this.deactivate();var d,p=x1(qg(s=Xg(c=this._cleanupQueue).call(c,0)).call(s));try{for(p.s();!(d=p.n()).done;)(0,d.value)()}catch(m){p.e(m)}finally{p.f()}},ko.prototype.activate=function(){ko.current&&ko.current.deactivate(),ko.current=this,this.active=!0,this._dom.overlay.style.display="none",this._dom.container.classList.add("vis-active"),this.emit("change"),this.emit("activate"),document.body.addEventListener("keydown",this._escListener)},ko.prototype.deactivate=function(){this.active=!1,this._dom.overlay.style.display="block",this._dom.container.classList.remove("vis-active"),document.body.removeEventListener("keydown",this._escListener),this.emit("change"),this.emit("deactivate")},ko.prototype._onTapOverlay=function(s){this.activate(),s.srcEvent.stopPropagation()};var DS=Yl,wy=Qs,AS=TypeError,_y=function(s){if(DS(s))return s;throw AS(wy(s)+" is not a constructor")},MS=Re,nh=Sr,I1=pg,Os=_y,ya=kn,P1=L,Yf=Ya,ih=re,Ss=$e("Reflect","construct"),Ey=Object.prototype,xs=[].push,ky=ih(function(){function s(){}return!(Ss(function(){},[],s)instanceof s)}),Kf=!ih(function(){Ss(function(){})}),Oy=ky||Kf;MS({target:"Reflect",stat:!0,forced:Oy,sham:Oy},{construct:function(s,c){Os(s),ya(c);var d=arguments.length<3?s:Os(arguments[2]);if(Kf&&!ky)return Ss(s,c,d);if(s==d){switch(c.length){case 0:return new s;case 1:return new s(c[0]);case 2:return new s(c[0],c[1]);case 3:return new s(c[0],c[1],c[2]);case 4:return new s(c[0],c[1],c[2],c[3])}var p=[null];return nh(xs,p,c),new(nh(I1,s,p))}var m=d.prototype,_=Yf(P1(m)?m:Ey),S=nh(s,_,c);return P1(S)?S:_}});var Oo=X(G.Reflect.construct);function yn(s){if(void 0===s)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return s}var Xf=c1,C1=X(Xf);Re({target:"Object",stat:!0},{setPrototypeOf:os});var Sy=G.Object.setPrototypeOf,Jf=X(Sy),xy=X(uw);function Ty(s,c){var d;return(Ty=Jf?xy(d=Jf).call(d):function(p,m){return p.__proto__=m,p})(s,c)}function $1(s,c){if("function"!=typeof c&&null!==c)throw new TypeError("Super expression must either be null or a function");s.prototype=C1(c&&c.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),cu(s,"prototype",{writable:!1}),c&&Ty(s,c)}function D1(s,c){if(c&&("object"===ur(c)||"function"==typeof c))return c;if(void 0!==c)throw new TypeError("Derived constructors may only return object or undefined");return yn(s)}var Qf=gS,oh=X(Qf);function Ts(s){var c;return(Ts=Jf?xy(c=oh).call(c):function(d){return d.__proto__||oh(d)})(s)}var A1={exports:{}},Dr={exports:{}};!function(s){var c=kc,d=ff;function p(m){return s.exports=p="function"==typeof c&&"symbol"==typeof d?function(_){return typeof _}:function(_){return _&&"function"==typeof c&&_.constructor===c&&_!==c.prototype?"symbol":typeof _},s.exports.__esModule=!0,s.exports.default=s.exports,p(m)}s.exports=p,s.exports.__esModule=!0,s.exports.default=s.exports}(Dr);var M1=Dr.exports,NS=Xw,Iy=qt,Ar=Ag,Zf=pr,Is=yr,Li=L,RS=to,N1=Error,jS=Ee("".replace),Py=String(N1("zxcasd").stack),So=/\n\s*at [^:]*:[^\n]*/,ma=So.test(Py),R1=gr,Ps=!re(function(){var s=Error("a");return!("stack"in s)||(Object.defineProperty(s,"stack",R1(1,7)),7!==s.stack)}),ah=to,nl=function(s,c){if(ma&&"string"==typeof s&&!N1.prepareStackTrace)for(;c--;)s=jS(s,So,"");return s},ba=Ps,_t=Error.captureStackTrace,ev=qo,FS=ot,Ke=kn,Cy=Qs,Gn=Sf,j1=nn,sh=xe,uh=xf,cr=Nc,tv=ww,F1=TypeError,il=function(s,c){this.stopped=s,this.result=c},xo=il.prototype,hr=function(s,c,d){var p,m,_,S,T,C,A,z=d&&d.that,B=!(!d||!d.AS_ENTRIES),q=!(!d||!d.IS_RECORD),ae=!(!d||!d.IS_ITERATOR),ve=!(!d||!d.INTERRUPTED),de=ev(c,z),ke=function(Te){return p&&tv(p,"normal",Te),new il(!0,Te)},Fe=function(Te){return B?(Ke(Te),ve?de(Te[0],Te[1],ke):de(Te[0],Te[1])):ve?de(Te,ke):de(Te)};if(q)p=s.iterator;else if(ae)p=s;else{if(!(m=cr(s)))throw F1(Cy(s)+" is not iterable");if(Gn(m)){for(_=0,S=j1(s);S>_;_++)if((T=Fe(s[_]))&&sh(xo,T))return T;return new il(!1)}p=uh(s,m)}for(C=q?s.next:p.next;!(A=FS(C,p)).done;){try{T=Fe(A.value)}catch(Te){tv(p,"throw",Te)}if("object"==typeof T&&T&&sh(xo,T))return T}return new il(!1)},BS=Si,wa=Re,LS=xe,zS=yc,ol=os,rv=function(s,c,d){for(var p=Ar(c),m=Is.f,_=Zf.f,S=0;S<p.length;S++){var T=p[S];Iy(s,T)||d&&Iy(d,T)||m(s,T,_(c,T))}},B1=Ya,$y=to,Cs=gr,Dy=function(s,c){Li(c)&&"cause"in c&&RS(s,"cause",c.cause)},HS=function(s,c,d,p){ba&&(_t?_t(s,c):ah(s,"stack",nl(d,p)))},L1=hr,WS=function(s,c){return void 0===s?arguments.length<2?"":c:BS(s)},al=jt("toStringTag"),nv=Error,z1=[].push,sl=function(s,c){var d,p=LS(iv,this);ol?d=ol(nv(),p?zS(this):iv):(d=p?this:B1(iv),$y(d,al,"Error")),void 0!==c&&$y(d,"message",WS(c)),HS(d,sl,d.stack,1),arguments.length>2&&Dy(d,arguments[2]);var m=[];return L1(s,z1,{that:m}),$y(d,"errors",m),d};ol?ol(sl,nv):rv(sl,nv,{name:!0});var iv=sl.prototype=B1(nv.prototype,{constructor:Cs(1,sl),message:Cs(1,""),name:Cs(1,"AggregateError")});wa({global:!0,constructor:!0,arity:2},{AggregateError:sl});var ul,_a,dr,ov,To=$e,ll=wu,je=et,Ie=jt("species"),Gr=function(s){var c=To(s);je&&c&&!c[Ie]&&ll(c,Ie,{configurable:!0,get:function(){return this}})},fr=xe,cl=TypeError,lh=function(s,c){if(fr(c,s))return s;throw cl("Incorrect invocation")},Io=kn,US=_y,H1=Fr,VS=jt("species"),ch=function(s,c){var d,p=Io(s).constructor;return void 0===p||H1(d=Io(p)[VS])?c:US(d)},Et=/(?:ipad|iphone|ipod).*applewebkit/i.test(Br),mn=ye,W1=Sr,U1=qo,Ay=ze,hh=qt,Mr=re,My=qb,V1=co,Ny=Bl,Ry=d1,q1=Et,jy=us,av=mn.setImmediate,Fy=mn.clearImmediate,qS=mn.process,sv=mn.Dispatch,G1=mn.Function,Y1=mn.MessageChannel,GS=mn.String,By=0,dh={},Ly="onreadystatechange";Mr(function(){ul=mn.location});var Ea=function(s){if(hh(dh,s)){var c=dh[s];delete dh[s],c()}},zy=function(s){return function(){Ea(s)}},Hy=function(s){Ea(s.data)},K1=function(s){mn.postMessage(GS(s),ul.protocol+"//"+ul.host)};av&&Fy||(av=function(s){Ry(arguments.length,1);var c=Ay(s)?s:G1(s),d=V1(arguments,1);return dh[++By]=function(){W1(c,void 0,d)},_a(By),By},Fy=function(s){delete dh[s]},jy?_a=function(s){qS.nextTick(zy(s))}:sv&&sv.now?_a=function(s){sv.now(zy(s))}:Y1&&!q1?(ov=(dr=new Y1).port2,dr.port1.onmessage=Hy,_a=U1(ov.postMessage,ov)):mn.addEventListener&&Ay(mn.postMessage)&&!mn.importScripts&&ul&&"file:"!==ul.protocol&&!Mr(K1)?(_a=K1,mn.addEventListener("message",Hy,!1)):_a=Ly in Ny("script")?function(s){My.appendChild(Ny("script"))[Ly]=function(){My.removeChild(this),Ea(s)}}:function(s){setTimeout(zy(s),0)});var X1={set:av,clear:Fy},J1=function(){this.head=null,this.tail=null};J1.prototype={add:function(s){var c={item:s,next:null},d=this.tail;d?d.next=c:this.head=c,this.tail=c},get:function(){var s=this.head;if(s)return null===(this.head=s.next)&&(this.tail=null),s.item}};var hl,fh,Wy,dl,Q1,uv=J1,YS=/ipad|iphone|ipod/i.test(Br)&&typeof Pebble<"u",Z1=/web0s(?!.*chrome)/i.test(Br),Nr=ye,Uy=qo,Vy=pr.f,qy=X1.set,lv=uv,Gy=Et,KS=YS,XS=Z1,Yy=us,e_=Nr.MutationObserver||Nr.WebKitMutationObserver,$s=Nr.document,cv=Nr.process,hv=Nr.Promise,t_=Vy(Nr,"queueMicrotask"),dv=t_&&t_.value;if(!dv){var vh=new lv,Ds=function(){var s,c;for(Yy&&(s=cv.domain)&&s.exit();c=vh.get();)try{c()}catch(d){throw vh.head&&hl(),d}s&&s.enter()};Gy||Yy||XS||!e_||!$s?!KS&&hv&&hv.resolve?((dl=hv.resolve(void 0)).constructor=hv,Q1=Uy(dl.then,dl),hl=function(){Q1(Ds)}):Yy?hl=function(){cv.nextTick(Ds)}:(qy=Uy(qy,Nr),hl=function(){qy(Ds)}):(fh=!0,Wy=$s.createTextNode(""),new e_(Ds).observe(Wy,{characterData:!0}),hl=function(){Wy.data=fh=!fh}),dv=function(s){vh.head||hl(),vh.add(s)}}var r_=dv,ka=function(s){try{return{error:!1,value:s()}}catch(c){return{error:!0,value:c}}},As=ye.Promise,n_="object"==typeof Deno&&Deno&&"object"==typeof Deno.version,fv=!n_&&!us&&"object"==typeof window&&"object"==typeof document,JS=ye,ph=As,QS=ze,i_=fb,ZS=xb,ex=jt,tx=fv,rx=n_,Ky=Qr,o_=ph&&ph.prototype,nx=ex("species"),a_=!1,s_=QS(JS.PromiseRejectionEvent),gh={CONSTRUCTOR:i_("Promise",function(){var s=ZS(ph),c=s!==String(ph);if(!c&&66===Ky||!o_.catch||!o_.finally)return!0;if(!Ky||Ky<51||!/native code/.test(s)){var d=new ph(function(m){m(1)}),p=function(m){m(function(){},function(){})};if((d.constructor={})[nx]=p,!(a_=d.then(function(){})instanceof p))return!0}return!c&&(tx||rx)&&!s_}),REJECTION_EVENT:s_,SUBCLASSING:a_},Po={},vv=Zr,u_=TypeError,Xy=function(s){var c,d;this.promise=new s(function(p,m){if(void 0!==c||void 0!==d)throw u_("Bad Promise constructor");c=p,d=m}),this.resolve=vv(c),this.reject=vv(d)};Po.f=function(s){return new Xy(s)};var Jy,pv,ox=Re,yh=us,Oa=ye,mh=ot,l_=Jo,ax=Ti,sx=Gr,ux=Zr,gv=ze,c_=L,h_=lh,lx=ch,fl=X1.set,yv=r_,d_=function(s,c){try{1==arguments.length?console.error(s):console.error(s,c)}catch{}},Qy=ka,f_=uv,Zy=so,mv=As,bv=gh,em=Po,wv="Promise",Co=bv.CONSTRUCTOR,cx=bv.REJECTION_EVENT,_v=Zy.getterFor(wv),hx=Zy.set,v_=mv&&mv.prototype,Ms=mv,tm=v_,p_=Oa.TypeError,zi=Oa.document,bh=Oa.process,rm=em.f,dx=rm,li=!!(zi&&zi.createEvent&&Oa.dispatchEvent),bn="unhandledrejection",vl=function(s){var c;return!(!c_(s)||!gv(c=s.then))&&c},wh=function(s,c){var d,p,m,_=c.value,S=1==c.state,T=S?s.ok:s.fail,C=s.resolve,A=s.reject,z=s.domain;try{T?(S||(2===c.rejection&&pl(c),c.rejection=1),!0===T?d=_:(z&&z.enter(),d=T(_),z&&(z.exit(),m=!0)),d===s.promise?A(p_("Promise-chain cycle")):(p=vl(d))?mh(p,d,C,A):C(d)):A(_)}catch(B){z&&!m&&z.exit(),A(B)}},Sa=function(s,c){s.notified||(s.notified=!0,yv(function(){for(var d,p=s.reactions;d=p.get();)wh(d,s);s.notified=!1,c&&!s.rejection&&xa(s)}))},Ev=function(s,c,d){var p,m;li?((p=zi.createEvent("Event")).promise=c,p.reason=d,p.initEvent(s,!1,!0),Oa.dispatchEvent(p)):p={promise:c,reason:d},!cx&&(m=Oa["on"+s])?m(p):s===bn&&d_("Unhandled promise rejection",d)},xa=function(s){mh(fl,Oa,function(){var c,d=s.facade,p=s.value;if(g_(s)&&(c=Qy(function(){yh?bh.emit("unhandledRejection",p,d):Ev(bn,d,p)}),s.rejection=yh||g_(s)?2:1,c.error))throw c.value})},g_=function(s){return 1!==s.rejection&&!s.parent},pl=function(s){mh(fl,Oa,function(){var c=s.facade;yh?bh.emit("rejectionHandled",c):Ev("rejectionhandled",c,s.value)})},Yn=function(s,c,d){return function(p){s(c,p,d)}},Ta=function(s,c,d){s.done||(s.done=!0,d&&(s=d),s.value=c,s.state=2,Sa(s,!0))},An=function(s,c,d){if(!s.done){s.done=!0,d&&(s=d);try{if(s.facade===c)throw p_("Promise can't be resolved itself");var p=vl(c);p?yv(function(){var m={done:!1};try{mh(p,c,Yn(An,m,s),Yn(Ta,m,s))}catch(_){Ta(m,_,s)}}):(s.value=c,s.state=1,Sa(s,!1))}catch(m){Ta({done:!1},m,s)}}};Co&&(tm=(Ms=function(s){h_(this,tm),ux(s),mh(Jy,this);var c=_v(this);try{s(Yn(An,c),Yn(Ta,c))}catch(d){Ta(c,d)}}).prototype,(Jy=function(s){hx(this,{type:wv,done:!1,notified:!1,parent:!1,reactions:new f_,rejection:!1,state:0,value:void 0})}).prototype=l_(tm,"then",function(s,c){var d=_v(this),p=rm(lx(this,Ms));return d.parent=!0,p.ok=!gv(s)||s,p.fail=gv(c)&&c,p.domain=yh?bh.domain:void 0,0==d.state?d.reactions.add(p):yv(function(){wh(p,d)}),p.promise}),pv=function(){var s=new Jy,c=_v(s);this.promise=s,this.resolve=Yn(An,c),this.reject=Yn(Ta,c)},em.f=rm=function(s){return s===Ms||void 0===s?new pv(s):dx(s)}),ox({global:!0,constructor:!0,wrap:!0,forced:Co},{Promise:Ms}),ax(Ms,wv,!1,!0),sx(wv);var Hi=As,_h=gh.CONSTRUCTOR||!Cg(function(s){Hi.all(s).then(void 0,function(){})}),y_=ot,m_=Zr,nm=Po,b_=ka,gl=hr;Re({target:"Promise",stat:!0,forced:_h},{all:function(s){var c=this,d=nm.f(c),p=d.resolve,m=d.reject,_=b_(function(){var S=m_(c.resolve),T=[],C=0,A=1;gl(s,function(z){var B=C++,q=!1;A++,y_(S,c,z).then(function(ae){q||(q=!0,T[B]=ae,--A||p(T))},m)}),--A||p(T)});return _.error&&m(_.value),d.promise}});var Wi=Re,Ia=gh.CONSTRUCTOR;As&&As.prototype,Wi({target:"Promise",proto:!0,forced:Ia,real:!0},{catch:function(s){return this.then(void 0,s)}});var yl=ot,kv=Zr,fx=Po,w_=ka,vx=hr;Re({target:"Promise",stat:!0,forced:_h},{race:function(s){var c=this,d=fx.f(c),p=d.reject,m=w_(function(){var _=kv(c.resolve);vx(s,function(S){yl(_,c,S).then(d.resolve,p)})});return m.error&&p(m.value),d.promise}});var px=ot,Pa=Po;Re({target:"Promise",stat:!0,forced:gh.CONSTRUCTOR},{reject:function(s){var c=Pa.f(this);return px(c.reject,void 0,s),c.promise}});var __=kn,Ov=L,E_=Po,im=function(s,c){if(__(s),Ov(c)&&c.constructor===s)return c;var d=E_.f(s);return(0,d.resolve)(c),d.promise},Yr=Re,Ns=As,Jt=gh.CONSTRUCTOR,wn=im,Sv=$e("Promise"),Eh=!Jt;Yr({target:"Promise",stat:!0,forced:!0},{resolve:function(s){return wn(Eh&&this===Sv?Ns:this,s)}});var Rs=ot,js=Zr,$o=Po,ci=ka,Fs=hr;Re({target:"Promise",stat:!0,forced:_h},{allSettled:function(s){var c=this,d=$o.f(c),p=d.resolve,m=d.reject,_=ci(function(){var S=js(c.resolve),T=[],C=0,A=1;Fs(s,function(z){var B=C++,q=!1;A++,Rs(S,c,z).then(function(ae){q||(q=!0,T[B]={status:"fulfilled",value:ae},--A||p(T))},function(ae){q||(q=!0,T[B]={status:"rejected",reason:ae},--A||p(T))})}),--A||p(T)});return _.error&&m(_.value),d.promise}});var k_=ot,O_=Zr,xv=$e,Do=Po,ml=ka,Bs=hr,S_="No one promise resolved";Re({target:"Promise",stat:!0,forced:_h},{any:function(s){var c=this,d=xv("AggregateError"),p=Do.f(c),m=p.resolve,_=p.reject,S=ml(function(){var T=O_(c.resolve),C=[],A=0,z=1,B=!1;Bs(s,function(q){var ae=A++,ve=!1;z++,k_(T,c,q).then(function(de){ve||B||(B=!0,m(de))},function(de){ve||B||(ve=!0,C[ae]=de,--z||_(new d(C,S_)))})}),--z||_(new d(C,S_))});return S.error&&_(S.value),p.promise}});var om=Re,kh=As,x_=re,am=$e,Tv=ze,Ls=ch,Iv=im,gx=kh&&kh.prototype;om({target:"Promise",proto:!0,real:!0,forced:!!kh&&x_(function(){gx.finally.call({then:function(){}},function(){})})},{finally:function(s){var c=Ls(this,am("Promise")),d=Tv(s);return this.then(d?function(p){return Iv(c,s()).then(function(){return p})}:s,d?function(p){return Iv(c,s()).then(function(){throw p})}:s)}});var T_=G.Promise,yx=Po,mx=ka;Re({target:"Promise",stat:!0,forced:!0},{try:function(s){var c=yx.f(this),d=mx(s);return(d.error?c.reject:c.resolve)(d.value),c.promise}});var sm=T_,bx=t1;!function(s){var c=M1.default,d=ud,p=kc,m=Xf,_=Qf,S=NS,T=Sy,C=sm,A=bx,z=Hg;function B(){s.exports=B=function(){return q},s.exports.__esModule=!0,s.exports.default=s.exports;var q={},ae=Object.prototype,ve=ae.hasOwnProperty,de=d||function(ie,Q,te){ie[Q]=te.value},ke="function"==typeof p?p:{},Fe=ke.iterator||"@@iterator",Te=ke.asyncIterator||"@@asyncIterator",vt=ke.toStringTag||"@@toStringTag";function Xe(ie,Q,te){return d(ie,Q,{value:te,enumerable:!0,configurable:!0,writable:!0}),ie[Q]}try{Xe({},"")}catch{Xe=function(Q,te,Ae){return Q[te]=Ae}}function Tt(ie,Q,te,Ae){var we=Q&&Q.prototype instanceof _n?Q:_n,lt=m(we.prototype),It=new Kn(Ae||[]);return de(lt,"_invoke",{value:nE(ie,te,It)}),lt}function Yi(ie,Q,te){try{return{type:"normal",arg:ie.call(Q,te)}}catch(Ae){return{type:"throw",arg:Ae}}}q.wrap=Tt;var zt={};function _n(){}function vr(){}function Xr(){}var Fh={};Xe(Fh,Fe,function(){return this});var Vs=_&&_(_(Wv([])));Vs&&Vs!==ae&&ve.call(Vs,Fe)&&(Fh=Vs);var Ki=Xr.prototype=_n.prototype=m(Fh);function Lm(ie){var Q;S(Q=["next","throw","return"]).call(Q,function(te){Xe(ie,te,function(Ae){return this._invoke(te,Ae)})})}function Bh(ie,Q){function te(we,lt,It,Ge){var Jr=Yi(ie[we],ie,lt);if("throw"!==Jr.type){var Da=Jr.arg,xl=Da.value;return xl&&"object"==c(xl)&&ve.call(xl,"__await")?Q.resolve(xl.__await).then(function(Aa){te("next",Aa,It,Ge)},function(Aa){te("throw",Aa,It,Ge)}):Q.resolve(xl).then(function(Aa){Da.value=Aa,It(Da)},function(Aa){return te("throw",Aa,It,Ge)})}Ge(Jr.arg)}var Ae;de(this,"_invoke",{value:function(we,lt){function It(){return new Q(function(Ge,Jr){te(we,lt,Ge,Jr)})}return Ae=Ae?Ae.then(It,It):It()}})}function nE(ie,Q,te){var Ae="suspendedStart";return function(we,lt){if("executing"===Ae)throw new Error("Generator is already running");if("completed"===Ae){if("throw"===we)throw lt;return zh()}for(te.method=we,te.arg=lt;;){var It=te.delegate;if(It){var Ge=zm(It,te);if(Ge){if(Ge===zt)continue;return Ge}}if("next"===te.method)te.sent=te._sent=te.arg;else if("throw"===te.method){if("suspendedStart"===Ae)throw Ae="completed",te.arg;te.dispatchException(te.arg)}else"return"===te.method&&te.abrupt("return",te.arg);Ae="executing";var Jr=Yi(ie,Q,te);if("normal"===Jr.type){if(Ae=te.done?"completed":"suspendedYield",Jr.arg===zt)continue;return{value:Jr.arg,done:te.done}}"throw"===Jr.type&&(Ae="completed",te.method="throw",te.arg=Jr.arg)}}}function zm(ie,Q){var te=Q.method,Ae=ie.iterator[te];if(void 0===Ae)return Q.delegate=null,"throw"===te&&ie.iterator.return&&(Q.method="return",Q.arg=void 0,zm(ie,Q),"throw"===Q.method)||"return"!==te&&(Q.method="throw",Q.arg=new TypeError("The iterator does not provide a '"+te+"' method")),zt;var we=Yi(Ae,ie.iterator,Q.arg);if("throw"===we.type)return Q.method="throw",Q.arg=we.arg,Q.delegate=null,zt;var lt=we.arg;return lt?lt.done?(Q[ie.resultName]=lt.value,Q.next=ie.nextLoc,"return"!==Q.method&&(Q.method="next",Q.arg=void 0),Q.delegate=null,zt):lt:(Q.method="throw",Q.arg=new TypeError("iterator result is not an object"),Q.delegate=null,zt)}function Lh(ie){var Q={tryLoc:ie[0]};1 in ie&&(Q.catchLoc=ie[1]),2 in ie&&(Q.finallyLoc=ie[2],Q.afterLoc=ie[3]),this.tryEntries.push(Q)}function jo(ie){var Q=ie.completion||{};Q.type="normal",delete Q.arg,ie.completion=Q}function Kn(ie){this.tryEntries=[{tryLoc:"root"}],S(ie).call(ie,Lh,this),this.reset(!0)}function Wv(ie){if(ie){var Q=ie[Fe];if(Q)return Q.call(ie);if("function"==typeof ie.next)return ie;if(!isNaN(ie.length)){var te=-1,Ae=function we(){for(;++te<ie.length;)if(ve.call(ie,te))return we.value=ie[te],we.done=!1,we;return we.value=void 0,we.done=!0,we};return Ae.next=Ae}}return{next:zh}}function zh(){return{value:void 0,done:!0}}return vr.prototype=Xr,de(Ki,"constructor",{value:Xr,configurable:!0}),de(Xr,"constructor",{value:vr,configurable:!0}),vr.displayName=Xe(Xr,vt,"GeneratorFunction"),q.isGeneratorFunction=function(ie){var Q="function"==typeof ie&&ie.constructor;return!!Q&&(Q===vr||"GeneratorFunction"===(Q.displayName||Q.name))},q.mark=function(ie){return T?T(ie,Xr):(ie.__proto__=Xr,Xe(ie,vt,"GeneratorFunction")),ie.prototype=m(Ki),ie},q.awrap=function(ie){return{__await:ie}},Lm(Bh.prototype),Xe(Bh.prototype,Te,function(){return this}),q.AsyncIterator=Bh,q.async=function(ie,Q,te,Ae,we){void 0===we&&(we=C);var lt=new Bh(Tt(ie,Q,te,Ae),we);return q.isGeneratorFunction(Q)?lt:lt.next().then(function(It){return It.done?It.value:lt.next()})},Lm(Ki),Xe(Ki,vt,"Generator"),Xe(Ki,Fe,function(){return this}),Xe(Ki,"toString",function(){return"[object Generator]"}),q.keys=function(ie){var Q=Object(ie),te=[];for(var Ae in Q)te.push(Ae);return A(te).call(te),function we(){for(;te.length;){var lt=te.pop();if(lt in Q)return we.value=lt,we.done=!1,we}return we.done=!0,we}},q.values=Wv,Kn.prototype={constructor:Kn,reset:function(ie){var Q;if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,S(Q=this.tryEntries).call(Q,jo),!ie)for(var te in this)"t"===te.charAt(0)&&ve.call(this,te)&&!isNaN(+z(te).call(te,1))&&(this[te]=void 0)},stop:function(){this.done=!0;var ie=this.tryEntries[0].completion;if("throw"===ie.type)throw ie.arg;return this.rval},dispatchException:function(ie){if(this.done)throw ie;var Q=this;function te(Jr,Da){return lt.type="throw",lt.arg=ie,Q.next=Jr,Da&&(Q.method="next",Q.arg=void 0),!!Da}for(var Ae=this.tryEntries.length-1;Ae>=0;--Ae){var we=this.tryEntries[Ae],lt=we.completion;if("root"===we.tryLoc)return te("end");if(we.tryLoc<=this.prev){var It=ve.call(we,"catchLoc"),Ge=ve.call(we,"finallyLoc");if(It&&Ge){if(this.prev<we.catchLoc)return te(we.catchLoc,!0);if(this.prev<we.finallyLoc)return te(we.finallyLoc)}else if(It){if(this.prev<we.catchLoc)return te(we.catchLoc,!0)}else{if(!Ge)throw new Error("try statement without catch or finally");if(this.prev<we.finallyLoc)return te(we.finallyLoc)}}}},abrupt:function(ie,Q){for(var te=this.tryEntries.length-1;te>=0;--te){var Ae=this.tryEntries[te];if(Ae.tryLoc<=this.prev&&ve.call(Ae,"finallyLoc")&&this.prev<Ae.finallyLoc){var we=Ae;break}}we&&("break"===ie||"continue"===ie)&&we.tryLoc<=Q&&Q<=we.finallyLoc&&(we=null);var lt=we?we.completion:{};return lt.type=ie,lt.arg=Q,we?(this.method="next",this.next=we.finallyLoc,zt):this.complete(lt)},complete:function(ie,Q){if("throw"===ie.type)throw ie.arg;return"break"===ie.type||"continue"===ie.type?this.next=ie.arg:"return"===ie.type?(this.rval=this.arg=ie.arg,this.method="return",this.next="end"):"normal"===ie.type&&Q&&(this.next=Q),zt},finish:function(ie){for(var Q=this.tryEntries.length-1;Q>=0;--Q){var te=this.tryEntries[Q];if(te.finallyLoc===ie)return this.complete(te.completion,te.afterLoc),jo(te),zt}},catch:function(ie){for(var Q=this.tryEntries.length-1;Q>=0;--Q){var te=this.tryEntries[Q];if(te.tryLoc===ie){var Ae=te.completion;if("throw"===Ae.type){var we=Ae.arg;jo(te)}return we}}throw new Error("illegal catch attempt")},delegateYield:function(ie,Q,te){return this.delegate={iterator:Wv(ie),resultName:Q,nextLoc:te},"next"===this.method&&(this.arg=void 0),zt}},q}s.exports=B,s.exports.__esModule=!0,s.exports.default=s.exports}(A1);var Oh=(0,A1.exports)(),Sh=Oh;try{regeneratorRuntime=Oh}catch{"object"==typeof globalThis?globalThis.regeneratorRuntime=Oh:Function("r","regeneratorRuntime = r")(Oh)}var rr=X(Sh),bl={exports:{}},um=re(function(){if("function"==typeof ArrayBuffer){var s=new ArrayBuffer(8);Object.isExtensible(s)&&Object.defineProperty(s,"a",{value:8})}}),Ca=re,zs=L,wx=ir,lm=um,wl=Object.isExtensible,cm=Ca(function(){wl(1)})||lm?function(s){return!!zs(s)&&(!lm||"ArrayBuffer"!=wx(s))&&(!wl||wl(s))}:wl,K=!re(function(){return Object.isExtensible(Object.preventExtensions({}))}),xh=Re,Th=Ee,hm=on,dm=L,nt=qt,yt=yr.f,fm=an,be=gp,Ao=cm,vm=K,I_=!1,Ui=ed("meta"),Pv=0,pm=function(s){yt(s,Ui,{value:{objectID:"O"+Pv++,weakData:{}}})},_x=bl.exports={enable:function(){_x.enable=function(){},I_=!0;var s=fm.f,c=Th([].splice),d={};d[Ui]=1,s(d).length&&(fm.f=function(p){for(var m=s(p),_=0,S=m.length;_<S;_++)if(m[_]===Ui){c(m,_,1);break}return m},xh({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:be.f}))},fastKey:function(s,c){if(!dm(s))return"symbol"==typeof s?s:("string"==typeof s?"S":"P")+s;if(!nt(s,Ui)){if(!Ao(s))return"F";if(!c)return"E";pm(s)}return s[Ui].objectID},getWeakData:function(s,c){if(!nt(s,Ui)){if(!Ao(s))return!0;if(!c)return!1;pm(s)}return s[Ui].weakData},onFreeze:function(s){return vm&&I_&&Ao(s)&&!nt(s,Ui)&&pm(s),s}};hm[Ui]=!0;var gm=bl.exports,Ex=Re,_l=ye,hi=gm,Mn=re,El=to,$a=hr,Mo=lh,Ih=ze,Vi=L,kx=Ti,Ox=yr.f,Cv=Za.forEach,P_=et,Ph=so.set,ym=so.getterFor,Hs=function(s,c,d){var p,m=-1!==s.indexOf("Map"),_=-1!==s.indexOf("Weak"),S=m?"set":"add",T=_l[s],C=T&&T.prototype,A={};if(P_&&Ih(T)&&(_||C.forEach&&!Mn(function(){(new T).entries().next()}))){var z=(p=c(function(q,ae){Ph(Mo(q,z),{type:s,collection:new T}),null!=ae&&$a(ae,q[S],{that:q,AS_ENTRIES:m})})).prototype,B=ym(s);Cv(["add","clear","delete","forEach","get","has","set","keys","values","entries"],function(q){var ae="add"==q||"set"==q;!(q in C)||_&&"clear"==q||El(z,q,function(ve,de){var ke=B(this).collection;if(!ae&&_&&!Vi(ve))return"get"==q&&void 0;var Fe=ke[q](0===ve?0:ve,de);return ae?this:Fe})}),_||Ox(z,"size",{configurable:!0,get:function(){return B(this).collection.size}})}else p=d.getConstructor(c,s,m,S),hi.enable();return kx(p,s,!1,!0),A[s]=p,Ex({global:!0,forced:!0},A),_||d.setStrong(p,s,m),p},C_=Jo,mm=Ya,$_=wu,bm=function(s,c,d){for(var p in c)d&&d.unsafe&&s[p]?s[p]=c[p]:C_(s,p,c[p],d);return s},D_=qo,A_=lh,M_=Fr,N_=hr,Sx=rf,wm=nf,R_=Gr,Ch=et,_m=gm.fastKey,j_=so.set,Em=so.getterFor,km={getConstructor:function(s,c,d,p){var m=s(function(A,z){A_(A,_),j_(A,{type:c,index:mm(null),first:void 0,last:void 0,size:0}),Ch||(A.size=0),M_(z)||N_(z,A[p],{that:A,AS_ENTRIES:d})}),_=m.prototype,S=Em(c),T=function(A,z,B){var q,ae,ve=S(A),de=C(A,z);return de?de.value=B:(ve.last=de={index:ae=_m(z,!0),key:z,value:B,previous:q=ve.last,next:void 0,removed:!1},ve.first||(ve.first=de),q&&(q.next=de),Ch?ve.size++:A.size++,"F"!==ae&&(ve.index[ae]=de)),A},C=function(A,z){var B,q=S(A),ae=_m(z);if("F"!==ae)return q.index[ae];for(B=q.first;B;B=B.next)if(B.key==z)return B};return bm(_,{clear:function(){for(var A=S(this),z=A.index,B=A.first;B;)B.removed=!0,B.previous&&(B.previous=B.previous.next=void 0),delete z[B.index],B=B.next;A.first=A.last=void 0,Ch?A.size=0:this.size=0},delete:function(A){var z=this,B=S(z),q=C(z,A);if(q){var ae=q.next,ve=q.previous;delete B.index[q.index],q.removed=!0,ve&&(ve.next=ae),ae&&(ae.previous=ve),B.first==q&&(B.first=ae),B.last==q&&(B.last=ve),Ch?B.size--:z.size--}return!!q},forEach:function(A){for(var z,B=S(this),q=D_(A,arguments.length>1?arguments[1]:void 0);z=z?z.next:B.first;)for(q(z.value,z.key,this);z&&z.removed;)z=z.previous},has:function(A){return!!C(this,A)}}),bm(_,d?{get:function(A){var z=C(this,A);return z&&z.value},set:function(A,z){return T(this,0===A?0:A,z)}}:{add:function(A){return T(this,A=0===A?0:A,A)}}),Ch&&$_(_,"size",{configurable:!0,get:function(){return S(this).size}}),m},setStrong:function(s,c,d){var p=c+" Iterator",m=Em(c),_=Em(p);Sx(s,c,function(S,T){j_(this,{type:p,target:S,state:m(S),kind:T,last:void 0})},function(){for(var S=_(this),T=S.kind,C=S.last;C&&C.removed;)C=C.previous;return S.target&&(S.last=C=C?C.next:S.state.first)?wm("keys"==T?C.key:"values"==T?C.value:[C.key,C.value],!1):(S.target=void 0,wm(void 0,!0))},d?"entries":"values",!d,!0),R_(c)}};Hs("Map",function(s){return function(){return s(this,arguments.length?arguments[0]:void 0)}},km);var Om=X(G.Map),Nn=Za.some;Re({target:"Array",proto:!0,forced:!ss("some")},{some:function(s){return Nn(this,s,arguments.length>1?arguments[1]:void 0)}});var F_=Pr("Array").some,Sm=xe,xx=F_,$v=Array.prototype,B_=X(function(s){var c=s.some;return s===$v||Sm($v,s)&&c===$v.some?xx:c}),Tx=Pr("Array").keys,Ix=no,L_=qt,Px=xe,z_=Tx,kl=Array.prototype,Cx={DOMTokenList:!0,NodeList:!0},di=X(function(s){var c=s.keys;return s===kl||Px(kl,s)&&c===kl.keys||L_(Cx,Ix(s))?z_:c}),$h=yp,xm=Math.floor,Dv=function(s,c){var d=s.length,p=xm(d/2);return d<8?$x(s,c):Dx(s,Dv($h(s,0,p),c),Dv($h(s,p),c),c)},$x=function(s,c){for(var d,p,m=s.length,_=1;_<m;){for(p=_,d=s[_];p&&c(s[p-1],d)>0;)s[p]=s[--p];p!==_++&&(s[p]=d)}return s},Dx=function(s,c,d,p){for(var m=c.length,_=d.length,S=0,T=0;S<m||T<_;)s[S+T]=S<m&&T<_?p(c[S],d[T])<=0?c[S++]:d[T++]:S<m?c[S++]:d[T++];return s},qi=Dv,Lt=Br.match(/firefox\/(\d+)/i),Ax=!!Lt&&+Lt[1],Mx=/MSIE|Trident/.test(Br),H_=Br.match(/AppleWebKit\/(\d+)\./),W_=!!H_&&+H_[1],Nx=Re,U_=Ee,Tm=Zr,Rx=en,Im=nn,jx=n1,Pm=Si,Cm=re,$m=qi,Av=ss,Dm=Ax,V_=Mx,Mv=Qr,Nv=W_,No=[],Rv=U_(No.sort),Fx=U_(No.push),q_=Cm(function(){No.sort(void 0)}),Bx=Cm(function(){No.sort(null)}),G_=Av("sort"),Ro=!Cm(function(){if(Mv)return Mv<70;if(!(Dm&&Dm>3)){if(V_)return!0;if(Nv)return Nv<603;var s,c,d,p,m="";for(s=65;s<76;s++){switch(c=String.fromCharCode(s),s){case 66:case 69:case 70:case 72:d=3;break;case 68:case 71:d=4;break;default:d=2}for(p=0;p<47;p++)No.push({k:c+p,v:d})}for(No.sort(function(_,S){return S.v-_.v}),p=0;p<No.length;p++)c=No[p].k.charAt(0),m.charAt(m.length-1)!==c&&(m+=c);return"DGBEFHACIJK"!==m}});Nx({target:"Array",proto:!0,forced:q_||!Bx||!G_||!Ro},{sort:function(s){void 0!==s&&Tm(s);var c=Rx(this);if(Ro)return void 0===s?Rv(c):Rv(c,s);var d,p,m=[],_=Im(c);for(p=0;p<_;p++)p in c&&Fx(m,c[p]);for($m(m,function(S){return function(T,C){return void 0===C?-1:void 0===T?1:void 0!==S?+S(T,C)||0:Pm(T)>Pm(C)?1:-1}}(s)),d=Im(m),p=0;p<d;)c[p]=m[p++];for(;p<_;)jx(c,p++);return c}});var Rn=Pr("Array").sort,Lx=xe,Y_=Rn,Am=Array.prototype,jv=X(function(s){var c=s.sort;return s===Am||Lx(Am,s)&&c===Am.sort?Y_:c}),Ol=Pr("Array").values,K_=no,X_=qt,zx=xe,Hx=Ol,Dh=Array.prototype,Wx={DOMTokenList:!0,NodeList:!0},Ah=X(function(s){var c=s.values;return s===Dh||zx(Dh,s)&&c===Dh.values||X_(Wx,K_(s))?Hx:c}),Ws=X(Ai),Ux=Pr("Array").entries,Vx=no,qx=qt,Gx=xe,Fv=Ux,Bv=Array.prototype,Mm={DOMTokenList:!0,NodeList:!0},_r=X(function(s){var c=s.entries;return s===Bv||Gx(Bv,s)&&c===Bv.entries||qx(Mm,Vx(s))?Fv:c});let Mh;const Nh=new Uint8Array(16);function Kr(){if(!Mh&&(Mh=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Mh))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Mh(Nh)}const Er=[];for(let s=0;s<256;++s)Er.push((s+256).toString(16).slice(1));var J_={randomUUID:typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};function Q_(s,c,d){if(J_.randomUUID&&!c&&!s)return J_.randomUUID();const p=(s=s||{}).random||(s.rng||Kr)();if(p[6]=15&p[6]|64,p[8]=63&p[8]|128,c){d=d||0;for(let m=0;m<16;++m)c[d+m]=p[m];return c}return function(m,_=0){return Er[m[_+0]]+Er[m[_+1]]+Er[m[_+2]]+Er[m[_+3]]+"-"+Er[m[_+4]]+Er[m[_+5]]+"-"+Er[m[_+6]]+Er[m[_+7]]+"-"+Er[m[_+8]]+Er[m[_+9]]+"-"+Er[m[_+10]]+Er[m[_+11]]+Er[m[_+12]]+Er[m[_+13]]+Er[m[_+14]]+Er[m[_+15]]}(p)}function Rh(s){return"string"==typeof s||"number"==typeof s}var Nm=function(){function s(c){dt(this,s),Ue(this,"delay",void 0),Ue(this,"max",void 0),Ue(this,"_queue",[]),Ue(this,"_timeout",null),Ue(this,"_extended",null),this.delay=null,this.max=1/0,this.setOptions(c)}return la(s,[{key:"setOptions",value:function(c){c&&void 0!==c.delay&&(this.delay=c.delay),c&&void 0!==c.max&&(this.max=c.max),this._flushIfNeeded()}},{key:"destroy",value:function(){if(this.flush(),this._extended){for(var c=this._extended.object,d=this._extended.methods,p=0;p<d.length;p++){var m=d[p];m.original?c[m.name]=m.original:delete c[m.name]}this._extended=null}}},{key:"replace",value:function(c,d){var p=this,m=c[d];if(!m)throw new Error("Method "+d+" undefined");c[d]=function(){for(var _=arguments.length,S=new Array(_),T=0;T<_;T++)S[T]=arguments[T];p.queue({args:S,fn:m,context:this})}}},{key:"queue",value:function(c){"function"==typeof c?this._queue.push({fn:c}):this._queue.push(c),this._flushIfNeeded()}},{key:"_flushIfNeeded",value:function(){var c=this;this._queue.length>this.max&&this.flush(),null!=this._timeout&&(clearTimeout(this._timeout),this._timeout=null),this.queue.length>0&&"number"==typeof this.delay&&(this._timeout=OS(function(){c.flush()},this.delay))}},{key:"flush",value:function(){var c,d;Mi(c=Xg(d=this._queue).call(d,0)).call(c,function(p){p.fn.apply(p.context||p.fn,p.args||[])})}}],[{key:"extend",value:function(c,d){var p=new s(d);if(void 0!==c.flush)throw new Error("Target object already has a property flush");c.flush=function(){p.flush()};var m=[{name:"flush",original:void 0}];if(d&&d.replace)for(var _=0;_<d.replace.length;_++){var S=d.replace[_];m.push({name:S,original:c[S]}),p.replace(c,S)}return p._extended={object:c,methods:m},p}}]),s}(),Sl=function(){function s(){dt(this,s),Ue(this,"_subscribers",{"*":[],add:[],remove:[],update:[]}),Ue(this,"subscribe",s.prototype.on),Ue(this,"unsubscribe",s.prototype.off)}return la(s,[{key:"_trigger",value:function(c,d,p){var m,_;if("*"===c)throw new Error("Cannot trigger event *");Mi(m=Bc(_=[]).call(_,Cr(this._subscribers[c]),Cr(this._subscribers["*"]))).call(m,function(S){S(c,d,p??null)})}},{key:"on",value:function(c,d){"function"==typeof d&&this._subscribers[c].push(d)}},{key:"off",value:function(c,d){var p;this._subscribers[c]=lr(p=this._subscribers[c]).call(p,function(m){return m!==d})}}]),s}();Hs("Set",function(s){return function(){return s(this,arguments.length?arguments[0]:void 0)}},km);var Rm,Lv=X(G.Set),jm=X(xf);function fi(s,c){var d=void 0!==jc&&Lu(s)||s["@@iterator"];if(!d){if(Wr(s)||(d=function(C,A){var z;if(C){if("string"==typeof C)return Z_(C,A);var B=bo(z=Object.prototype.toString.call(C)).call(z,8,-1);if("Object"===B&&C.constructor&&(B=C.constructor.name),"Map"===B||"Set"===B)return If(C);if("Arguments"===B||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(B))return Z_(C,A)}}(s))||c&&s&&"number"==typeof s.length){d&&(s=d);var p=0,m=function(){};return{s:m,n:function(){return p>=s.length?{done:!0}:{done:!1,value:s[p++]}},e:function(C){throw C},f:m}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var _,S=!0,T=!1;return{s:function(){d=d.call(s)},n:function(){var C=d.next();return S=C.done,C},e:function(C){T=!0,_=C},f:function(){try{S||null==d.return||d.return()}finally{if(T)throw _}}}}function Z_(s,c){(null==c||c>s.length)&&(c=s.length);for(var d=0,p=new Array(c);d<c;d++)p[d]=s[d];return p}Rm=Ws;var zv=function(){function s(c){dt(this,s),Ue(this,"_pairs",void 0),this._pairs=c}return la(s,[{key:Rm,value:rr.mark(function c(){var d,p,m,_,S;return rr.wrap(function(T){for(;;)switch(T.prev=T.next){case 0:d=fi(this._pairs),T.prev=1,d.s();case 3:if((p=d.n()).done){T.next=9;break}return m=cn(p.value,2),_=m[0],S=m[1],T.next=7,[_,S];case 7:T.next=3;break;case 9:T.next=14;break;case 11:T.prev=11,T.t0=T.catch(1),d.e(T.t0);case 14:return T.prev=14,d.f(),T.finish(14);case 17:case"end":return T.stop()}},c,this,[[1,11,14,17]])})},{key:"entries",value:rr.mark(function c(){var d,p,m,_,S;return rr.wrap(function(T){for(;;)switch(T.prev=T.next){case 0:d=fi(this._pairs),T.prev=1,d.s();case 3:if((p=d.n()).done){T.next=9;break}return m=cn(p.value,2),_=m[0],S=m[1],T.next=7,[_,S];case 7:T.next=3;break;case 9:T.next=14;break;case 11:T.prev=11,T.t0=T.catch(1),d.e(T.t0);case 14:return T.prev=14,d.f(),T.finish(14);case 17:case"end":return T.stop()}},c,this,[[1,11,14,17]])})},{key:"keys",value:rr.mark(function c(){var d,p,m,_;return rr.wrap(function(S){for(;;)switch(S.prev=S.next){case 0:d=fi(this._pairs),S.prev=1,d.s();case 3:if((p=d.n()).done){S.next=9;break}return m=cn(p.value,1),_=m[0],S.next=7,_;case 7:S.next=3;break;case 9:S.next=14;break;case 11:S.prev=11,S.t0=S.catch(1),d.e(S.t0);case 14:return S.prev=14,d.f(),S.finish(14);case 17:case"end":return S.stop()}},c,this,[[1,11,14,17]])})},{key:"values",value:rr.mark(function c(){var d,p,m,_;return rr.wrap(function(S){for(;;)switch(S.prev=S.next){case 0:d=fi(this._pairs),S.prev=1,d.s();case 3:if((p=d.n()).done){S.next=9;break}return m=cn(p.value,2),_=m[1],S.next=7,_;case 7:S.next=3;break;case 9:S.next=14;break;case 11:S.prev=11,S.t0=S.catch(1),d.e(S.t0);case 14:return S.prev=14,d.f(),S.finish(14);case 17:case"end":return S.stop()}},c,this,[[1,11,14,17]])})},{key:"toIdArray",value:function(){var c;return Pn(c=Cr(this._pairs)).call(c,function(d){return d[0]})}},{key:"toItemArray",value:function(){var c;return Pn(c=Cr(this._pairs)).call(c,function(d){return d[1]})}},{key:"toEntryArray",value:function(){return Cr(this._pairs)}},{key:"toObjectMap",value:function(){var c,d=Vr(null),p=fi(this._pairs);try{for(p.s();!(c=p.n()).done;){var m=cn(c.value,2),_=m[0],S=m[1];d[_]=S}}catch(T){p.e(T)}finally{p.f()}return d}},{key:"toMap",value:function(){return new Om(this._pairs)}},{key:"toIdSet",value:function(){return new Lv(this.toIdArray())}},{key:"toItemSet",value:function(){return new Lv(this.toItemArray())}},{key:"cache",value:function(){return new s(Cr(this._pairs))}},{key:"distinct",value:function(c){var d,p=new Lv,m=fi(this._pairs);try{for(m.s();!(d=m.n()).done;){var _=cn(d.value,2),S=_[0],T=_[1];p.add(c(T,S))}}catch(C){m.e(C)}finally{m.f()}return p}},{key:"filter",value:function(c){var d=this._pairs;return new s(Ue({},Ws,rr.mark(function p(){var m,_,S,T,C;return rr.wrap(function(A){for(;;)switch(A.prev=A.next){case 0:m=fi(d),A.prev=1,m.s();case 3:if((_=m.n()).done){A.next=10;break}if(S=cn(_.value,2),T=S[0],C=S[1],!c(C,T)){A.next=8;break}return A.next=8,[T,C];case 8:A.next=3;break;case 10:A.next=15;break;case 12:A.prev=12,A.t0=A.catch(1),m.e(A.t0);case 15:return A.prev=15,m.f(),A.finish(15);case 18:case"end":return A.stop()}},p,null,[[1,12,15,18]])})))}},{key:"forEach",value:function(c){var d,p=fi(this._pairs);try{for(p.s();!(d=p.n()).done;){var m=cn(d.value,2),_=m[0];c(m[1],_)}}catch(S){p.e(S)}finally{p.f()}}},{key:"map",value:function(c){var d=this._pairs;return new s(Ue({},Ws,rr.mark(function p(){var m,_,S,T,C;return rr.wrap(function(A){for(;;)switch(A.prev=A.next){case 0:m=fi(d),A.prev=1,m.s();case 3:if((_=m.n()).done){A.next=9;break}return S=cn(_.value,2),T=S[0],C=S[1],A.next=7,[T,c(C,T)];case 7:A.next=3;break;case 9:A.next=14;break;case 11:A.prev=11,A.t0=A.catch(1),m.e(A.t0);case 14:return A.prev=14,m.f(),A.finish(14);case 17:case"end":return A.stop()}},p,null,[[1,11,14,17]])})))}},{key:"max",value:function(c){var d=jm(this._pairs),p=d.next();if(p.done)return null;for(var m=p.value[1],_=c(p.value[1],p.value[0]);!(p=d.next()).done;){var S=cn(p.value,2),T=S[0],C=S[1],A=c(C,T);A>_&&(_=A,m=C)}return m}},{key:"min",value:function(c){var d=jm(this._pairs),p=d.next();if(p.done)return null;for(var m=p.value[1],_=c(p.value[1],p.value[0]);!(p=d.next()).done;){var S=cn(p.value,2),T=S[0],C=S[1],A=c(C,T);A<_&&(_=A,m=C)}return m}},{key:"reduce",value:function(c,d){var p,m=fi(this._pairs);try{for(m.s();!(p=m.n()).done;){var _=cn(p.value,2),S=_[0];d=c(d,_[1],S)}}catch(T){m.e(T)}finally{m.f()}return d}},{key:"sort",value:function(c){var d=this;return new s(Ue({},Ws,function(){var p;return jm(jv(p=Cr(d._pairs)).call(p,function(m,_){var S=cn(m,2),T=S[0],C=S[1],A=cn(_,2),z=A[0],B=A[1];return c(C,B,T,z)}))}))}}]),s}();function Hv(s,c){var d=Lc(s);if(Rw){var p=Rw(s);c&&(p=lr(p).call(p,function(m){return Lw(s,m).enumerable})),d.push.apply(d,p)}return d}function Us(s){for(var c=1;c<arguments.length;c++){var d,p,m=null!=arguments[c]?arguments[c]:{};c%2?Mi(d=Hv(Object(m),!0)).call(d,function(_){Ue(s,_,m[_])}):zw?jg(s,zw(m)):Mi(p=Hv(Object(m))).call(p,function(_){At(s,_,Lw(m,_))})}return s}function Gi(s,c){var d=void 0!==jc&&Lu(s)||s["@@iterator"];if(!d){if(Wr(s)||(d=function(C,A){var z;if(C){if("string"==typeof C)return Fm(C,A);var B=bo(z=Object.prototype.toString.call(C)).call(z,8,-1);if("Object"===B&&C.constructor&&(B=C.constructor.name),"Map"===B||"Set"===B)return If(C);if("Arguments"===B||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(B))return Fm(C,A)}}(s))||c&&s&&"number"==typeof s.length){d&&(s=d);var p=0,m=function(){};return{s:m,n:function(){return p>=s.length?{done:!0}:{done:!1,value:s[p++]}},e:function(C){throw C},f:m}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var _,S=!0,T=!1;return{s:function(){d=d.call(s)},n:function(){var C=d.next();return S=C.done,C},e:function(C){T=!0,_=C},f:function(){try{S||null==d.return||d.return()}finally{if(T)throw _}}}}function Fm(s,c){(null==c||c>s.length)&&(c=s.length);for(var d=0,p=new Array(c);d<c;d++)p[d]=s[d];return p}function eE(s){var c=function(){if(typeof Reflect>"u"||!Oo||Oo.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Oo(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var d,p=Ts(s);if(c){var m=Ts(this).constructor;d=Oo(p,arguments,m)}else d=p.apply(this,arguments);return D1(this,d)}}var jh=function(s){$1(d,s);var c=eE(d);function d(p,m){var _;return dt(this,d),Ue(yn(_=c.call(this)),"flush",void 0),Ue(yn(_),"length",void 0),Ue(yn(_),"_options",void 0),Ue(yn(_),"_data",void 0),Ue(yn(_),"_idProp",void 0),Ue(yn(_),"_queue",null),p&&!Wr(p)&&(m=p,p=[]),_._options=m||{},_._data=new Om,_.length=0,_._idProp=_._options.fieldId||"id",p&&p.length&&_.add(p),_.setOptions(m),_}return la(d,[{key:"idProp",get:function(){return this._idProp}},{key:"setOptions",value:function(p){p&&void 0!==p.queue&&(!1===p.queue?this._queue&&(this._queue.destroy(),this._queue=null):(this._queue||(this._queue=Nm.extend(this,{replace:["add","update","remove"]})),p.queue&&"object"===ur(p.queue)&&this._queue.setOptions(p.queue)))}},{key:"add",value:function(p,m){var _,S=this,T=[];if(Wr(p)){var C=Pn(p).call(p,function(B){return B[S._idProp]});if(B_(C).call(C,function(B){return S._data.has(B)}))throw new Error("A duplicate id was found in the parameter array.");for(var A=0,z=p.length;A<z;A++)_=this._addItem(p[A]),T.push(_)}else{if(!p||"object"!==ur(p))throw new Error("Unknown dataType");_=this._addItem(p),T.push(_)}return T.length&&this._trigger("add",{items:T},m),T}},{key:"update",value:function(p,m){var _=this,S=[],T=[],C=[],A=[],z=this._idProp,B=function(de){var ke=de[z];if(null!=ke&&_._data.has(ke)){var Fe=de,Te=ty({},_._data.get(ke)),vt=_._updateItem(Fe);T.push(vt),A.push(Fe),C.push(Te)}else{var Xe=_._addItem(de);S.push(Xe)}};if(Wr(p))for(var q=0,ae=p.length;q<ae;q++)p[q]&&"object"===ur(p[q])?B(p[q]):console.warn("Ignoring input item, which is not an object at index "+q);else{if(!p||"object"!==ur(p))throw new Error("Unknown dataType");B(p)}if(S.length&&this._trigger("add",{items:S},m),T.length){var ve={items:T,oldData:C,data:A};this._trigger("update",ve,m)}return Bc(S).call(S,T)}},{key:"updateOnly",value:function(p,m){var _,S=this;Wr(p)||(p=[p]);var T=Pn(_=Pn(p).call(p,function(A){var z=S._data.get(A[S._idProp]);if(null==z)throw new Error("Updating non-existent items is not allowed.");return{oldData:z,update:A}})).call(_,function(A){var z=A.oldData,B=A.update,q=z[S._idProp],ae=function(ve){for(var de,ke=arguments.length,Fe=new Array(ke>1?ke-1:0),Te=1;Te<ke;Te++)Fe[Te-1]=arguments[Te];return my.apply(void 0,Bc(de=[{},ve]).call(de,Fe))}(z,B);return S._data.set(q,ae),{id:q,oldData:z,updatedData:ae}});if(T.length){var C={items:Pn(T).call(T,function(A){return A.id}),oldData:Pn(T).call(T,function(A){return A.oldData}),data:Pn(T).call(T,function(A){return A.updatedData})};return this._trigger("update",C,m),C.items}return[]}},{key:"get",value:function(p,m){var _=void 0,S=void 0,T=void 0;Rh(p)?(_=p,T=m):Wr(p)?(S=p,T=m):T=p;var C,A=T&&"Object"===T.returnType?"Object":"Array",z=T&&lr(T),B=[],q=void 0,ae=void 0,ve=void 0;if(null!=_)(q=this._data.get(_))&&z&&!z(q)&&(q=void 0);else if(null!=S)for(var de=0,ke=S.length;de<ke;de++)null==(q=this._data.get(S[de]))||z&&!z(q)||B.push(q);else for(var Fe,Te=0,vt=(ae=Cr(di(Fe=this._data).call(Fe))).length;Te<vt;Te++)ve=ae[Te],null==(q=this._data.get(ve))||z&&!z(q)||B.push(q);if(T&&T.order&&null==_&&this._sort(B,T.order),T&&T.fields){var Xe=T.fields;if(null!=_&&null!=q)q=this._filterFields(q,Xe);else for(var Tt=0,Yi=B.length;Tt<Yi;Tt++)B[Tt]=this._filterFields(B[Tt],Xe)}if("Object"==A){for(var zt={},_n=0,vr=B.length;_n<vr;_n++){var Xr=B[_n];zt[Xr[this._idProp]]=Xr}return zt}return null!=_?null!==(C=q)&&void 0!==C?C:null:B}},{key:"getIds",value:function(p){var m=this._data,_=p&&lr(p),S=p&&p.order,T=Cr(di(m).call(m)),C=[];if(_)if(S){for(var A=[],z=0,B=T.length;z<B;z++){var q=T[z],ae=this._data.get(q);null!=ae&&_(ae)&&A.push(ae)}this._sort(A,S);for(var ve=0,de=A.length;ve<de;ve++)C.push(A[ve][this._idProp])}else for(var ke=0,Fe=T.length;ke<Fe;ke++){var Te=T[ke],vt=this._data.get(Te);null!=vt&&_(vt)&&C.push(vt[this._idProp])}else if(S){for(var Xe=[],Tt=0,Yi=T.length;Tt<Yi;Tt++){var zt=T[Tt];Xe.push(m.get(zt))}this._sort(Xe,S);for(var _n=0,vr=Xe.length;_n<vr;_n++)C.push(Xe[_n][this._idProp])}else for(var Xr=0,Fh=T.length;Xr<Fh;Xr++){var Vs=T[Xr],Ki=m.get(Vs);null!=Ki&&C.push(Ki[this._idProp])}return C}},{key:"getDataSet",value:function(){return this}},{key:"forEach",value:function(p,m){var _=m&&lr(m),S=this._data,T=Cr(di(S).call(S));if(m&&m.order)for(var C=this.get(m),A=0,z=C.length;A<z;A++){var B=C[A];p(B,B[this._idProp])}else for(var q=0,ae=T.length;q<ae;q++){var ve=T[q],de=this._data.get(ve);null==de||_&&!_(de)||p(de,ve)}}},{key:"map",value:function(p,m){for(var _=m&&lr(m),S=[],T=this._data,C=Cr(di(T).call(T)),A=0,z=C.length;A<z;A++){var B=C[A],q=this._data.get(B);null==q||_&&!_(q)||S.push(p(q,B))}return m&&m.order&&this._sort(S,m.order),S}},{key:"_filterFields",value:function(p,m){var _;return p&&bg(_=Wr(m)?m:Lc(m)).call(_,function(S,T){return S[T]=p[T],S},{})}},{key:"_sort",value:function(p,m){if("string"==typeof m){var _=m;jv(p).call(p,function(S,T){var C=S[_],A=T[_];return C>A?1:C<A?-1:0})}else{if("function"!=typeof m)throw new TypeError("Order must be a function or a string");jv(p).call(p,m)}}},{key:"remove",value:function(p,m){for(var _=[],S=[],T=Wr(p)?p:[p],C=0,A=T.length;C<A;C++){var z=this._remove(T[C]);if(z){var B=z[this._idProp];null!=B&&(_.push(B),S.push(z))}}return _.length&&this._trigger("remove",{items:_,oldData:S},m),_}},{key:"_remove",value:function(p){var m;if(Rh(p)?m=p:p&&"object"===ur(p)&&(m=p[this._idProp]),null!=m&&this._data.has(m)){var _=this._data.get(m)||null;return this._data.delete(m),--this.length,_}return null}},{key:"clear",value:function(p){for(var m,_=Cr(di(m=this._data).call(m)),S=[],T=0,C=_.length;T<C;T++)S.push(this._data.get(_[T]));return this._data.clear(),this.length=0,this._trigger("remove",{items:_,oldData:S},p),_}},{key:"max",value:function(p){var m,_,S=null,T=null,C=Gi(Ah(m=this._data).call(m));try{for(C.s();!(_=C.n()).done;){var A=_.value,z=A[p];"number"==typeof z&&(null==T||z>T)&&(S=A,T=z)}}catch(B){C.e(B)}finally{C.f()}return S||null}},{key:"min",value:function(p){var m,_,S=null,T=null,C=Gi(Ah(m=this._data).call(m));try{for(C.s();!(_=C.n()).done;){var A=_.value,z=A[p];"number"==typeof z&&(null==T||z<T)&&(S=A,T=z)}}catch(B){C.e(B)}finally{C.f()}return S||null}},{key:"distinct",value:function(p){for(var m=this._data,_=Cr(di(m).call(m)),S=[],T=0,C=0,A=_.length;C<A;C++){for(var z=_[C],B=m.get(z)[p],q=!1,ae=0;ae<T;ae++)if(S[ae]==B){q=!0;break}q||void 0===B||(S[T]=B,T++)}return S}},{key:"_addItem",value:function(p){var S,T,m=(S=p,T=this._idProp,null==S[T]&&(S[T]=Q_()),S),_=m[this._idProp];if(this._data.has(_))throw new Error("Cannot add item: item with id "+_+" already exists");return this._data.set(_,m),++this.length,_}},{key:"_updateItem",value:function(p){var m=p[this._idProp];if(null==m)throw new Error("Cannot update item: item has no id (item: "+ry(p)+")");var _=this._data.get(m);if(!_)throw new Error("Cannot update item: no item with id "+m+" found");return this._data.set(m,Us(Us({},_),p)),m}},{key:"stream",value:function(p){if(p){var m=this._data;return new zv(Ue({},Ws,rr.mark(function S(){var T,C,A,z;return rr.wrap(function(B){for(;;)switch(B.prev=B.next){case 0:T=Gi(p),B.prev=1,T.s();case 3:if((C=T.n()).done){B.next=11;break}if(A=C.value,null==(z=m.get(A))){B.next=9;break}return B.next=9,[A,z];case 9:B.next=3;break;case 11:B.next=16;break;case 13:B.prev=13,B.t0=B.catch(1),T.e(B.t0);case 16:return B.prev=16,T.f(),B.finish(16);case 19:case"end":return B.stop()}},S,null,[[1,13,16,19]])})))}var _;return new zv(Ue({},Ws,go(_=_r(this._data)).call(_,this._data)))}}]),d}(Sl);function Yx(s,c){var d=void 0!==jc&&Lu(s)||s["@@iterator"];if(!d){if(Wr(s)||(d=function(C,A){var z;if(C){if("string"==typeof C)return tE(C,A);var B=bo(z=Object.prototype.toString.call(C)).call(z,8,-1);if("Object"===B&&C.constructor&&(B=C.constructor.name),"Map"===B||"Set"===B)return If(C);if("Arguments"===B||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(B))return tE(C,A)}}(s))||c&&s&&"number"==typeof s.length){d&&(s=d);var p=0,m=function(){};return{s:m,n:function(){return p>=s.length?{done:!0}:{done:!1,value:s[p++]}},e:function(C){throw C},f:m}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var _,S=!0,T=!1;return{s:function(){d=d.call(s)},n:function(){var C=d.next();return S=C.done,C},e:function(C){T=!0,_=C},f:function(){try{S||null==d.return||d.return()}finally{if(T)throw _}}}}function tE(s,c){(null==c||c>s.length)&&(c=s.length);for(var d=0,p=new Array(c);d<c;d++)p[d]=s[d];return p}function Kx(s){var c=function(){if(typeof Reflect>"u"||!Oo||Oo.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Oo(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var d,p=Ts(s);if(c){var m=Ts(this).constructor;d=Oo(p,arguments,m)}else d=p.apply(this,arguments);return D1(this,d)}}var Bm=function(s){$1(d,s);var c=Kx(d);function d(p,m){var _,S;return dt(this,d),Ue(yn(S=c.call(this)),"length",0),Ue(yn(S),"_listener",void 0),Ue(yn(S),"_data",void 0),Ue(yn(S),"_ids",new Lv),Ue(yn(S),"_options",void 0),S._options=m||{},S._listener=go(_=S._onEvent).call(_,yn(S)),S.setData(p),S}return la(d,[{key:"idProp",get:function(){return this.getDataSet().idProp}},{key:"setData",value:function(p){if(this._data){this._data.off&&this._data.off("*",this._listener);var m=this._data.getIds({filter:lr(this._options)}),_=this._data.get(m);this._ids.clear(),this.length=0,this._trigger("remove",{items:m,oldData:_})}if(null!=p){this._data=p;for(var S=this._data.getIds({filter:lr(this._options)}),T=0,C=S.length;T<C;T++){var A=S[T];this._ids.add(A)}this.length=S.length,this._trigger("add",{items:S})}else this._data=new jh;this._data.on&&this._data.on("*",this._listener)}},{key:"refresh",value:function(){for(var p=this._data.getIds({filter:lr(this._options)}),m=Cr(this._ids),_={},S=[],T=[],C=[],A=0,z=p.length;A<z;A++){var B=p[A];_[B]=!0,this._ids.has(B)||(S.push(B),this._ids.add(B))}for(var q=0,ae=m.length;q<ae;q++){var ve=m[q],de=this._data.get(ve);null==de?console.error("If you see this, report it please."):_[ve]||(T.push(ve),C.push(de),this._ids.delete(ve))}this.length+=S.length-T.length,S.length&&this._trigger("add",{items:S}),T.length&&this._trigger("remove",{items:T,oldData:C})}},{key:"get",value:function(p,m){if(null==this._data)return null;var _,S=null;Rh(p)||Wr(p)?(S=p,_=m):_=p;var T=ty({},this._options,_),C=lr(this._options),A=_&&lr(_);return C&&A&&(T.filter=function(z){return C(z)&&A(z)}),null==S?this._data.get(T):this._data.get(S,T)}},{key:"getIds",value:function(p){if(this._data.length){var m,_=lr(this._options),S=null!=p?lr(p):null;return m=S?_?function(T){return _(T)&&S(T)}:S:_,this._data.getIds({filter:m,order:p&&p.order})}return[]}},{key:"forEach",value:function(p,m){if(this._data){var _,S,T=lr(this._options),C=m&&lr(m);S=C?T?function(A){return T(A)&&C(A)}:C:T,Mi(_=this._data).call(_,p,{filter:S,order:m&&m.order})}}},{key:"map",value:function(p,m){if(this._data){var _,S,T=lr(this._options),C=m&&lr(m);return S=C?T?function(A){return T(A)&&C(A)}:C:T,Pn(_=this._data).call(_,p,{filter:S,order:m&&m.order})}return[]}},{key:"getDataSet",value:function(){return this._data.getDataSet()}},{key:"stream",value:function(p){var m;return this._data.stream(p||Ue({},Ws,go(m=di(this._ids)).call(m,this._ids)))}},{key:"dispose",value:function(){var p;null!==(p=this._data)&&void 0!==p&&p.off&&this._data.off("*",this._listener);var m,_="This data view has already been disposed of.",S={get:function(){throw new Error(_)},set:function(){throw new Error(_)},configurable:!1},T=Yx(Yw(d.prototype));try{for(T.s();!(m=T.n()).done;){var C=m.value;At(this,C,S)}}catch(A){T.e(A)}finally{T.f()}}},{key:"_onEvent",value:function(p,m,_){if(m&&m.items&&this._data){var S=m.items,T=[],C=[],A=[],z=[],B=[],q=[];switch(p){case"add":for(var ae=0,ve=S.length;ae<ve;ae++){var de=S[ae];this.get(de)&&(this._ids.add(de),T.push(de))}break;case"update":for(var ke=0,Fe=S.length;ke<Fe;ke++){var Te=S[ke];this.get(Te)?this._ids.has(Te)?(C.push(Te),B.push(m.data[ke]),z.push(m.oldData[ke])):(this._ids.add(Te),T.push(Te)):this._ids.has(Te)&&(this._ids.delete(Te),A.push(Te),q.push(m.oldData[ke]))}break;case"remove":for(var vt=0,Xe=S.length;vt<Xe;vt++){var Tt=S[vt];this._ids.has(Tt)&&(this._ids.delete(Tt),A.push(Tt),q.push(m.oldData[vt]))}}this.length+=T.length-A.length,T.length&&this._trigger("add",{items:T},_),C.length&&this._trigger("update",{items:C,oldData:z,data:B},_),A.length&&this._trigger("remove",{items:A,oldData:q},_)}}}]),d}(Sl);function rE(s,c){return"object"===ur(c)&&null!==c&&s===c.idProp&&"function"==typeof c.add&&"function"==typeof c.clear&&"function"==typeof c.distinct&&"function"==typeof Mi(c)&&"function"==typeof c.get&&"function"==typeof c.getDataSet&&"function"==typeof c.getIds&&"number"==typeof c.length&&"function"==typeof Pn(c)&&"function"==typeof c.max&&"function"==typeof c.min&&"function"==typeof c.off&&"function"==typeof c.on&&"function"==typeof c.remove&&"function"==typeof c.setOptions&&"function"==typeof c.stream&&"function"==typeof c.update&&"function"==typeof c.updateOnly}Pt.DELETE=th,Pt.DataSet=jh,Pt.DataStream=zv,Pt.DataView=Bm,Pt.Queue=Nm,Pt.createNewDataPipeFrom=function(s){return new yO(s)},Pt.isDataSetLike=rE,Pt.isDataViewLike=function(s,c){return"object"===ur(c)&&null!==c&&s===c.idProp&&"function"==typeof Mi(c)&&"function"==typeof c.get&&"function"==typeof c.getDataSet&&"function"==typeof c.getIds&&"number"==typeof c.length&&"function"==typeof Pn(c)&&"function"==typeof c.off&&"function"==typeof c.on&&"function"==typeof c.stream&&rE(s,c.getDataSet())}}(ht)},877:function(Rr,ht,Pt){!function(dt,Qt){var X=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ge(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Ln=function(n){return n&&n.Math===Math&&n},ye=Ln("object"==typeof globalThis&&globalThis)||Ln("object"==typeof window&&window)||Ln("object"==typeof self&&self)||Ln("object"==typeof X&&X)||function(){return this}()||X||Function("return this")(),re=function(n){try{return!!n()}catch{return!0}},nr=!re(function(){var n=function(){}.bind();return"function"!=typeof n||n.hasOwnProperty("prototype")}),qs=nr,Al=Function.prototype,Na=Al.apply,pi=Al.call,Sr="object"==typeof Reflect&&Reflect.apply||(qs?pi.bind(Na):function(){return pi.apply(Na,arguments)}),gi=nr,Ra=Function.prototype,Bo=Ra.call,Ml=gi&&Ra.bind.bind(Bo,Bo),Ee=gi?Ml:function(n){return function(){return Bo.apply(n,arguments)}},ct=Ee,yi=ct({}.toString),Jm=ct("".slice),ir=function(n){return Jm(yi(n),8,-1)},Qn=ir,Yv=Ee,mi=function(n){if("Function"===Qn(n))return Yv(n)},Lo="object"==typeof document&&document.all,Zn={all:Lo,IS_HTMLDDA:void 0===Lo&&void 0!==Lo},Gs=Zn.all,ze=Zn.IS_HTMLDDA?function(n){return"function"==typeof n||n===Gs}:function(n){return"function"==typeof n},pr={},et=!re(function(){return 7!==Object.defineProperty({},1,{get:function(){return 7}})[1]}),bt=nr,jr=Function.prototype.call,ot=bt?jr.bind(jr):function(){return jr.apply(jr,arguments)},Ot={},Ys={}.propertyIsEnumerable,zo=Object.getOwnPropertyDescriptor,Vt=zo&&!Ys.call({1:2},1);Ot.f=Vt?function(n){var e=zo(this,n);return!!e&&e.enumerable}:Ys;var Ct,ei,gr=function(n,e){return{enumerable:!(1&n),configurable:!(2&n),writable:!(4&n),value:e}},Kv=re,bi=ir,ja=Object,Xv=Ee("".split),Zi=Kv(function(){return!ja("z").propertyIsEnumerable(0)})?function(n){return"String"===bi(n)?Xv(n,""):ja(n)}:ja,Fr=function(n){return null==n},Jv=Fr,Fa=TypeError,xr=function(n){if(Jv(n))throw new Fa("Can't call method on "+n);return n},Ho=Zi,Ks=xr,St=function(n){return Ho(Ks(n))},Z=ze,F=Zn.all,L=Zn.IS_HTMLDDA?function(n){return"object"==typeof n?null!==n:Z(n)||n===F}:function(n){return"object"==typeof n?null!==n:Z(n)},G={},Ye=G,tt=ye,ut=ze,qe=function(n){return ut(n)?n:void 0},$e=function(n,e){return arguments.length<2?qe(Ye[n])||qe(tt[n]):Ye[n]&&Ye[n][e]||tt[n]&&tt[n][e]},xe=Ee({}.isPrototypeOf),Br=typeof navigator<"u"&&String(navigator.userAgent)||"",Xs=ye,Zt=Br,Qv=Xs.process,Rt=Xs.Deno,wi=Qv&&Qv.versions||Rt&&Rt.version,Xh=wi&&wi.v8;Xh&&(ei=(Ct=Xh.split("."))[0]>0&&Ct[0]<4?1:+(Ct[0]+Ct[1])),!ei&&Zt&&(!(Ct=Zt.match(/Edge\/(\d+)/))||Ct[1]>=74)&&(Ct=Zt.match(/Chrome\/(\d+)/))&&(ei=+Ct[1]);var Qr=ei,Jh=Qr,Qm=re,Ba=ye.String,Wo=!!Object.getOwnPropertySymbols&&!Qm(function(){var n=Symbol("symbol detection");return!Ba(n)||!(Object(n)instanceof Symbol)||!Symbol.sham&&Jh&&Jh<41}),zn=Wo&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,Qh=$e,Js=ze,Zm=xe,Nl=Object,_i=zn?function(n){return"symbol"==typeof n}:function(n){var e=Qh("Symbol");return Js(e)&&Zm(e.prototype,Nl(n))},Qs=String,La=function(n){try{return Qs(n)}catch{return"Object"}},yE=ze,mE=La,Zr=TypeError,za=function(n){if(yE(n))return n;throw new Zr(mE(n)+" is not a function")},bE=za,Ha=Fr,Rl=function(n,e){var t=n[e];return Ha(t)?void 0:bE(t)},Ei=ot,jl=ze,Zv=L,eb=TypeError,Tr={exports:{}},tb=ye,wE=Object.defineProperty,Zh=function(n,e){try{wE(tb,n,{value:e,configurable:!0,writable:!0})}catch{tb[n]=e}return e},Zs="__core-js_shared__",eu=ye[Zs]||Zh(Zs,{}),eo=eu;(Tr.exports=function(n,e){return eo[n]||(eo[n]=void 0!==e?e:{})})("versions",[]).push({version:"3.33.0",mode:"pure",copyright:"\xa9 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.33.0/LICENSE",source:"https://github.com/zloirock/core-js"});var tu=Tr.exports,_E=xr,en=Object,tn=function(n){return en(_E(n))},rb=tn,qt=Ee({}.hasOwnProperty),or=Object.hasOwn||function(n,e){return qt(rb(n),e)},EE=Ee,kE=0,nb=Math.random(),ed=EE(1..toString),ru=function(n){return"Symbol("+(void 0===n?"":n)+")_"+ed(++kE+nb,36)},ep=tu,Wa=or,OE=ru,SE=Wo,ar=zn,Uo=ye.Symbol,tp=ep("wks"),jt=ar?Uo.for||Uo:Uo&&Uo.withoutSetter||OE,We=function(n){return Wa(tp,n)||(tp[n]=SE&&Wa(Uo,n)?Uo[n]:jt("Symbol."+n)),tp[n]},ib=ot,rp=L,ob=_i,xE=Rl,td=function(n,e){var t,r;if("string"===e&&jl(t=n.toString)&&!Zv(r=Ei(t,n))||jl(t=n.valueOf)&&!Zv(r=Ei(t,n))||"string"!==e&&jl(t=n.toString)&&!Zv(r=Ei(t,n)))return r;throw new eb("Can't convert object to primitive value")},TE=TypeError,IE=We("toPrimitive"),ab=function(n,e){if(!rp(n)||ob(n))return n;var t,r=xE(n,IE);if(r){if(void 0===e&&(e="default"),t=ib(r,n,e),!rp(t)||ob(t))return t;throw new TE("Can't convert object to primitive value")}return void 0===e&&(e="number"),td(n,e)},rd=_i,Fl=function(n){var e=ab(n,"string");return rd(e)?e:e+""},nd=L,Vo=ye.document,Bl=nd(Vo)&&nd(Vo.createElement),sb=function(n){return Bl?Vo.createElement(n):{}},$t=sb,ub=!et&&!re(function(){return 7!==Object.defineProperty($t("div"),"a",{get:function(){return 7}}).a}),lb=et,cb=ot,PE=Ot,CE=gr,$E=St,DE=Fl,AE=or,hb=ub,db=Object.getOwnPropertyDescriptor;pr.f=lb?db:function(n,e){if(n=$E(n),e=DE(e),hb)try{return db(n,e)}catch{}if(AE(n,e))return CE(!cb(PE.f,n,e),n[e])};var ME=re,id=ze,Ll=/#|\.prototype\./,nu=function(n,e){var t=NE[np(n)];return t===fb||t!==ip&&(id(e)?ME(e):!!e)},np=nu.normalize=function(n){return String(n).replace(Ll,".").toLowerCase()},NE=nu.data={},ip=nu.NATIVE="N",fb=nu.POLYFILL="P",RE=nu,jE=za,vb=nr,qo=mi(mi.bind),yr=function(n,e){return jE(n),void 0===e?n:vb?qo(n,e):function(){return n.apply(e,arguments)}},rn={},pb=et&&re(function(){return 42!==Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype}),FE=L,BE=String,kn=TypeError,On=function(n){if(FE(n))return n;throw new kn(BE(n)+" is not an object")},gb=et,LE=ub,od=pb,zl=On,iu=Fl,op=TypeError,ap=Object.defineProperty,sp=Object.getOwnPropertyDescriptor,Hl="enumerable",ou="configurable",ad="writable";rn.f=gb?od?function(n,e,t){if(zl(n),e=iu(e),zl(t),"function"==typeof n&&"prototype"===e&&"value"in t&&ad in t&&!t[ad]){var r=sp(n,e);r&&r[ad]&&(n[e]=t.value,t={configurable:ou in t?t[ou]:r[ou],enumerable:Hl in t?t[Hl]:r[Hl],writable:!1})}return ap(n,e,t)}:ap:function(n,e,t){if(zl(n),e=iu(e),zl(t),LE)try{return ap(n,e,t)}catch{}if("get"in t||"set"in t)throw new op("Accessors not supported");return"value"in t&&(n[e]=t.value),n};var zE=rn,to=gr,ro=et?function(n,e,t){return zE.f(n,e,to(1,t))}:function(n,e,t){return n[e]=t,n},ti=ye,Sn=Sr,HE=mi,WE=ze,yb=pr.f,au=RE,su=G,uu=yr,er=ro,mb=or,Re=function(n){var e=function(t,r,i){if(this instanceof e){switch(arguments.length){case 0:return new n;case 1:return new n(t);case 2:return new n(t,r)}return new n(t,r,i)}return Sn(n,this,arguments)};return e.prototype=n.prototype,e},De=function(n,e){var t,r,i,o,u,h,f,b,E,k=n.target,I=n.global,$=n.stat,D=n.proto,N=I?ti:$?ti[k]:(ti[k]||{}).prototype,W=I?su:su[k]||er(su,k,{})[k],Y=W.prototype;for(o in e)r=!(t=au(I?o:k+($?".":"#")+o,n.forced))&&N&&mb(N,o),h=W[o],r&&(f=n.dontCallGetSet?(E=yb(N,o))&&E.value:N[o]),u=r&&f?f:e[o],r&&typeof h==typeof u||(b=n.bind&&r?uu(u,ti):n.wrap&&r?Re(u):D&&WE(u)?HE(u):u,(n.sham||u&&u.sham||h&&h.sham)&&er(b,"sham",!0),er(W,o,b),D&&(mb(su,i=k+"Prototype")||er(su,i,{}),er(su[i],o,u),n.real&&Y&&(t||!Y[o])&&er(Y,o,u)))},sd=Math.ceil,up=Math.floor,bb=Math.trunc||function(n){var e=+n;return(e>0?up:sd)(e)},lu=function(n){var e=+n;return e!=e||0===e?0:bb(e)},wb=lu,ud=Math.max,cu=Math.min,Ua=function(n,e){var t=wb(n);return t<0?ud(t+e,0):cu(t,e)},Go=lu,UE=Math.min,VE=function(n){return n>0?UE(Go(n),9007199254740991):0},Gt=function(n){return VE(n.length)},Va=St,qE=Ua,GE=Gt,_b=function(n){return function(e,t,r){var i,o=Va(e),u=GE(o),h=qE(r,u);if(n&&t!=t){for(;u>h;)if((i=o[h++])!=i)return!0}else for(;u>h;h++)if((n||h in o)&&o[h]===t)return n||h||0;return!n&&-1}},nn={includes:_b(!0),indexOf:_b(!1)},Wl={},ki=or,YE=St,hu=nn.indexOf,Eb=Wl,qa=Ee([].push),Me=function(n,e){var t,r=YE(n),i=0,o=[];for(t in r)!ki(Eb,t)&&ki(r,t)&&qa(o,t);for(;e.length>i;)ki(r,t=e[i++])&&(~hu(o,t)||qa(o,t));return o},Ul=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],KE=Me,kb=Ul,Ga=Object.keys||function(n){return KE(n,kb)},du={};du.f=Object.getOwnPropertySymbols;var Ob=et,XE=Ee,no=ot,Sb=re,Vl=Ga,JE=du,xb=Ot,QE=tn,ZE=Zi,Yo=Object.assign,ql=Object.defineProperty,ek=XE([].concat),io=!Yo||Sb(function(){if(Ob&&1!==Yo({b:1},Yo(ql({},"a",{enumerable:!0,get:function(){ql(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var n={},e={},t=Symbol("assign detection"),r="abcdefghijklmnopqrst";return n[t]=7,r.split("").forEach(function(i){e[i]=i}),7!==Yo({},n)[t]||Vl(Yo({},e)).join("")!==r})?function(n,e){for(var t=QE(n),r=arguments.length,i=1,o=JE.f,u=xb.f;r>i;)for(var h,f=ZE(arguments[i++]),b=o?ek(Vl(f),o(f)):Vl(f),E=b.length,k=0;E>k;)h=b[k++],Ob&&!no(u,f,h)||(t[h]=f[h]);return t}:Yo,Tb=io;De({target:"Object",stat:!0,arity:2,forced:Object.assign!==Tb},{assign:Tb});var Ht=ge(G.Object.assign),fu=Ee([].slice),Ib=Ee,ld=za,Gl=L,Pb=or,Yl=fu,Cb=nr,xn=Function,tk=Ib([].concat),rk=Ib([].join),vu={},$b=Cb?xn.bind:function(n){var e=ld(this),t=e.prototype,r=Yl(arguments,1),i=function(){var o=tk(r,Yl(arguments));return this instanceof i?function(u,h,f){if(!Pb(vu,h)){for(var b=[],E=0;E<h;E++)b[E]="a["+E+"]";vu[h]=xn("C,a","return new C("+rk(b,",")+")")}return vu[h](u,f)}(e,o.length,o):e.apply(n,o)};return Gl(t)&&(i.prototype=t),i},Kl=$b;De({target:"Function",proto:!0,forced:Function.bind!==Kl},{bind:Kl});var nk=G,Dt=function(n){return nk[n+"Prototype"]},ik=Dt("Function").bind,Xl=xe,Db=ik,Jl=Function.prototype,Ab=function(n){var e=n.bind;return n===Jl||Xl(Jl,n)&&e===Jl.bind?Db:e},ee=ge(Ab);function lp(n,e,t,r){n.beginPath(),n.arc(e,t,r,0,2*Math.PI,!1),n.closePath()}function cp(n,e,t,r,i,o){var u=Math.PI/180;r-2*o<0&&(o=r/2),i-2*o<0&&(o=i/2),n.beginPath(),n.moveTo(e+o,t),n.lineTo(e+r-o,t),n.arc(e+r-o,t+o,o,270*u,360*u,!1),n.lineTo(e+r,t+i-o),n.arc(e+r-o,t+i-o,o,0,90*u,!1),n.lineTo(e+o,t+i),n.arc(e+o,t+i-o,o,90*u,180*u,!1),n.lineTo(e,t+o),n.arc(e+o,t+o,o,180*u,270*u,!1),n.closePath()}function cd(n,e,t,r,i){var o=.5522848,u=r/2*o,h=i/2*o,f=e+r,b=t+i,E=e+r/2,k=t+i/2;n.beginPath(),n.moveTo(e,k),n.bezierCurveTo(e,k-h,E-u,t,E,t),n.bezierCurveTo(E+u,t,f,k-h,f,k),n.bezierCurveTo(f,k+h,E+u,b,E,b),n.bezierCurveTo(E-u,b,e,k+h,e,k),n.closePath()}function Mb(n,e,t,r,i){var o=.3333333333333333*i,u=.5522848,h=r/2*u,f=o/2*u,b=e+r,E=t+o,k=e+r/2,I=t+o/2,$=t+(i-o/2),D=t+i;n.beginPath(),n.moveTo(b,I),n.bezierCurveTo(b,I+f,k+h,E,k,E),n.bezierCurveTo(k-h,E,e,I+f,e,I),n.bezierCurveTo(e,I-f,k-h,t,k,t),n.bezierCurveTo(k+h,t,b,I-f,b,I),n.lineTo(b,$),n.bezierCurveTo(b,$+f,k+h,D,k,D),n.bezierCurveTo(k-h,D,e,$+f,e,$),n.lineTo(e,I)}function Nb(n,e,t,r,i,o){n.beginPath(),n.moveTo(e,t);for(var u=o.length,h=r-e,f=i-t,b=f/h,E=Math.sqrt(h*h+f*f),k=0,I=!0,$=0,D=+o[0];E>=.1;)(D=+o[k++%u])>E&&(D=E),$=Math.sqrt(D*D/(1+b*b)),e+=$=h<0?-$:$,t+=b*$,!0===I?n.lineTo(e,t):n.moveTo(e,t),E-=D,I=!I}var Oi={circle:lp,dashedLine:Nb,database:Mb,diamond:function(n,e,t,r){n.beginPath(),n.lineTo(e,t+r),n.lineTo(e+r,t),n.lineTo(e,t-r),n.lineTo(e-r,t),n.closePath()},ellipse:cd,ellipse_vis:cd,hexagon:function(n,e,t,r){n.beginPath();var i=2*Math.PI/6;n.moveTo(e+r,t);for(var o=1;o<6;o++)n.lineTo(e+r*Math.cos(i*o),t+r*Math.sin(i*o));n.closePath()},roundRect:cp,square:function(n,e,t,r){n.beginPath(),n.rect(e-r,t-r,2*r,2*r),n.closePath()},star:function(n,e,t,r){n.beginPath(),t+=.1*(r*=.82);for(var i=0;i<10;i++){var o=i%2==0?1.3*r:.5*r;n.lineTo(e+o*Math.sin(2*i*Math.PI/10),t-o*Math.cos(2*i*Math.PI/10))}n.closePath()},triangle:function(n,e,t,r){n.beginPath(),t+=.275*(r*=1.15);var i=2*r,o=i/2,u=Math.sqrt(3)/6*i,h=Math.sqrt(i*i-o*o);n.moveTo(e,t-(h-u)),n.lineTo(e+o,t+u),n.lineTo(e-o,t+u),n.lineTo(e,t-(h-u)),n.closePath()},triangleDown:function(n,e,t,r){n.beginPath(),t-=.275*(r*=1.15);var i=2*r,o=i/2,u=Math.sqrt(3)/6*i,h=Math.sqrt(i*i-o*o);n.moveTo(e,t+(h-u)),n.lineTo(e+o,t-u),n.lineTo(e-o,t-u),n.lineTo(e,t+(h-u)),n.closePath()}},hp={exports:{}};!function(n){function e(t){if(t)return function(r){for(var i in e.prototype)r[i]=e.prototype[i];return r}(t)}n.exports=e,e.prototype.on=e.prototype.addEventListener=function(t,r){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(r),this},e.prototype.once=function(t,r){function i(){this.off(t,i),r.apply(this,arguments)}return i.fn=r,this.on(t,i),this},e.prototype.off=e.prototype.removeListener=e.prototype.removeAllListeners=e.prototype.removeEventListener=function(t,r){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var i,o=this._callbacks["$"+t];if(!o)return this;if(1==arguments.length)return delete this._callbacks["$"+t],this;for(var u=0;u<o.length;u++)if((i=o[u])===r||i.fn===r){o.splice(u,1);break}return 0===o.length&&delete this._callbacks["$"+t],this},e.prototype.emit=function(t){this._callbacks=this._callbacks||{};for(var r=new Array(arguments.length-1),i=this._callbacks["$"+t],o=1;o<arguments.length;o++)r[o-1]=arguments[o];if(i){o=0;for(var u=(i=i.slice(0)).length;o<u;++o)i[o].apply(this,r)}return this},e.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]},e.prototype.hasListeners=function(t){return!!this.listeners(t).length}}(hp);var Rb=ge(hp.exports),hd={};hd[We("toStringTag")]="z";var dd,pu,Si,gu="[object z]"===String(hd),jb=gu,ak=ze,fd=ir,vd=We("toStringTag"),Fb=Object,sk="Arguments"===fd(function(){return arguments}()),Ko=jb?fd:function(n){var e,t,r;return void 0===n?"Undefined":null===n?"Null":"string"==typeof(t=function(i,o){try{return i[o]}catch{}}(e=Fb(n),vd))?t:sk?fd(e):"Object"===(r=fd(e))&&ak(e.callee)?"Arguments":r},pd=Ko,uk=String,on=function(n){if("Symbol"===pd(n))throw new TypeError("Cannot convert a Symbol value to a string");return uk(n)},oo=Ee,Bb=lu,gd=on,Lb=xr,zb=oo("".charAt),dp=oo("".charCodeAt),fp=oo("".slice),Hb=function(n){return function(e,t){var r,i,o=gd(Lb(e)),u=Bb(t),h=o.length;return u<0||u>=h?n?"":void 0:(r=dp(o,u))<55296||r>56319||u+1===h||(i=dp(o,u+1))<56320||i>57343?n?zb(o,u):r:n?fp(o,u,u+2):i-56320+(r-55296<<10)+65536}},Wb={codeAt:Hb(!1),charAt:Hb(!0)},yd=ze,Ub=ye.WeakMap,Ql=yd(Ub)&&/native code/.test(String(Ub)),lk=ru,Vb=tu("keys"),md=function(n){return Vb[n]||(Vb[n]=lk(n))},ck=Ql,ao=ye,qb=L,hk=ro,bd=or,yu=eu,dk=md,fk=Wl,wd="Object already initialized",_d=ao.TypeError,vk=ao.WeakMap;if(ck||yu.state){var xi=yu.state||(yu.state=new vk);xi.get=xi.get,xi.has=xi.has,xi.set=xi.set,dd=function(n,e){if(xi.has(n))throw new _d(wd);return e.facade=n,xi.set(n,e),e},pu=function(n){return xi.get(n)||{}},Si=function(n){return xi.has(n)}}else{var Xo=dk("state");fk[Xo]=!0,dd=function(n,e){if(bd(n,Xo))throw new _d(wd);return e.facade=n,hk(n,Xo,e),e},pu=function(n){return bd(n,Xo)?n[Xo]:{}},Si=function(n){return bd(n,Xo)}}var Hn={set:dd,get:pu,has:Si,enforce:function(n){return Si(n)?pu(n):dd(n,{})},getterFor:function(n){return function(e){var t;if(!qb(e)||(t=pu(e)).type!==n)throw new _d("Incompatible receiver, "+n+" required");return t}}},Zl=et,vp=or,pp=Function.prototype,Gb=Zl&&Object.getOwnPropertyDescriptor,mu=vp(pp,"name"),Ya={EXISTS:mu,PROPER:mu&&"something"===function(){}.name,CONFIGURABLE:mu&&(!Zl||Zl&&Gb(pp,"name").configurable)},an={},Ed=et,pk=pb,gp=rn,Yb=On,kd=St,gk=Ga;an.f=Ed&&!pk?Object.defineProperties:function(n,e){Yb(n);for(var t,r=kd(e),i=gk(e),o=i.length,u=0;o>u;)gp.f(n,t=i[u++],r[t]);return n};var Od,yk=$e("document","documentElement"),yp=On,mk=an,bu=Ul,Kb=Wl,mp=yk,Xb=sb,Ka="prototype",bp="script",Jo=md("IE_PROTO"),Sd=function(){},wu=function(n){return"<"+bp+">"+n+"</"+bp+">"},_u=function(n){n.write(wu("")),n.close();var e=n.parentWindow.Object;return n=null,e},xd=function(){try{Od=new ActiveXObject("htmlfile")}catch{}var n,e,t;xd=typeof document<"u"?document.domain&&Od?_u(Od):(e=Xb("iframe"),t="java"+bp+":",e.style.display="none",mp.appendChild(e),e.src=String(t),(n=e.contentWindow.document).open(),n.write(wu("document.F=Object")),n.close(),n.F):_u(Od);for(var r=bu.length;r--;)delete xd[Ka][bu[r]];return xd()};Kb[Jo]=!0;var Tn,Eu,ec,Xa=Object.create||function(n,e){var t;return null!==n?(Sd[Ka]=yp(n),t=new Sd,Sd[Ka]=null,t[Jo]=n):t=xd(),void 0===e?t:mk.f(t,e)},Jb=!re(function(){function n(){}return n.prototype.constructor=null,Object.getPrototypeOf(new n)!==n.prototype}),bk=or,wk=ze,Ft=tn,Qb=Jb,Zb=md("IE_PROTO"),wp=Object,e0=wp.prototype,Qo=Qb?wp.getPrototypeOf:function(n){var e=Ft(n);if(bk(e,Zb))return e[Zb];var t=e.constructor;return wk(t)&&e instanceof t?t.prototype:e instanceof wp?e0:null},_k=ro,tc=function(n,e,t,r){return r&&r.enumerable?n[e]=t:_k(n,e,t),n},t0=re,Ek=ze,kk=L,Ok=Xa,r0=Qo,_p=tc,Ti=We("iterator"),Td=!1;[].keys&&("next"in(ec=[].keys())?(Eu=r0(r0(ec)))!==Object.prototype&&(Tn=Eu):Td=!0);var Id=!kk(Tn)||t0(function(){var n={};return Tn[Ti].call(n)!==n});Ek((Tn=Id?{}:Ok(Tn))[Ti])||_p(Tn,Ti,function(){return this});var Ep={IteratorPrototype:Tn,BUGGY_SAFARI_ITERATORS:Td},Pd=Ko,n0=gu?{}.toString:function(){return"[object "+Pd(this)+"]"},i0=gu,kp=rn.f,ku=ro,Cd=or,Ja=n0,Qa=We("toStringTag"),Zo=function(n,e,t,r){if(n){var i=t?n:n.prototype;Cd(i,Qa)||kp(i,Qa,{configurable:!0,value:e}),r&&!i0&&ku(i,"toString",Ja)}},Ou={},Ii=Ep.IteratorPrototype,ea=Xa,so=gr,Sk=Zo,xk=Ou,Tk=function(){return this},Ik=Ee,o0=za,a0=ze,ta=String,Za=TypeError,$d=function(n,e,t){try{return Ik(o0(Object.getOwnPropertyDescriptor(n,e)[t]))}catch{}},Dd=On,Op=function(n){if("object"==typeof n||a0(n))return n;throw new Za("Can't set "+ta(n)+" as a prototype")},rc=Object.setPrototypeOf||("__proto__"in{}?function(){var n,e=!1,t={};try{(n=$d(Object.prototype,"__proto__","set"))(t,[]),e=t instanceof Array}catch{}return function(r,i){return Dd(r),Op(i),e?n(r,i):r.__proto__=i,r}}():void 0),Su=De,ri=ot,Yt=function(n,e,t,r){var i=e+" Iterator";return n.prototype=ea(Ii,{next:so(+!r,t)}),Sk(n,i,!1,!0),xk[i]=Tk,n},nc=Qo,Sp=Zo,xu=tc,Ad=Ou,Ck=Ep,xp=Ya.PROPER,pt=Ck.BUGGY_SAFARI_ITERATORS,Md=We("iterator"),s0="keys",ic="values",u0="entries",Tp=function(){return this},Nd=function(n,e,t,r,i,o,u){Yt(t,e,r);var h,f,b,E=function(Y){if(Y===i&&N)return N;if(!pt&&Y&&Y in $)return $[Y];switch(Y){case s0:case ic:case u0:return function(){return new t(this,Y)}}return function(){return new t(this)}},k=e+" Iterator",I=!1,$=n.prototype,D=$[Md]||$["@@iterator"]||i&&$[i],N=!pt&&D||E(i),W="Array"===e&&$.entries||D;if(W&&(h=nc(W.call(new n)))!==Object.prototype&&h.next&&(Sp(h,k,!0,!0),Ad[k]=Tp),xp&&i===ic&&D&&D.name!==ic&&(I=!0,N=function(){return ri(D,this)}),i)if(f={values:E(ic),keys:o?N:E(s0),entries:E(u0)},u)for(b in f)(pt||I||!(b in $))&&xu($,b,f[b]);else Su({target:e,proto:!0,forced:pt||I},f);return u&&$[Md]!==N&&xu($,Md,N,{name:i}),Ad[e]=N,f},Ip=function(n,e){return{value:n,done:e}},l0=Wb.charAt,c0=on,h0=Hn,Pp=Nd,Cp=Ip,$p="String Iterator",$k=h0.set,d0=h0.getterFor($p);Pp(String,"String",function(n){$k(this,{type:$p,string:c0(n),index:0})},function(){var n,e=d0(this),t=e.string,r=e.index;return r>=t.length?Cp(void 0,!0):(n=l0(t,r),e.index+=n.length,Cp(n,!1))});var es=ot,f0=On,Dk=Rl,Rd=function(n,e,t){var r,i;f0(n);try{if(!(r=Dk(n,"return"))){if("throw"===e)throw t;return t}r=es(r,n)}catch(o){i=!0,r=o}if("throw"===e)throw t;if(i)throw r;return f0(r),t},jd=On,sn=Rd,oc=Ou,ac=We("iterator"),Ak=Array.prototype,sc=function(n){return void 0!==n&&(oc.Array===n||Ak[ac]===n)},In=ze,uo=eu,Fd=Ee(Function.toString);In(uo.inspectSource)||(uo.inspectSource=function(n){return Fd(n)});var v0=uo.inspectSource,uc=Ee,p0=re,ni=ze,Tu=Ko,Bd=v0,Dp=function(){},lo=[],Lr=$e("Reflect","construct"),ra=/^\s*(?:class|function)\b/,na=uc(ra.exec),Ap=!ra.test(Dp),ts=function(n){if(!ni(n))return!1;try{return Lr(Dp,lo,n),!0}catch{return!1}},lc=function(n){if(!ni(n))return!1;switch(Tu(n)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return Ap||!!na(ra,Bd(n))}catch{return!0}};lc.sham=!0;var Iu=!Lr||p0(function(){var n;return ts(ts.call)||!ts(Object)||!ts(function(){n=!0})||n})?lc:ts,g0=Fl,y0=rn,Mp=gr,un=function(n,e,t){var r=g0(e);r in n?y0.f(n,r,Mp(0,t)):n[r]=t},rs=Ko,cc=Rl,Np=Fr,Rp=Ou,Mk=We("iterator"),Pi=function(n){if(!Np(n))return cc(n,Mk)||cc(n,"@@iterator")||Rp[rs(n)]},Pu=ot,jp=za,sr=On,Nk=La,Fp=Pi,Ld=TypeError,zd=function(n,e){var t=arguments.length<2?Fp(n):e;if(jp(t))return sr(Pu(t,n));throw new Ld(Nk(n)+" is not iterable")},Rk=yr,Hd=ot,co=tn,Bp=function(n,e,t,r){try{return r?e(jd(t)[0],t[1]):e(t)}catch(i){sn(n,"throw",i)}},jk=sc,Lp=Iu,Fk=Gt,Wd=un,m0=zd,b0=Pi,Ud=Array,zp=We("iterator"),Cu=!1;try{var Vd=0,Hp={next:function(){return{done:!!Vd++}},return:function(){Cu=!0}};Hp[zp]=function(){return this},Array.from(Hp,function(){throw 2})}catch{}var Wp=function(n){var e=co(n),t=Lp(this),r=arguments.length,i=r>1?arguments[1]:void 0,o=void 0!==i;o&&(i=Rk(i,r>2?arguments[2]:void 0));var u,h,f,b,E,k,I=b0(e),$=0;if(!I||this===Ud&&jk(I))for(u=Fk(e),h=t?new this(u):Ud(u);u>$;$++)k=o?i(e[$],$):e[$],Wd(h,$,k);else for(E=(b=m0(e,I)).next,h=t?new this:[];!(f=Hd(E,b)).done;$++)k=o?Bp(b,i,[f.value,$],!0):f.value,Wd(h,$,k);return h.length=$,h};De({target:"Array",stat:!0,forced:!function(n,e){try{if(!e&&!Cu)return!1}catch{return!1}var t=!1;try{var r={};r[zp]=function(){return{next:function(){return{done:t=!0}}}},n(r)}catch{}return t}(function(n){Array.from(n)})},{from:Wp});var w0=G.Array.from,ns=ge(w0),Bk=St,ho=Ou,hc=Hn;rn.f;var Vp=Nd,is=Ip,zr="Array Iterator",qd=hc.set,dc=hc.getterFor(zr);Vp(Array,"Array",function(n,e){qd(this,{type:zr,target:Bk(n),index:0,kind:e})},function(){var n=dc(this),e=n.target,t=n.kind,r=n.index++;if(!e||r>=e.length)return n.target=void 0,is(void 0,!0);switch(t){case"keys":return is(r,!1);case"values":return is(e[r],!1)}return is([r,e[r]],!1)},"values"),ho.Arguments=ho.Array;var _0=Pi,qp={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},Wn=ye,ia=Ko,fc=ro,E0=Ou,vc=We("toStringTag");for(var Gd in qp){var oa=Wn[Gd],Yd=oa&&oa.prototype;Yd&&ia(Yd)!==vc&&fc(Yd,vc,Gd),E0[Gd]=E0.Array}var k0=_0,fo=ge(k0),Ir=ge(k0);function oe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}var O0={exports:{}},aa=De,pc=et,Kd=rn.f;aa({target:"Object",stat:!0,forced:Object.defineProperty!==Kd,sham:!pc},{defineProperty:Kd});var $u=G.Object,Gp=O0.exports=function(n,e,t){return $u.defineProperty(n,e,t)};$u.defineProperty.sham&&(Gp.sham=!0);var Xd=O0.exports,gc=ge(Xd),Yp=ir,sa=Array.isArray||function(n){return"Array"===Yp(n)},S0=TypeError,Kp=function(n){if(n>9007199254740991)throw S0("Maximum allowed index exceeded");return n},Xp=sa,x0=Iu,Jp=L,Lk=We("species"),yc=Array,T0=function(n){var e;return Xp(n)&&(e=n.constructor,(x0(e)&&(e===yc||Xp(e.prototype))||Jp(e)&&null===(e=e[Lk]))&&(e=void 0)),void 0===e?yc:e},Qp=function(n,e){return new(T0(n))(0===e?0:e)},Zp=re,zk=Qr,I0=We("species"),mc=function(n){return zk>=51||!Zp(function(){var e=[];return(e.constructor={})[I0]=function(){return{foo:1}},1!==e[n](Boolean).foo})},eg=De,P0=re,Hk=sa,C0=L,$0=tn,Wk=Gt,Du=Kp,D0=un,A0=Qp,Uk=mc,M0=Qr,N0=We("isConcatSpreadable"),R0=M0>=51||!P0(function(){var n=[];return n[N0]=!1,n.concat()[0]!==n}),Vk=function(n){if(!C0(n))return!1;var e=n[N0];return void 0!==e?!!e:Hk(n)};eg({target:"Array",proto:!0,arity:1,forced:!R0||!Uk("concat")},{concat:function(n){var e,t,r,i,o,u=$0(this),h=A0(u,0),f=0;for(e=-1,r=arguments.length;e<r;e++)if(Vk(o=-1===e?u:arguments[e]))for(i=Wk(o),Du(f+i),t=0;t<i;t++,f++)t in o&&D0(h,f,o[t]);else Du(f+1),D0(h,f++,o);return h.length=f,h}});var bc={},j0=Me,F0=Ul.concat("length","prototype");bc.f=Object.getOwnPropertyNames||function(n){return j0(n,F0)};var Jd={},os=Ua,B0=Gt,L0=un,z0=Array,H0=Math.max,W0=function(n,e,t){for(var r=B0(n),i=os(e,r),o=os(void 0===t?r:t,r),u=z0(H0(o-i,0)),h=0;i<o;i++,h++)L0(u,h,n[i]);return u.length=h,u},qk=ir,U0=St,Ci=bc.f,Qd=W0,tg="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];Jd.f=function(n){return tg&&"Window"===qk(n)?function(e){try{return Ci(e)}catch{return Qd(tg)}}(n):Ci(U0(n))};var Zd=rn,wc=function(n,e,t){return Zd.f(n,e,t)},Au={},ef=We;Au.f=ef;var tf=G,V0=or,rf=Au,nf=rn.f,Bt=function(n){var e=tf.Symbol||(tf.Symbol={});V0(e,n)||nf(e,n,{value:rf.f(n)})},q0=ot,G0=$e,Gk=We,Y0=tc,of=function(){var n=G0("Symbol"),e=n&&n.prototype,t=e&&e.valueOf,r=Gk("toPrimitive");e&&!e[r]&&Y0(e,r,function(i){return q0(t,this)},{arity:1})},Yk=yr,Kk=Zi,Xk=tn,Jk=Gt,Qk=Qp,K0=Ee([].push),vo=function(n){var e=1===n,t=2===n,r=3===n,i=4===n,o=6===n,u=7===n,h=5===n||o;return function(f,b,E,k){for(var I,$,D=Xk(f),N=Kk(D),W=Yk(b,E),Y=Jk(N),J=0,ue=k||Qk,he=e?ue(f,Y):t||u?ue(f,0):void 0;Y>J;J++)if((h||J in N)&&($=W(I=N[J],J,D),n))if(e)he[J]=$;else if($)switch(n){case 3:return!0;case 5:return I;case 6:return J;case 2:K0(he,I)}else switch(n){case 4:return!1;case 7:K0(he,I)}return o?-1:r||i?i:he}},$i={forEach:vo(0),map:vo(1),filter:vo(2),some:vo(3),every:vo(4),find:vo(5),findIndex:vo(6),filterReject:vo(7)},Mu=De,_c=ye,Ec=ot,X0=Ee,Nu=et,Ru=Wo,Zk=re,tr=or,eO=xe,rg=On,af=St,ng=Fl,J0=on,ig=gr,Di=Xa,sf=Ga,uf=bc,lf=Jd,Q0=du,cf=pr,og=rn,ag=an,sg=Ot,Z0=tc,ug=wc,kc=tu,as=Wl,hf=ru,tO=We,rO=Au,ew=Bt,lg=of,tw=Zo,Oc=Hn,Sc=$i.forEach,ln=md("hidden"),df="Symbol",ju="prototype",rw=Oc.set,cg=Oc.getterFor(df),Un=Object[ju],po=_c.Symbol,xc=po&&po[ju],Ai=_c.RangeError,ff=_c.TypeError,Tc=_c.QObject,ur=cf.f,ua=og.f,hg=lf.f,nw=sg.f,la=X0([].push),Ue=kc("symbols"),Fu=kc("op-symbols"),nO=kc("wks"),dg=!Tc||!Tc[ju]||!Tc[ju].findChild,iw=function(n,e,t){var r=ur(Un,e);r&&delete Un[e],ua(n,e,t),r&&n!==Un&&ua(Un,e,r)},vf=Nu&&Zk(function(){return 7!==Di(ua({},"a",{get:function(){return ua(this,"a",{value:7}).a}})).a})?iw:ua,fg=function(n,e){var t=Ue[n]=Di(xc);return rw(t,{type:df,tag:n,description:e}),Nu||(t.description=e),t},Ic=function(n,e,t){n===Un&&Ic(Fu,e,t),rg(n);var r=ng(e);return rg(t),tr(Ue,r)?(t.enumerable?(tr(n,ln)&&n[ln][r]&&(n[ln][r]=!1),t=Di(t,{enumerable:ig(0,!1)})):(tr(n,ln)||ua(n,ln,ig(1,{})),n[ln][r]=!0),vf(n,r,t)):ua(n,r,t)},vg=function(n,e){rg(n);var t=af(e),r=sf(t).concat(gg(t));return Sc(r,function(i){Nu&&!Ec(ow,t,i)||Ic(n,i,t[i])}),n},ow=function(n){var e=ng(n),t=Ec(nw,this,e);return!(this===Un&&tr(Ue,e)&&!tr(Fu,e))&&(!(t||!tr(this,e)||!tr(Ue,e)||tr(this,ln)&&this[ln][e])||t)},pf=function(n,e){var t=af(n),r=ng(e);if(t!==Un||!tr(Ue,r)||tr(Fu,r)){var i=ur(t,r);return!i||!tr(Ue,r)||tr(t,ln)&&t[ln][r]||(i.enumerable=!0),i}},pg=function(n){var e=hg(af(n)),t=[];return Sc(e,function(r){tr(Ue,r)||tr(as,r)||la(t,r)}),t},gg=function(n){var e=n===Un,t=hg(e?Fu:af(n)),r=[];return Sc(t,function(i){!tr(Ue,i)||e&&!tr(Un,i)||la(r,Ue[i])}),r};Ru||(po=function(){if(eO(xc,this))throw new ff("Symbol is not a constructor");var n=arguments.length&&void 0!==arguments[0]?J0(arguments[0]):void 0,e=hf(n),t=function(r){this===Un&&Ec(t,Fu,r),tr(this,ln)&&tr(this[ln],e)&&(this[ln][e]=!1);var i=ig(1,r);try{vf(this,e,i)}catch(o){if(!(o instanceof Ai))throw o;iw(this,e,i)}};return Nu&&dg&&vf(Un,e,{configurable:!0,set:t}),fg(e,n)},Z0(xc=po[ju],"toString",function(){return cg(this).tag}),Z0(po,"withoutSetter",function(n){return fg(hf(n),n)}),sg.f=ow,og.f=Ic,ag.f=vg,cf.f=pf,uf.f=lf.f=pg,Q0.f=gg,rO.f=function(n){return fg(tO(n),n)},Nu&&ug(xc,"description",{configurable:!0,get:function(){return cg(this).description}})),Mu({global:!0,constructor:!0,wrap:!0,forced:!Ru,sham:!Ru},{Symbol:po}),Sc(sf(nO),function(n){ew(n)}),Mu({target:df,stat:!0,forced:!Ru},{useSetter:function(){dg=!0},useSimple:function(){dg=!1}}),Mu({target:"Object",stat:!0,forced:!Ru,sham:!Nu},{create:function(n,e){return void 0===e?Di(n):vg(Di(n),e)},defineProperty:Ic,defineProperties:vg,getOwnPropertyDescriptor:pf}),Mu({target:"Object",stat:!0,forced:!Ru},{getOwnPropertyNames:pg}),lg(),tw(po,df),as[ln]=!0;var aw=Wo&&!!Symbol.for&&!!Symbol.keyFor,Pr=De,iO=$e,oO=or,sw=on,gf=tu,uw=aw,go=gf("string-to-symbol-registry"),lw=gf("symbol-to-string-registry");Pr({target:"Symbol",stat:!0,forced:!uw},{for:function(n){var e=sw(n);if(oO(go,e))return go[e];var t=iO("Symbol")(e);return go[e]=t,lw[t]=e,t}});var aO=De,cw=or,hw=_i,sO=La,Pc=aw,yf=tu("symbol-to-string-registry");aO({target:"Symbol",stat:!0,forced:!Pc},{keyFor:function(n){if(!hw(n))throw new TypeError(sO(n)+" is not a symbol");if(cw(yf,n))return yf[n]}});var yg=sa,ss=ze,us=ir,uO=on,mf=Ee([].push),mg=De,dw=$e,Cc=Sr,bg=ot,$c=Ee,Dc=re,wg=ze,fw=_i,bf=fu,lr=function(n){if(ss(n))return n;if(yg(n)){for(var e=n.length,t=[],r=0;r<e;r++){var i=n[r];"string"==typeof i?mf(t,i):"number"!=typeof i&&"Number"!==us(i)&&"String"!==us(i)||mf(t,uO(i))}var o=t.length,u=!0;return function(h,f){if(u)return u=!1,f;if(yg(this))return f;for(var b=0;b<o;b++)if(t[b]===h)return f}}},lO=Wo,cO=String,ca=dw("JSON","stringify"),wf=$c(/./.exec),Ac=$c("".charAt),Pn=$c("".charCodeAt),vw=$c("".replace),_g=$c(1..toString),pw=/[\uD800-\uDFFF]/g,_f=/^[\uD800-\uDBFF]$/,Eg=/^[\uDC00-\uDFFF]$/,kg=!lO||Dc(function(){var n=dw("Symbol")("stringify detection");return"[null]"!==ca([n])||"{}"!==ca({a:n})||"{}"!==ca(Object(n))}),gw=Dc(function(){return'"\\udf06\\ud834"'!==ca("\udf06\ud834")||'"\\udead"'!==ca("\udead")}),hO=function(n,e){var t=bf(arguments),r=lr(e);if(wg(r)||void 0!==n&&!fw(n))return t[1]=function(i,o){if(wg(r)&&(o=bg(r,this,cO(i),o)),!fw(o))return o},Cc(ca,null,t)},dO=function(n,e,t){var r=Ac(t,e-1),i=Ac(t,e+1);return wf(_f,n)&&!wf(Eg,i)||wf(Eg,n)&&!wf(_f,r)?"\\u"+_g(Pn(n,0),16):n};ca&&mg({target:"JSON",stat:!0,arity:3,forced:kg||gw},{stringify:function(n,e,t){var r=bf(arguments),i=Cc(kg?hO:ca,null,r);return gw&&"string"==typeof i?vw(i,pw,dO):i}});var yw=du,fO=tn;De({target:"Object",stat:!0,forced:!Wo||re(function(){yw.f(1)})},{getOwnPropertySymbols:function(n){var e=yw.f;return e?e(fO(n)):[]}}),Bt("asyncIterator"),Bt("hasInstance"),Bt("isConcatSpreadable"),Bt("iterator"),Bt("match"),Bt("matchAll"),Bt("replace"),Bt("search"),Bt("species"),Bt("split");var vO=of;Bt("toPrimitive"),vO();var pO=$e,Ef=Zo;Bt("toStringTag"),Ef(pO("Symbol"),"Symbol"),Bt("unscopables"),Zo(ye.JSON,"JSON",!0);var mw=G.Symbol,gO=We,yO=rn.f,bw=gO("metadata"),kf=Function.prototype;void 0===kf[bw]&&yO(kf,bw,{value:null}),Bt("asyncDispose"),Bt("dispose"),Bt("metadata");var mO=mw,ww=Ee,Og=$e("Symbol"),Of=Og.keyFor,_w=ww(Og.prototype.valueOf),Sg=Og.isRegisteredSymbol||function(n){try{return void 0!==Of(_w(n))}catch{return!1}};De({target:"Symbol",stat:!0},{isRegisteredSymbol:Sg});for(var bO=tu,Sf=$e,xg=Ee,Tg=_i,wO=We,Mc=Sf("Symbol"),Ew=Mc.isWellKnownSymbol,Nc=Sf("Object","getOwnPropertyNames"),_O=xg(Mc.prototype.valueOf),kw=bO("wks"),Ig=0,Ow=Nc(Mc),EO=Ow.length;Ig<EO;Ig++)try{var Sw=Ow[Ig];Tg(Mc[Sw])&&wO(Sw)}catch{}var xf=function(n){if(Ew&&Ew(n))return!0;try{for(var e=_O(n),t=0,r=Nc(kw),i=r.length;t<i;t++)if(kw[r[t]]==e)return!0}catch{}return!1};De({target:"Symbol",stat:!0,forced:!0},{isWellKnownSymbol:xf}),Bt("matcher"),Bt("observable"),De({target:"Symbol",stat:!0,name:"isRegisteredSymbol"},{isRegistered:Sg}),De({target:"Symbol",stat:!0,name:"isWellKnownSymbol",forced:!0},{isWellKnown:xf}),Bt("metadataKey"),Bt("patternMatch"),Bt("replaceAll");var ha=ge(mO),Bu=ge(Au.f("iterator"));function ft(n){return(ft="function"==typeof ha&&"symbol"==typeof Bu?function(e){return typeof e}:function(e){return e&&"function"==typeof ha&&e.constructor===ha&&e!==ha.prototype?"symbol":typeof e})(n)}var kO=ge(Au.f("toPrimitive"));function xw(n){var e=function(t,r){if("object"!==ft(t)||null===t)return t;var i=t[kO];if(void 0!==i){var o=i.call(t,r||"default");if("object"!==ft(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(n,"string");return"symbol"===ft(e)?e:String(e)}function Tw(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),gc(n,xw(r.key),r)}}function ce(n,e,t){return e&&Tw(n.prototype,e),t&&Tw(n,t),gc(n,"prototype",{writable:!1}),n}De({target:"Array",stat:!0},{isArray:sa});var Tf=G.Array.isArray,Iw=ge(Tf),Pw=et,Cw=sa,$w=TypeError,Dw=Object.getOwnPropertyDescriptor,Pg=Pw&&!function(){if(void 0!==this)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(n){return n instanceof TypeError}}()?function(n,e){if(Cw(n)&&!Dw(n,"length").writable)throw new $w("Cannot set read only .length");return n.length=e}:function(n,e){return n.length=e},Aw=tn,Cg=Gt,Mw=Pg,Nw=Kp;De({target:"Array",proto:!0,arity:1,forced:re(function(){return 4294967297!==[].push.call({length:4294967296},1)})||!function(){try{Object.defineProperty([],"length",{writable:!1}).push()}catch(n){return n instanceof TypeError}}()},{push:function(n){var e=Aw(this),t=Cg(e),r=arguments.length;Nw(t+r);for(var i=0;i<r;i++)e[t]=arguments[i],t++;return Mw(e,t),t}});var If=Dt("Array").push,Lu=xe,Rw=If,Pf=Array.prototype,OO=ge(function(n){var e=n.push;return n===Pf||Lu(Pf,n)&&e===Pf.push?Rw:e}),SO=De,$g=sa,Fw=Iu,Bw=L,Dg=Ua,Lw=Gt,mr=St,xO=un,TO=We,IO=fu,PO=mc("slice"),Ag=TO("species"),Mg=Array,CO=Math.max;SO({target:"Array",proto:!0,forced:!PO},{slice:function(n,e){var t,r,i,o=mr(this),u=Lw(o),h=Dg(n,u),f=Dg(void 0===e?u:e,u);if($g(o)&&(t=o.constructor,(Fw(t)&&(t===Mg||$g(t.prototype))||Bw(t)&&null===(t=t[Ag]))&&(t=void 0),t===Mg||void 0===t))return IO(o,h,f);for(r=new(void 0===t?Mg:t)(CO(f-h,0)),i=0;h<f;h++,i++)h in o&&xO(r,i,o[h]);return r.length=i,r}});var $O=Dt("Array").slice,DO=xe,zw=$O,Cf=Array.prototype,Ng=function(n){var e=n.slice;return n===Cf||DO(Cf,n)&&e===Cf.slice?zw:e},Rg=ge(Ng),yo=ge(w0);function rt(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function jg(n,e){var t;if(n){if("string"==typeof n)return rt(n,e);var r=Rg(t=Object.prototype.toString.call(n)).call(t,8,-1);return"Object"===r&&n.constructor&&(r=n.constructor.name),"Map"===r||"Set"===r?yo(n):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?rt(n,e):void 0}}function At(n,e){return function(t){if(Iw(t))return t}(n)||function(t,r){var i=null==t?null:void 0!==ha&&fo(t)||t["@@iterator"];if(null!=i){var o,u,h,f,b=[],E=!0,k=!1;try{if(h=(i=i.call(t)).next,0===r){if(Object(i)!==i)return;E=!1}else for(;!(E=(o=h.call(i)).done)&&(OO(b).call(b,o.value),b.length!==r);E=!0);}catch(I){k=!0,u=I}finally{try{if(!E&&null!=i.return&&(f=i.return(),Object(f)!==f))return}finally{if(k)throw u}}return b}}(n,e)||jg(n,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ii(n){return function(e){if(Iw(e))return rt(e)}(n)||function(e){if(void 0!==ha&&null!=fo(e)||null!=e["@@iterator"])return yo(e)}(n)||jg(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var mo=ge(mw),Hw=Dt("Array").concat,Ww=xe,Uw=Hw,Fg=Array.prototype,Rc=ge(function(n){var e=n.concat;return n===Fg||Ww(Fg,n)&&e===Fg.concat?Uw:e}),br=ge(Ng),qw=$e,MO=bc,Gw=du,NO=On,Hr=Ee([].concat),Bg=qw("Reflect","ownKeys")||function(n){var e=MO.f(NO(n)),t=Gw.f;return t?Hr(e,t(n)):e},gt=ge(Tf),RO=$i.map;De({target:"Array",proto:!0,forced:!mc("map")},{map:function(n){return RO(this,n,arguments.length>1?arguments[1]:void 0)}});var jO=Dt("Array").map,Lg=xe,zg=jO,$f=Array.prototype,zu=ge(function(n){var e=n.map;return n===$f||Lg($f,n)&&e===$f.map?zg:e}),da=tn,Df=Ga;De({target:"Object",stat:!0,forced:re(function(){Df(1)})},{keys:function(n){return Df(da(n))}});var Mt=ge(G.Object.keys),cn=De,Cr=Date,jc=Ee(Cr.prototype.getTime);cn({target:"Date",stat:!0},{now:function(){return jc(new Cr)}});var Fc=ge(G.Date.now),FO=re,Hu=function(n,e){var t=[][n];return!!t&&FO(function(){t.call(null,e||function(){return 1},1)})},Wu=$i.forEach,Bc=Hu("forEach")?[].forEach:function(n){return Wu(this,n,arguments.length>1?arguments[1]:void 0)};De({target:"Array",proto:!0,forced:[].forEach!==Bc},{forEach:Bc});var bo=Dt("Array").forEach,Yw=Ko,Wr=or,BO=xe,Wg=bo,Lc=Array.prototype,LO={DOMTokenList:!0,NodeList:!0},wt=ge(function(n){var e=n.forEach;return n===Lc||BO(Lc,n)&&e===Lc.forEach||Wr(LO,Yw(n))?Wg:e}),zO=De,HO=sa,WO=Ee([].reverse),Af=[1,2];zO({target:"Array",proto:!0,forced:String(Af)===String(Af.reverse())},{reverse:function(){return HO(this)&&(this.length=this.length),WO(this)}});var Ug=Dt("Array").reverse,UO=xe,Xw=Ug,Mi=Array.prototype,ls=ge(function(n){var e=n.reverse;return n===Mi||UO(Mi,n)&&e===Mi.reverse?Xw:e}),Qw=La,Zw=TypeError,e1=function(n,e){if(!delete n[e])throw new Zw("Cannot delete property "+Qw(e)+" of "+Qw(n))},VO=De,qO=tn,Vg=Ua,t1=lu,qg=Gt,GO=Pg,YO=Kp,KO=Qp,XO=un,Kt=e1,r1=mc("splice"),JO=Math.max,n1=Math.min;VO({target:"Array",proto:!0,forced:!r1},{splice:function(n,e){var t,r,i,o,u,h,f=qO(this),b=qg(f),E=Vg(n,b),k=arguments.length;for(0===k?t=r=0:1===k?(t=0,r=b-E):(t=k-2,r=n1(JO(t1(e),0),b-E)),YO(b+t-r),i=KO(f,r),o=0;o<r;o++)(u=E+o)in f&&XO(i,o,f[u]);if(i.length=r,t<r){for(o=E;o<b-r;o++)h=o+t,(u=o+r)in f?f[h]=f[u]:Kt(f,h);for(o=b;o>b-r+t;o--)Kt(f,o-1)}else if(t>r)for(o=b-r;o>E;o--)h=o+t-1,(u=o+r-1)in f?f[h]=f[u]:Kt(f,h);for(o=0;o<t;o++)f[o+E]=arguments[o+2];return GO(f,b-r+t),i}});var QO=Dt("Array").splice,ZO=xe,eS=QO,Gg=Array.prototype,oi=ge(function(n){var e=n.splice;return n===Gg||ZO(Gg,n)&&e===Gg.splice?eS:e}),rS=nn.includes;De({target:"Array",proto:!0,forced:re(function(){return!Array(1).includes()})},{includes:function(n){return rS(this,n,arguments.length>1?arguments[1]:void 0)}});var nS=Dt("Array").includes,iS=L,Yg=ir,Cn=We("match"),oS=function(n){var e;return iS(n)&&(void 0!==(e=n[Cn])?!!e:"RegExp"===Yg(n))},aS=TypeError,sS=We("match"),uS=De,i1=function(n){if(oS(n))throw new aS("The method doesn't accept regular expressions");return n},Kg=xr,Xg=on,o1=function(n){var e=/./;try{"/./"[n](e)}catch{try{return e[sS]=!1,"/./"[n](e)}catch{}}return!1},lS=Ee("".indexOf);uS({target:"String",proto:!0,forced:!o1("includes")},{includes:function(n){return!!~lS(Xg(Kg(this)),Xg(i1(n)),arguments.length>1?arguments[1]:void 0)}});var cS=Dt("String").includes,a1=xe,Jg=nS,hS=cS,Qg=Array.prototype,Zg=String.prototype,Ur=ge(function(n){var e=n.includes;return n===Qg||a1(Qg,n)&&e===Qg.includes?Jg:"string"==typeof n||n===Zg||a1(Zg,n)&&e===Zg.includes?hS:e}),s1=tn,u1=Qo,fS=Jb;De({target:"Object",stat:!0,forced:re(function(){u1(1)}),sham:!fS},{getPrototypeOf:function(n){return u1(s1(n))}});var ey=G.Object.getPrototypeOf,ty=ge(ey),vS=$i.filter;De({target:"Array",proto:!0,forced:!mc("filter")},{filter:function(n){return vS(this,n,arguments.length>1?arguments[1]:void 0)}});var l1=Dt("Array").filter,pS=xe,gS=l1,Mf=Array.prototype,Vr=ge(function(n){var e=n.filter;return n===Mf||pS(Mf,n)&&e===Mf.filter?gS:e}),zc="\t\n\v\f\r \xa0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff",yS=xr,mS=on,ry=zc,h1=Ee("".replace),bS=RegExp("^["+ry+"]+"),d1=RegExp("(^|[^"+ry+"])["+ry+"]+$"),Hc=function(n){return function(e){var t=mS(yS(e));return 1&n&&(t=h1(t,bS,"")),2&n&&(t=h1(t,d1,"$1")),t}},f1={start:Hc(1),end:Hc(2),trim:Hc(3)},ny=ye,wS=re,_S=Ee,ES=on,kS=f1.trim,Wc=zc,Uc=ny.parseInt,iy=ny.Symbol,v1=iy&&iy.iterator,oy=/^[+-]?0x/i,p1=_S(oy.exec),g1=8!==Uc(Wc+"08")||22!==Uc(Wc+"0x16")||v1&&!wS(function(){Uc(Object(v1))})?function(n,e){var t=kS(ES(n));return Uc(t,e>>>0||(p1(oy,t)?16:10))}:Uc;De({global:!0,forced:parseInt!==g1},{parseInt:g1});var hn=ge(G.parseInt),y1=De,OS=nn.indexOf,m1=Hu,Nf=mi([].indexOf),b1=!!Nf&&1/Nf([1],1,-0)<0;y1({target:"Array",proto:!0,forced:b1||!m1("indexOf")},{indexOf:function(n){var e=arguments.length>1?arguments[1]:void 0;return b1?Nf(this,n,e)||0:OS(this,n,e)}});var ai=Dt("Array").indexOf,Vn=xe,Vc=ai,Ni=Array.prototype,at=ge(function(n){var e=n.indexOf;return n===Ni||Vn(Ni,n)&&e===Ni.indexOf?Vc:e});De({target:"Object",stat:!0,sham:!et},{create:Xa});var SS=G.Object,hs=function(n,e){return SS.create(n,e)},dn=ge(hs),Uu=G,Rf=Sr;Uu.JSON||(Uu.JSON={stringify:JSON.stringify});var n,ay=function(n,e,t){return Rf(Uu.JSON.stringify,null,arguments)},ds=ge(ay),w1="function"==typeof Bun&&Bun&&"string"==typeof Bun.version,_1=TypeError,jf=ye,fs=Sr,qc=ze,Gc=w1,Ff=Br,sy=fu,xS=function(n,e){if(n<e)throw new _1("Not enough arguments");return n},Bf=jf.Function,Yc=/MSIE .\./.test(Ff)||Gc&&((n=jf.Bun.version.split(".")).length<3||"0"===n[0]&&(n[1]<3||"3"===n[1]&&"0"===n[2])),Lf=function(n,e){var t=e?2:1;return Yc?function(r,i){var o=xS(arguments.length,1)>t,u=qc(r)?r:Bf(r),h=o?sy(arguments,t):[],f=o?function(){fs(u,this,h)}:u;return e?n(f,i):n(f)}:n},TS=De,$r=ye,Wt=Lf($r.setInterval,!0);TS({global:!0,bind:!0,forced:$r.setInterval!==Wt},{setInterval:Wt});var fn=De,Kc=ye,Vu=Lf(Kc.setTimeout,!0);fn({global:!0,bind:!0,forced:Kc.setTimeout!==Vu},{setTimeout:Vu});var vn=ge(G.setTimeout),Xc=tn,qn=Ua,Ri=Gt,vs=function(n){for(var e=Xc(this),t=Ri(e),r=arguments.length,i=qn(r>1?arguments[1]:void 0,t),o=r>2?arguments[2]:void 0,u=void 0===o?t:qn(o,t);u>i;)e[i++]=n;return e};De({target:"Array",proto:!0},{fill:vs});var uy,E1=Dt("Array").fill,zf=xe,ji=E1,ps=Array.prototype,qu=ge(function(n){var e=n.fill;return n===ps||zf(ps,n)&&e===ps.fill?ji:e});function $n(){return $n=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},$n.apply(this,arguments)}function pn(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,n.__proto__=e}function Gu(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}uy="function"!=typeof Object.assign?function(n){if(null==n)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(n),t=1;t<arguments.length;t++){var r=arguments[t];if(null!=r)for(var i in r)r.hasOwnProperty(i)&&(e[i]=r[i])}return e}:Object.assign;var si,wo=uy,Hf=["","webkit","Moz","MS","ms","o"],k1=typeof document>"u"?{style:{}}:document.createElement("div"),Yu=Math.round,ys=Math.abs,ms=Date.now;function fa(n,e){for(var t,r,i=e[0].toUpperCase()+e.slice(1),o=0;o<Hf.length;){if((r=(t=Hf[o])?t+i:e)in n)return r;o++}}si=typeof window>"u"?{}:window;var bs=fa(k1.style,"touchAction"),ly=void 0!==bs,ws="compute",va="auto",cy="manipulation",_s="none",Ku="pan-x",pa="pan-y",Jc=function(){if(!ly)return!1;var n={},e=si.CSS&&si.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(t){return n[t]=!e||si.CSS.supports("touch-action",t)}),n}(),Xu="ontouchstart"in si,hy=void 0!==fa(si,"PointerEvent"),IS=Xu&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),Es="touch",dy="mouse",PS=25,wr=1,Xt=4,qr=8,Wf=1,Ju=2,ks=4,Fi=8,Dn=16,ui=Ju|ks,Bi=Fi|Dn,Uf=ui|Bi,Qu=["x","y"],Zu=["clientX","clientY"];function gn(n,e,t){var r;if(n)if(n.forEach)n.forEach(e,t);else if(void 0!==n.length)for(r=0;r<n.length;)e.call(t,n[r],r,n),r++;else for(r in n)n.hasOwnProperty(r)&&e.call(t,n[r],r,n)}function Qc(n,e){return"function"==typeof n?n.apply(e&&e[0]||void 0,e):n}function _o(n,e){return n.indexOf(e)>-1}var fy=function(){function n(t,r){this.manager=t,this.set(r)}var e=n.prototype;return e.set=function(t){t===ws&&(t=this.compute()),ly&&this.manager.element.style&&Jc[t]&&(this.manager.element.style[bs]=t),this.actions=t.toLowerCase().trim()},e.update=function(){this.set(this.manager.options.touchAction)},e.compute=function(){var t=[];return gn(this.manager.recognizers,function(r){Qc(r.options.enable,[r])&&(t=t.concat(r.getTouchAction()))}),function(r){if(_o(r,_s))return _s;var i=_o(r,Ku),o=_o(r,pa);return i&&o?_s:i||o?i?Ku:pa:_o(r,cy)?cy:va}(t.join(" "))},e.preventDefaults=function(t){var r=t.srcEvent,i=t.offsetDirection;if(this.manager.session.prevented)r.preventDefault();else{var o=this.actions,u=_o(o,_s)&&!Jc[_s],h=_o(o,pa)&&!Jc[pa],f=_o(o,Ku)&&!Jc[Ku];if(u){var b=1===t.pointers.length,E=t.distance<2,k=t.deltaTime<250;if(b&&E&&k)return}if(!f||!h)return u||h&&i&ui||f&&i&Bi?this.preventSrc(r):void 0}},e.preventSrc=function(t){this.manager.session.prevented=!0,t.preventDefault()},n}();function Vf(n,e){for(;n;){if(n===e)return!0;n=n.parentNode}return!1}function qf(n){var e=n.length;if(1===e)return{x:Yu(n[0].clientX),y:Yu(n[0].clientY)};for(var t=0,r=0,i=0;i<e;)t+=n[i].clientX,r+=n[i].clientY,i++;return{x:Yu(t/e),y:Yu(r/e)}}function vy(n){for(var e=[],t=0;t<n.pointers.length;)e[t]={clientX:Yu(n.pointers[t].clientX),clientY:Yu(n.pointers[t].clientY)},t++;return{timeStamp:ms(),pointers:e,center:qf(e),deltaX:n.deltaX,deltaY:n.deltaY}}function Zc(n,e,t){t||(t=Qu);var r=e[t[0]]-n[t[0]],i=e[t[1]]-n[t[1]];return Math.sqrt(r*r+i*i)}function Gf(n,e,t){t||(t=Qu);var r=e[t[0]]-n[t[0]],i=e[t[1]]-n[t[1]];return 180*Math.atan2(i,r)/Math.PI}function py(n,e){return n===e?Wf:ys(n)>=ys(e)?n<0?Ju:ks:e<0?Fi:Dn}function gy(n,e,t){return{x:e/n||0,y:t/n||0}}function O1(n,e){var t=n.session,r=e.pointers,i=r.length;t.firstInput||(t.firstInput=vy(e)),i>1&&!t.firstMultiple?t.firstMultiple=vy(e):1===i&&(t.firstMultiple=!1);var N,W,Y,J,ue,he,o=t.firstInput,u=t.firstMultiple,h=u?u.center:o.center,f=e.center=qf(r);e.timeStamp=ms(),e.deltaTime=e.timeStamp-o.timeStamp,e.angle=Gf(h,f),e.distance=Zc(h,f),N=t,Y=(W=e).center,J=N.offsetDelta||{},ue=N.prevDelta||{},he=N.prevInput||{},W.eventType!==wr&&he.eventType!==Xt||(ue=N.prevDelta={x:he.deltaX||0,y:he.deltaY||0},J=N.offsetDelta={x:Y.x,y:Y.y}),W.deltaX=ue.x+(Y.x-J.x),W.deltaY=ue.y+(Y.y-J.y),e.offsetDirection=py(e.deltaX,e.deltaY);var b,E,k=gy(e.deltaTime,e.deltaX,e.deltaY);e.overallVelocityX=k.x,e.overallVelocityY=k.y,e.overallVelocity=ys(k.x)>ys(k.y)?k.x:k.y,e.scale=u?(b=u.pointers,Zc((E=r)[0],E[1],Zu)/Zc(b[0],b[1],Zu)):1,e.rotation=u?function(N,W){return Gf(W[1],W[0],Zu)+Gf(N[1],N[0],Zu)}(u.pointers,r):0,e.maxPointers=t.prevInput?e.pointers.length>t.prevInput.maxPointers?e.pointers.length:t.prevInput.maxPointers:e.pointers.length,function(N,W){var Y,J,ue,he,Pe=N.lastInterval||W,Je=W.timeStamp-Pe.timeStamp;if(W.eventType!==qr&&(Je>PS||void 0===Pe.velocity)){var Ve=W.deltaX-Pe.deltaX,Be=W.deltaY-Pe.deltaY,Se=gy(Je,Ve,Be);J=Se.x,ue=Se.y,Y=ys(Se.x)>ys(Se.y)?Se.x:Se.y,he=py(Ve,Be),N.lastInterval=W}else Y=Pe.velocity,J=Pe.velocityX,ue=Pe.velocityY,he=Pe.direction;W.velocity=Y,W.velocityX=J,W.velocityY=ue,W.direction=he}(t,e);var I,$=n.element,D=e.srcEvent;Vf(I=D.composedPath?D.composedPath()[0]:D.path?D.path[0]:D.target,$)&&($=I),e.target=$}function CS(n,e,t){var r=t.pointers.length,i=t.changedPointers.length,o=e&wr&&r-i==0,u=e&(Xt|qr)&&r-i==0;t.isFirst=!!o,t.isFinal=!!u,o&&(n.session={}),t.eventType=e,O1(n,t),n.emit("hammer.input",t),n.recognize(t),n.session.prevInput=t}function eh(n){return n.trim().split(/\s+/g)}function el(n,e,t){gn(eh(e),function(r){n.addEventListener(r,t,!1)})}function tl(n,e,t){gn(eh(e),function(r){n.removeEventListener(r,t,!1)})}function S1(n){var e=n.ownerDocument||n;return e.defaultView||e.parentWindow||window}var rl=function(){function n(t,r){var i=this;this.manager=t,this.callback=r,this.element=t.element,this.target=t.options.inputTarget,this.domHandler=function(o){Qc(t.options.enable,[t])&&i.handler(o)},this.init()}var e=n.prototype;return e.handler=function(){},e.init=function(){this.evEl&&el(this.element,this.evEl,this.domHandler),this.evTarget&&el(this.target,this.evTarget,this.domHandler),this.evWin&&el(S1(this.element),this.evWin,this.domHandler)},e.destroy=function(){this.evEl&&tl(this.element,this.evEl,this.domHandler),this.evTarget&&tl(this.target,this.evTarget,this.domHandler),this.evWin&&tl(S1(this.element),this.evWin,this.domHandler)},n}();function Eo(n,e,t){if(n.indexOf&&!t)return n.indexOf(e);for(var r=0;r<n.length;){if(t&&n[r][t]==e||!t&&n[r]===e)return r;r++}return-1}var $S={pointerdown:wr,pointermove:2,pointerup:Xt,pointercancel:qr,pointerout:qr},x1={2:Es,3:"pen",4:dy,5:"kinect"},yy="pointerdown",th="pointermove pointerup pointercancel";si.MSPointerEvent&&!si.PointerEvent&&(yy="MSPointerDown",th="MSPointerMove MSPointerUp MSPointerCancel");var my=function(n){function e(){var t,r=e.prototype;return r.evEl=yy,r.evWin=th,(t=n.apply(this,arguments)||this).store=t.manager.session.pointerEvents=[],t}return pn(e,n),e.prototype.handler=function(t){var r=this.store,i=!1,o=t.type.toLowerCase().replace("ms",""),u=$S[o],h=x1[t.pointerType]||t.pointerType,f=h===Es,b=Eo(r,t.pointerId,"pointerId");u&wr&&(0===t.button||f)?b<0&&(r.push(t),b=r.length-1):u&(Xt|qr)&&(i=!0),b<0||(r[b]=t,this.callback(this.manager,u,{pointers:r,changedPointers:[t],pointerType:h,srcEvent:t}),i&&r.splice(b,1))},e}(rl);function ga(n){return Array.prototype.slice.call(n,0)}function rh(n,e,t){for(var r=[],i=[],o=0;o<n.length;){var u=e?n[o][e]:n[o];Eo(i,u)<0&&r.push(n[o]),i[o]=u,o++}return t&&(r=e?r.sort(function(h,f){return h[e]>f[e]}):r.sort()),r}var T1={touchstart:wr,touchmove:2,touchend:Xt,touchcancel:qr},by=function(n){function e(){var t;return e.prototype.evTarget="touchstart touchmove touchend touchcancel",(t=n.apply(this,arguments)||this).targetIds={},t}return pn(e,n),e.prototype.handler=function(t){var r=T1[t.type],i=ko.call(this,t,r);i&&this.callback(this.manager,r,{pointers:i[0],changedPointers:i[1],pointerType:Es,srcEvent:t})},e}(rl);function ko(n,e){var t,r,i=ga(n.touches),o=this.targetIds;if(e&(2|wr)&&1===i.length)return o[i[0].identifier]=!0,[i,i];var u=ga(n.changedTouches),h=[],f=this.target;if(r=i.filter(function(b){return Vf(b.target,f)}),e===wr)for(t=0;t<r.length;)o[r[t].identifier]=!0,t++;for(t=0;t<u.length;)o[u[t].identifier]&&h.push(u[t]),e&(Xt|qr)&&delete o[u[t].identifier],t++;return h.length?[rh(r.concat(h),"identifier",!0),h]:void 0}var DS={mousedown:wr,mousemove:2,mouseup:Xt},wy=function(n){function e(){var t,r=e.prototype;return r.evEl="mousedown",r.evWin="mousemove mouseup",(t=n.apply(this,arguments)||this).pressed=!1,t}return pn(e,n),e.prototype.handler=function(t){var r=DS[t.type];r&wr&&0===t.button&&(this.pressed=!0),2&r&&1!==t.which&&(r=Xt),this.pressed&&(r&Xt&&(this.pressed=!1),this.callback(this.manager,r,{pointers:[t],changedPointers:[t],pointerType:dy,srcEvent:t}))},e}(rl),AS=2500;function _y(n){var e=n.changedPointers[0];if(e.identifier===this.primaryTouch){var t={x:e.clientX,y:e.clientY},r=this.lastTouches;this.lastTouches.push(t),setTimeout(function(){var i=r.indexOf(t);i>-1&&r.splice(i,1)},AS)}}function MS(n,e){n&wr?(this.primaryTouch=e.changedPointers[0].identifier,_y.call(this,e)):n&(Xt|qr)&&_y.call(this,e)}function nh(n){for(var e=n.srcEvent.clientX,t=n.srcEvent.clientY,r=0;r<this.lastTouches.length;r++){var i=this.lastTouches[r],o=Math.abs(e-i.x),u=Math.abs(t-i.y);if(o<=25&&u<=25)return!0}return!1}var I1=function(n){function e(t,r){var i;return(i=n.call(this,t,r)||this).handler=function(o,u,h){var f=h.pointerType===Es,b=h.pointerType===dy;if(!(b&&h.sourceCapabilities&&h.sourceCapabilities.firesTouchEvents)){if(f)MS.call(Gu(Gu(i)),u,h);else if(b&&nh.call(Gu(Gu(i)),h))return;i.callback(o,u,h)}},i.touch=new by(i.manager,i.handler),i.mouse=new wy(i.manager,i.handler),i.primaryTouch=null,i.lastTouches=[],i}return pn(e,n),e.prototype.destroy=function(){this.touch.destroy(),this.mouse.destroy()},e}(rl);function Os(n,e,t){return!!Array.isArray(n)&&(gn(n,t[e],t),!0)}var ya=32,P1=1;function Yf(n,e){var t=e.manager;return t?t.get(n):n}function ih(n){return 16&n?"cancel":8&n?"end":4&n?"move":2&n?"start":""}var Ss=function(){function n(t){void 0===t&&(t={}),this.options=$n({enable:!0},t),this.id=P1++,this.manager=null,this.state=1,this.simultaneous={},this.requireFail=[]}var e=n.prototype;return e.set=function(t){return wo(this.options,t),this.manager&&this.manager.touchAction.update(),this},e.recognizeWith=function(t){if(Os(t,"recognizeWith",this))return this;var r=this.simultaneous;return r[(t=Yf(t,this)).id]||(r[t.id]=t,t.recognizeWith(this)),this},e.dropRecognizeWith=function(t){return Os(t,"dropRecognizeWith",this)||(t=Yf(t,this),delete this.simultaneous[t.id]),this},e.requireFailure=function(t){if(Os(t,"requireFailure",this))return this;var r=this.requireFail;return-1===Eo(r,t=Yf(t,this))&&(r.push(t),t.requireFailure(this)),this},e.dropRequireFailure=function(t){if(Os(t,"dropRequireFailure",this))return this;t=Yf(t,this);var r=Eo(this.requireFail,t);return r>-1&&this.requireFail.splice(r,1),this},e.hasRequireFailures=function(){return this.requireFail.length>0},e.canRecognizeWith=function(t){return!!this.simultaneous[t.id]},e.emit=function(t){var r=this,i=this.state;function o(u){r.manager.emit(u,t)}i<8&&o(r.options.event+ih(i)),o(r.options.event),t.additionalEvent&&o(t.additionalEvent),i>=8&&o(r.options.event+ih(i))},e.tryEmit=function(t){if(this.canEmit())return this.emit(t);this.state=ya},e.canEmit=function(){for(var t=0;t<this.requireFail.length;){if(!(33&this.requireFail[t].state))return!1;t++}return!0},e.recognize=function(t){var r=wo({},t);if(!Qc(this.options.enable,[this,r]))return this.reset(),void(this.state=ya);56&this.state&&(this.state=1),this.state=this.process(r),30&this.state&&this.tryEmit(r)},e.process=function(t){},e.getTouchAction=function(){},e.reset=function(){},n}(),Ey=function(n){function e(r){var i;return void 0===r&&(r={}),(i=n.call(this,$n({event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},r))||this).pTime=!1,i.pCenter=!1,i._timer=null,i._input=null,i.count=0,i}pn(e,n);var t=e.prototype;return t.getTouchAction=function(){return[cy]},t.process=function(r){var i=this,o=this.options,u=r.pointers.length===o.pointers,h=r.distance<o.threshold,f=r.deltaTime<o.time;if(this.reset(),r.eventType&wr&&0===this.count)return this.failTimeout();if(h&&f&&u){if(r.eventType!==Xt)return this.failTimeout();var b=!this.pTime||r.timeStamp-this.pTime<o.interval,E=!this.pCenter||Zc(this.pCenter,r.center)<o.posThreshold;if(this.pTime=r.timeStamp,this.pCenter=r.center,E&&b?this.count+=1:this.count=1,this._input=r,this.count%o.taps==0)return this.hasRequireFailures()?(this._timer=setTimeout(function(){i.state=8,i.tryEmit()},o.interval),2):8}return ya},t.failTimeout=function(){var r=this;return this._timer=setTimeout(function(){r.state=ya},this.options.interval),ya},t.reset=function(){clearTimeout(this._timer)},t.emit=function(){8===this.state&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))},e}(Ss),xs=function(n){function e(r){return void 0===r&&(r={}),n.call(this,$n({pointers:1},r))||this}pn(e,n);var t=e.prototype;return t.attrTest=function(r){var i=this.options.pointers;return 0===i||r.pointers.length===i},t.process=function(r){var i=this.state,o=r.eventType,u=6&i,h=this.attrTest(r);return u&&(o&qr||!h)?16|i:u||h?o&Xt?8|i:2&i?4|i:2:ya},e}(Ss);function ky(n){return n===Dn?"down":n===Fi?"up":n===Ju?"left":n===ks?"right":""}var Kf=function(n){function e(r){var i;return void 0===r&&(r={}),(i=n.call(this,$n({event:"pan",threshold:10,pointers:1,direction:Uf},r))||this).pX=null,i.pY=null,i}pn(e,n);var t=e.prototype;return t.getTouchAction=function(){var r=this.options.direction,i=[];return r&ui&&i.push(pa),r&Bi&&i.push(Ku),i},t.directionTest=function(r){var i=this.options,o=!0,u=r.distance,h=r.direction,f=r.deltaX,b=r.deltaY;return h&i.direction||(i.direction&ui?(h=0===f?Wf:f<0?Ju:ks,o=f!==this.pX,u=Math.abs(r.deltaX)):(h=0===b?Wf:b<0?Fi:Dn,o=b!==this.pY,u=Math.abs(r.deltaY))),r.direction=h,o&&u>i.threshold&&h&i.direction},t.attrTest=function(r){return xs.prototype.attrTest.call(this,r)&&(2&this.state||!(2&this.state)&&this.directionTest(r))},t.emit=function(r){this.pX=r.deltaX,this.pY=r.deltaY;var i=ky(r.direction);i&&(r.additionalEvent=this.options.event+i),n.prototype.emit.call(this,r)},e}(xs),Oy=function(n){function e(r){return void 0===r&&(r={}),n.call(this,$n({event:"swipe",threshold:10,velocity:.3,direction:ui|Bi,pointers:1},r))||this}pn(e,n);var t=e.prototype;return t.getTouchAction=function(){return Kf.prototype.getTouchAction.call(this)},t.attrTest=function(r){var i,o=this.options.direction;return o&(ui|Bi)?i=r.overallVelocity:o&ui?i=r.overallVelocityX:o&Bi&&(i=r.overallVelocityY),n.prototype.attrTest.call(this,r)&&o&r.offsetDirection&&r.distance>this.options.threshold&&r.maxPointers===this.options.pointers&&ys(i)>this.options.velocity&&r.eventType&Xt},t.emit=function(r){var i=ky(r.offsetDirection);i&&this.manager.emit(this.options.event+i,r),this.manager.emit(this.options.event,r)},e}(xs),Oo=function(n){function e(r){return void 0===r&&(r={}),n.call(this,$n({event:"pinch",threshold:0,pointers:2},r))||this}pn(e,n);var t=e.prototype;return t.getTouchAction=function(){return[_s]},t.attrTest=function(r){return n.prototype.attrTest.call(this,r)&&(Math.abs(r.scale-1)>this.options.threshold||2&this.state)},t.emit=function(r){if(1!==r.scale){var i=r.scale<1?"in":"out";r.additionalEvent=this.options.event+i}n.prototype.emit.call(this,r)},e}(xs),yn=function(n){function e(r){return void 0===r&&(r={}),n.call(this,$n({event:"rotate",threshold:0,pointers:2},r))||this}pn(e,n);var t=e.prototype;return t.getTouchAction=function(){return[_s]},t.attrTest=function(r){return n.prototype.attrTest.call(this,r)&&(Math.abs(r.rotation)>this.options.threshold||2&this.state)},e}(xs),Xf=function(n){function e(r){var i;return void 0===r&&(r={}),(i=n.call(this,$n({event:"press",pointers:1,time:251,threshold:9},r))||this)._timer=null,i._input=null,i}pn(e,n);var t=e.prototype;return t.getTouchAction=function(){return[va]},t.process=function(r){var i=this,o=this.options,u=r.pointers.length===o.pointers,h=r.distance<o.threshold,f=r.deltaTime>o.time;if(this._input=r,!h||!u||r.eventType&(Xt|qr)&&!f)this.reset();else if(r.eventType&wr)this.reset(),this._timer=setTimeout(function(){i.state=8,i.tryEmit()},o.time);else if(r.eventType&Xt)return 8;return ya},t.reset=function(){clearTimeout(this._timer)},t.emit=function(r){8===this.state&&(r&&r.eventType&Xt?this.manager.emit(this.options.event+"up",r):(this._input.timeStamp=ms(),this.manager.emit(this.options.event,this._input)))},e}(Ss),C1={domEvents:!1,touchAction:ws,enable:!0,inputTarget:null,inputClass:null,cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},Sy=[[yn,{enable:!1}],[Oo,{enable:!1},["rotate"]],[Oy,{direction:ui}],[Kf,{direction:ui},["swipe"]],[Ey],[Ey,{event:"doubletap",taps:2},["tap"]],[Xf]];function Jf(n,e){var t,r=n.element;r.style&&(gn(n.options.cssProps,function(i,o){t=fa(r.style,o),e?(n.oldCssProps[t]=r.style[t],r.style[t]=i):r.style[t]=n.oldCssProps[t]||""}),e||(n.oldCssProps={}))}var xy=function(){function n(t,r){var i,o=this;this.options=wo({},C1,r||{}),this.options.inputTarget=this.options.inputTarget||t,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=t,this.input=new((i=this).options.inputClass||(hy?my:IS?by:Xu?I1:wy))(i,CS),this.touchAction=new fy(this,this.options.touchAction),Jf(this,!0),gn(this.options.recognizers,function(u){var h=o.add(new u[0](u[1]));u[2]&&h.recognizeWith(u[2]),u[3]&&h.requireFailure(u[3])},this)}var e=n.prototype;return e.set=function(t){return wo(this.options,t),t.touchAction&&this.touchAction.update(),t.inputTarget&&(this.input.destroy(),this.input.target=t.inputTarget,this.input.init()),this},e.stop=function(t){this.session.stopped=t?2:1},e.recognize=function(t){var r=this.session;if(!r.stopped){var i;this.touchAction.preventDefaults(t);var o=this.recognizers,u=r.curRecognizer;(!u||u&&8&u.state)&&(r.curRecognizer=null,u=null);for(var h=0;h<o.length;)i=o[h],2===r.stopped||u&&i!==u&&!i.canRecognizeWith(u)?i.reset():i.recognize(t),!u&&14&i.state&&(r.curRecognizer=i,u=i),h++}},e.get=function(t){if(t instanceof Ss)return t;for(var r=this.recognizers,i=0;i<r.length;i++)if(r[i].options.event===t)return r[i];return null},e.add=function(t){if(Os(t,"add",this))return this;var r=this.get(t.options.event);return r&&this.remove(r),this.recognizers.push(t),t.manager=this,this.touchAction.update(),t},e.remove=function(t){if(Os(t,"remove",this))return this;var r=this.get(t);if(t){var i=this.recognizers,o=Eo(i,r);-1!==o&&(i.splice(o,1),this.touchAction.update())}return this},e.on=function(t,r){if(void 0===t||void 0===r)return this;var i=this.handlers;return gn(eh(t),function(o){i[o]=i[o]||[],i[o].push(r)}),this},e.off=function(t,r){if(void 0===t)return this;var i=this.handlers;return gn(eh(t),function(o){r?i[o]&&i[o].splice(Eo(i[o],r),1):delete i[o]}),this},e.emit=function(t,r){var u,h,f;this.options.domEvents&&(u=t,h=r,(f=document.createEvent("Event")).initEvent(u,!0,!0),f.gesture=h,h.target.dispatchEvent(f));var i=this.handlers[t]&&this.handlers[t].slice();if(i&&i.length){r.type=t,r.preventDefault=function(){r.srcEvent.preventDefault()};for(var o=0;o<i.length;)i[o](r),o++}},e.destroy=function(){this.element&&Jf(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null},n}(),Ty={touchstart:wr,touchmove:2,touchend:Xt,touchcancel:qr},$1=function(n){function e(){var t,r=e.prototype;return r.evTarget="touchstart",r.evWin="touchstart touchmove touchend touchcancel",(t=n.apply(this,arguments)||this).started=!1,t}return pn(e,n),e.prototype.handler=function(t){var r=Ty[t.type];if(r===wr&&(this.started=!0),this.started){var i=D1.call(this,t,r);r&(Xt|qr)&&i[0].length-i[1].length==0&&(this.started=!1),this.callback(this.manager,r,{pointers:i[0],changedPointers:i[1],pointerType:Es,srcEvent:t})}},e}(rl);function D1(n,e){var t=ga(n.touches),r=ga(n.changedTouches);return e&(Xt|qr)&&(t=rh(t.concat(r),"identifier",!0)),[t,r]}function Qf(n,e,t){var r="DEPRECATED METHOD: "+e+"\n"+t+" AT \n";return function(){var i=new Error("get-stack-trace"),o=i&&i.stack?i.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",u=window.console&&(window.console.warn||window.console.log);return u&&u.call(window.console,r,o),n.apply(this,arguments)}}var oh=Qf(function(n,e,t){for(var r=Object.keys(e),i=0;i<r.length;)(!t||t&&void 0===n[r[i]])&&(n[r[i]]=e[r[i]]),i++;return n},"extend","Use `assign`."),Ts=Qf(function(n,e){return oh(n,e,!0)},"merge","Use `assign`.");function A1(n,e,t){var r,i=e.prototype;(r=n.prototype=Object.create(i)).constructor=n,r._super=i,t&&wo(r,t)}function Dr(n,e){return function(){return n.apply(e,arguments)}}var M1=function(){var n=function(e,t){return void 0===t&&(t={}),new xy(e,$n({recognizers:Sy.concat()},t))};return n.VERSION="2.0.17-rc",n.DIRECTION_ALL=Uf,n.DIRECTION_DOWN=Dn,n.DIRECTION_LEFT=Ju,n.DIRECTION_RIGHT=ks,n.DIRECTION_UP=Fi,n.DIRECTION_HORIZONTAL=ui,n.DIRECTION_VERTICAL=Bi,n.DIRECTION_NONE=Wf,n.DIRECTION_DOWN=Dn,n.INPUT_START=wr,n.INPUT_MOVE=2,n.INPUT_END=Xt,n.INPUT_CANCEL=qr,n.STATE_POSSIBLE=1,n.STATE_BEGAN=2,n.STATE_CHANGED=4,n.STATE_ENDED=8,n.STATE_RECOGNIZED=8,n.STATE_CANCELLED=16,n.STATE_FAILED=ya,n.Manager=xy,n.Input=rl,n.TouchAction=fy,n.TouchInput=by,n.MouseInput=wy,n.PointerEventInput=my,n.TouchMouseInput=I1,n.SingleTouchInput=$1,n.Recognizer=Ss,n.AttrRecognizer=xs,n.Tap=Ey,n.Pan=Kf,n.Swipe=Oy,n.Pinch=Oo,n.Rotate=yn,n.Press=Xf,n.on=el,n.off=tl,n.each=gn,n.merge=Ts,n.extend=oh,n.bindFn=Dr,n.assign=wo,n.inherit=A1,n.bindFn=Dr,n.prefixed=fa,n.toArray=ga,n.inArray=Eo,n.uniqueArray=rh,n.splitStr=eh,n.boolOrFn=Qc,n.hasParent=Vf,n.addEventListeners=el,n.removeEventListeners=tl,n.defaults=wo({},C1,{preset:Sy}),n}();M1.defaults;var NS=M1;function Iy(n,e){var t=void 0!==mo&&Ir(n)||n["@@iterator"];if(!t){if(gt(n)||(t=function(f,b){var E;if(f){if("string"==typeof f)return Ar(f,b);var k=br(E=Object.prototype.toString.call(f)).call(E,8,-1);if("Object"===k&&f.constructor&&(k=f.constructor.name),"Map"===k||"Set"===k)return ns(f);if("Arguments"===k||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(k))return Ar(f,b)}}(n))||e&&n&&"number"==typeof n.length){t&&(n=t);var r=0,i=function(){};return{s:i,n:function(){return r>=n.length?{done:!0}:{done:!1,value:n[r++]}},e:function(f){throw f},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,u=!0,h=!1;return{s:function(){t=t.call(n)},n:function(){var f=t.next();return u=f.done,f},e:function(f){h=!0,o=f},f:function(){try{u||null==t.return||t.return()}finally{if(h)throw o}}}}function Ar(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function Zf(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return r=e.length?e:[Fc()],i=function(){for(var k=function(){var W=4022871197;return function(Y){for(var J=Y.toString(),ue=0;ue<J.length;ue++){var he=.02519603282416938*(W+=J.charCodeAt(ue));he-=W=he>>>0,W=(he*=W)>>>0,W+=4294967296*(he-=W)}return 2.3283064365386963e-10*(W>>>0)}}(),I=k(" "),$=k(" "),D=k(" "),N=0;N<arguments.length;N++)(I-=k(N<0||arguments.length<=N?void 0:arguments[N]))<0&&(I+=1),($-=k(N<0||arguments.length<=N?void 0:arguments[N]))<0&&($+=1),(D-=k(N<0||arguments.length<=N?void 0:arguments[N]))<0&&(D+=1);return[I,$,D]}(r),o=At(i,3),u=o[0],h=o[1],f=o[2],b=1,(E=function(){var k=2091639*u+2.3283064365386963e-10*b;return u=h,h=f,f=k-(b=0|k)}).uint32=function(){return 4294967296*E()},E.fract53=function(){return E()+11102230246251565e-32*(2097152*E()|0)},E.algorithm="Alea",E.seed=r,E.version="0.9",E;var r,i,o,u,h,f,b,E}mo("DELETE");var Is=typeof window<"u"?window.Hammer||NS:function(){return function(){var n=function(){};return{on:n,off:n,destroy:n,emit:n,get:function(){return{set:n}}}}()};function Li(n){var e,t=this;this._cleanupQueue=[],this.active=!1,this._dom={container:n,overlay:document.createElement("div")},this._dom.overlay.classList.add("vis-overlay"),this._dom.container.appendChild(this._dom.overlay),this._cleanupQueue.push(function(){t._dom.overlay.parentNode.removeChild(t._dom.overlay)});var r=Is(this._dom.overlay);r.on("tap",ee(e=this._onTapOverlay).call(e,this)),this._cleanupQueue.push(function(){r.destroy()});var i=["tap","doubletap","press","pinch","pan","panstart","panmove","panend"];wt(i).call(i,function(o){r.on(o,function(u){u.srcEvent.stopPropagation()})}),document&&document.body&&(this._onClick=function(o){(function(u,h){for(;u;){if(u===h)return!0;u=u.parentNode}return!1})(o.target,n)||t.deactivate()},document.body.addEventListener("click",this._onClick),this._cleanupQueue.push(function(){document.body.removeEventListener("click",t._onClick)})),this._escListener=function(o){("key"in o?"Escape"===o.key:27===o.keyCode)&&t.deactivate()}}Rb(Li.prototype),Li.current=null,Li.prototype.destroy=function(){var n,e;this.deactivate();var t,r=Iy(ls(n=oi(e=this._cleanupQueue).call(e,0)).call(n));try{for(r.s();!(t=r.n()).done;)(0,t.value)()}catch(i){r.e(i)}finally{r.f()}},Li.prototype.activate=function(){Li.current&&Li.current.deactivate(),Li.current=this,this.active=!0,this._dom.overlay.style.display="none",this._dom.container.classList.add("vis-active"),this.emit("change"),this.emit("activate"),document.body.addEventListener("keydown",this._escListener)},Li.prototype.deactivate=function(){this.active=!1,this._dom.overlay.style.display="block",this._dom.container.classList.remove("vis-active"),document.body.removeEventListener("keydown",this._escListener),this.emit("change"),this.emit("deactivate")},Li.prototype._onTapOverlay=function(n){this.activate(),n.srcEvent.stopPropagation()};var RS=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,N1=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,jS=/^rgb\( *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *\)$/i,Py=/^rgba\( *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *([01]|0?\.\d+) *\)$/i;function So(n){if(n)for(;!0===n.hasChildNodes();){var e=n.firstChild;e&&(So(e),n.removeChild(e))}}function ma(n){return n instanceof String||"string"==typeof n}function R1(n){return"object"===ft(n)&&null!==n}function Ps(n,e,t,r){var i=!1;!0===r&&(i=null===e[t]&&void 0!==n[t]),i?delete n[t]:n[t]=e[t]}function ah(n,e){var t=arguments.length>2&&void 0!==arguments[2]&&arguments[2];for(var r in n)if(void 0!==e[r])if(null===e[r]||"object"!==ft(e[r]))Ps(n,e,r,t);else{var i=n[r],o=e[r];R1(i)&&R1(o)&&ah(i,o,t)}}function nl(n,e,t){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(gt(t))throw new TypeError("Arrays are not supported by deepExtend");for(var i=0;i<n.length;i++){var o=n[i];if(Object.prototype.hasOwnProperty.call(t,o))if(t[o]&&t[o].constructor===Object)void 0===e[o]&&(e[o]={}),e[o].constructor===Object?_t(e[o],t[o],!1,r):Ps(e,t,o,r);else{if(gt(t[o]))throw new TypeError("Arrays are not supported by deepExtend");Ps(e,t,o,r)}}return e}function ba(n,e,t){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(gt(t))throw new TypeError("Arrays are not supported by deepExtend");for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)&&!Ur(n).call(n,i))if(t[i]&&t[i].constructor===Object)void 0===e[i]&&(e[i]={}),e[i].constructor===Object?_t(e[i],t[i]):Ps(e,t,i,r);else if(gt(t[i])){e[i]=[];for(var o=0;o<t[i].length;o++)e[i].push(t[i][o])}else Ps(e,t,i,r);return e}function _t(n,e){var t=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)||!0===t)if("object"===ft(e[i])&&null!==e[i]&&ty(e[i])===Object.prototype)void 0===n[i]?n[i]=_t({},e[i],t):"object"===ft(n[i])&&null!==n[i]&&ty(n[i])===Object.prototype?_t(n[i],e[i],t):Ps(n,e,i,r);else if(gt(e[i])){var o;n[i]=br(o=e[i]).call(o)}else Ps(n,e,i,r);return n}function ev(n,e){var t;return Rc(t=[]).call(t,ii(n),[e])}function FS(n){return n.getBoundingClientRect().top}function Ke(n,e){if(gt(n))for(var t=n.length,r=0;r<t;r++)e(n[r],r,n);else for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e(n[i],i,n)}function Cy(n){var e;switch(n.length){case 3:case 4:return(e=N1.exec(n))?{r:hn(e[1]+e[1],16),g:hn(e[2]+e[2],16),b:hn(e[3]+e[3],16)}:null;case 6:case 7:return(e=RS.exec(n))?{r:hn(e[1],16),g:hn(e[2],16),b:hn(e[3],16)}:null;default:return null}}function Gn(n,e){if(Ur(n).call(n,"rgba"))return n;if(Ur(n).call(n,"rgb")){var t=n.substr(at(n).call(n,"(")+1).replace(")","").split(",");return"rgba("+t[0]+","+t[1]+","+t[2]+","+e+")"}var r=Cy(n);return null==r?n:"rgba("+r.r+","+r.g+","+r.b+","+e+")"}function j1(n,e,t){var r;return"#"+br(r=(16777216+(n<<16)+(e<<8)+t).toString(16)).call(r,1)}function sh(n,e){if(ma(n)){var t=n;if(il(t)){var r,i=zu(r=t.substr(4).substr(0,t.length-5).split(",")).call(r,function(E){return hn(E)});t=j1(i[0],i[1],i[2])}if(!0===F1(t)){var o=function(E){var k=Cy(E);if(!k)throw new TypeError("'".concat(E,"' is not a valid color."));return uh(k.r,k.g,k.b)}(t),u={h:o.h,s:.8*o.s,v:Math.min(1,1.02*o.v)},h={h:o.h,s:Math.min(1,1.25*o.s),v:.8*o.v},f=tv(h.h,h.s,h.v),b=tv(u.h,u.s,u.v);return{background:t,border:f,highlight:{background:b,border:f},hover:{background:b,border:f}}}return{background:t,border:t,highlight:{background:t,border:t},hover:{background:t,border:t}}}return e?{background:n.background||e.background,border:n.border||e.border,highlight:ma(n.highlight)?{border:n.highlight,background:n.highlight}:{background:n.highlight&&n.highlight.background||e.highlight.background,border:n.highlight&&n.highlight.border||e.highlight.border},hover:ma(n.hover)?{border:n.hover,background:n.hover}:{border:n.hover&&n.hover.border||e.hover.border,background:n.hover&&n.hover.background||e.hover.background}}:{background:n.background||void 0,border:n.border||void 0,highlight:ma(n.highlight)?{border:n.highlight,background:n.highlight}:{background:n.highlight&&n.highlight.background||void 0,border:n.highlight&&n.highlight.border||void 0},hover:ma(n.hover)?{border:n.hover,background:n.hover}:{border:n.hover&&n.hover.border||void 0,background:n.hover&&n.hover.background||void 0}}}function uh(n,e,t){n/=255,e/=255,t/=255;var r=Math.min(n,Math.min(e,t)),i=Math.max(n,Math.max(e,t));return r===i?{h:0,s:0,v:r}:{h:60*((n===r?3:t===r?1:5)-(n===r?e-t:t===r?n-e:t-n)/(i-r))/360,s:(i-r)/i,v:i}}function cr(n,e,t){var r,i,o,u=Math.floor(6*n),h=6*n-u,f=t*(1-e),b=t*(1-h*e),E=t*(1-(1-h)*e);switch(u%6){case 0:r=t,i=E,o=f;break;case 1:r=b,i=t,o=f;break;case 2:r=f,i=t,o=E;break;case 3:r=f,i=b,o=t;break;case 4:r=E,i=f,o=t;break;case 5:r=t,i=f,o=b}return{r:Math.floor(255*r),g:Math.floor(255*i),b:Math.floor(255*o)}}function tv(n,e,t){var r=cr(n,e,t);return j1(r.r,r.g,r.b)}function F1(n){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(n)}function il(n){return jS.test(n)}function xo(n){if(null===n||"object"!==ft(n))return null;if(n instanceof Element)return n;var e=dn(n);for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&"object"==ft(n[t])&&(e[t]=xo(n[t]));return e}function hr(n,e,t){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=function(E){return null!=E},o=function(E){return null!==E&&"object"===ft(E)};if(!o(n))throw new Error("Parameter mergeTarget must be an object");if(!o(e))throw new Error("Parameter options must be an object");if(!i(t))throw new Error("Parameter option must have a value");if(!o(r))throw new Error("Parameter globalOptions must be an object");var u=e[t],h=o(r)&&!function(E){for(var k in E)if(Object.prototype.hasOwnProperty.call(E,k))return!1;return!0}(r)?r[t]:void 0,f=h?h.enabled:void 0;if(void 0!==u){if("boolean"==typeof u)return o(n[t])||(n[t]={}),void(n[t].enabled=u);if(null===u&&!o(n[t])){if(!i(h))return;n[t]=dn(h)}if(o(u)){var b=!0;void 0!==u.enabled?b=u.enabled:void 0!==f&&(b=h.enabled),function(E,k,I){o(E[I])||(E[I]={});var $=k[I],D=E[I];for(var N in $)Object.prototype.hasOwnProperty.call($,N)&&(D[N]=$[N])}(n,e,t),n[t].enabled=b}}}var BS={linear:function(n){return n},easeInQuad:function(n){return n*n},easeOutQuad:function(n){return n*(2-n)},easeInOutQuad:function(n){return n<.5?2*n*n:(4-2*n)*n-1},easeInCubic:function(n){return n*n*n},easeOutCubic:function(n){return--n*n*n+1},easeInOutCubic:function(n){return n<.5?4*n*n*n:(n-1)*(2*n-2)*(2*n-2)+1},easeInQuart:function(n){return n*n*n*n},easeOutQuart:function(n){return 1- --n*n*n*n},easeInOutQuart:function(n){return n<.5?8*n*n*n*n:1-8*--n*n*n*n},easeInQuint:function(n){return n*n*n*n*n},easeOutQuint:function(n){return 1+--n*n*n*n*n},easeInOutQuint:function(n){return n<.5?16*n*n*n*n*n:1+16*--n*n*n*n*n}};function wa(n,e){var t;gt(e)||(e=[e]);var r,i=Iy(n);try{for(i.s();!(r=i.n()).done;){var o=r.value;if(o){t=o[e[0]];for(var u=1;u<e.length;u++)t&&(t=t[e[u]]);if(void 0!==t)break}}}catch(h){i.e(h)}finally{i.f()}return t}var LS={black:"#000000",navy:"#000080",darkblue:"#00008B",mediumblue:"#0000CD",blue:"#0000FF",darkgreen:"#006400",green:"#008000",teal:"#008080",darkcyan:"#008B8B",deepskyblue:"#00BFFF",darkturquoise:"#00CED1",mediumspringgreen:"#00FA9A",lime:"#00FF00",springgreen:"#00FF7F",aqua:"#00FFFF",cyan:"#00FFFF",midnightblue:"#191970",dodgerblue:"#1E90FF",lightseagreen:"#20B2AA",forestgreen:"#228B22",seagreen:"#2E8B57",darkslategray:"#2F4F4F",limegreen:"#32CD32",mediumseagreen:"#3CB371",turquoise:"#40E0D0",royalblue:"#4169E1",steelblue:"#4682B4",darkslateblue:"#483D8B",mediumturquoise:"#48D1CC",indigo:"#4B0082",darkolivegreen:"#556B2F",cadetblue:"#5F9EA0",cornflowerblue:"#6495ED",mediumaquamarine:"#66CDAA",dimgray:"#696969",slateblue:"#6A5ACD",olivedrab:"#6B8E23",slategray:"#708090",lightslategray:"#778899",mediumslateblue:"#7B68EE",lawngreen:"#7CFC00",chartreuse:"#7FFF00",aquamarine:"#7FFFD4",maroon:"#800000",purple:"#800080",olive:"#808000",gray:"#808080",skyblue:"#87CEEB",lightskyblue:"#87CEFA",blueviolet:"#8A2BE2",darkred:"#8B0000",darkmagenta:"#8B008B",saddlebrown:"#8B4513",darkseagreen:"#8FBC8F",lightgreen:"#90EE90",mediumpurple:"#9370D8",darkviolet:"#9400D3",palegreen:"#98FB98",darkorchid:"#9932CC",yellowgreen:"#9ACD32",sienna:"#A0522D",brown:"#A52A2A",darkgray:"#A9A9A9",lightblue:"#ADD8E6",greenyellow:"#ADFF2F",paleturquoise:"#AFEEEE",lightsteelblue:"#B0C4DE",powderblue:"#B0E0E6",firebrick:"#B22222",darkgoldenrod:"#B8860B",mediumorchid:"#BA55D3",rosybrown:"#BC8F8F",darkkhaki:"#BDB76B",silver:"#C0C0C0",mediumvioletred:"#C71585",indianred:"#CD5C5C",peru:"#CD853F",chocolate:"#D2691E",tan:"#D2B48C",lightgrey:"#D3D3D3",palevioletred:"#D87093",thistle:"#D8BFD8",orchid:"#DA70D6",goldenrod:"#DAA520",crimson:"#DC143C",gainsboro:"#DCDCDC",plum:"#DDA0DD",burlywood:"#DEB887",lightcyan:"#E0FFFF",lavender:"#E6E6FA",darksalmon:"#E9967A",violet:"#EE82EE",palegoldenrod:"#EEE8AA",lightcoral:"#F08080",khaki:"#F0E68C",aliceblue:"#F0F8FF",honeydew:"#F0FFF0",azure:"#F0FFFF",sandybrown:"#F4A460",wheat:"#F5DEB3",beige:"#F5F5DC",whitesmoke:"#F5F5F5",mintcream:"#F5FFFA",ghostwhite:"#F8F8FF",salmon:"#FA8072",antiquewhite:"#FAEBD7",linen:"#FAF0E6",lightgoldenrodyellow:"#FAFAD2",oldlace:"#FDF5E6",red:"#FF0000",fuchsia:"#FF00FF",magenta:"#FF00FF",deeppink:"#FF1493",orangered:"#FF4500",tomato:"#FF6347",hotpink:"#FF69B4",coral:"#FF7F50",darkorange:"#FF8C00",lightsalmon:"#FFA07A",orange:"#FFA500",lightpink:"#FFB6C1",pink:"#FFC0CB",gold:"#FFD700",peachpuff:"#FFDAB9",navajowhite:"#FFDEAD",moccasin:"#FFE4B5",bisque:"#FFE4C4",mistyrose:"#FFE4E1",blanchedalmond:"#FFEBCD",papayawhip:"#FFEFD5",lavenderblush:"#FFF0F5",seashell:"#FFF5EE",cornsilk:"#FFF8DC",lemonchiffon:"#FFFACD",floralwhite:"#FFFAF0",snow:"#FFFAFA",yellow:"#FFFF00",lightyellow:"#FFFFE0",ivory:"#FFFFF0",white:"#FFFFFF"},zS=function(){function n(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;oe(this,n),this.pixelRatio=e,this.generated=!1,this.centerCoordinates={x:144.5,y:144.5},this.r=289*.49,this.color={r:255,g:255,b:255,a:1},this.hueCircle=void 0,this.initialColor={r:255,g:255,b:255,a:1},this.previousColor=void 0,this.applied=!1,this.updateCallback=function(){},this.closeCallback=function(){},this._create()}return ce(n,[{key:"insertTo",value:function(e){void 0!==this.hammer&&(this.hammer.destroy(),this.hammer=void 0),this.container=e,this.container.appendChild(this.frame),this._bindHammer(),this._setSize()}},{key:"setUpdateCallback",value:function(e){if("function"!=typeof e)throw new Error("Function attempted to set as colorPicker update callback is not a function.");this.updateCallback=e}},{key:"setCloseCallback",value:function(e){if("function"!=typeof e)throw new Error("Function attempted to set as colorPicker closing callback is not a function.");this.closeCallback=e}},{key:"_isColorString",value:function(e){if("string"==typeof e)return LS[e]}},{key:"setColor",value:function(e){var b,t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if("none"!==e){var r,i=this._isColorString(e);if(void 0!==i&&(e=i),!0===ma(e)){if(!0===il(e)){var o=e.substr(4).substr(0,e.length-5).split(",");r={r:o[0],g:o[1],b:o[2],a:1}}else if(!0===(b=e,Py.test(b))){var u=e.substr(5).substr(0,e.length-6).split(",");r={r:u[0],g:u[1],b:u[2],a:u[3]}}else if(!0===F1(e)){var h=Cy(e);r={r:h.r,g:h.g,b:h.b,a:1}}}else if(e instanceof Object&&void 0!==e.r&&void 0!==e.g&&void 0!==e.b){var f=void 0!==e.a?e.a:"1.0";r={r:e.r,g:e.g,b:e.b,a:f}}if(void 0===r)throw new Error("Unknown color passed to the colorPicker. Supported are strings: rgb, hex, rgba. Object: rgb ({r:r,g:g,b:b,[a:a]}). Supplied: "+ds(e));this._setColor(r,t)}}},{key:"show",value:function(){void 0!==this.closeCallback&&(this.closeCallback(),this.closeCallback=void 0),this.applied=!1,this.frame.style.display="block",this._generateHueCircle()}},{key:"_hide",value:function(){var e=this;!0===(!(arguments.length>0&&void 0!==arguments[0])||arguments[0])&&(this.previousColor=Ht({},this.color)),!0===this.applied&&this.updateCallback(this.initialColor),this.frame.style.display="none",vn(function(){void 0!==e.closeCallback&&(e.closeCallback(),e.closeCallback=void 0)},0)}},{key:"_save",value:function(){this.updateCallback(this.color),this.applied=!1,this._hide()}},{key:"_apply",value:function(){this.applied=!0,this.updateCallback(this.color),this._updatePicker(this.color)}},{key:"_loadLast",value:function(){void 0!==this.previousColor?this.setColor(this.previousColor,!1):alert("There is no last color to load...")}},{key:"_setColor",value:function(e){!0===(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&(this.initialColor=Ht({},e)),this.color=e;var t=uh(e.r,e.g,e.b),r=2*Math.PI,i=this.r*t.s,o=this.centerCoordinates.x+i*Math.sin(r*t.h),u=this.centerCoordinates.y+i*Math.cos(r*t.h);this.colorPickerSelector.style.left=o-.5*this.colorPickerSelector.clientWidth+"px",this.colorPickerSelector.style.top=u-.5*this.colorPickerSelector.clientHeight+"px",this._updatePicker(e)}},{key:"_setOpacity",value:function(e){this.color.a=e/100,this._updatePicker(this.color)}},{key:"_setBrightness",value:function(e){var t=uh(this.color.r,this.color.g,this.color.b);t.v=e/100;var r=cr(t.h,t.s,t.v);r.a=this.color.a,this.color=r,this._updatePicker()}},{key:"_updatePicker",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.color,t=uh(e.r,e.g,e.b),r=this.colorPickerCanvas.getContext("2d");void 0===this.pixelRation&&(this.pixelRatio=(window.devicePixelRatio||1)/(r.webkitBackingStorePixelRatio||r.mozBackingStorePixelRatio||r.msBackingStorePixelRatio||r.oBackingStorePixelRatio||r.backingStorePixelRatio||1)),r.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0);var i=this.colorPickerCanvas.clientWidth,o=this.colorPickerCanvas.clientHeight;r.clearRect(0,0,i,o),r.putImageData(this.hueCircle,0,0),r.fillStyle="rgba(0,0,0,"+(1-t.v)+")",r.circle(this.centerCoordinates.x,this.centerCoordinates.y,this.r),qu(r).call(r),this.brightnessRange.value=100*t.v,this.opacityRange.value=100*e.a,this.initialColorDiv.style.backgroundColor="rgba("+this.initialColor.r+","+this.initialColor.g+","+this.initialColor.b+","+this.initialColor.a+")",this.newColorDiv.style.backgroundColor="rgba("+this.color.r+","+this.color.g+","+this.color.b+","+this.color.a+")"}},{key:"_setSize",value:function(){this.colorPickerCanvas.style.width="100%",this.colorPickerCanvas.style.height="100%",this.colorPickerCanvas.width=289*this.pixelRatio,this.colorPickerCanvas.height=289*this.pixelRatio}},{key:"_create",value:function(){var e,t,r,i;if(this.frame=document.createElement("div"),this.frame.className="vis-color-picker",this.colorPickerDiv=document.createElement("div"),this.colorPickerSelector=document.createElement("div"),this.colorPickerSelector.className="vis-selector",this.colorPickerDiv.appendChild(this.colorPickerSelector),this.colorPickerCanvas=document.createElement("canvas"),this.colorPickerDiv.appendChild(this.colorPickerCanvas),this.colorPickerCanvas.getContext){var o=this.colorPickerCanvas.getContext("2d");this.pixelRatio=(window.devicePixelRatio||1)/(o.webkitBackingStorePixelRatio||o.mozBackingStorePixelRatio||o.msBackingStorePixelRatio||o.oBackingStorePixelRatio||o.backingStorePixelRatio||1),this.colorPickerCanvas.getContext("2d").setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0)}else{var u=document.createElement("DIV");u.style.color="red",u.style.fontWeight="bold",u.style.padding="10px",u.innerText="Error: your browser does not support HTML canvas",this.colorPickerCanvas.appendChild(u)}this.colorPickerDiv.className="vis-color",this.opacityDiv=document.createElement("div"),this.opacityDiv.className="vis-opacity",this.brightnessDiv=document.createElement("div"),this.brightnessDiv.className="vis-brightness",this.arrowDiv=document.createElement("div"),this.arrowDiv.className="vis-arrow",this.opacityRange=document.createElement("input");try{this.opacityRange.type="range",this.opacityRange.min="0",this.opacityRange.max="100"}catch{}this.opacityRange.value="100",this.opacityRange.className="vis-range",this.brightnessRange=document.createElement("input");try{this.brightnessRange.type="range",this.brightnessRange.min="0",this.brightnessRange.max="100"}catch{}this.brightnessRange.value="100",this.brightnessRange.className="vis-range",this.opacityDiv.appendChild(this.opacityRange),this.brightnessDiv.appendChild(this.brightnessRange);var h=this;this.opacityRange.onchange=function(){h._setOpacity(this.value)},this.opacityRange.oninput=function(){h._setOpacity(this.value)},this.brightnessRange.onchange=function(){h._setBrightness(this.value)},this.brightnessRange.oninput=function(){h._setBrightness(this.value)},this.brightnessLabel=document.createElement("div"),this.brightnessLabel.className="vis-label vis-brightness",this.brightnessLabel.innerText="brightness:",this.opacityLabel=document.createElement("div"),this.opacityLabel.className="vis-label vis-opacity",this.opacityLabel.innerText="opacity:",this.newColorDiv=document.createElement("div"),this.newColorDiv.className="vis-new-color",this.newColorDiv.innerText="new",this.initialColorDiv=document.createElement("div"),this.initialColorDiv.className="vis-initial-color",this.initialColorDiv.innerText="initial",this.cancelButton=document.createElement("div"),this.cancelButton.className="vis-button vis-cancel",this.cancelButton.innerText="cancel",this.cancelButton.onclick=ee(e=this._hide).call(e,this,!1),this.applyButton=document.createElement("div"),this.applyButton.className="vis-button vis-apply",this.applyButton.innerText="apply",this.applyButton.onclick=ee(t=this._apply).call(t,this),this.saveButton=document.createElement("div"),this.saveButton.className="vis-button vis-save",this.saveButton.innerText="save",this.saveButton.onclick=ee(r=this._save).call(r,this),this.loadButton=document.createElement("div"),this.loadButton.className="vis-button vis-load",this.loadButton.innerText="load last",this.loadButton.onclick=ee(i=this._loadLast).call(i,this),this.frame.appendChild(this.colorPickerDiv),this.frame.appendChild(this.arrowDiv),this.frame.appendChild(this.brightnessLabel),this.frame.appendChild(this.brightnessDiv),this.frame.appendChild(this.opacityLabel),this.frame.appendChild(this.opacityDiv),this.frame.appendChild(this.newColorDiv),this.frame.appendChild(this.initialColorDiv),this.frame.appendChild(this.cancelButton),this.frame.appendChild(this.applyButton),this.frame.appendChild(this.saveButton),this.frame.appendChild(this.loadButton)}},{key:"_bindHammer",value:function(){var e=this;this.drag={},this.pinch={},this.hammer=new Is(this.colorPickerCanvas),this.hammer.get("pinch").set({enable:!0}),this.hammer.on("hammer.input",function(t){t.isFirst&&e._moveSelector(t)}),this.hammer.on("tap",function(t){e._moveSelector(t)}),this.hammer.on("panstart",function(t){e._moveSelector(t)}),this.hammer.on("panmove",function(t){e._moveSelector(t)}),this.hammer.on("panend",function(t){e._moveSelector(t)})}},{key:"_generateHueCircle",value:function(){if(!1===this.generated){var e=this.colorPickerCanvas.getContext("2d");void 0===this.pixelRation&&(this.pixelRatio=(window.devicePixelRatio||1)/(e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1)),e.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0);var t,r,i,o,u=this.colorPickerCanvas.clientWidth,h=this.colorPickerCanvas.clientHeight;e.clearRect(0,0,u,h),this.centerCoordinates={x:.5*u,y:.5*h},this.r=.49*u;var f,b=2*Math.PI/360,E=1/this.r;for(i=0;i<360;i++)for(o=0;o<this.r;o++)t=this.centerCoordinates.x+o*Math.sin(b*i),r=this.centerCoordinates.y+o*Math.cos(b*i),f=cr(.002777777777777778*i,o*E,1),e.fillStyle="rgb("+f.r+","+f.g+","+f.b+")",e.fillRect(t-.5,r-.5,2,2);e.strokeStyle="rgba(0,0,0,1)",e.circle(this.centerCoordinates.x,this.centerCoordinates.y,this.r),e.stroke(),this.hueCircle=e.getImageData(0,0,u,h)}this.generated=!0}},{key:"_moveSelector",value:function(e){var t=this.colorPickerDiv.getBoundingClientRect(),r=e.center.x-t.left,i=e.center.y-t.top,o=.5*this.colorPickerDiv.clientHeight,u=.5*this.colorPickerDiv.clientWidth,h=r-u,f=i-o,b=Math.atan2(h,f),E=.98*Math.min(Math.sqrt(h*h+f*f),u),k=Math.cos(b)*E+o,I=Math.sin(b)*E+u;this.colorPickerSelector.style.top=k-.5*this.colorPickerSelector.clientHeight+"px",this.colorPickerSelector.style.left=I-.5*this.colorPickerSelector.clientWidth+"px";var $=b/(2*Math.PI);$=$<0?$+1:$;var D=E/this.r,N=uh(this.color.r,this.color.g,this.color.b);N.h=$,N.s=D;var W=cr(N.h,N.s,N.v);W.a=this.color.a,this.color=W,this.initialColorDiv.style.backgroundColor="rgba("+this.initialColor.r+","+this.initialColor.g+","+this.initialColor.b+","+this.initialColor.a+")",this.newColorDiv.style.backgroundColor="rgba("+this.color.r+","+this.color.g+","+this.color.b+","+this.color.a+")"}}]),n}();function ol(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];if(e.length<1)throw new TypeError("Invalid arguments.");if(1===e.length)return document.createTextNode(e[0]);var r=document.createElement(e[0]);return r.appendChild(ol.apply(void 0,ii(br(e).call(e,1)))),r}var rv,B1=function(){function n(e,t,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:function(){return!1};oe(this,n),this.parent=e,this.changedOptions=[],this.container=t,this.allowCreation=!1,this.hideOption=o,this.options={},this.initialized=!1,this.popupCounter=0,this.defaultOptions={enabled:!1,filter:!0,container:void 0,showButton:!0},Ht(this.options,this.defaultOptions),this.configureOptions=r,this.moduleOptions={},this.domElements=[],this.popupDiv={},this.popupLimit=5,this.popupHistory={},this.colorPicker=new zS(i),this.wrapper=void 0}return ce(n,[{key:"setOptions",value:function(e){if(void 0!==e){this.popupHistory={},this._removePopup();var t=!0;if("string"==typeof e)this.options.filter=e;else if(gt(e))this.options.filter=e.join();else if("object"===ft(e)){if(null==e)throw new TypeError("options cannot be null");void 0!==e.container&&(this.options.container=e.container),void 0!==Vr(e)&&(this.options.filter=Vr(e)),void 0!==e.showButton&&(this.options.showButton=e.showButton),void 0!==e.enabled&&(t=e.enabled)}else"boolean"==typeof e?(this.options.filter=!0,t=e):"function"==typeof e&&(this.options.filter=e,t=!0);!1===Vr(this.options)&&(t=!1),this.options.enabled=t}this._clean()}},{key:"setModuleOptions",value:function(e){this.moduleOptions=e,!0===this.options.enabled&&(this._clean(),void 0!==this.options.container&&(this.container=this.options.container),this._create())}},{key:"_create",value:function(){this._clean(),this.changedOptions=[];var e=Vr(this.options),t=0,r=!1;for(var i in this.configureOptions)Object.prototype.hasOwnProperty.call(this.configureOptions,i)&&(this.allowCreation=!1,r=!1,"function"==typeof e?r=(r=e(i,[]))||this._handleObject(this.configureOptions[i],[i],!0):!0!==e&&-1===at(e).call(e,i)||(r=!0),!1!==r&&(this.allowCreation=!0,t>0&&this._makeItem([]),this._makeHeader(i),this._handleObject(this.configureOptions[i],[i])),t++);this._makeButton(),this._push()}},{key:"_push",value:function(){this.wrapper=document.createElement("div"),this.wrapper.className="vis-configuration-wrapper",this.container.appendChild(this.wrapper);for(var e=0;e<this.domElements.length;e++)this.wrapper.appendChild(this.domElements[e]);this._showPopupIfNeeded()}},{key:"_clean",value:function(){for(var e=0;e<this.domElements.length;e++)this.wrapper.removeChild(this.domElements[e]);void 0!==this.wrapper&&(this.container.removeChild(this.wrapper),this.wrapper=void 0),this.domElements=[],this._removePopup()}},{key:"_getValue",value:function(e){for(var t=this.moduleOptions,r=0;r<e.length;r++){if(void 0===t[e[r]]){t=void 0;break}t=t[e[r]]}return t}},{key:"_makeItem",value:function(e){if(!0===this.allowCreation){var t=document.createElement("div");t.className="vis-configuration vis-config-item vis-config-s"+e.length;for(var r=arguments.length,i=new Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];return wt(i).call(i,function(u){t.appendChild(u)}),this.domElements.push(t),this.domElements.length}return 0}},{key:"_makeHeader",value:function(e){var t=document.createElement("div");t.className="vis-configuration vis-config-header",t.innerText=e,this._makeItem([],t)}},{key:"_makeLabel",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=document.createElement("div");if(i.className="vis-configuration vis-config-label vis-config-s"+t.length,!0===r){for(;i.firstChild;)i.removeChild(i.firstChild);i.appendChild(ol("i","b",e))}else i.innerText=e+":";return i}},{key:"_makeDropdown",value:function(e,t,r){var i=document.createElement("select");i.className="vis-configuration vis-config-select";var o=0;void 0!==t&&-1!==at(e).call(e,t)&&(o=at(e).call(e,t));for(var u=0;u<e.length;u++){var h=document.createElement("option");h.value=e[u],u===o&&(h.selected="selected"),h.innerText=e[u],i.appendChild(h)}var f=this;i.onchange=function(){f._update(this.value,r)};var b=this._makeLabel(r[r.length-1],r);this._makeItem(r,b,i)}},{key:"_makeRange",value:function(e,t,r){var i=e[0],o=e[1],u=e[2],h=e[3],f=document.createElement("input");f.className="vis-configuration vis-config-range";try{f.type="range",f.min=o,f.max=u}catch{}f.step=h;var b="",E=0;if(void 0!==t){var k=1.2;t<0&&t*k<o?(f.min=Math.ceil(t*k),E=f.min,b="range increased"):t/k<o&&(f.min=Math.ceil(t/k),E=f.min,b="range increased"),t*k>u&&1!==u&&(f.max=Math.ceil(t*k),E=f.max,b="range increased"),f.value=t}else f.value=i;var I=document.createElement("input");I.className="vis-configuration vis-config-rangeinput",I.value=f.value;var $=this;f.onchange=function(){I.value=this.value,$._update(Number(this.value),r)},f.oninput=function(){I.value=this.value};var D=this._makeLabel(r[r.length-1],r),N=this._makeItem(r,D,f,I);""!==b&&this.popupHistory[N]!==E&&(this.popupHistory[N]=E,this._setupPopup(b,N))}},{key:"_makeButton",value:function(){var e=this;if(!0===this.options.showButton){var t=document.createElement("div");t.className="vis-configuration vis-config-button",t.innerText="generate options",t.onclick=function(){e._printOptions()},t.onmouseover=function(){t.className="vis-configuration vis-config-button hover"},t.onmouseout=function(){t.className="vis-configuration vis-config-button"},this.optionsContainer=document.createElement("div"),this.optionsContainer.className="vis-configuration vis-config-option-container",this.domElements.push(this.optionsContainer),this.domElements.push(t)}}},{key:"_setupPopup",value:function(e,t){var r=this;if(!0===this.initialized&&!0===this.allowCreation&&this.popupCounter<this.popupLimit){var i=document.createElement("div");i.id="vis-configuration-popup",i.className="vis-configuration-popup",i.innerText=e,i.onclick=function(){r._removePopup()},this.popupCounter+=1,this.popupDiv={html:i,index:t}}}},{key:"_removePopup",value:function(){void 0!==this.popupDiv.html&&(this.popupDiv.html.parentNode.removeChild(this.popupDiv.html),clearTimeout(this.popupDiv.hideTimeout),clearTimeout(this.popupDiv.deleteTimeout),this.popupDiv={})}},{key:"_showPopupIfNeeded",value:function(){var e=this;if(void 0!==this.popupDiv.html){var t=this.domElements[this.popupDiv.index].getBoundingClientRect();this.popupDiv.html.style.left=t.left+"px",this.popupDiv.html.style.top=t.top-30+"px",document.body.appendChild(this.popupDiv.html),this.popupDiv.hideTimeout=vn(function(){e.popupDiv.html.style.opacity=0},1500),this.popupDiv.deleteTimeout=vn(function(){e._removePopup()},1800)}}},{key:"_makeCheckbox",value:function(e,t,r){var i=document.createElement("input");i.type="checkbox",i.className="vis-configuration vis-config-checkbox",i.checked=e,void 0!==t&&(i.checked=t,t!==e&&("object"===ft(e)?t!==e.enabled&&this.changedOptions.push({path:r,value:t}):this.changedOptions.push({path:r,value:t})));var o=this;i.onchange=function(){o._update(this.checked,r)};var u=this._makeLabel(r[r.length-1],r);this._makeItem(r,u,i)}},{key:"_makeTextInput",value:function(e,t,r){var i=document.createElement("input");i.type="text",i.className="vis-configuration vis-config-text",i.value=t,t!==e&&this.changedOptions.push({path:r,value:t});var o=this;i.onchange=function(){o._update(this.value,r)};var u=this._makeLabel(r[r.length-1],r);this._makeItem(r,u,i)}},{key:"_makeColorField",value:function(e,t,r){var i=this,o=e[1],u=document.createElement("div");"none"!==(t=void 0===t?o:t)?(u.className="vis-configuration vis-config-colorBlock",u.style.backgroundColor=t):u.className="vis-configuration vis-config-colorBlock none",t=void 0===t?o:t,u.onclick=function(){i._showColorPicker(t,u,r)};var h=this._makeLabel(r[r.length-1],r);this._makeItem(r,h,u)}},{key:"_showColorPicker",value:function(e,t,r){var i=this;t.onclick=function(){},this.colorPicker.insertTo(t),this.colorPicker.show(),this.colorPicker.setColor(e),this.colorPicker.setUpdateCallback(function(o){var u="rgba("+o.r+","+o.g+","+o.b+","+o.a+")";t.style.backgroundColor=u,i._update(u,r)}),this.colorPicker.setCloseCallback(function(){t.onclick=function(){i._showColorPicker(e,t,r)}})}},{key:"_handleObject",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=!1,o=Vr(this.options),u=!1;for(var h in e)if(Object.prototype.hasOwnProperty.call(e,h)){i=!0;var f=e[h],b=ev(t,h);if("function"==typeof o&&!1===(i=o(h,t))&&!gt(f)&&"string"!=typeof f&&"boolean"!=typeof f&&f instanceof Object&&(this.allowCreation=!1,i=this._handleObject(f,b,!0),this.allowCreation=!1===r),!1!==i){u=!0;var E=this._getValue(b);if(gt(f))this._handleArray(f,E,b);else if("string"==typeof f)this._makeTextInput(f,E,b);else if("boolean"==typeof f)this._makeCheckbox(f,E,b);else if(f instanceof Object){if(!this.hideOption(t,h,this.moduleOptions))if(void 0!==f.enabled){var k=ev(b,"enabled"),I=this._getValue(k);if(!0===I){var $=this._makeLabel(h,b,!0);this._makeItem(b,$),u=this._handleObject(f,b)||u}else this._makeCheckbox(f,I,b)}else{var D=this._makeLabel(h,b,!0);this._makeItem(b,D),u=this._handleObject(f,b)||u}}else console.error("dont know how to handle",f,h,b)}}return u}},{key:"_handleArray",value:function(e,t,r){"string"==typeof e[0]&&"color"===e[0]?(this._makeColorField(e,t,r),e[1]!==t&&this.changedOptions.push({path:r,value:t})):"string"==typeof e[0]?(this._makeDropdown(e,t,r),e[0]!==t&&this.changedOptions.push({path:r,value:t})):"number"==typeof e[0]&&(this._makeRange(e,t,r),e[0]!==t&&this.changedOptions.push({path:r,value:Number(t)}))}},{key:"_update",value:function(e,t){var r=this._constructOptions(e,t);this.parent.body&&this.parent.body.emitter&&this.parent.body.emitter.emit&&this.parent.body.emitter.emit("configChange",r),this.initialized=!0,this.parent.setOptions(r)}},{key:"_constructOptions",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=r;e="false"!==(e="true"===e||e)&&e;for(var o=0;o<t.length;o++)"global"!==t[o]&&(void 0===i[t[o]]&&(i[t[o]]={}),o!==t.length-1?i=i[t[o]]:i[t[o]]=e);return r}},{key:"_printOptions",value:function(){for(var e=this.getOptions();this.optionsContainer.firstChild;)this.optionsContainer.removeChild(this.optionsContainer.firstChild);this.optionsContainer.appendChild(ol("pre","const options = "+ds(e,null,2)))}},{key:"getOptions",value:function(){for(var e={},t=0;t<this.changedOptions.length;t++)this._constructOptions(this.changedOptions[t].value,this.changedOptions[t].path,e);return e}}]),n}(),$y=function(){function n(e,t){oe(this,n),this.container=e,this.overflowMethod=t||"cap",this.x=0,this.y=0,this.padding=5,this.hidden=!1,this.frame=document.createElement("div"),this.frame.className="vis-tooltip",this.container.appendChild(this.frame)}return ce(n,[{key:"setPosition",value:function(e,t){this.x=hn(e),this.y=hn(t)}},{key:"setText",value:function(e){if(e instanceof Element){for(;this.frame.firstChild;)this.frame.removeChild(this.frame.firstChild);this.frame.appendChild(e)}else this.frame.innerText=e}},{key:"show",value:function(e){if(void 0===e&&(e=!0),!0===e){var t=this.frame.clientHeight,r=this.frame.clientWidth,i=this.frame.parentNode.clientHeight,o=this.frame.parentNode.clientWidth,u=0,h=0;if("flip"==this.overflowMethod){var f=!1,b=!0;this.y-t<this.padding&&(b=!1),this.x+r>o-this.padding&&(f=!0),u=f?this.x-r:this.x,h=b?this.y-t:this.y}else(h=this.y-t)+t+this.padding>i&&(h=i-t-this.padding),h<this.padding&&(h=this.padding),(u=this.x)+r+this.padding>o&&(u=o-r-this.padding),u<this.padding&&(u=this.padding);this.frame.style.left=u+"px",this.frame.style.top=h+"px",this.frame.style.visibility="visible",this.hidden=!1}else this.hide()}},{key:"hide",value:function(){this.hidden=!0,this.frame.style.left="0",this.frame.style.top="0",this.frame.style.visibility="hidden"}},{key:"destroy",value:function(){this.frame.parentNode.removeChild(this.frame)}}]),n}(),Cs=!1,Dy="background: #FFeeee; color: #dd0000",HS=function(){function n(){oe(this,n)}return ce(n,null,[{key:"validate",value:function(e,t,r){Cs=!1,rv=t;var i=t;return void 0!==r&&(i=t[r]),n.parse(e,i,[]),Cs}},{key:"parse",value:function(e,t,r){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&n.check(i,e,t,r)}},{key:"check",value:function(e,t,r,i){if(void 0!==r[e]||void 0!==r.__any__){var o=e,u=!0;void 0===r[e]&&void 0!==r.__any__&&(o="__any__",u="object"===n.getType(t[e]));var h=r[o];u&&void 0!==h.__type__&&(h=h.__type__),n.checkFields(e,t,r,o,h,i)}else n.getSuggestion(e,r,i)}},{key:"checkFields",value:function(e,t,r,i,o,u){var h=function(E){console.error("%c"+E+n.printLocation(u,e),Dy)},f=n.getType(t[e]),b=o[f];void 0!==b?"array"===n.getType(b)&&-1===at(b).call(b,t[e])?(h('Invalid option detected in "'+e+'". Allowed values are:'+n.print(b)+' not "'+t[e]+'". '),Cs=!0):"object"===f&&"__any__"!==i&&(u=ev(u,e),n.parse(t[e],r[i],u)):void 0===o.any&&(h('Invalid type received for "'+e+'". Expected: '+n.print(Mt(o))+". Received ["+f+'] "'+t[e]+'"'),Cs=!0)}},{key:"getType",value:function(e){var t=ft(e);return"object"===t?null===e?"null":e instanceof Boolean?"boolean":e instanceof Number?"number":e instanceof String?"string":gt(e)?"array":e instanceof Date?"date":void 0!==e.nodeType?"dom":!0===e._isAMomentObject?"moment":"object":"number"===t?"number":"boolean"===t?"boolean":"string"===t?"string":void 0===t?"undefined":t}},{key:"getSuggestion",value:function(e,t,r){var i,o=n.findInOptions(e,t,r,!1),u=n.findInOptions(e,rv,[],!0);i=void 0!==o.indexMatch?" in "+n.printLocation(o.path,e,"")+'Perhaps it was incomplete? Did you mean: "'+o.indexMatch+'"?\n\n':u.distance<=4&&o.distance>u.distance?" in "+n.printLocation(o.path,e,"")+"Perhaps it was misplaced? Matching option found at: "+n.printLocation(u.path,u.closestMatch,""):o.distance<=8?'. Did you mean "'+o.closestMatch+'"?'+n.printLocation(o.path,e):". Did you mean one of these: "+n.print(Mt(t))+n.printLocation(r,e),console.error('%cUnknown option detected: "'+e+'"'+i,Dy),Cs=!0}},{key:"findInOptions",value:function(e,t,r){var i,o=arguments.length>3&&void 0!==arguments[3]&&arguments[3],u=1e9,h="",f=[],b=e.toLowerCase(),E=void 0;for(var k in t){var I=void 0;if(void 0!==t[k].__type__&&!0===o){var $=n.findInOptions(e,t[k],ev(r,k));u>$.distance&&(h=$.closestMatch,f=$.path,u=$.distance,E=$.indexMatch)}else{var D;-1!==at(D=k.toLowerCase()).call(D,b)&&(E=k),u>(I=n.levenshteinDistance(e,k))&&(h=k,f=br(i=r).call(i),u=I)}}return{closestMatch:h,path:f,distance:u,indexMatch:E}}},{key:"printLocation",value:function(e,t){for(var r="\n\n"+(arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Problem value found at: \n")+"options = {\n",i=0;i<e.length;i++){for(var o=0;o<i+1;o++)r+="  ";r+=e[i]+": {\n"}for(var u=0;u<e.length+1;u++)r+="  ";r+=t+"\n";for(var h=0;h<e.length+1;h++){for(var f=0;f<e.length-h;f++)r+="  ";r+="}\n"}return r+"\n\n"}},{key:"print",value:function(e){return ds(e).replace(/(")|(\[)|(\])|(,"__type__")/g,"").replace(/(,)/g,", ")}},{key:"levenshteinDistance",value:function(e,t){if(0===e.length)return t.length;if(0===t.length)return e.length;var r,i,o=[];for(r=0;r<=t.length;r++)o[r]=[r];for(i=0;i<=e.length;i++)o[0][i]=i;for(r=1;r<=t.length;r++)for(i=1;i<=e.length;i++)t.charAt(r-1)==e.charAt(i-1)?o[r][i]=o[r-1][i-1]:o[r][i]=Math.min(o[r-1][i-1]+1,Math.min(o[r][i-1]+1,o[r-1][i]+1));return o[t.length][e.length]}}]),n}(),L1=Li,WS=B1,al=Is,nv=$y,z1=Dy,sl=HS;function iv(n){return To=n,function(){var e={};if(ll=0,je=To.charAt(0),Et(),"strict"===Ie&&(e.strict=!0,Et()),"graph"!==Ie&&"digraph"!==Ie||(e.type=Ie,Et()),Gr===dr.IDENTIFIER&&(e.id=Ie,Et()),"{"!=Ie)throw Mr("Angle bracket { expected");if(Et(),mn(e),"}"!=Ie)throw Mr("Angle bracket } expected");if(Et(),""!==Ie)throw Mr("End of file expected");return Et(),delete e.node,delete e.edge,delete e.graph,e}()}var ul={fontsize:"font.size",fontcolor:"font.color",labelfontcolor:"font.color",fontname:"font.face",color:["color.border","color.background"],fillcolor:"color.background",tooltip:"title",labeltooltip:"title"},_a=dn(ul);_a.color="color.color",_a.style="dashes";var dr={NULL:0,DELIMITER:1,IDENTIFIER:2,UNKNOWN:3},ov={"{":!0,"}":!0,"[":!0,"]":!0,";":!0,"=":!0,",":!0,"->":!0,"--":!0},To="",ll=0,je="",Ie="",Gr=dr.NULL;function fr(){ll++,je=To.charAt(ll)}function cl(){return To.charAt(ll+1)}function lh(n){var e=n.charCodeAt(0);return e<47?35===e||46===e:e<59?e>47:e<91?e>64:e<96?95===e:e<123&&e>96}function Io(n,e){if(n||(n={}),e)for(var t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}function US(n,e,t){for(var r=e.split("."),i=n;r.length;){var o=r.shift();r.length?(i[o]||(i[o]={}),i=i[o]):i[o]=t}}function H1(n,e){for(var t,r,i=null,o=[n],u=n;u.parent;)o.push(u.parent),u=u.parent;if(u.nodes)for(t=0,r=u.nodes.length;t<r;t++)if(e.id===u.nodes[t].id){i=u.nodes[t];break}for(i||(i={id:e.id},n.node&&(i.attr=Io(i.attr,n.node))),t=o.length-1;t>=0;t--){var h,f=o[t];f.nodes||(f.nodes=[]),-1===at(h=f.nodes).call(h,i)&&f.nodes.push(i)}e.attr&&(i.attr=Io(i.attr,e.attr))}function VS(n,e){if(n.edges||(n.edges=[]),n.edges.push(e),n.edge){var t=Io({},n.edge);e.attr=Io(t,e.attr)}}function ch(n,e,t,r,i){var o={from:e,to:t,type:r};return n.edge&&(o.attr=Io({},n.edge)),o.attr=Io(o.attr||{},i),null!=i&&i.hasOwnProperty("arrows")&&null!=i.arrows&&(o.arrows={to:{enabled:!0,type:i.arrows.type}},i.arrows=null),o}function Et(){for(Gr=dr.NULL,Ie="";" "===je||"\t"===je||"\n"===je||"\r"===je;)fr();do{var n=!1;if("#"===je){for(var e=ll-1;" "===To.charAt(e)||"\t"===To.charAt(e);)e--;if("\n"===To.charAt(e)||""===To.charAt(e)){for(;""!=je&&"\n"!=je;)fr();n=!0}}if("/"===je&&"/"===cl()){for(;""!=je&&"\n"!=je;)fr();n=!0}if("/"===je&&"*"===cl()){for(;""!=je;){if("*"===je&&"/"===cl()){fr(),fr();break}fr()}n=!0}for(;" "===je||"\t"===je||"\n"===je||"\r"===je;)fr()}while(n);if(""!==je){var t=je+cl();if(ov[t])return Gr=dr.DELIMITER,Ie=t,fr(),void fr();if(ov[je])return Gr=dr.DELIMITER,Ie=je,void fr();if(lh(je)||"-"===je){for(Ie+=je,fr();lh(je);)Ie+=je,fr();return"false"===Ie?Ie=!1:"true"===Ie?Ie=!0:isNaN(Number(Ie))||(Ie=Number(Ie)),void(Gr=dr.IDENTIFIER)}if('"'===je){for(fr();""!=je&&('"'!=je||'"'===je&&'"'===cl());)'"'===je?(Ie+=je,fr()):"\\"===je&&"n"===cl()?(Ie+="\n",fr()):Ie+=je,fr();if('"'!=je)throw Mr('End of string " expected');return fr(),void(Gr=dr.IDENTIFIER)}for(Gr=dr.UNKNOWN;""!=je;)Ie+=je,fr();throw new SyntaxError('Syntax error in part "'+My(Ie,30)+'"')}Gr=dr.DELIMITER}function mn(n){for(;""!==Ie&&"}"!=Ie;)W1(n),";"===Ie&&Et()}function W1(n){var i,e=U1(n);if(e)Ay(n,e);else if(i=n,!("node"===Ie?(Et(),i.node=hh(),"node"):"edge"===Ie?(Et(),i.edge=hh(),"edge"):"graph"===Ie&&(Et(),i.graph=hh(),"graph"))){if(Gr!=dr.IDENTIFIER)throw Mr("Identifier expected");var r=Ie;if(Et(),"="===Ie){if(Et(),Gr!=dr.IDENTIFIER)throw Mr("Identifier expected");n[r]=Ie,Et()}else!function(i,o){var u={id:o},h=hh();h&&(u.attr=h),H1(i,u),Ay(i,o)}(n,r)}}function U1(n){var e=null;if("subgraph"===Ie&&((e={}).type="subgraph",Et(),Gr===dr.IDENTIFIER&&(e.id=Ie,Et())),"{"===Ie){if(Et(),e||(e={}),e.parent=n,e.node=n.node,e.edge=n.edge,e.graph=n.graph,mn(e),"}"!=Ie)throw Mr("Angle bracket } expected");Et(),delete e.node,delete e.edge,delete e.graph,delete e.parent,n.subgraphs||(n.subgraphs=[]),n.subgraphs.push(e)}return e}function Ay(n,e){for(;"->"===Ie||"--"===Ie;){var t,r=Ie;Et();var i=U1(n);if(i)t=i;else{if(Gr!=dr.IDENTIFIER)throw Mr("Identifier or subgraph expected");H1(n,{id:t=Ie}),Et()}VS(n,ch(n,e,t,r,hh())),e=t}}function hh(){for(var n,e,t=null,r={dashed:!0,solid:!1,dotted:[1,5]},i={dot:"circle",box:"box",crow:"crow",curve:"curve",icurve:"inv_curve",normal:"triangle",inv:"inv_triangle",diamond:"diamond",tee:"bar",vee:"vee"},o=new Array,u=new Array;"["===Ie;){for(Et(),t={};""!==Ie&&"]"!=Ie;){if(Gr!=dr.IDENTIFIER)throw Mr("Attribute name expected");var h=Ie;if(Et(),"="!=Ie)throw Mr("Equal sign = expected");if(Et(),Gr!=dr.IDENTIFIER)throw Mr("Attribute value expected");var f=Ie;"style"===h&&(f=r[f]),"arrowhead"===h&&(h="arrows",f={to:{enabled:!0,type:i[f]}}),"arrowtail"===h&&(h="arrows",f={from:{enabled:!0,type:i[f]}}),o.push({attr:t,name:h,value:f}),u.push(h),Et(),","==Ie&&Et()}if("]"!=Ie)throw Mr("Bracket ] expected");Et()}if(Ur(u).call(u,"dir")){var b={arrows:{}};for(n=0;n<o.length;n++)if("arrows"===o[n].name)if(null!=o[n].value.to)b.arrows.to=n;else{if(null==o[n].value.from)throw Mr("Invalid value of arrows");b.arrows.from=n}else"dir"===o[n].name&&(b.dir=n);var E,k,I=o[b.dir].value;if(!Ur(u).call(u,"arrows"))if("both"===I)o.push({attr:o[b.dir].attr,name:"arrows",value:{to:{enabled:!0}}}),b.arrows.to=o.length-1,o.push({attr:o[b.dir].attr,name:"arrows",value:{from:{enabled:!0}}}),b.arrows.from=o.length-1;else if("forward"===I)o.push({attr:o[b.dir].attr,name:"arrows",value:{to:{enabled:!0}}}),b.arrows.to=o.length-1;else if("back"===I)o.push({attr:o[b.dir].attr,name:"arrows",value:{from:{enabled:!0}}}),b.arrows.from=o.length-1;else{if("none"!==I)throw Mr('Invalid dir type "'+I+'"');o.push({attr:o[b.dir].attr,name:"arrows",value:""}),b.arrows.to=o.length-1}if("both"===I)b.arrows.to&&b.arrows.from?(k=o[b.arrows.to].value.to.type,E=o[b.arrows.from].value.from.type,o[b.arrows.to]={attr:o[b.arrows.to].attr,name:o[b.arrows.to].name,value:{to:{enabled:!0,type:k},from:{enabled:!0,type:E}}},oi(o).call(o,b.arrows.from,1)):b.arrows.to?(k=o[b.arrows.to].value.to.type,E="arrow",o[b.arrows.to]={attr:o[b.arrows.to].attr,name:o[b.arrows.to].name,value:{to:{enabled:!0,type:k},from:{enabled:!0,type:E}}}):b.arrows.from&&(k="arrow",E=o[b.arrows.from].value.from.type,o[b.arrows.from]={attr:o[b.arrows.from].attr,name:o[b.arrows.from].name,value:{to:{enabled:!0,type:k},from:{enabled:!0,type:E}}});else if("back"===I)b.arrows.to&&b.arrows.from?(k="",E=o[b.arrows.from].value.from.type,o[b.arrows.from]={attr:o[b.arrows.from].attr,name:o[b.arrows.from].name,value:{to:{enabled:!0,type:k},from:{enabled:!0,type:E}}}):b.arrows.to?(k="",E="arrow",b.arrows.from=b.arrows.to,o[b.arrows.from]={attr:o[b.arrows.from].attr,name:o[b.arrows.from].name,value:{to:{enabled:!0,type:k},from:{enabled:!0,type:E}}}):b.arrows.from&&(k="",E=o[b.arrows.from].value.from.type,o[b.arrows.to]={attr:o[b.arrows.from].attr,name:o[b.arrows.from].name,value:{to:{enabled:!0,type:k},from:{enabled:!0,type:E}}}),o[b.arrows.from]={attr:o[b.arrows.from].attr,name:o[b.arrows.from].name,value:{from:{enabled:!0,type:o[b.arrows.from].value.from.type}}};else if("none"===I){var $;o[$=b.arrows.to?b.arrows.to:b.arrows.from]={attr:o[$].attr,name:o[$].name,value:""}}else{if("forward"!==I)throw Mr('Invalid dir type "'+I+'"');b.arrows.to&&b.arrows.from||b.arrows.to?(k=o[b.arrows.to].value.to.type,E="",o[b.arrows.to]={attr:o[b.arrows.to].attr,name:o[b.arrows.to].name,value:{to:{enabled:!0,type:k},from:{enabled:!0,type:E}}}):b.arrows.from&&(k="arrow",E="",b.arrows.to=b.arrows.from,o[b.arrows.to]={attr:o[b.arrows.to].attr,name:o[b.arrows.to].name,value:{to:{enabled:!0,type:k},from:{enabled:!0,type:E}}}),o[b.arrows.to]={attr:o[b.arrows.to].attr,name:o[b.arrows.to].name,value:{to:{enabled:!0,type:o[b.arrows.to].value.to.type}}}}oi(o).call(o,b.dir,1)}if(Ur(u).call(u,"penwidth")){var D=[];for(e=o.length,n=0;n<e;n++)"width"!==o[n].name&&("penwidth"===o[n].name&&(o[n].name="width"),D.push(o[n]));o=D}for(e=o.length,n=0;n<e;n++)US(o[n].attr,o[n].name,o[n].value);return t}function Mr(n){return new SyntaxError(n+', got "'+My(Ie,30)+'" (char '+ll+")")}function My(n,e){return n.length<=e?n:n.substr(0,27)+"..."}function V1(n,e,t){for(var r=e.split("."),i=r.pop(),o=n,u=0;u<r.length;u++){var h=r[u];h in o||(o[h]={}),o=o[h]}return o[i]=t,n}function Ny(n,e){var t={};for(var r in n)if(n.hasOwnProperty(r)){var i=e[r];gt(i)?wt(i).call(i,function(o){V1(t,o,n[r])}):V1(t,"string"==typeof i?i:r,n[r])}return t}function Ry(n){var e,t=iv(n),r={nodes:[],edges:[],options:{}};if(t.nodes&&wt(e=t.nodes).call(e,function(u){var h={id:u.id,label:String(u.label||u.id)};Io(h,Ny(u.attr,ul)),h.image&&(h.shape="image"),r.nodes.push(h)}),t.edges){var i,o=function(u){var h={from:u.from,to:u.to};return Io(h,Ny(u.attr,_a)),null==h.arrows&&"->"===u.type&&(h.arrows="to"),h};wt(i=t.edges).call(i,function(u){var h,f,b,E,k,I,$;h=u.from instanceof Object?u.from.nodes:{id:u.from},f=u.to instanceof Object?u.to.nodes:{id:u.to},u.from instanceof Object&&u.from.edges&&wt(b=u.from.edges).call(b,function(D){var N=o(D);r.edges.push(N)}),k=f,I=function(D,N){var W=ch(r,D.id,N.id,u.type,u.attr),Y=o(W);r.edges.push(Y)},gt(E=h)?wt(E).call(E,function(D){gt(k)?wt(k).call(k,function(N){I(D,N)}):I(D,k)}):gt(k)?wt(k).call(k,function(D){I(E,D)}):I(E,k),u.to instanceof Object&&u.to.edges&&wt($=u.to.edges).call($,function(D){var N=o(D);r.edges.push(N)})})}return t.attr&&(r.options=t.attr),r}var q1=Object.freeze({__proto__:null,DOTToGraph:Ry,parseDOT:iv});function jy(n,e){var t,r={edges:{inheritColor:!1},nodes:{fixed:!1,parseColor:!1}};null!=e&&(null!=e.fixed&&(r.nodes.fixed=e.fixed),null!=e.parseColor&&(r.nodes.parseColor=e.parseColor),null!=e.inheritColor&&(r.edges.inheritColor=e.inheritColor));var i=n.edges,o=zu(i).call(i,function(u){var h={from:u.source,id:u.id,to:u.target};return null!=u.attributes&&(h.attributes=u.attributes),null!=u.label&&(h.label=u.label),null!=u.attributes&&null!=u.attributes.title&&(h.title=u.attributes.title),"Directed"===u.type&&(h.arrows="to"),u.color&&!1===r.edges.inheritColor&&(h.color=u.color),h});return{nodes:zu(t=n.nodes).call(t,function(u){var h={id:u.id,fixed:r.nodes.fixed&&null!=u.x&&null!=u.y};return null!=u.attributes&&(h.attributes=u.attributes),null!=u.label&&(h.label=u.label),null!=u.size&&(h.size=u.size),null!=u.attributes&&null!=u.attributes.title&&(h.title=u.attributes.title),null!=u.title&&(h.title=u.title),null!=u.x&&(h.x=u.x),null!=u.y&&(h.y=u.y),null!=u.color&&(!0===r.nodes.parseColor?h.color=u.color:h.color={background:u.color,border:u.color,highlight:{background:u.color,border:u.color},hover:{background:u.color,border:u.color}}),h}),edges:o}}var av=Object.freeze({__proto__:null,parseGephi:jy}),Fy=Object.freeze({__proto__:null,cn:{addDescription:"\u5355\u51fb\u7a7a\u767d\u5904\u653e\u7f6e\u65b0\u8282\u70b9\u3002",addEdge:"\u6dfb\u52a0\u8fde\u63a5\u7ebf",addNode:"\u6dfb\u52a0\u8282\u70b9",back:"\u8fd4\u56de",close:"\u95dc\u9589",createEdgeError:"\u65e0\u6cd5\u5c06\u8fde\u63a5\u7ebf\u8fde\u63a5\u5230\u7fa4\u96c6\u3002",del:"\u5220\u9664\u9009\u5b9a",deleteClusterError:"\u65e0\u6cd5\u5220\u9664\u7fa4\u96c6\u3002",edgeDescription:"\u5355\u51fb\u67d0\u4e2a\u8282\u70b9\u5e76\u5c06\u8be5\u8fde\u63a5\u7ebf\u62d6\u52a8\u5230\u53e6\u4e00\u4e2a\u8282\u70b9\u4ee5\u8fde\u63a5\u5b83\u4eec\u3002",edit:"\u7f16\u8f91",editClusterError:"\u65e0\u6cd5\u7f16\u8f91\u7fa4\u96c6\u3002",editEdge:"\u7f16\u8f91\u8fde\u63a5\u7ebf",editEdgeDescription:"\u5355\u51fb\u63a7\u5236\u8282\u70b9\u5e76\u5c06\u5b83\u4eec\u62d6\u5230\u8282\u70b9\u4e0a\u8fde\u63a5\u3002",editNode:"\u7f16\u8f91\u8282\u70b9"},cs:{addDescription:"Kluknut\xedm do pr\xe1zdn\xe9ho prostoru m\u016f\u017eete p\u0159idat nov\xfd vrchol.",addEdge:"P\u0159idat hranu",addNode:"P\u0159idat vrchol",back:"Zp\u011bt",close:"Zav\u0159\xedt",createEdgeError:"Nelze p\u0159ipojit hranu ke shluku.",del:"Smazat v\xfdb\u011br",deleteClusterError:"Nelze mazat shluky.",edgeDescription:"P\u0159eta\u017een\xedm z jednoho vrcholu do druh\xe9ho m\u016f\u017eete spojit tyto vrcholy novou hranou.",edit:"Upravit",editClusterError:"Nelze upravovat shluky.",editEdge:"Upravit hranu",editEdgeDescription:"P\u0159eta\u017een\xedm kontroln\xedho vrcholu hrany ji m\u016f\u017eete p\u0159ipojit k jin\xe9mu vrcholu.",editNode:"Upravit vrchol"},de:{addDescription:"Klicke auf eine freie Stelle, um einen neuen Knoten zu plazieren.",addEdge:"Kante hinzuf\xfcgen",addNode:"Knoten hinzuf\xfcgen",back:"Zur\xfcck",close:"Schlie\xdfen",createEdgeError:"Es ist nicht m\xf6glich, Kanten mit Clustern zu verbinden.",del:"L\xf6sche Auswahl",deleteClusterError:"Cluster k\xf6nnen nicht gel\xf6scht werden.",edgeDescription:"Klicke auf einen Knoten und ziehe die Kante zu einem anderen Knoten, um diese zu verbinden.",edit:"Editieren",editClusterError:"Cluster k\xf6nnen nicht editiert werden.",editEdge:"Kante editieren",editEdgeDescription:"Klicke auf die Verbindungspunkte und ziehe diese auf einen Knoten, um sie zu verbinden.",editNode:"Knoten editieren"},en:{addDescription:"Click in an empty space to place a new node.",addEdge:"Add Edge",addNode:"Add Node",back:"Back",close:"Close",createEdgeError:"Cannot link edges to a cluster.",del:"Delete selected",deleteClusterError:"Clusters cannot be deleted.",edgeDescription:"Click on a node and drag the edge to another node to connect them.",edit:"Edit",editClusterError:"Clusters cannot be edited.",editEdge:"Edit Edge",editEdgeDescription:"Click on the control points and drag them to a node to connect to it.",editNode:"Edit Node"},es:{addDescription:"Haga clic en un lugar vac\xedo para colocar un nuevo nodo.",addEdge:"A\xf1adir arista",addNode:"A\xf1adir nodo",back:"Atr\xe1s",close:"Cerrar",createEdgeError:"No se puede conectar una arista a un grupo.",del:"Eliminar selecci\xf3n",deleteClusterError:"No es posible eliminar grupos.",edgeDescription:"Haga clic en un nodo y arrastre la arista hacia otro nodo para conectarlos.",edit:"Editar",editClusterError:"No es posible editar grupos.",editEdge:"Editar arista",editEdgeDescription:"Haga clic en un punto de control y arrastrelo a un nodo para conectarlo.",editNode:"Editar nodo"},fr:{addDescription:"Cliquez dans un endroit vide pour placer un n\u0153ud.",addEdge:"Ajouter un lien",addNode:"Ajouter un n\u0153ud",back:"Retour",close:"Fermer",createEdgeError:"Impossible de cr\xe9er un lien vers un cluster.",del:"Effacer la s\xe9lection",deleteClusterError:"Les clusters ne peuvent pas \xeatre effac\xe9s.",edgeDescription:"Cliquez sur un n\u0153ud et glissez le lien vers un autre n\u0153ud pour les connecter.",edit:"\xc9diter",editClusterError:"Les clusters ne peuvent pas \xeatre \xe9dit\xe9s.",editEdge:"\xc9diter le lien",editEdgeDescription:"Cliquez sur les points de contr\xf4le et glissez-les pour connecter un n\u0153ud.",editNode:"\xc9diter le n\u0153ud"},it:{addDescription:"Clicca per aggiungere un nuovo nodo",addEdge:"Aggiungi un vertice",addNode:"Aggiungi un nodo",back:"Indietro",close:"Chiudere",createEdgeError:"Non si possono collegare vertici ad un cluster",del:"Cancella la selezione",deleteClusterError:"I cluster non possono essere cancellati",edgeDescription:"Clicca su un nodo e trascinalo ad un altro nodo per connetterli.",edit:"Modifica",editClusterError:"I clusters non possono essere modificati.",editEdge:"Modifica il vertice",editEdgeDescription:"Clicca sui Punti di controllo e trascinali ad un nodo per connetterli.",editNode:"Modifica il nodo"},nl:{addDescription:"Klik op een leeg gebied om een nieuwe node te maken.",addEdge:"Link toevoegen",addNode:"Node toevoegen",back:"Terug",close:"Sluiten",createEdgeError:"Kan geen link maken naar een cluster.",del:"Selectie verwijderen",deleteClusterError:"Clusters kunnen niet worden verwijderd.",edgeDescription:"Klik op een node en sleep de link naar een andere node om ze te verbinden.",edit:"Wijzigen",editClusterError:"Clusters kunnen niet worden aangepast.",editEdge:"Link wijzigen",editEdgeDescription:"Klik op de verbindingspunten en sleep ze naar een node om daarmee te verbinden.",editNode:"Node wijzigen"},pt:{addDescription:"Clique em um espa\xe7o em branco para adicionar um novo n\xf3",addEdge:"Adicionar aresta",addNode:"Adicionar n\xf3",back:"Voltar",close:"Fechar",createEdgeError:"N\xe3o foi poss\xedvel linkar arestas a um cluster.",del:"Remover selecionado",deleteClusterError:"Clusters n\xe3o puderam ser removidos.",edgeDescription:"Clique em um n\xf3 e arraste a aresta at\xe9 outro n\xf3 para conect\xe1-los",edit:"Editar",editClusterError:"Clusters n\xe3o puderam ser editados.",editEdge:"Editar aresta",editEdgeDescription:"Clique nos pontos de controle e os arraste para um n\xf3 para conect\xe1-los",editNode:"Editar n\xf3"},ru:{addDescription:"\u041a\u043b\u0438\u043a\u043d\u0438\u0442\u0435 \u0432 \u0441\u0432\u043e\u0431\u043e\u0434\u043d\u043e\u0435 \u043c\u0435\u0441\u0442\u043e, \u0447\u0442\u043e\u0431\u044b \u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043d\u043e\u0432\u044b\u0439 \u0443\u0437\u0435\u043b.",addEdge:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0440\u0435\u0431\u0440\u043e",addNode:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0443\u0437\u0435\u043b",back:"\u041d\u0430\u0437\u0430\u0434",close:"\u0417\u0430\u043a\u0440\u044b\u0432\u0430\u0442\u044c",createEdgeError:"\u041d\u0435\u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e \u0441\u043e\u0435\u0434\u0438\u043d\u0438\u0442\u044c \u0440\u0435\u0431\u0440\u0430 \u0432 \u043a\u043b\u0430\u0441\u0442\u0435\u0440.",del:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0432\u044b\u0431\u0440\u0430\u043d\u043d\u043e\u0435",deleteClusterError:"\u041a\u043b\u0430\u0441\u0442\u0435\u0440\u044b \u043d\u0435 \u043c\u043e\u0433\u0443\u0442 \u0431\u044b\u0442\u044c \u0443\u0434\u0430\u043b\u0435\u043d\u044b",edgeDescription:"\u041a\u043b\u0438\u043a\u043d\u0438\u0442\u0435 \u043d\u0430 \u0443\u0437\u0435\u043b \u0438 \u043f\u0440\u043e\u0442\u044f\u043d\u0438\u0442\u0435 \u0440\u0435\u0431\u0440\u043e \u043a \u0434\u0440\u0443\u0433\u043e\u043c\u0443 \u0443\u0437\u043b\u0443, \u0447\u0442\u043e\u0431\u044b \u0441\u043e\u0435\u0434\u0438\u043d\u0438\u0442\u044c \u0438\u0445.",edit:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c",editClusterError:"\u041a\u043b\u0430\u0441\u0442\u0435\u0440\u044b \u043d\u0435\u0434\u043e\u0441\u0442\u0443\u043f\u043d\u044b \u0434\u043b\u044f \u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f.",editEdge:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0440\u0435\u0431\u0440\u043e",editEdgeDescription:"\u041a\u043b\u0438\u043a\u043d\u0438\u0442\u0435 \u043d\u0430 \u043a\u043e\u043d\u0442\u0440\u043e\u043b\u044c\u043d\u044b\u0435 \u0442\u043e\u0447\u043a\u0438 \u0438 \u043f\u0435\u0440\u0435\u0442\u0430\u0449\u0438\u0442\u0435 \u0438\u0445 \u0432 \u0443\u0437\u0435\u043b, \u0447\u0442\u043e\u0431\u044b \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0438\u0442\u044c\u0441\u044f \u043a \u043d\u0435\u043c\u0443.",editNode:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0443\u0437\u0435\u043b"},uk:{addDescription:"K\u043b\u0456\u043a\u043d\u0456\u0442\u044c \u043d\u0430 \u0432\u0456\u043b\u044c\u043d\u0435 \u043c\u0456\u0441\u0446\u0435, \u0449\u043e\u0431 \u0434\u043e\u0434\u0430\u0442\u0438 \u043d\u043e\u0432\u0438\u0439 \u0432\u0443\u0437\u043e\u043b.",addEdge:"\u0414\u043e\u0434\u0430\u0442\u0438 \u043a\u0440\u0430\u0439",addNode:"\u0414\u043e\u0434\u0430\u0442\u0438 \u0432\u0443\u0437\u043e\u043b",back:"\u041d\u0430\u0437\u0430\u0434",close:"\u0417\u0430\u043a\u0440\u0438\u0442\u0438",createEdgeError:"\u041d\u0435 \u043c\u043e\u0436\u043b\u0438\u0432\u043e \u043e\u0431'\u0454\u0434\u043d\u0430\u0442\u0438 \u043a\u0440\u0430\u0457 \u0432 \u0433\u0440\u0443\u043f\u0443.",del:"\u0412\u0438\u0434\u0430\u043b\u0438\u0442\u0438 \u043e\u0431\u0440\u0430\u043d\u0435",deleteClusterError:"\u0413\u0440\u0443\u043f\u0438 \u043d\u0435 \u043c\u043e\u0436\u0443\u0442\u044c \u0431\u0443\u0442\u0438 \u0432\u0438\u0434\u0430\u043b\u0435\u043d\u0456.",edgeDescription:"\u041a\u043b\u0456\u043a\u043d\u0456\u0442\u044c \u043d\u0430 \u0432\u0443\u0437\u043e\u043b \u0456 \u043f\u0435\u0440\u0435\u0442\u044f\u0433\u043d\u0456\u0442\u044c \u043a\u0440\u0430\u0439 \u0434\u043e \u0456\u043d\u0448\u043e\u0433\u043e \u0432\u0443\u0437\u043b\u0430, \u0449\u043e\u0431 \u0457\u0445 \u0437'\u0454\u0434\u043d\u0430\u0442\u0438.",edit:"\u0420\u0435\u0434\u0430\u0433\u0443\u0432\u0430\u0442\u0438",editClusterError:"\u0413\u0440\u0443\u043f\u0438 \u043d\u0435\u0434\u043e\u0441\u0442\u0443\u043f\u043d\u0456 \u0434\u043b\u044f \u0440\u0435\u0434\u0430\u0433\u0443\u0432\u0430\u043d\u043d\u044f.",editEdge:"\u0420\u0435\u0434\u0430\u0433\u0443\u0432\u0430\u0442\u0438 \u043a\u0440\u0430\u0439",editEdgeDescription:"\u041a\u043b\u0456\u043a\u043d\u0456\u0442\u044c \u043d\u0430 \u043a\u043e\u043d\u0442\u0440\u043e\u043b\u044c\u043d\u0456 \u0442\u043e\u0447\u043a\u0438 \u0456 \u043f\u0435\u0440\u0435\u0442\u044f\u0433\u043d\u0456\u0442\u044c \u0457\u0445 \u0443 \u0432\u0443\u0437\u043e\u043b, \u0449\u043e\u0431 \u043f\u0456\u0434\u043a\u043b\u044e\u0447\u0438\u0442\u0438\u0441\u044f \u0434\u043e \u043d\u044c\u043e\u0433\u043e.",editNode:"\u0420\u0435\u0434\u0430\u0433\u0443\u0432\u0430\u0442\u0438 \u0432\u0443\u0437\u043e\u043b"}}),qS=function(){function n(){oe(this,n),this.NUM_ITERATIONS=4,this.image=new Image,this.canvas=document.createElement("canvas")}return ce(n,[{key:"init",value:function(){if(!this.initialized()){this.src=this.image.src;var e=this.image.width,t=this.image.height;this.width=e,this.height=t;var r=Math.floor(t/2),i=Math.floor(t/4),o=Math.floor(t/8),u=Math.floor(t/16),h=Math.floor(e/2),f=Math.floor(e/4),b=Math.floor(e/8),E=Math.floor(e/16);this.canvas.width=3*f,this.canvas.height=r,this.coordinates=[[0,0,h,r],[h,0,f,i],[h,i,b,o],[5*b,i,E,u]],this._fillMipMap()}}},{key:"initialized",value:function(){return void 0!==this.coordinates}},{key:"_fillMipMap",value:function(){var e=this.canvas.getContext("2d"),t=this.coordinates[0];e.drawImage(this.image,t[0],t[1],t[2],t[3]);for(var r=1;r<this.NUM_ITERATIONS;r++){var i=this.coordinates[r-1],o=this.coordinates[r];e.drawImage(this.canvas,i[0],i[1],i[2],i[3],o[0],o[1],o[2],o[3])}}},{key:"drawImageAtPosition",value:function(e,t,r,i,o,u){if(this.initialized())if(t>2){t*=.5;for(var h=0;t>2&&h<this.NUM_ITERATIONS;)t*=.5,h+=1;h>=this.NUM_ITERATIONS&&(h=this.NUM_ITERATIONS-1);var f=this.coordinates[h];e.drawImage(this.canvas,f[0],f[1],f[2],f[3],r,i,o,u)}else e.drawImage(this.image,r,i,o,u)}}]),n}(),sv=function(){function n(e){oe(this,n),this.images={},this.imageBroken={},this.callback=e}return ce(n,[{key:"_tryloadBrokenUrl",value:function(e,t,r){void 0!==e&&void 0!==r&&(void 0!==t?(r.image.onerror=function(){console.error("Could not load brokenImage:",t)},r.image.src=t):console.warn("No broken url image defined"))}},{key:"_redrawWithImage",value:function(e){this.callback&&this.callback(e)}},{key:"load",value:function(e,t){var r=this,i=this.images[e];if(i)return i;var o=new qS;return this.images[e]=o,o.image.onload=function(){r._fixImageCoordinates(o.image),o.init(),r._redrawWithImage(o)},o.image.onerror=function(){console.error("Could not load image:",e),r._tryloadBrokenUrl(e,t,o)},o.image.src=e,o}},{key:"_fixImageCoordinates",value:function(e){0===e.width&&(document.body.appendChild(e),e.width=e.offsetWidth,e.height=e.offsetHeight,document.body.removeChild(e))}}]),n}(),G1={exports:{}},Y1=re(function(){if("function"==typeof ArrayBuffer){var n=new ArrayBuffer(8);Object.isExtensible(n)&&Object.defineProperty(n,"a",{value:8})}}),GS=re,By=L,dh=ir,Ly=Y1,Ea=Object.isExtensible,zy=GS(function(){Ea(1)})||Ly?function(n){return!!By(n)&&(!Ly||"ArrayBuffer"!==dh(n))&&(!Ea||Ea(n))}:Ea,Hy=!re(function(){return Object.isExtensible(Object.preventExtensions({}))}),K1=De,X1=Ee,J1=Wl,hl=L,fh=or,Wy=rn.f,dl=bc,Q1=Jd,uv=zy,YS=Hy,Z1=!1,Nr=ru("meta"),Uy=0,Vy=function(n){Wy(n,Nr,{value:{objectID:"O"+Uy++,weakData:{}}})},qy=G1.exports={enable:function(){qy.enable=function(){},Z1=!0;var n=dl.f,e=X1([].splice),t={};t[Nr]=1,n(t).length&&(dl.f=function(r){for(var i=n(r),o=0,u=i.length;o<u;o++)if(i[o]===Nr){e(i,o,1);break}return i},K1({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:Q1.f}))},fastKey:function(n,e){if(!hl(n))return"symbol"==typeof n?n:("string"==typeof n?"S":"P")+n;if(!fh(n,Nr)){if(!uv(n))return"F";if(!e)return"E";Vy(n)}return n[Nr].objectID},getWeakData:function(n,e){if(!fh(n,Nr)){if(!uv(n))return!0;if(!e)return!1;Vy(n)}return n[Nr].weakData},onFreeze:function(n){return YS&&Z1&&uv(n)&&!fh(n,Nr)&&Vy(n),n}};J1[Nr]=!0;var lv=G1.exports,Gy=yr,KS=ot,XS=On,Yy=La,e_=sc,$s=Gt,cv=xe,hv=zd,t_=Pi,dv=Rd,vh=TypeError,Ds=function(n,e){this.stopped=n,this.result=e},r_=Ds.prototype,ka=function(n,e,t){var r,i,o,u,h,f,b,E=t&&t.that,k=!(!t||!t.AS_ENTRIES),I=!(!t||!t.IS_RECORD),$=!(!t||!t.IS_ITERATOR),D=!(!t||!t.INTERRUPTED),N=Gy(e,E),W=function(J){return r&&dv(r,"normal",J),new Ds(!0,J)},Y=function(J){return k?(XS(J),D?N(J[0],J[1],W):N(J[0],J[1])):D?N(J,W):N(J)};if(I)r=n.iterator;else if($)r=n;else{if(!(i=t_(n)))throw new vh(Yy(n)+" is not iterable");if(e_(i)){for(o=0,u=$s(n);u>o;o++)if((h=Y(n[o]))&&cv(r_,h))return h;return new Ds(!1)}r=hv(n,i)}for(f=I?n.next:r.next;!(b=KS(f,r)).done;){try{h=Y(b.value)}catch(J){dv(r,"throw",J)}if("object"==typeof h&&h&&cv(r_,h))return h}return new Ds(!1)},As=xe,n_=TypeError,fv=function(n,e){if(As(e,n))return n;throw new n_("Incorrect invocation")},JS=De,ph=ye,QS=lv,i_=re,ZS=ro,ex=ka,tx=fv,rx=ze,Ky=L,o_=Fr,nx=Zo,a_=rn.f,s_=$i.forEach,ix=et,gh=Hn.set,Po=Hn.getterFor,vv=function(n,e,t){var r,i=-1!==n.indexOf("Map"),o=-1!==n.indexOf("Weak"),u=i?"set":"add",h=ph[n],f=h&&h.prototype,b={};if(ix&&rx(h)&&(o||f.forEach&&!i_(function(){(new h).entries().next()}))){var E=(r=e(function(I,$){gh(tx(I,E),{type:n,collection:new h}),o_($)||ex($,I[u],{that:I,AS_ENTRIES:i})})).prototype,k=Po(n);s_(["add","clear","delete","forEach","get","has","set","keys","values","entries"],function(I){var $="add"===I||"set"===I;!(I in f)||o&&"clear"===I||ZS(E,I,function(D,N){var W=k(this).collection;if(!$&&o&&!Ky(D))return"get"===I&&void 0;var Y=W[I](0===D?0:D,N);return $?this:Y})}),o||a_(E,"size",{configurable:!0,get:function(){return k(this).collection.size}})}else r=t.getConstructor(e,n,i,u),QS.enable();return nx(r,n,!1,!0),b[n]=r,JS({global:!0,forced:!0},b),o||t.setStrong(r,n,i),r},u_=tc,Xy=function(n,e,t){for(var r in e)t&&t.unsafe&&n[r]?n[r]=e[r]:u_(n,r,e[r],t);return n},Jy=$e,pv=wc,ox=et,yh=We("species"),Oa=Xa,mh=wc,l_=Xy,ax=yr,sx=fv,ux=Fr,gv=ka,c_=Nd,h_=Ip,lx=function(n){var e=Jy(n);ox&&e&&!e[yh]&&pv(e,yh,{configurable:!0,get:function(){return this}})},fl=et,yv=lv.fastKey,d_=Hn.set,Qy=Hn.getterFor,f_={getConstructor:function(n,e,t,r){var i=n(function(b,E){sx(b,o),d_(b,{type:e,index:Oa(null),first:void 0,last:void 0,size:0}),fl||(b.size=0),ux(E)||gv(E,b[r],{that:b,AS_ENTRIES:t})}),o=i.prototype,u=Qy(e),h=function(b,E,k){var I,$,D=u(b),N=f(b,E);return N?N.value=k:(D.last=N={index:$=yv(E,!0),key:E,value:k,previous:I=D.last,next:void 0,removed:!1},D.first||(D.first=N),I&&(I.next=N),fl?D.size++:b.size++,"F"!==$&&(D.index[$]=N)),b},f=function(b,E){var k,I=u(b),$=yv(E);if("F"!==$)return I.index[$];for(k=I.first;k;k=k.next)if(k.key===E)return k};return l_(o,{clear:function(){for(var b=u(this),E=b.index,k=b.first;k;)k.removed=!0,k.previous&&(k.previous=k.previous.next=void 0),delete E[k.index],k=k.next;b.first=b.last=void 0,fl?b.size=0:this.size=0},delete:function(b){var E=this,k=u(E),I=f(E,b);if(I){var $=I.next,D=I.previous;delete k.index[I.index],I.removed=!0,D&&(D.next=$),$&&($.previous=D),k.first===I&&(k.first=$),k.last===I&&(k.last=D),fl?k.size--:E.size--}return!!I},forEach:function(b){for(var E,k=u(this),I=ax(b,arguments.length>1?arguments[1]:void 0);E=E?E.next:k.first;)for(I(E.value,E.key,this);E&&E.removed;)E=E.previous},has:function(b){return!!f(this,b)}}),l_(o,t?{get:function(b){var E=f(this,b);return E&&E.value},set:function(b,E){return h(this,0===b?0:b,E)}}:{add:function(b){return h(this,b=0===b?0:b,b)}}),fl&&mh(o,"size",{configurable:!0,get:function(){return u(this).size}}),i},setStrong:function(n,e,t){var r=e+" Iterator",i=Qy(e),o=Qy(r);c_(n,e,function(u,h){d_(this,{type:r,target:u,state:i(u),kind:h,last:void 0})},function(){for(var u=o(this),h=u.kind,f=u.last;f&&f.removed;)f=f.previous;return u.target&&(u.last=f=f?f.next:u.state.first)?h_("keys"===h?f.key:"values"===h?f.value:[f.key,f.value],!1):(u.target=void 0,h_(void 0,!0))},t?"entries":"values",!t,!0),lx(e)}};vv("Map",function(n){return function(){return n(this,arguments.length?arguments[0]:void 0)}},f_);var Zy=ge(G.Map),mv=function(){function n(){oe(this,n),this.clear(),this._defaultIndex=0,this._groupIndex=0,this._defaultGroups=[{border:"#2B7CE9",background:"#97C2FC",highlight:{border:"#2B7CE9",background:"#D2E5FF"},hover:{border:"#2B7CE9",background:"#D2E5FF"}},{border:"#FFA500",background:"#FFFF00",highlight:{border:"#FFA500",background:"#FFFFA3"},hover:{border:"#FFA500",background:"#FFFFA3"}},{border:"#FA0A10",background:"#FB7E81",highlight:{border:"#FA0A10",background:"#FFAFB1"},hover:{border:"#FA0A10",background:"#FFAFB1"}},{border:"#41A906",background:"#7BE141",highlight:{border:"#41A906",background:"#A1EC76"},hover:{border:"#41A906",background:"#A1EC76"}},{border:"#E129F0",background:"#EB7DF4",highlight:{border:"#E129F0",background:"#F0B3F5"},hover:{border:"#E129F0",background:"#F0B3F5"}},{border:"#7C29F0",background:"#AD85E4",highlight:{border:"#7C29F0",background:"#D3BDF0"},hover:{border:"#7C29F0",background:"#D3BDF0"}},{border:"#C37F00",background:"#FFA807",highlight:{border:"#C37F00",background:"#FFCA66"},hover:{border:"#C37F00",background:"#FFCA66"}},{border:"#4220FB",background:"#6E6EFD",highlight:{border:"#4220FB",background:"#9B9BFD"},hover:{border:"#4220FB",background:"#9B9BFD"}},{border:"#FD5A77",background:"#FFC0CB",highlight:{border:"#FD5A77",background:"#FFD1D9"},hover:{border:"#FD5A77",background:"#FFD1D9"}},{border:"#4AD63A",background:"#C2FABC",highlight:{border:"#4AD63A",background:"#E6FFE3"},hover:{border:"#4AD63A",background:"#E6FFE3"}},{border:"#990000",background:"#EE0000",highlight:{border:"#BB0000",background:"#FF3333"},hover:{border:"#BB0000",background:"#FF3333"}},{border:"#FF6000",background:"#FF6000",highlight:{border:"#FF6000",background:"#FF6000"},hover:{border:"#FF6000",background:"#FF6000"}},{border:"#97C2FC",background:"#2B7CE9",highlight:{border:"#D2E5FF",background:"#2B7CE9"},hover:{border:"#D2E5FF",background:"#2B7CE9"}},{border:"#399605",background:"#255C03",highlight:{border:"#399605",background:"#255C03"},hover:{border:"#399605",background:"#255C03"}},{border:"#B70054",background:"#FF007E",highlight:{border:"#B70054",background:"#FF007E"},hover:{border:"#B70054",background:"#FF007E"}},{border:"#AD85E4",background:"#7C29F0",highlight:{border:"#D3BDF0",background:"#7C29F0"},hover:{border:"#D3BDF0",background:"#7C29F0"}},{border:"#4557FA",background:"#000EA1",highlight:{border:"#6E6EFD",background:"#000EA1"},hover:{border:"#6E6EFD",background:"#000EA1"}},{border:"#FFC0CB",background:"#FD5A77",highlight:{border:"#FFD1D9",background:"#FD5A77"},hover:{border:"#FFD1D9",background:"#FD5A77"}},{border:"#C2FABC",background:"#74D66A",highlight:{border:"#E6FFE3",background:"#74D66A"},hover:{border:"#E6FFE3",background:"#74D66A"}},{border:"#EE0000",background:"#990000",highlight:{border:"#FF3333",background:"#BB0000"},hover:{border:"#FF3333",background:"#BB0000"}}],this.options={},this.defaultOptions={useDefaultGroups:!0},Ht(this.options,this.defaultOptions)}return ce(n,[{key:"setOptions",value:function(e){var t=["useDefaultGroups"];if(void 0!==e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&-1===at(t).call(t,r)){var i=e[r];this.add(r,i)}}},{key:"clear",value:function(){this._groups=new Zy,this._groupNames=[]}},{key:"get",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=this._groups.get(e);if(void 0===r&&t)if(!1===this.options.useDefaultGroups&&this._groupNames.length>0){var i=this._groupIndex%this._groupNames.length;++this._groupIndex,(r={}).color=this._groups.get(this._groupNames[i]),this._groups.set(e,r)}else{var o=this._defaultIndex%this._defaultGroups.length;this._defaultIndex++,(r={}).color=this._defaultGroups[o],this._groups.set(e,r)}return r}},{key:"add",value:function(e,t){return this._groups.has(e)||this._groupNames.push(e),this._groups.set(e,t),t}}]),n}();De({target:"Number",stat:!0},{isNaN:function(n){return n!=n}});var bv=ge(G.Number.isNaN),em=ye.isFinite,wv=Number.isFinite||function(n){return"number"==typeof n&&em(n)};De({target:"Number",stat:!0},{isFinite:wv});var Co=ge(G.Number.isFinite),cx=$i.some;De({target:"Array",proto:!0,forced:!Hu("some")},{some:function(n){return cx(this,n,arguments.length>1?arguments[1]:void 0)}});var _v=Dt("Array").some,hx=xe,v_=_v,Ms=Array.prototype,p_=ge(function(n){var e=n.some;return n===Ms||hx(Ms,n)&&e===Ms.some?v_:e}),zi=ge(G.Object.getOwnPropertySymbols),bh={exports:{}},rm=De,dx=re,li=St,bn=pr.f,vl=et;rm({target:"Object",stat:!0,forced:!vl||dx(function(){bn(1)}),sham:!vl},{getOwnPropertyDescriptor:function(n,e){return bn(li(n),e)}});var wh=G.Object,Sa=bh.exports=function(n,e){return wh.getOwnPropertyDescriptor(n,e)};wh.getOwnPropertyDescriptor.sham&&(Sa.sham=!0);var Ev=bh.exports,xa=ge(Ev),g_=Bg,pl=St,Yn=pr,Ta=un;De({target:"Object",stat:!0,sham:!et},{getOwnPropertyDescriptors:function(n){for(var e,t,r=pl(n),i=Yn.f,o=g_(r),u={},h=0;o.length>h;)void 0!==(t=i(r,e=o[h++]))&&Ta(u,e,t);return u}});var An=ge(G.Object.getOwnPropertyDescriptors),Hi={exports:{}},_h=De,y_=et,m_=an.f;_h({target:"Object",stat:!0,forced:Object.defineProperties!==m_,sham:!y_},{defineProperties:m_});var nm=G.Object,b_=Hi.exports=function(n,e){return nm.defineProperties(n,e)};nm.defineProperties.sham&&(b_.sham=!0);var gl=ge(Hi.exports),Wi=ge(Xd);function Ia(n,e,t){return(e=xw(e))in n?gc(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}var yl=ye,kv=re,fx=on,w_=f1.trim,vx=zc,px=Ee("".charAt),Pa=yl.parseFloat,__=yl.Symbol,Ov=__&&__.iterator,E_=1/Pa(vx+"-0")!=-1/0||Ov&&!kv(function(){Pa(Object(Ov))})?function(n){var e=w_(fx(n)),t=Pa(e);return 0===t&&"-"===px(e,0)?-0:t}:Pa;De({global:!0,forced:parseFloat!==E_},{parseFloat:E_});var im=ge(G.parseFloat),Yr=De,Ns=re,Jt=Jd.f;Yr({target:"Object",stat:!0,forced:Ns(function(){return!Object.getOwnPropertyNames(1)})},{getOwnPropertyNames:Jt});var wn=G.Object,Eh=ge(function(n){return wn.getOwnPropertyNames(n)});function Rs(n,e){var t=["node","edge","label"],r=!0,i=wa(e,"chosen");if("boolean"==typeof i)r=i;else if("object"===ft(i)){if(-1===at(t).call(t,n))throw new Error("choosify: subOption '"+n+"' should be one of '"+t.join("', '")+"'");var o=wa(e,["chosen",n]);"boolean"!=typeof o&&"function"!=typeof o||(r=o)}return r}function js(n,e,t){if(n.width<=0||n.height<=0)return!1;if(void 0!==t){var r={x:e.x-t.x,y:e.y-t.y};if(0!==t.angle){var i=-t.angle;e={x:Math.cos(i)*r.x-Math.sin(i)*r.y,y:Math.sin(i)*r.x+Math.cos(i)*r.y}}else e=r}var o=n.x+n.width,u=n.y+n.width;return n.left<e.x&&o>e.x&&n.top<e.y&&u>e.y}function $o(n){return"string"==typeof n&&""!==n}function ci(n,e,t,r){var i=r.x,o=r.y;if("function"==typeof r.distanceToBorder){var u=r.distanceToBorder(n,e),h=Math.sin(e)*u,f=Math.cos(e)*u;f===u?(i+=u,o=r.y):h===u?(i=r.x,o-=u):(i+=f,o-=h)}else r.shape.width>r.shape.height?(i=r.x+.5*r.shape.width,o=r.y-t):(i=r.x+t,o=r.y-.5*r.shape.height);return{x:i,y:o}}var Fs=Dt("Array").values,k_=Ko,O_=or,xv=xe,Do=Fs,ml=Array.prototype,Bs={DOMTokenList:!0,NodeList:!0},om=ge(function(n){var e=n.values;return n===ml||xv(ml,n)&&e===ml.values||O_(Bs,k_(n))?Do:e}),kh=function(){function n(e){oe(this,n),this.measureText=e,this.current=0,this.width=0,this.height=0,this.lines=[]}return ce(n,[{key:"_add",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"normal";void 0===this.lines[e]&&(this.lines[e]={width:0,height:0,blocks:[]});var i=t;void 0!==t&&""!==t||(i=" ");var o=this.measureText(i,r),u=Ht({},om(o));u.text=t,u.width=o.width,u.mod=r,void 0!==t&&""!==t||(u.width=0),this.lines[e].blocks.push(u),this.lines[e].width+=u.width}},{key:"curWidth",value:function(){var e=this.lines[this.current];return void 0===e?0:e.width}},{key:"append",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"normal";this._add(this.current,e,t)}},{key:"newLine",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"normal";this._add(this.current,e,t),this.current++}},{key:"determineLineHeights",value:function(){for(var e=0;e<this.lines.length;e++){var t=this.lines[e],r=0;if(void 0!==t.blocks)for(var i=0;i<t.blocks.length;i++){var o=t.blocks[i];r<o.height&&(r=o.height)}t.height=r}}},{key:"determineLabelSize",value:function(){for(var e=0,t=0,r=0;r<this.lines.length;r++){var i=this.lines[r];i.width>e&&(e=i.width),t+=i.height}this.width=e,this.height=t}},{key:"removeEmptyBlocks",value:function(){for(var e=[],t=0;t<this.lines.length;t++){var r=this.lines[t];if(0!==r.blocks.length&&(t!==this.lines.length-1||0!==r.width)){var i={};Ht(i,r),i.blocks=[];for(var o=void 0,u=[],h=0;h<r.blocks.length;h++){var f=r.blocks[h];0!==f.width?u.push(f):void 0===o&&(o=f)}0===u.length&&void 0!==o&&u.push(o),i.blocks=u,e.push(i)}}return e}},{key:"finalize",value:function(){this.determineLineHeights(),this.determineLabelSize();var e=this.removeEmptyBlocks();return{width:this.width,height:this.height,lines:e}}}]),n}(),x_={"<b>":/<b>/,"<i>":/<i>/,"<code>":/<code>/,"</b>":/<\/b>/,"</i>":/<\/i>/,"</code>":/<\/code>/,"*":/\*/,_:/_/,"`":/`/,afterBold:/[^*]/,afterItal:/[^_]/,afterMono:/[^`]/},am=function(){function n(e){oe(this,n),this.text=e,this.bold=!1,this.ital=!1,this.mono=!1,this.spacing=!1,this.position=0,this.buffer="",this.modStack=[],this.blocks=[]}return ce(n,[{key:"mod",value:function(){return 0===this.modStack.length?"normal":this.modStack[0]}},{key:"modName",value:function(){return 0===this.modStack.length?"normal":"mono"===this.modStack[0]?"mono":this.bold&&this.ital?"boldital":this.bold?"bold":this.ital?"ital":void 0}},{key:"emitBlock",value:function(){this.spacing&&(this.add(" "),this.spacing=!1),this.buffer.length>0&&(this.blocks.push({text:this.buffer,mod:this.modName()}),this.buffer="")}},{key:"add",value:function(e){" "===e&&(this.spacing=!0),this.spacing&&(this.buffer+=" ",this.spacing=!1)," "!=e&&(this.buffer+=e)}},{key:"parseWS",value:function(e){return!!/[ \t]/.test(e)&&(this.mono?this.add(e):this.spacing=!0,!0)}},{key:"setTag",value:function(e){this.emitBlock(),this[e]=!0,this.modStack.unshift(e)}},{key:"unsetTag",value:function(e){this.emitBlock(),this[e]=!1,this.modStack.shift()}},{key:"parseStartTag",value:function(e,t){return!(this.mono||this[e]||!this.match(t)||(this.setTag(e),0))}},{key:"match",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=At(this.prepareRegExp(e),2),i=r[0],o=r[1],u=i.test(this.text.substr(this.position,o));return u&&t&&(this.position+=o-1),u}},{key:"parseEndTag",value:function(e,t,r){var i=this.mod()===e;return!(!(i="mono"===e?i&&this.mono:i&&!this.mono)||!this.match(t)||(void 0!==r?(this.position===this.text.length-1||this.match(r,!1))&&this.unsetTag(e):this.unsetTag(e),0))}},{key:"replace",value:function(e,t){return!!this.match(e)&&(this.add(t),this.position+=length-1,!0)}},{key:"prepareRegExp",value:function(e){var t,r;if(e instanceof RegExp)r=e,t=1;else{var i=x_[e];r=void 0!==i?i:new RegExp(e),t=e.length}return[r,t]}}]),n}(),Tv=function(){function n(e,t,r,i){var o=this;oe(this,n),this.ctx=e,this.parent=t,this.selected=r,this.hover=i,this.lines=new kh(function(u,h){if(void 0===u)return 0;var f=o.parent.getFormattingValues(e,r,i,h),b=0;return""!==u&&(b=o.ctx.measureText(u).width),{width:b,values:f}})}return ce(n,[{key:"process",value:function(e){if(!$o(e))return this.lines.finalize();var t=this.parent.fontOptions;e=(e=e.replace(/\r\n/g,"\n")).replace(/\r/g,"\n");var r=String(e).split("\n"),i=r.length;if(t.multi)for(var o=0;o<i;o++){var u=this.splitBlocks(r[o],t.multi);if(void 0!==u)if(0!==u.length){if(t.maxWdt>0)for(var h=0;h<u.length;h++){var f=u[h].mod,b=u[h].text;this.splitStringIntoLines(b,f,!0)}else for(var E=0;E<u.length;E++){var k=u[E].mod,I=u[E].text;this.lines.append(I,k)}this.lines.newLine()}else this.lines.newLine("")}else if(t.maxWdt>0)for(var $=0;$<i;$++)this.splitStringIntoLines(r[$]);else for(var D=0;D<i;D++)this.lines.newLine(r[D]);return this.lines.finalize()}},{key:"decodeMarkupSystem",value:function(e){var t="none";return"markdown"===e||"md"===e?t="markdown":!0!==e&&"html"!==e||(t="html"),t}},{key:"splitHtmlBlocks",value:function(e){for(var t=new am(e),r=function(o){return!!/&/.test(o)&&(t.replace(t.text,"&lt;","<")||t.replace(t.text,"&amp;","&")||t.add("&"),!0)};t.position<t.text.length;){var i=t.text.charAt(t.position);t.parseWS(i)||/</.test(i)&&(t.parseStartTag("bold","<b>")||t.parseStartTag("ital","<i>")||t.parseStartTag("mono","<code>")||t.parseEndTag("bold","</b>")||t.parseEndTag("ital","</i>")||t.parseEndTag("mono","</code>"))||r(i)||t.add(i),t.position++}return t.emitBlock(),t.blocks}},{key:"splitMarkdownBlocks",value:function(e){for(var t=this,r=new am(e),i=!0,o=function(h){return!!/\\/.test(h)&&(r.position<t.text.length+1&&(r.position++,h=t.text.charAt(r.position),/ \t/.test(h)?r.spacing=!0:(r.add(h),i=!1)),!0)};r.position<r.text.length;){var u=r.text.charAt(r.position);r.parseWS(u)||o(u)||(i||r.spacing)&&(r.parseStartTag("bold","*")||r.parseStartTag("ital","_")||r.parseStartTag("mono","`"))||r.parseEndTag("bold","*","afterBold")||r.parseEndTag("ital","_","afterItal")||r.parseEndTag("mono","`","afterMono")||(r.add(u),i=!1),r.position++}return r.emitBlock(),r.blocks}},{key:"splitBlocks",value:function(e,t){var r=this.decodeMarkupSystem(t);return"none"===r?[{text:e,mod:"normal"}]:"markdown"===r?this.splitMarkdownBlocks(e):"html"===r?this.splitHtmlBlocks(e):void 0}},{key:"overMaxWidth",value:function(e){var t=this.ctx.measureText(e).width;return this.lines.curWidth()+t>this.parent.fontOptions.maxWdt}},{key:"getLongestFit",value:function(e){for(var t="",r=0;r<e.length;){var i=t+(""===t?"":" ")+e[r];if(this.overMaxWidth(i))break;t=i,r++}return r}},{key:"getLongestFitWord",value:function(e){for(var t=0;t<e.length&&!this.overMaxWidth(br(e).call(e,0,t));)t++;return t}},{key:"splitStringIntoLines",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"normal",r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this.parent.getFormattingValues(this.ctx,this.selected,this.hover,t);for(var i=(e=(e=e.replace(/^( +)/g,"$1\r")).replace(/([^\r][^ ]*)( +)/g,"$1\r$2\r")).split("\r");i.length>0;){var o=this.getLongestFit(i);if(0===o){var u=i[0],h=this.getLongestFitWord(u);this.lines.newLine(br(u).call(u,0,h),t),i[0]=br(u).call(u,h)}else{var f=o;" "===i[o-1]?o--:" "===i[f]&&f++;var b=br(i).call(i,0,o).join("");o==i.length&&r?this.lines.append(b,t):this.lines.newLine(b,t),i=br(i).call(i,f)}}}}]),n}(),Ls=["bold","ital","boldital","mono"],Iv=function(){function n(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];oe(this,n),this.body=e,this.pointToSelf=!1,this.baseSize=void 0,this.fontOptions={},this.setOptions(t),this.size={top:0,left:0,width:0,height:0,yLine:0},this.isEdgeLabel=r}return ce(n,[{key:"setOptions",value:function(e){if(this.elementOptions=e,this.initFontOptions(e.font),$o(e.label)?this.labelDirty=!0:e.label=void 0,void 0!==e.font&&null!==e.font)if("string"==typeof e.font)this.baseSize=this.fontOptions.size;else if("object"===ft(e.font)){var t=e.font.size;void 0!==t&&(this.baseSize=t)}}},{key:"initFontOptions",value:function(e){var t=this;Ke(Ls,function(r){t.fontOptions[r]={}}),n.parseFontString(this.fontOptions,e)?this.fontOptions.vadjust=0:Ke(e,function(r,i){null!=r&&"object"!==ft(r)&&(t.fontOptions[i]=r)})}},{key:"constrain",value:function(e){var t={constrainWidth:!1,maxWdt:-1,minWdt:-1,constrainHeight:!1,minHgt:-1,valign:"middle"},r=wa(e,"widthConstraint");if("number"==typeof r)t.maxWdt=Number(r),t.minWdt=Number(r);else if("object"===ft(r)){var i=wa(e,["widthConstraint","maximum"]);"number"==typeof i&&(t.maxWdt=Number(i));var o=wa(e,["widthConstraint","minimum"]);"number"==typeof o&&(t.minWdt=Number(o))}var u=wa(e,"heightConstraint");if("number"==typeof u)t.minHgt=Number(u);else if("object"===ft(u)){var h=wa(e,["heightConstraint","minimum"]);"number"==typeof h&&(t.minHgt=Number(h));var f=wa(e,["heightConstraint","valign"]);"string"==typeof f&&("top"!==f&&"bottom"!==f||(t.valign=f))}return t}},{key:"update",value:function(e,t){this.setOptions(e,!0),this.propagateFonts(t),_t(this.fontOptions,this.constrain(t)),this.fontOptions.chooser=Rs("label",t)}},{key:"adjustSizes",value:function(e){var t=e?e.right+e.left:0;this.fontOptions.constrainWidth&&(this.fontOptions.maxWdt-=t,this.fontOptions.minWdt-=t);var r=e?e.top+e.bottom:0;this.fontOptions.constrainHeight&&(this.fontOptions.minHgt-=r)}},{key:"addFontOptionsToPile",value:function(e,t){for(var r=0;r<t.length;++r)this.addFontToPile(e,t[r])}},{key:"addFontToPile",value:function(e,t){if(void 0!==t&&void 0!==t.font&&null!==t.font){var r=t.font;e.push(r)}}},{key:"getBasicOptions",value:function(e){for(var t={},r=0;r<e.length;++r){var i=e[r],o={};n.parseFontString(o,i)&&(i=o),Ke(i,function(u,h){void 0!==u&&(Object.prototype.hasOwnProperty.call(t,h)||(-1!==at(Ls).call(Ls,h)?t[h]={}:t[h]=u))})}return t}},{key:"getFontOption",value:function(e,t,r){for(var i,o=0;o<e.length;++o){var u=e[o];if(Object.prototype.hasOwnProperty.call(u,t)){if(null==(i=u[t]))continue;var h={};if(n.parseFontString(h,i)&&(i=h),Object.prototype.hasOwnProperty.call(i,r))return i[r]}}if(Object.prototype.hasOwnProperty.call(this.fontOptions,r))return this.fontOptions[r];throw new Error("Did not find value for multi-font for property: '"+r+"'")}},{key:"getFontOptions",value:function(e,t){for(var r={},i=["color","size","face","mod","vadjust"],o=0;o<i.length;++o){var u=i[o];r[u]=this.getFontOption(e,t,u)}return r}},{key:"propagateFonts",value:function(e){var t=this,r=[];this.addFontOptionsToPile(r,e),this.fontOptions=this.getBasicOptions(r);for(var i=function(){var u=Ls[o],h=t.fontOptions[u];Ke(t.getFontOptions(r,u),function(f,b){h[b]=f}),h.size=Number(h.size),h.vadjust=Number(h.vadjust)},o=0;o<Ls.length;++o)i()}},{key:"draw",value:function(e,t,r,i,o){var u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"middle";if(void 0!==this.elementOptions.label){var h=this.fontOptions.size*this.body.view.scale;this.elementOptions.label&&h<this.elementOptions.scaling.label.drawThreshold-1||(h>=this.elementOptions.scaling.label.maxVisible&&(h=Number(this.elementOptions.scaling.label.maxVisible)/this.body.view.scale),this.calculateLabelSize(e,i,o,t,r,u),this._drawBackground(e),this._drawText(e,t,this.size.yLine,u,h))}}},{key:"_drawBackground",value:function(e){if(void 0!==this.fontOptions.background&&"none"!==this.fontOptions.background){e.fillStyle=this.fontOptions.background;var t=this.getSize();e.fillRect(t.left,t.top,t.width,t.height)}}},{key:"_drawText",value:function(e,t,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"middle",o=arguments.length>4?arguments[4]:void 0,u=At(this._setAlignment(e,t,r,i),2);t=u[0],r=u[1],e.textAlign="left",t-=this.size.width/2,this.fontOptions.valign&&this.size.height>this.size.labelHeight&&("top"===this.fontOptions.valign&&(r-=(this.size.height-this.size.labelHeight)/2),"bottom"===this.fontOptions.valign&&(r+=(this.size.height-this.size.labelHeight)/2));for(var h=0;h<this.lineCount;h++){var f=this.lines[h];if(f&&f.blocks){var b=0;this.isEdgeLabel||"center"===this.fontOptions.align?b+=(this.size.width-f.width)/2:"right"===this.fontOptions.align&&(b+=this.size.width-f.width);for(var E=0;E<f.blocks.length;E++){var k=f.blocks[E];e.font=k.font;var I=At(this._getColor(k.color,o,k.strokeColor),2),$=I[0],D=I[1];k.strokeWidth>0&&(e.lineWidth=k.strokeWidth,e.strokeStyle=D,e.lineJoin="round"),e.fillStyle=$,k.strokeWidth>0&&e.strokeText(k.text,t+b,r+k.vadjust),e.fillText(k.text,t+b,r+k.vadjust),b+=k.width}r+=f.height}}}},{key:"_setAlignment",value:function(e,t,r,i){return this.isEdgeLabel&&"horizontal"!==this.fontOptions.align&&!1===this.pointToSelf?(t=0,r=0,"top"===this.fontOptions.align?(e.textBaseline="alphabetic",r-=4):"bottom"===this.fontOptions.align?(e.textBaseline="hanging",r+=4):e.textBaseline="middle"):e.textBaseline=i,[t,r]}},{key:"_getColor",value:function(e,t,r){var i=e||"#000000",o=r||"#ffffff";if(t<=this.elementOptions.scaling.label.drawThreshold){var u=Math.max(0,Math.min(1,1-(this.elementOptions.scaling.label.drawThreshold-t)));i=Gn(i,u),o=Gn(o,u)}return[i,o]}},{key:"getTextSize",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return this._processLabel(e,t,r),{width:this.size.width,height:this.size.height,lineCount:this.lineCount}}},{key:"getSize",value:function(){var e=this.size.left,t=this.size.top-1;if(this.isEdgeLabel){var r=.5*-this.size.width;switch(this.fontOptions.align){case"middle":e=r,t=.5*-this.size.height;break;case"top":e=r,t=-(this.size.height+2);break;case"bottom":e=r,t=2}}return{left:e,top:t,width:this.size.width,height:this.size.height}}},{key:"calculateLabelSize",value:function(e,t,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"middle";this._processLabel(e,t,r),this.size.left=i-.5*this.size.width,this.size.top=o-.5*this.size.height,this.size.yLine=o+.5*(1-this.lineCount)*this.fontOptions.size,"hanging"===u&&(this.size.top+=.5*this.fontOptions.size,this.size.top+=4,this.size.yLine+=4)}},{key:"getFormattingValues",value:function(e,t,r,i){var o=function(f,b,E){return"normal"===b?"mod"===E?"":f[E]:void 0!==f[b][E]?f[b][E]:f[E]},u={color:o(this.fontOptions,i,"color"),size:o(this.fontOptions,i,"size"),face:o(this.fontOptions,i,"face"),mod:o(this.fontOptions,i,"mod"),vadjust:o(this.fontOptions,i,"vadjust"),strokeWidth:this.fontOptions.strokeWidth,strokeColor:this.fontOptions.strokeColor};(t||r)&&("normal"===i&&!0===this.fontOptions.chooser&&this.elementOptions.labelHighlightBold?u.mod="bold":"function"==typeof this.fontOptions.chooser&&this.fontOptions.chooser(u,this.elementOptions.id,t,r));var h="";return void 0!==u.mod&&""!==u.mod&&(h+=u.mod+" "),h+=u.size+"px "+u.face,e.font=h.replace(/"/g,""),u.font=e.font,u.height=u.size,u}},{key:"differentState",value:function(e,t){return e!==this.selectedState||t!==this.hoverState}},{key:"_processLabelText",value:function(e,t,r,i){return new Tv(e,this,t,r).process(i)}},{key:"_processLabel",value:function(e,t,r){if(!1!==this.labelDirty||this.differentState(t,r)){var i=this._processLabelText(e,t,r,this.elementOptions.label);this.fontOptions.minWdt>0&&i.width<this.fontOptions.minWdt&&(i.width=this.fontOptions.minWdt),this.size.labelHeight=i.height,this.fontOptions.minHgt>0&&i.height<this.fontOptions.minHgt&&(i.height=this.fontOptions.minHgt),this.lines=i.lines,this.lineCount=i.lines.length,this.size.width=i.width,this.size.height=i.height,this.selectedState=t,this.hoverState=r,this.labelDirty=!1}}},{key:"visible",value:function(){return 0!==this.size.width&&0!==this.size.height&&void 0!==this.elementOptions.label&&!(this.fontOptions.size*this.body.view.scale<this.elementOptions.scaling.label.drawThreshold-1)}}],[{key:"parseFontString",value:function(e,t){if(!t||"string"!=typeof t)return!1;var r=t.split(" ");return e.size=+r[0].replace("px",""),e.face=r[1],e.color=r[2],!0}}]),n}(),gx=Iu,T_=La,yx=TypeError,mx=De,sm=Sr,bx=$b,Oh=function(n){if(gx(n))return n;throw new yx(T_(n)+" is not a constructor")},Sh=On,rr=L,bl=Xa,um=re,Ca=$e("Reflect","construct"),zs=Object.prototype,wx=[].push,lm=um(function(){function n(){}return!(Ca(function(){},[],n)instanceof n)}),wl=!um(function(){Ca(function(){})}),cm=lm||wl;mx({target:"Reflect",stat:!0,forced:cm,sham:cm},{construct:function(n,e){Oh(n),Sh(e);var t=arguments.length<3?n:Oh(arguments[2]);if(wl&&!lm)return Ca(n,e,t);if(n===t){switch(e.length){case 0:return new n;case 1:return new n(e[0]);case 2:return new n(e[0],e[1]);case 3:return new n(e[0],e[1],e[2]);case 4:return new n(e[0],e[1],e[2],e[3])}var r=[null];return sm(wx,r,e),new(sm(bx,n,r))}var i=t.prototype,o=bl(rr(i)?i:zs),u=sm(n,o,e);return rr(u)?u:o}});var K=ge(G.Reflect.construct),xh=ge(hs);De({target:"Object",stat:!0},{setPrototypeOf:rc});var Th=ge(G.Object.setPrototypeOf),hm=ge(Ab);function dm(n,e){var t;return(dm=Th?hm(t=Th).call(t):function(r,i){return r.__proto__=i,r})(n,e)}function nt(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=xh(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),gc(n,"prototype",{writable:!1}),e&&dm(n,e)}function yt(n,e){if(e&&("object"===ft(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(n)}var fm=ge(ey);function be(n){var e;return(be=Th?hm(e=fm).call(e):function(t){return t.__proto__||fm(t)})(n)}var Ao=function(){function n(e,t,r){oe(this,n),this.body=t,this.labelModule=r,this.setOptions(e),this.top=void 0,this.left=void 0,this.height=void 0,this.width=void 0,this.radius=void 0,this.margin=void 0,this.refreshNeeded=!0,this.boundingBox={top:0,left:0,right:0,bottom:0}}return ce(n,[{key:"setOptions",value:function(e){this.options=e}},{key:"_setMargins",value:function(e){this.margin={},this.options.margin&&("object"==ft(this.options.margin)?(this.margin.top=this.options.margin.top,this.margin.right=this.options.margin.right,this.margin.bottom=this.options.margin.bottom,this.margin.left=this.options.margin.left):(this.margin.top=this.options.margin,this.margin.right=this.options.margin,this.margin.bottom=this.options.margin,this.margin.left=this.options.margin)),e.adjustSizes(this.margin)}},{key:"_distanceToBorder",value:function(e,t){var r=this.options.borderWidth;return e&&this.resize(e),Math.min(Math.abs(this.width/2/Math.cos(t)),Math.abs(this.height/2/Math.sin(t)))+r}},{key:"enableShadow",value:function(e,t){t.shadow&&(e.shadowColor=t.shadowColor,e.shadowBlur=t.shadowSize,e.shadowOffsetX=t.shadowX,e.shadowOffsetY=t.shadowY)}},{key:"disableShadow",value:function(e,t){t.shadow&&(e.shadowColor="rgba(0,0,0,0)",e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0)}},{key:"enableBorderDashes",value:function(e,t){if(!1!==t.borderDashes)if(void 0!==e.setLineDash){var r=t.borderDashes;!0===r&&(r=[5,15]),e.setLineDash(r)}else console.warn("setLineDash is not supported in this browser. The dashed borders cannot be used."),this.options.shapeProperties.borderDashes=!1,t.borderDashes=!1}},{key:"disableBorderDashes",value:function(e,t){!1!==t.borderDashes&&(void 0!==e.setLineDash?e.setLineDash([0]):(console.warn("setLineDash is not supported in this browser. The dashed borders cannot be used."),this.options.shapeProperties.borderDashes=!1,t.borderDashes=!1))}},{key:"needsRefresh",value:function(e,t){return!0===this.refreshNeeded?(this.refreshNeeded=!1,!0):void 0===this.width||this.labelModule.differentState(e,t)}},{key:"initContextForDraw",value:function(e,t){var r=t.borderWidth/this.body.view.scale;e.lineWidth=Math.min(this.width,r),e.strokeStyle=t.borderColor,e.fillStyle=t.color}},{key:"performStroke",value:function(e,t){var r=t.borderWidth/this.body.view.scale;e.save(),r>0&&(this.enableBorderDashes(e,t),e.stroke(),this.disableBorderDashes(e,t)),e.restore()}},{key:"performFill",value:function(e,t){e.save(),e.fillStyle=t.color,this.enableShadow(e,t),qu(e).call(e),this.disableShadow(e,t),e.restore(),this.performStroke(e,t)}},{key:"_addBoundingBoxMargin",value:function(e){this.boundingBox.left-=e,this.boundingBox.top-=e,this.boundingBox.bottom+=e,this.boundingBox.right+=e}},{key:"_updateBoundingBox",value:function(e,t,r,i,o){void 0!==r&&this.resize(r,i,o),this.left=e-this.width/2,this.top=t-this.height/2,this.boundingBox.left=this.left,this.boundingBox.top=this.top,this.boundingBox.bottom=this.top+this.height,this.boundingBox.right=this.left+this.width}},{key:"updateBoundingBox",value:function(e,t,r,i,o){this._updateBoundingBox(e,t,r,i,o)}},{key:"getDimensionsFromLabel",value:function(e,t,r){this.textSize=this.labelModule.getTextSize(e,t,r);var i=this.textSize.width,o=this.textSize.height;return 0===i&&(i=14,o=14),{width:i,height:o}}}]),n}();function vm(n){var e=function(){if(typeof Reflect>"u"||!K||K.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(K(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var t,r=be(n);if(e){var i=be(this).constructor;t=K(r,arguments,i)}else t=r.apply(this,arguments);return yt(this,t)}}var I_=function(n){nt(t,n);var e=vm(t);function t(r,i,o){var u;return oe(this,t),(u=e.call(this,r,i,o))._setMargins(o),u}return ce(t,[{key:"resize",value:function(r){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.selected,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.hover;if(this.needsRefresh(i,o)){var u=this.getDimensionsFromLabel(r,i,o);this.width=u.width+this.margin.right+this.margin.left,this.height=u.height+this.margin.top+this.margin.bottom,this.radius=this.width/2}}},{key:"draw",value:function(r,i,o,u,h,f){this.resize(r,u,h),this.left=i-this.width/2,this.top=o-this.height/2,this.initContextForDraw(r,f),cp(r,this.left,this.top,this.width,this.height,f.borderRadius),this.performFill(r,f),this.updateBoundingBox(i,o,r,u,h),this.labelModule.draw(r,this.left+this.textSize.width/2+this.margin.left,this.top+this.textSize.height/2+this.margin.top,u,h)}},{key:"updateBoundingBox",value:function(r,i,o,u,h){this._updateBoundingBox(r,i,o,u,h);var f=this.options.shapeProperties.borderRadius;this._addBoundingBoxMargin(f)}},{key:"distanceToBorder",value:function(r,i){r&&this.resize(r);var o=this.options.borderWidth;return Math.min(Math.abs(this.width/2/Math.cos(i)),Math.abs(this.height/2/Math.sin(i)))+o}}]),t}(Ao);function Ui(n){var e=function(){if(typeof Reflect>"u"||!K||K.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(K(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var t,r=be(n);if(e){var i=be(this).constructor;t=K(r,arguments,i)}else t=r.apply(this,arguments);return yt(this,t)}}var Pv=function(n){nt(t,n);var e=Ui(t);function t(r,i,o){var u;return oe(this,t),(u=e.call(this,r,i,o)).labelOffset=0,u.selected=!1,u}return ce(t,[{key:"setOptions",value:function(r,i,o){this.options=r,void 0===i&&void 0===o||this.setImages(i,o)}},{key:"setImages",value:function(r,i){i&&this.selected?(this.imageObj=i,this.imageObjAlt=r):(this.imageObj=r,this.imageObjAlt=i)}},{key:"switchImages",value:function(r){var i=r&&!this.selected||!r&&this.selected;if(this.selected=r,void 0!==this.imageObjAlt&&i){var o=this.imageObj;this.imageObj=this.imageObjAlt,this.imageObjAlt=o}}},{key:"_getImagePadding",value:function(){var r={top:0,right:0,bottom:0,left:0};if(this.options.imagePadding){var i=this.options.imagePadding;"object"==ft(i)?(r.top=i.top,r.right=i.right,r.bottom=i.bottom,r.left=i.left):(r.top=i,r.right=i,r.bottom=i,r.left=i)}return r}},{key:"_resizeImage",value:function(){var r,i;if(!1===this.options.shapeProperties.useImageSize){var o=1,u=1;this.imageObj.width&&this.imageObj.height&&(this.imageObj.width>this.imageObj.height?o=this.imageObj.width/this.imageObj.height:u=this.imageObj.height/this.imageObj.width),r=2*this.options.size*o,i=2*this.options.size*u}else{var h=this._getImagePadding();r=this.imageObj.width+h.left+h.right,i=this.imageObj.height+h.top+h.bottom}this.width=r,this.height=i,this.radius=.5*this.width}},{key:"_drawRawCircle",value:function(r,i,o,u){this.initContextForDraw(r,u),lp(r,i,o,u.size),this.performFill(r,u)}},{key:"_drawImageAtPosition",value:function(r,i){if(0!=this.imageObj.width){r.globalAlpha=void 0!==i.opacity?i.opacity:1,this.enableShadow(r,i);var o=1;!0===this.options.shapeProperties.interpolation&&(o=this.imageObj.width/this.width/this.body.view.scale);var u=this._getImagePadding(),h=this.left+u.left,f=this.top+u.top,b=this.width-u.left-u.right,E=this.height-u.top-u.bottom;this.imageObj.drawImageAtPosition(r,o,h,f,b,E),this.disableShadow(r,i)}}},{key:"_drawImageLabel",value:function(r,i,o,u,h){var f=0;if(void 0!==this.height){f=.5*this.height;var b=this.labelModule.getTextSize(r,u,h);b.lineCount>=1&&(f+=b.height/2)}var E=o+f;this.options.label&&(this.labelOffset=f),this.labelModule.draw(r,i,E,u,h,"hanging")}}]),t}(Ao);function pm(n){var e=function(){if(typeof Reflect>"u"||!K||K.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(K(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var t,r=be(n);if(e){var i=be(this).constructor;t=K(r,arguments,i)}else t=r.apply(this,arguments);return yt(this,t)}}var _x=function(n){nt(t,n);var e=pm(t);function t(r,i,o){var u;return oe(this,t),(u=e.call(this,r,i,o))._setMargins(o),u}return ce(t,[{key:"resize",value:function(r){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.selected,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.hover;if(this.needsRefresh(i,o)){var u=this.getDimensionsFromLabel(r,i,o),h=Math.max(u.width+this.margin.right+this.margin.left,u.height+this.margin.top+this.margin.bottom);this.options.size=h/2,this.width=h,this.height=h,this.radius=this.width/2}}},{key:"draw",value:function(r,i,o,u,h,f){this.resize(r,u,h),this.left=i-this.width/2,this.top=o-this.height/2,this._drawRawCircle(r,i,o,f),this.updateBoundingBox(i,o),this.labelModule.draw(r,this.left+this.textSize.width/2+this.margin.left,o,u,h)}},{key:"updateBoundingBox",value:function(r,i){this.boundingBox.top=i-this.options.size,this.boundingBox.left=r-this.options.size,this.boundingBox.right=r+this.options.size,this.boundingBox.bottom=i+this.options.size}},{key:"distanceToBorder",value:function(r){return r&&this.resize(r),.5*this.width}}]),t}(Pv);function gm(n){var e=function(){if(typeof Reflect>"u"||!K||K.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(K(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var t,r=be(n);if(e){var i=be(this).constructor;t=K(r,arguments,i)}else t=r.apply(this,arguments);return yt(this,t)}}var Ex=function(n){nt(t,n);var e=gm(t);function t(r,i,o,u,h){var f;return oe(this,t),(f=e.call(this,r,i,o)).setImages(u,h),f}return ce(t,[{key:"resize",value:function(r){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.selected,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.hover;if(void 0===this.imageObj.src||void 0===this.imageObj.width||void 0===this.imageObj.height){var u=2*this.options.size;return this.width=u,this.height=u,void(this.radius=.5*this.width)}this.needsRefresh(i,o)&&this._resizeImage()}},{key:"draw",value:function(r,i,o,u,h,f){this.switchImages(u),this.resize();var b=i,E=o;"top-left"===this.options.shapeProperties.coordinateOrigin?(this.left=i,this.top=o,b+=this.width/2,E+=this.height/2):(this.left=i-this.width/2,this.top=o-this.height/2),this._drawRawCircle(r,b,E,f),r.save(),r.clip(),this._drawImageAtPosition(r,f),r.restore(),this._drawImageLabel(r,b,E,u,h),this.updateBoundingBox(i,o)}},{key:"updateBoundingBox",value:function(r,i){"top-left"===this.options.shapeProperties.coordinateOrigin?(this.boundingBox.top=i,this.boundingBox.left=r,this.boundingBox.right=r+2*this.options.size,this.boundingBox.bottom=i+2*this.options.size):(this.boundingBox.top=i-this.options.size,this.boundingBox.left=r-this.options.size,this.boundingBox.right=r+this.options.size,this.boundingBox.bottom=i+this.options.size),this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelOffset)}},{key:"distanceToBorder",value:function(r){return r&&this.resize(r),.5*this.width}}]),t}(Pv);function _l(n){var e=function(){if(typeof Reflect>"u"||!K||K.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(K(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var t,r=be(n);if(e){var i=be(this).constructor;t=K(r,arguments,i)}else t=r.apply(this,arguments);return yt(this,t)}}var hi=function(n){nt(t,n);var e=_l(t);function t(r,i,o){return oe(this,t),e.call(this,r,i,o)}return ce(t,[{key:"resize",value:function(r){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.selected,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.hover,u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{size:this.options.size};if(this.needsRefresh(i,o)){var h,f;this.labelModule.getTextSize(r,i,o);var b=2*u.size;this.width=null!==(h=this.customSizeWidth)&&void 0!==h?h:b,this.height=null!==(f=this.customSizeHeight)&&void 0!==f?f:b,this.radius=.5*this.width}}},{key:"_drawShape",value:function(r,i,o,u,h,f,b,E){var k,I=this;return this.resize(r,f,b,E),this.left=u-this.width/2,this.top=h-this.height/2,this.initContextForDraw(r,E),(k=i,Object.prototype.hasOwnProperty.call(Oi,k)?Oi[k]:function($){for(var D=arguments.length,N=new Array(D>1?D-1:0),W=1;W<D;W++)N[W-1]=arguments[W];CanvasRenderingContext2D.prototype[k].call($,N)})(r,u,h,E.size),this.performFill(r,E),void 0!==this.options.icon&&void 0!==this.options.icon.code&&(r.font=(f?"bold ":"")+this.height/2+"px "+(this.options.icon.face||"FontAwesome"),r.fillStyle=this.options.icon.color||"black",r.textAlign="center",r.textBaseline="middle",r.fillText(this.options.icon.code,u,h)),{drawExternalLabel:function(){if(void 0!==I.options.label){I.labelModule.calculateLabelSize(r,f,b,u,h,"hanging");var $=h+.5*I.height+.5*I.labelModule.size.height;I.labelModule.draw(r,u,$,f,b,"hanging")}I.updateBoundingBox(u,h)}}}},{key:"updateBoundingBox",value:function(r,i){this.boundingBox.top=i-this.options.size,this.boundingBox.left=r-this.options.size,this.boundingBox.right=r+this.options.size,this.boundingBox.bottom=i+this.options.size,void 0!==this.options.label&&this.labelModule.size.width>0&&(this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelModule.size.height))}}]),t}(Ao);function Mn(n,e){var t=Mt(n);if(zi){var r=zi(n);e&&(r=Vr(r).call(r,function(i){return xa(n,i).enumerable})),t.push.apply(t,r)}return t}function El(n){for(var e=1;e<arguments.length;e++){var t,r,i=null!=arguments[e]?arguments[e]:{};e%2?wt(t=Mn(Object(i),!0)).call(t,function(o){Ia(n,o,i[o])}):An?gl(n,An(i)):wt(r=Mn(Object(i))).call(r,function(o){Wi(n,o,xa(i,o))})}return n}function $a(n){var e=function(){if(typeof Reflect>"u"||!K||K.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(K(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var t,r=be(n);if(e){var i=be(this).constructor;t=K(r,arguments,i)}else t=r.apply(this,arguments);return yt(this,t)}}var Mo=function(n){nt(t,n);var e=$a(t);function t(r,i,o,u){var h;return oe(this,t),(h=e.call(this,r,i,o,u)).ctxRenderer=u,h}return ce(t,[{key:"draw",value:function(r,i,o,u,h,f){this.resize(r,u,h,f),this.left=i-this.width/2,this.top=o-this.height/2,r.save();var b=this.ctxRenderer({ctx:r,id:this.options.id,x:i,y:o,state:{selected:u,hover:h},style:El({},f),label:this.options.label});if(null!=b.drawNode&&b.drawNode(),r.restore(),b.drawExternalLabel){var E=b.drawExternalLabel;b.drawExternalLabel=function(){r.save(),E(),r.restore()}}return b.nodeDimensions&&(this.customSizeWidth=b.nodeDimensions.width,this.customSizeHeight=b.nodeDimensions.height),b}},{key:"distanceToBorder",value:function(r,i){return this._distanceToBorder(r,i)}}]),t}(hi);function Ih(n){var e=function(){if(typeof Reflect>"u"||!K||K.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(K(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var t,r=be(n);if(e){var i=be(this).constructor;t=K(r,arguments,i)}else t=r.apply(this,arguments);return yt(this,t)}}var Vi=function(n){nt(t,n);var e=Ih(t);function t(r,i,o){var u;return oe(this,t),(u=e.call(this,r,i,o))._setMargins(o),u}return ce(t,[{key:"resize",value:function(r,i,o){if(this.needsRefresh(i,o)){var u=this.getDimensionsFromLabel(r,i,o).width+this.margin.right+this.margin.left;this.width=u,this.height=u,this.radius=this.width/2}}},{key:"draw",value:function(r,i,o,u,h,f){this.resize(r,u,h),this.left=i-this.width/2,this.top=o-this.height/2,this.initContextForDraw(r,f),Mb(r,i-this.width/2,o-this.height/2,this.width,this.height),this.performFill(r,f),this.updateBoundingBox(i,o,r,u,h),this.labelModule.draw(r,this.left+this.textSize.width/2+this.margin.left,this.top+this.textSize.height/2+this.margin.top,u,h)}},{key:"distanceToBorder",value:function(r,i){return this._distanceToBorder(r,i)}}]),t}(Ao);function kx(n){var e=function(){if(typeof Reflect>"u"||!K||K.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(K(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var t,r=be(n);if(e){var i=be(this).constructor;t=K(r,arguments,i)}else t=r.apply(this,arguments);return yt(this,t)}}var Ox=function(n){nt(t,n);var e=kx(t);function t(r,i,o){return oe(this,t),e.call(this,r,i,o)}return ce(t,[{key:"draw",value:function(r,i,o,u,h,f){return this._drawShape(r,"diamond",4,i,o,u,h,f)}},{key:"distanceToBorder",value:function(r,i){return this._distanceToBorder(r,i)}}]),t}(hi);function Cv(n){var e=function(){if(typeof Reflect>"u"||!K||K.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(K(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var t,r=be(n);if(e){var i=be(this).constructor;t=K(r,arguments,i)}else t=r.apply(this,arguments);return yt(this,t)}}var P_=function(n){nt(t,n);var e=Cv(t);function t(r,i,o){return oe(this,t),e.call(this,r,i,o)}return ce(t,[{key:"draw",value:function(r,i,o,u,h,f){return this._drawShape(r,"circle",2,i,o,u,h,f)}},{key:"distanceToBorder",value:function(r){return r&&this.resize(r),this.options.size}}]),t}(hi);function Ph(n){var e=function(){if(typeof Reflect>"u"||!K||K.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(K(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var t,r=be(n);if(e){var i=be(this).constructor;t=K(r,arguments,i)}else t=r.apply(this,arguments);return yt(this,t)}}var ym=function(n){nt(t,n);var e=Ph(t);function t(r,i,o){return oe(this,t),e.call(this,r,i,o)}return ce(t,[{key:"resize",value:function(r){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.selected,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.hover;if(this.needsRefresh(i,o)){var u=this.getDimensionsFromLabel(r,i,o);this.height=2*u.height,this.width=u.width+u.height,this.radius=.5*this.width}}},{key:"draw",value:function(r,i,o,u,h,f){this.resize(r,u,h),this.left=i-.5*this.width,this.top=o-.5*this.height,this.initContextForDraw(r,f),cd(r,this.left,this.top,this.width,this.height),this.performFill(r,f),this.updateBoundingBox(i,o,r,u,h),this.labelModule.draw(r,i,o,u,h)}},{key:"distanceToBorder",value:function(r,i){r&&this.resize(r);var o=.5*this.width,u=.5*this.height,h=Math.sin(i)*o,f=Math.cos(i)*u;return o*u/Math.sqrt(h*h+f*f)}}]),t}(Ao);function Hs(n){var e=function(){if(typeof Reflect>"u"||!K||K.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(K(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var t,r=be(n);if(e){var i=be(this).constructor;t=K(r,arguments,i)}else t=r.apply(this,arguments);return yt(this,t)}}var C_=function(n){nt(t,n);var e=Hs(t);function t(r,i,o){var u;return oe(this,t),(u=e.call(this,r,i,o))._setMargins(o),u}return ce(t,[{key:"resize",value:function(r,i,o){this.needsRefresh(i,o)&&(this.iconSize={width:Number(this.options.icon.size),height:Number(this.options.icon.size)},this.width=this.iconSize.width+this.margin.right+this.margin.left,this.height=this.iconSize.height+this.margin.top+this.margin.bottom,this.radius=.5*this.width)}},{key:"draw",value:function(r,i,o,u,h,f){var b=this;return this.resize(r,u,h),this.options.icon.size=this.options.icon.size||50,this.left=i-this.width/2,this.top=o-this.height/2,this._icon(r,i,o,u,h,f),{drawExternalLabel:function(){void 0!==b.options.label&&b.labelModule.draw(r,b.left+b.iconSize.width/2+b.margin.left,o+b.height/2+5,u),b.updateBoundingBox(i,o)}}}},{key:"updateBoundingBox",value:function(r,i){this.boundingBox.top=i-.5*this.options.icon.size,this.boundingBox.left=r-.5*this.options.icon.size,this.boundingBox.right=r+.5*this.options.icon.size,this.boundingBox.bottom=i+.5*this.options.icon.size,void 0!==this.options.label&&this.labelModule.size.width>0&&(this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelModule.size.height+5))}},{key:"_icon",value:function(r,i,o,u,h,f){var b=Number(this.options.icon.size);void 0!==this.options.icon.code?(r.font=[null!=this.options.icon.weight?this.options.icon.weight:u?"bold":"",(null!=this.options.icon.weight&&u?5:0)+b+"px",this.options.icon.face].join(" "),r.fillStyle=this.options.icon.color||"black",r.textAlign="center",r.textBaseline="middle",this.enableShadow(r,f),r.fillText(this.options.icon.code,i,o),this.disableShadow(r,f)):console.error("When using the icon shape, you need to define the code in the icon options object. This can be done per node or globally.")}},{key:"distanceToBorder",value:function(r,i){return this._distanceToBorder(r,i)}}]),t}(Ao);function mm(n){var e=function(){if(typeof Reflect>"u"||!K||K.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(K(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var t,r=be(n);if(e){var i=be(this).constructor;t=K(r,arguments,i)}else t=r.apply(this,arguments);return yt(this,t)}}var $_=function(n){nt(t,n);var e=mm(t);function t(r,i,o,u,h){var f;return oe(this,t),(f=e.call(this,r,i,o)).setImages(u,h),f}return ce(t,[{key:"resize",value:function(r){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.selected,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.hover;if(void 0===this.imageObj.src||void 0===this.imageObj.width||void 0===this.imageObj.height){var u=2*this.options.size;return this.width=u,void(this.height=u)}this.needsRefresh(i,o)&&this._resizeImage()}},{key:"draw",value:function(r,i,o,u,h,f){r.save(),this.switchImages(u),this.resize();var b=i,E=o;if("top-left"===this.options.shapeProperties.coordinateOrigin?(this.left=i,this.top=o,b+=this.width/2,E+=this.height/2):(this.left=i-this.width/2,this.top=o-this.height/2),!0===this.options.shapeProperties.useBorderWithImage){var k=this.options.borderWidth,I=this.options.borderWidthSelected||2*this.options.borderWidth,$=(u?I:k)/this.body.view.scale;r.lineWidth=Math.min(this.width,$),r.beginPath();var D=u?this.options.color.highlight.border:h?this.options.color.hover.border:this.options.color.border,N=u?this.options.color.highlight.background:h?this.options.color.hover.background:this.options.color.background;void 0!==f.opacity&&(D=Gn(D,f.opacity),N=Gn(N,f.opacity)),r.strokeStyle=D,r.fillStyle=N,r.rect(this.left-.5*r.lineWidth,this.top-.5*r.lineWidth,this.width+r.lineWidth,this.height+r.lineWidth),qu(r).call(r),this.performStroke(r,f),r.closePath()}this._drawImageAtPosition(r,f),this._drawImageLabel(r,b,E,u,h),this.updateBoundingBox(i,o),r.restore()}},{key:"updateBoundingBox",value:function(r,i){this.resize(),"top-left"===this.options.shapeProperties.coordinateOrigin?(this.left=r,this.top=i):(this.left=r-this.width/2,this.top=i-this.height/2),this.boundingBox.left=this.left,this.boundingBox.top=this.top,this.boundingBox.bottom=this.top+this.height,this.boundingBox.right=this.left+this.width,void 0!==this.options.label&&this.labelModule.size.width>0&&(this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelOffset))}},{key:"distanceToBorder",value:function(r,i){return this._distanceToBorder(r,i)}}]),t}(Pv);function bm(n){var e=function(){if(typeof Reflect>"u"||!K||K.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(K(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var t,r=be(n);if(e){var i=be(this).constructor;t=K(r,arguments,i)}else t=r.apply(this,arguments);return yt(this,t)}}var D_=function(n){nt(t,n);var e=bm(t);function t(r,i,o){return oe(this,t),e.call(this,r,i,o)}return ce(t,[{key:"draw",value:function(r,i,o,u,h,f){return this._drawShape(r,"square",2,i,o,u,h,f)}},{key:"distanceToBorder",value:function(r,i){return this._distanceToBorder(r,i)}}]),t}(hi);function A_(n){var e=function(){if(typeof Reflect>"u"||!K||K.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(K(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var t,r=be(n);if(e){var i=be(this).constructor;t=K(r,arguments,i)}else t=r.apply(this,arguments);return yt(this,t)}}var M_=function(n){nt(t,n);var e=A_(t);function t(r,i,o){return oe(this,t),e.call(this,r,i,o)}return ce(t,[{key:"draw",value:function(r,i,o,u,h,f){return this._drawShape(r,"hexagon",4,i,o,u,h,f)}},{key:"distanceToBorder",value:function(r,i){return this._distanceToBorder(r,i)}}]),t}(hi);function N_(n){var e=function(){if(typeof Reflect>"u"||!K||K.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(K(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var t,r=be(n);if(e){var i=be(this).constructor;t=K(r,arguments,i)}else t=r.apply(this,arguments);return yt(this,t)}}var Sx=function(n){nt(t,n);var e=N_(t);function t(r,i,o){return oe(this,t),e.call(this,r,i,o)}return ce(t,[{key:"draw",value:function(r,i,o,u,h,f){return this._drawShape(r,"star",4,i,o,u,h,f)}},{key:"distanceToBorder",value:function(r,i){return this._distanceToBorder(r,i)}}]),t}(hi);function wm(n){var e=function(){if(typeof Reflect>"u"||!K||K.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(K(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var t,r=be(n);if(e){var i=be(this).constructor;t=K(r,arguments,i)}else t=r.apply(this,arguments);return yt(this,t)}}var R_=function(n){nt(t,n);var e=wm(t);function t(r,i,o){var u;return oe(this,t),(u=e.call(this,r,i,o))._setMargins(o),u}return ce(t,[{key:"resize",value:function(r,i,o){this.needsRefresh(i,o)&&(this.textSize=this.labelModule.getTextSize(r,i,o),this.width=this.textSize.width+this.margin.right+this.margin.left,this.height=this.textSize.height+this.margin.top+this.margin.bottom,this.radius=.5*this.width)}},{key:"draw",value:function(r,i,o,u,h,f){this.resize(r,u,h),this.left=i-this.width/2,this.top=o-this.height/2,this.enableShadow(r,f),this.labelModule.draw(r,this.left+this.textSize.width/2+this.margin.left,this.top+this.textSize.height/2+this.margin.top,u,h),this.disableShadow(r,f),this.updateBoundingBox(i,o,r,u,h)}},{key:"distanceToBorder",value:function(r,i){return this._distanceToBorder(r,i)}}]),t}(Ao);function Ch(n){var e=function(){if(typeof Reflect>"u"||!K||K.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(K(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var t,r=be(n);if(e){var i=be(this).constructor;t=K(r,arguments,i)}else t=r.apply(this,arguments);return yt(this,t)}}var _m=function(n){nt(t,n);var e=Ch(t);function t(r,i,o){return oe(this,t),e.call(this,r,i,o)}return ce(t,[{key:"draw",value:function(r,i,o,u,h,f){return this._drawShape(r,"triangle",3,i,o,u,h,f)}},{key:"distanceToBorder",value:function(r,i){return this._distanceToBorder(r,i)}}]),t}(hi);function j_(n){var e=function(){if(typeof Reflect>"u"||!K||K.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(K(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var t,r=be(n);if(e){var i=be(this).constructor;t=K(r,arguments,i)}else t=r.apply(this,arguments);return yt(this,t)}}var Em=function(n){nt(t,n);var e=j_(t);function t(r,i,o){return oe(this,t),e.call(this,r,i,o)}return ce(t,[{key:"draw",value:function(r,i,o,u,h,f){return this._drawShape(r,"triangleDown",3,i,o,u,h,f)}},{key:"distanceToBorder",value:function(r,i){return this._distanceToBorder(r,i)}}]),t}(hi);function km(n,e){var t=Mt(n);if(zi){var r=zi(n);e&&(r=Vr(r).call(r,function(i){return xa(n,i).enumerable})),t.push.apply(t,r)}return t}function Om(n){for(var e=1;e<arguments.length;e++){var t,r,i=null!=arguments[e]?arguments[e]:{};e%2?wt(t=km(Object(i),!0)).call(t,function(o){Ia(n,o,i[o])}):An?gl(n,An(i)):wt(r=km(Object(i))).call(r,function(o){Wi(n,o,xa(i,o))})}return n}var Nn=function(){function n(e,t,r,i,o,u){oe(this,n),this.options=xo(o),this.globalOptions=o,this.defaultOptions=u,this.body=t,this.edges=[],this.id=void 0,this.imagelist=r,this.grouplist=i,this.x=void 0,this.y=void 0,this.baseSize=this.options.size,this.baseFontSize=this.options.font.size,this.predefinedPosition=!1,this.selected=!1,this.hover=!1,this.labelModule=new Iv(this.body,this.options,!1),this.setOptions(e)}return ce(n,[{key:"attachEdge",value:function(e){var t;-1===at(t=this.edges).call(t,e)&&this.edges.push(e)}},{key:"detachEdge",value:function(e){var t,r,i=at(t=this.edges).call(t,e);-1!=i&&oi(r=this.edges).call(r,i,1)}},{key:"setOptions",value:function(e){var t=this.options.shape;if(e){if(void 0!==e.color&&(this._localColor=e.color),void 0!==e.id&&(this.id=e.id),void 0===this.id)throw new Error("Node must have an id");n.checkMass(e,this.id),void 0!==e.x&&(null===e.x?(this.x=void 0,this.predefinedPosition=!1):(this.x=hn(e.x),this.predefinedPosition=!0)),void 0!==e.y&&(null===e.y?(this.y=void 0,this.predefinedPosition=!1):(this.y=hn(e.y),this.predefinedPosition=!0)),void 0!==e.size&&(this.baseSize=e.size),void 0!==e.value&&(e.value=im(e.value)),n.parseOptions(this.options,e,!0,this.globalOptions,this.grouplist);var r=[e,this.options,this.defaultOptions];return this.chooser=Rs("node",r),this._load_images(),this.updateLabelModule(e),void 0!==e.opacity&&n.checkOpacity(e.opacity)&&(this.options.opacity=e.opacity),this.updateShape(t),void 0!==e.hidden||void 0!==e.physics}}},{key:"_load_images",value:function(){if(("circularImage"===this.options.shape||"image"===this.options.shape)&&void 0===this.options.image)throw new Error("Option image must be defined for node type '"+this.options.shape+"'");if(void 0!==this.options.image){if(void 0===this.imagelist)throw new Error("Internal Error: No images provided");if("string"==typeof this.options.image)this.imageObj=this.imagelist.load(this.options.image,this.options.brokenImage,this.id);else{if(void 0===this.options.image.unselected)throw new Error("No unselected image provided");this.imageObj=this.imagelist.load(this.options.image.unselected,this.options.brokenImage,this.id),void 0!==this.options.image.selected?this.imageObjAlt=this.imagelist.load(this.options.image.selected,this.options.brokenImage,this.id):this.imageObjAlt=void 0}}}},{key:"getFormattingValues",value:function(){var e={color:this.options.color.background,opacity:this.options.opacity,borderWidth:this.options.borderWidth,borderColor:this.options.color.border,size:this.options.size,borderDashes:this.options.shapeProperties.borderDashes,borderRadius:this.options.shapeProperties.borderRadius,shadow:this.options.shadow.enabled,shadowColor:this.options.shadow.color,shadowSize:this.options.shadow.size,shadowX:this.options.shadow.x,shadowY:this.options.shadow.y};if(this.selected||this.hover?!0===this.chooser?this.selected?(null!=this.options.borderWidthSelected?e.borderWidth=this.options.borderWidthSelected:e.borderWidth*=2,e.color=this.options.color.highlight.background,e.borderColor=this.options.color.highlight.border,e.shadow=this.options.shadow.enabled):this.hover&&(e.color=this.options.color.hover.background,e.borderColor=this.options.color.hover.border,e.shadow=this.options.shadow.enabled):"function"==typeof this.chooser&&(this.chooser(e,this.options.id,this.selected,this.hover),!1===e.shadow&&(e.shadowColor===this.options.shadow.color&&e.shadowSize===this.options.shadow.size&&e.shadowX===this.options.shadow.x&&e.shadowY===this.options.shadow.y||(e.shadow=!0))):e.shadow=this.options.shadow.enabled,void 0!==this.options.opacity){var t=this.options.opacity;e.borderColor=Gn(e.borderColor,t),e.color=Gn(e.color,t),e.shadowColor=Gn(e.shadowColor,t)}return e}},{key:"updateLabelModule",value:function(e){void 0!==this.options.label&&null!==this.options.label||(this.options.label=""),n.updateGroupOptions(this.options,Om(Om({},e),{},{color:e&&e.color||this._localColor||void 0}),this.grouplist);var t=this.grouplist.get(this.options.group,!1),r=[e,this.options,t,this.globalOptions,this.defaultOptions];this.labelModule.update(this.options,r),void 0!==this.labelModule.baseSize&&(this.baseFontSize=this.labelModule.baseSize)}},{key:"updateShape",value:function(e){if(e===this.options.shape&&this.shape)this.shape.setOptions(this.options,this.imageObj,this.imageObjAlt);else switch(this.options.shape){case"box":this.shape=new I_(this.options,this.body,this.labelModule);break;case"circle":this.shape=new _x(this.options,this.body,this.labelModule);break;case"circularImage":this.shape=new Ex(this.options,this.body,this.labelModule,this.imageObj,this.imageObjAlt);break;case"custom":this.shape=new Mo(this.options,this.body,this.labelModule,this.options.ctxRenderer);break;case"database":this.shape=new Vi(this.options,this.body,this.labelModule);break;case"diamond":this.shape=new Ox(this.options,this.body,this.labelModule);break;case"dot":this.shape=new P_(this.options,this.body,this.labelModule);break;case"ellipse":default:this.shape=new ym(this.options,this.body,this.labelModule);break;case"icon":this.shape=new C_(this.options,this.body,this.labelModule);break;case"image":this.shape=new $_(this.options,this.body,this.labelModule,this.imageObj,this.imageObjAlt);break;case"square":this.shape=new D_(this.options,this.body,this.labelModule);break;case"hexagon":this.shape=new M_(this.options,this.body,this.labelModule);break;case"star":this.shape=new Sx(this.options,this.body,this.labelModule);break;case"text":this.shape=new R_(this.options,this.body,this.labelModule);break;case"triangle":this.shape=new _m(this.options,this.body,this.labelModule);break;case"triangleDown":this.shape=new Em(this.options,this.body,this.labelModule)}this.needsRefresh()}},{key:"select",value:function(){this.selected=!0,this.needsRefresh()}},{key:"unselect",value:function(){this.selected=!1,this.needsRefresh()}},{key:"needsRefresh",value:function(){this.shape.refreshNeeded=!0}},{key:"getTitle",value:function(){return this.options.title}},{key:"distanceToBorder",value:function(e,t){return this.shape.distanceToBorder(e,t)}},{key:"isFixed",value:function(){return this.options.fixed.x&&this.options.fixed.y}},{key:"isSelected",value:function(){return this.selected}},{key:"getValue",value:function(){return this.options.value}},{key:"getLabelSize",value:function(){return this.labelModule.size()}},{key:"setValueRange",value:function(e,t,r){if(void 0!==this.options.value){var i=this.options.scaling.customScalingFunction(e,t,r,this.options.value),o=this.options.scaling.max-this.options.scaling.min;if(!0===this.options.scaling.label.enabled){var u=this.options.scaling.label.max-this.options.scaling.label.min;this.options.font.size=this.options.scaling.label.min+i*u}this.options.size=this.options.scaling.min+i*o}else this.options.size=this.baseSize,this.options.font.size=this.baseFontSize;this.updateLabelModule()}},{key:"draw",value:function(e){var t=this.getFormattingValues();return this.shape.draw(e,this.x,this.y,this.selected,this.hover,t)||{}}},{key:"updateBoundingBox",value:function(e){this.shape.updateBoundingBox(this.x,this.y,e)}},{key:"resize",value:function(e){var t=this.getFormattingValues();this.shape.resize(e,this.selected,this.hover,t)}},{key:"getItemsOnPoint",value:function(e){var t=[];return this.labelModule.visible()&&js(this.labelModule.getSize(),e)&&t.push({nodeId:this.id,labelId:0}),js(this.shape.boundingBox,e)&&t.push({nodeId:this.id}),t}},{key:"isOverlappingWith",value:function(e){return this.shape.left<e.right&&this.shape.left+this.shape.width>e.left&&this.shape.top<e.bottom&&this.shape.top+this.shape.height>e.top}},{key:"isBoundingBoxOverlappingWith",value:function(e){return this.shape.boundingBox.left<e.right&&this.shape.boundingBox.right>e.left&&this.shape.boundingBox.top<e.bottom&&this.shape.boundingBox.bottom>e.top}}],[{key:"checkOpacity",value:function(e){return 0<=e&&e<=1}},{key:"checkCoordinateOrigin",value:function(e){return void 0===e||"center"===e||"top-left"===e}},{key:"updateGroupOptions",value:function(e,t,r){var i;if(void 0!==r){var o=e.group;if(void 0!==t&&void 0!==t.group&&o!==t.group)throw new Error("updateGroupOptions: group values in options don't match.");if("number"==typeof o||"string"==typeof o&&""!=o){var u=r.get(o);void 0!==u.opacity&&void 0===t.opacity&&(n.checkOpacity(u.opacity)||(console.error("Invalid option for node opacity. Value must be between 0 and 1, found: "+u.opacity),u.opacity=void 0));var h=Vr(i=Eh(t)).call(i,function(f){return null!=t[f]});h.push("font"),ba(h,e,u),e.color=sh(e.color)}}}},{key:"parseOptions",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=arguments.length>4?arguments[4]:void 0;if(ba(["color","fixed","shadow"],e,t,r),n.checkMass(t),void 0!==e.opacity&&(n.checkOpacity(e.opacity)||(console.error("Invalid option for node opacity. Value must be between 0 and 1, found: "+e.opacity),e.opacity=void 0)),void 0!==t.opacity&&(n.checkOpacity(t.opacity)||(console.error("Invalid option for node opacity. Value must be between 0 and 1, found: "+t.opacity),t.opacity=void 0)),t.shapeProperties&&!n.checkCoordinateOrigin(t.shapeProperties.coordinateOrigin)&&console.error("Invalid option for node coordinateOrigin, found: "+t.shapeProperties.coordinateOrigin),hr(e,t,"shadow",i),void 0!==t.color&&null!==t.color){var u=sh(t.color);ah(e.color,u)}else!0===r&&null===t.color&&(e.color=xo(i.color));void 0!==t.fixed&&null!==t.fixed&&("boolean"==typeof t.fixed?(e.fixed.x=t.fixed,e.fixed.y=t.fixed):(void 0!==t.fixed.x&&"boolean"==typeof t.fixed.x&&(e.fixed.x=t.fixed.x),void 0!==t.fixed.y&&"boolean"==typeof t.fixed.y&&(e.fixed.y=t.fixed.y))),!0===r&&null===t.font&&(e.font=xo(i.font)),n.updateGroupOptions(e,t,o),void 0!==t.scaling&&hr(e.scaling,t.scaling,"label",i.scaling)}},{key:"checkMass",value:function(e,t){if(void 0!==e.mass&&e.mass<=0){var r="";void 0!==t&&(r=" in node id: "+t),console.error("%cNegative or zero mass disallowed"+r+", setting mass to 1.",z1),e.mass=1}}}]),n}();function F_(n,e){var t=void 0!==mo&&Ir(n)||n["@@iterator"];if(!t){if(gt(n)||(t=function(f,b){var E;if(f){if("string"==typeof f)return Sm(f,b);var k=br(E=Object.prototype.toString.call(f)).call(E,8,-1);if("Object"===k&&f.constructor&&(k=f.constructor.name),"Map"===k||"Set"===k)return ns(f);if("Arguments"===k||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(k))return Sm(f,b)}}(n))||e&&n&&"number"==typeof n.length){t&&(n=t);var r=0,i=function(){};return{s:i,n:function(){return r>=n.length?{done:!0}:{done:!1,value:n[r++]}},e:function(f){throw f},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,u=!0,h=!1;return{s:function(){t=t.call(n)},n:function(){var f=t.next();return u=f.done,f},e:function(f){h=!0,o=f},f:function(){try{u||null==t.return||t.return()}finally{if(h)throw o}}}}function Sm(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}var xx=function(){function n(e,t,r,i){var o,u=this;if(oe(this,n),this.body=e,this.images=t,this.groups=r,this.layoutEngine=i,this.body.functions.createNode=ee(o=this.create).call(o,this),this.nodesListeners={add:function(h,f){u.add(f.items)},update:function(h,f){u.update(f.items,f.data,f.oldData)},remove:function(h,f){u.remove(f.items)}},this.defaultOptions={borderWidth:1,borderWidthSelected:void 0,brokenImage:void 0,color:{border:"#2B7CE9",background:"#97C2FC",highlight:{border:"#2B7CE9",background:"#D2E5FF"},hover:{border:"#2B7CE9",background:"#D2E5FF"}},opacity:void 0,fixed:{x:!1,y:!1},font:{color:"#343434",size:14,face:"arial",background:"none",strokeWidth:0,strokeColor:"#ffffff",align:"center",vadjust:0,multi:!1,bold:{mod:"bold"},boldital:{mod:"bold italic"},ital:{mod:"italic"},mono:{mod:"",size:15,face:"monospace",vadjust:2}},group:void 0,hidden:!1,icon:{face:"FontAwesome",code:void 0,size:50,color:"#2B7CE9"},image:void 0,imagePadding:{top:0,right:0,bottom:0,left:0},label:void 0,labelHighlightBold:!0,level:void 0,margin:{top:5,right:5,bottom:5,left:5},mass:1,physics:!0,scaling:{min:10,max:30,label:{enabled:!1,min:14,max:30,maxVisible:30,drawThreshold:5},customScalingFunction:function(h,f,b,E){if(f===h)return.5;var k=1/(f-h);return Math.max(0,(E-h)*k)}},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:10,x:5,y:5},shape:"ellipse",shapeProperties:{borderDashes:!1,borderRadius:6,interpolation:!0,useImageSize:!1,useBorderWithImage:!1,coordinateOrigin:"center"},size:25,title:void 0,value:void 0,x:void 0,y:void 0},this.defaultOptions.mass<=0)throw"Internal error: mass in defaultOptions of NodesHandler may not be zero or negative";this.options=xo(this.defaultOptions),this.bindEventListeners()}return ce(n,[{key:"bindEventListeners",value:function(){var e,t,r=this;this.body.emitter.on("refreshNodes",ee(e=this.refresh).call(e,this)),this.body.emitter.on("refresh",ee(t=this.refresh).call(t,this)),this.body.emitter.on("destroy",function(){Ke(r.nodesListeners,function(i,o){r.body.data.nodes&&r.body.data.nodes.off(o,i)}),delete r.body.functions.createNode,delete r.nodesListeners.add,delete r.nodesListeners.update,delete r.nodesListeners.remove,delete r.nodesListeners})}},{key:"setOptions",value:function(e){if(void 0!==e){if(Nn.parseOptions(this.options,e),void 0!==e.opacity&&(bv(e.opacity)||!Co(e.opacity)||e.opacity<0||e.opacity>1?console.error("Invalid option for node opacity. Value must be between 0 and 1, found: "+e.opacity):this.options.opacity=e.opacity),void 0!==e.shape)for(var t in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,t)&&this.body.nodes[t].updateShape();if(void 0!==e.font||void 0!==e.widthConstraint||void 0!==e.heightConstraint)for(var r=0,i=Mt(this.body.nodes);r<i.length;r++){var o=i[r];this.body.nodes[o].updateLabelModule(),this.body.nodes[o].needsRefresh()}if(void 0!==e.size)for(var u in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,u)&&this.body.nodes[u].needsRefresh();void 0===e.hidden&&void 0===e.physics||this.body.emitter.emit("_dataChanged")}}},{key:"setData",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=this.body.data.nodes;if(Qt.isDataViewLike("id",e))this.body.data.nodes=e;else if(gt(e))this.body.data.nodes=new Qt.DataSet,this.body.data.nodes.add(e);else{if(e)throw new TypeError("Array or DataSet expected");this.body.data.nodes=new Qt.DataSet}if(r&&Ke(this.nodesListeners,function(u,h){r.off(h,u)}),this.body.nodes={},this.body.data.nodes){var i=this;Ke(this.nodesListeners,function(u,h){i.body.data.nodes.on(h,u)});var o=this.body.data.nodes.getIds();this.add(o,!0)}!1===t&&this.body.emitter.emit("_dataChanged")}},{key:"add",value:function(e){for(var t,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=[],o=0;o<e.length;o++){t=e[o];var u=this.body.data.nodes.get(t),h=this.create(u);i.push(h),this.body.nodes[t]=h}this.layoutEngine.positionInitially(i),!1===r&&this.body.emitter.emit("_dataChanged")}},{key:"update",value:function(e,t,r){for(var i=this.body.nodes,o=!1,u=0;u<e.length;u++){var h=e[u],f=i[h],b=t[u];void 0!==f?f.setOptions(b)&&(o=!0):(o=!0,f=this.create(b),i[h]=f)}o||void 0===r||(o=p_(t).call(t,function(E,k){var I=r[k];return I&&I.level!==E.level})),!0===o?this.body.emitter.emit("_dataChanged"):this.body.emitter.emit("_dataUpdated")}},{key:"remove",value:function(e){for(var t=this.body.nodes,r=0;r<e.length;r++)delete t[e[r]];this.body.emitter.emit("_dataChanged")}},{key:"create",value:function(e){return new(arguments.length>1&&void 0!==arguments[1]?arguments[1]:Nn)(e,this.body,this.images,this.groups,this.options,this.defaultOptions)}},{key:"refresh",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];Ke(this.body.nodes,function(r,i){var o=e.body.data.nodes.get(i);void 0!==o&&(!0===t&&r.setOptions({x:null,y:null}),r.setOptions({fixed:!1}),r.setOptions(o))})}},{key:"getPositions",value:function(e){var t={};if(void 0!==e){if(!0===gt(e)){for(var r=0;r<e.length;r++)if(void 0!==this.body.nodes[e[r]]){var i=this.body.nodes[e[r]];t[e[r]]={x:Math.round(i.x),y:Math.round(i.y)}}}else if(void 0!==this.body.nodes[e]){var o=this.body.nodes[e];t[e]={x:Math.round(o.x),y:Math.round(o.y)}}}else for(var u=0;u<this.body.nodeIndices.length;u++){var h=this.body.nodes[this.body.nodeIndices[u]];t[this.body.nodeIndices[u]]={x:Math.round(h.x),y:Math.round(h.y)}}return t}},{key:"getPosition",value:function(e){if(null==e)throw new TypeError("No id was specified for getPosition method.");if(null==this.body.nodes[e])throw new ReferenceError("NodeId provided for getPosition does not exist. Provided: ".concat(e));return{x:Math.round(this.body.nodes[e].x),y:Math.round(this.body.nodes[e].y)}}},{key:"storePositions",value:function(){var e,t=[],r=this.body.data.nodes.getDataSet(),i=F_(r.get());try{for(i.s();!(e=i.n()).done;){var o=e.value,u=o.id,h=this.body.nodes[u],f=Math.round(h.x),b=Math.round(h.y);o.x===f&&o.y===b||t.push({id:u,x:f,y:b})}}catch(E){i.e(E)}finally{i.f()}r.update(t)}},{key:"getBoundingBox",value:function(e){if(void 0!==this.body.nodes[e])return this.body.nodes[e].shape.boundingBox}},{key:"getConnectedNodes",value:function(e,t){var r=[];if(void 0!==this.body.nodes[e])for(var i=this.body.nodes[e],o={},u=0;u<i.edges.length;u++){var h=i.edges[u];"to"!==t&&h.toId==i.id?void 0===o[h.fromId]&&(r.push(h.fromId),o[h.fromId]=!0):"from"!==t&&h.fromId==i.id&&void 0===o[h.toId]&&(r.push(h.toId),o[h.toId]=!0)}return r}},{key:"getConnectedEdges",value:function(e){var t=[];if(void 0!==this.body.nodes[e])for(var r=this.body.nodes[e],i=0;i<r.edges.length;i++)t.push(r.edges[i].id);else console.error("NodeId provided for getConnectedEdges does not exist. Provided: ",e);return t}},{key:"moveNode",value:function(e,t,r){var i=this;void 0!==this.body.nodes[e]?(this.body.nodes[e].x=Number(t),this.body.nodes[e].y=Number(r),vn(function(){i.body.emitter.emit("startSimulation")},0)):console.error("Node id supplied to moveNode does not exist. Provided: ",e)}}]),n}(),$v=or,B_=ot,Tx=L,Ix=On,L_=function(n){return void 0!==n&&($v(n,"value")||$v(n,"writable"))},Px=pr,z_=Qo;De({target:"Reflect",stat:!0},{get:function n(e,t){var r,i,o=arguments.length<3?e:arguments[2];return Ix(e)===o?e[t]:(r=Px.f(e,t))?L_(r)?r.value:void 0===r.get?void 0:B_(r.get,o):Tx(i=z_(e))?n(i,t,o):void 0}});var kl=ge(G.Reflect.get),Cx=ge(Ev);function di(){var n;return di=typeof Reflect<"u"&&kl?hm(n=kl).call(n):function(e,t,r){var i=function(u,h){for(;!Object.prototype.hasOwnProperty.call(u,h)&&null!==(u=be(u)););return u}(e,t);if(i){var o=Cx(i,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},di.apply(this,arguments)}var $h=De,xm=Math.hypot,Dv=Math.abs,$x=Math.sqrt;$h({target:"Math",stat:!0,arity:2,forced:!!xm&&xm(1/0,NaN)!==1/0},{hypot:function(n,e){for(var t,r,i=0,o=0,u=arguments.length,h=0;o<u;)h<(t=Dv(arguments[o++]))?(i=i*(r=h/t)*r+1,h=t):i+=t>0?(r=t/h)*r:t;return h===1/0?1/0:h*$x(i)}});var Dx=ge(G.Math.hypot);function qi(n){var e=function(){if(typeof Reflect>"u"||!K||K.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(K(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var t,r=be(n);if(e){var i=be(this).constructor;t=K(r,arguments,i)}else t=r.apply(this,arguments);return yt(this,t)}}var Lt=function(){function n(){oe(this,n)}return ce(n,null,[{key:"transform",value:function(e,t){gt(e)||(e=[e]);for(var r=t.point.x,i=t.point.y,o=t.angle,u=t.length,h=0;h<e.length;++h){var f=e[h],b=f.x*Math.cos(o)-f.y*Math.sin(o),E=f.x*Math.sin(o)+f.y*Math.cos(o);f.x=r+u*b,f.y=i+u*E}}},{key:"drawPath",value:function(e,t){e.beginPath(),e.moveTo(t[0].x,t[0].y);for(var r=1;r<t.length;++r)e.lineTo(t[r].x,t[r].y);e.closePath()}}]),n}(),Ax=function(n){nt(t,n);var e=qi(t);function t(){return oe(this,t),e.apply(this,arguments)}return ce(t,null,[{key:"draw",value:function(r,i){if(i.image){r.save(),r.translate(i.point.x,i.point.y),r.rotate(Math.PI/2+i.angle);var o=null!=i.imageWidth?i.imageWidth:i.image.width,u=null!=i.imageHeight?i.imageHeight:i.image.height;i.image.drawImageAtPosition(r,1,-o/2,0,o,u),r.restore()}return!1}}]),t}(Lt),Mx=function(n){nt(t,n);var e=qi(t);function t(){return oe(this,t),e.apply(this,arguments)}return ce(t,null,[{key:"draw",value:function(r,i){var o=[{x:0,y:0},{x:-1,y:.3},{x:-.9,y:0},{x:-1,y:-.3}];return Lt.transform(o,i),Lt.drawPath(r,o),!0}}]),t}(Lt),H_=function(){function n(){oe(this,n)}return ce(n,null,[{key:"draw",value:function(e,t){var r=[{x:-1,y:0},{x:0,y:.3},{x:-.4,y:0},{x:0,y:-.3}];return Lt.transform(r,t),Lt.drawPath(e,r),!0}}]),n}(),W_=function(){function n(){oe(this,n)}return ce(n,null,[{key:"draw",value:function(e,t){var r={x:-.4,y:0};Lt.transform(r,t),e.strokeStyle=e.fillStyle,e.fillStyle="rgba(0, 0, 0, 0)";var i=Math.PI,o=t.angle-i/2,u=t.angle+i/2;return e.beginPath(),e.arc(r.x,r.y,.4*t.length,o,u,!1),e.stroke(),!0}}]),n}(),Nx=function(){function n(){oe(this,n)}return ce(n,null,[{key:"draw",value:function(e,t){var r={x:-.3,y:0};Lt.transform(r,t),e.strokeStyle=e.fillStyle,e.fillStyle="rgba(0, 0, 0, 0)";var i=Math.PI,o=t.angle+i/2,u=t.angle+3*i/2;return e.beginPath(),e.arc(r.x,r.y,.4*t.length,o,u,!1),e.stroke(),!0}}]),n}(),U_=function(){function n(){oe(this,n)}return ce(n,null,[{key:"draw",value:function(e,t){var r=[{x:.02,y:0},{x:-1,y:.3},{x:-1,y:-.3}];return Lt.transform(r,t),Lt.drawPath(e,r),!0}}]),n}(),Tm=function(){function n(){oe(this,n)}return ce(n,null,[{key:"draw",value:function(e,t){var r=[{x:0,y:.3},{x:0,y:-.3},{x:-1,y:0}];return Lt.transform(r,t),Lt.drawPath(e,r),!0}}]),n}(),Rx=function(){function n(){oe(this,n)}return ce(n,null,[{key:"draw",value:function(e,t){var r={x:-.4,y:0};return Lt.transform(r,t),lp(e,r.x,r.y,.4*t.length),!0}}]),n}(),Im=function(){function n(){oe(this,n)}return ce(n,null,[{key:"draw",value:function(e,t){var r=[{x:0,y:.5},{x:0,y:-.5},{x:-.15,y:-.5},{x:-.15,y:.5}];return Lt.transform(r,t),Lt.drawPath(e,r),!0}}]),n}(),jx=function(){function n(){oe(this,n)}return ce(n,null,[{key:"draw",value:function(e,t){var r=[{x:0,y:.3},{x:0,y:-.3},{x:-.6,y:-.3},{x:-.6,y:.3}];return Lt.transform(r,t),Lt.drawPath(e,r),!0}}]),n}(),Pm=function(){function n(){oe(this,n)}return ce(n,null,[{key:"draw",value:function(e,t){var r=[{x:0,y:0},{x:-.5,y:-.3},{x:-1,y:0},{x:-.5,y:.3}];return Lt.transform(r,t),Lt.drawPath(e,r),!0}}]),n}(),Cm=function(){function n(){oe(this,n)}return ce(n,null,[{key:"draw",value:function(e,t){var r=[{x:-1,y:.3},{x:-.5,y:0},{x:-1,y:-.3},{x:0,y:0}];return Lt.transform(r,t),Lt.drawPath(e,r),!0}}]),n}(),$m=function(){function n(){oe(this,n)}return ce(n,null,[{key:"draw",value:function(e,t){var r;switch(t.type&&(r=t.type.toLowerCase()),r){case"image":return Ax.draw(e,t);case"circle":return Rx.draw(e,t);case"box":return jx.draw(e,t);case"crow":return H_.draw(e,t);case"curve":return W_.draw(e,t);case"diamond":return Pm.draw(e,t);case"inv_curve":return Nx.draw(e,t);case"triangle":return U_.draw(e,t);case"inv_triangle":return Tm.draw(e,t);case"bar":return Im.draw(e,t);case"vee":return Cm.draw(e,t);default:return Mx.draw(e,t)}}}]),n}();function Av(n,e){var t=Mt(n);if(zi){var r=zi(n);e&&(r=Vr(r).call(r,function(i){return xa(n,i).enumerable})),t.push.apply(t,r)}return t}function Dm(n){for(var e=1;e<arguments.length;e++){var t,r,i=null!=arguments[e]?arguments[e]:{};e%2?wt(t=Av(Object(i),!0)).call(t,function(o){Ia(n,o,i[o])}):An?gl(n,An(i)):wt(r=Av(Object(i))).call(r,function(o){Wi(n,o,xa(i,o))})}return n}var V_=function(){function n(e,t,r){oe(this,n),this._body=t,this._labelModule=r,this.color={},this.colorDirty=!0,this.hoverWidth=1.5,this.selectionWidth=2,this.setOptions(e),this.fromPoint=this.from,this.toPoint=this.to}return ce(n,[{key:"connect",value:function(){this.from=this._body.nodes[this.options.from],this.to=this._body.nodes[this.options.to]}},{key:"cleanup",value:function(){return!1}},{key:"setOptions",value:function(e){this.options=e,this.from=this._body.nodes[this.options.from],this.to=this._body.nodes[this.options.to],this.id=this.options.id}},{key:"drawLine",value:function(e,t,r,i){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:this.getViaNode();e.strokeStyle=this.getColor(e,t),e.lineWidth=t.width,!1!==t.dashes?this._drawDashedLine(e,t,o):this._drawLine(e,t,o)}},{key:"_drawLine",value:function(e,t,r,i,o){if(this.from!=this.to)this._line(e,t,r,i,o);else{var u=At(this._getCircleData(e),3),h=u[0],f=u[1],b=u[2];this._circle(e,t,h,f,b)}}},{key:"_drawDashedLine",value:function(e,t,r,i,o){e.lineCap="round";var u=gt(t.dashes)?t.dashes:[5,5];if(void 0!==e.setLineDash){if(e.save(),e.setLineDash(u),e.lineDashOffset=0,this.from!=this.to)this._line(e,t,r);else{var h=At(this._getCircleData(e),3),f=h[0],b=h[1],E=h[2];this._circle(e,t,f,b,E)}e.setLineDash([0]),e.lineDashOffset=0,e.restore()}else{if(this.from!=this.to)Nb(e,this.from.x,this.from.y,this.to.x,this.to.y,u);else{var k=At(this._getCircleData(e),3),I=k[0],$=k[1],D=k[2];this._circle(e,t,I,$,D)}this.enableShadow(e,t),e.stroke(),this.disableShadow(e,t)}}},{key:"findBorderPosition",value:function(e,t,r){return this.from!=this.to?this._findBorderPosition(e,t,r):this._findBorderPositionCircle(e,t,r)}},{key:"findBorderPositions",value:function(e){if(this.from!=this.to)return{from:this._findBorderPosition(this.from,e),to:this._findBorderPosition(this.to,e)};var t,r=At(br(t=this._getCircleData(e)).call(t,0,2),2),i=r[0],o=r[1];return{from:this._findBorderPositionCircle(this.from,e,{x:i,y:o,low:.25,high:.6,direction:-1}),to:this._findBorderPositionCircle(this.from,e,{x:i,y:o,low:.6,high:.8,direction:1})}}},{key:"_getCircleData",value:function(e){var t=this.options.selfReference.size;void 0!==e&&void 0===this.from.shape.width&&this.from.shape.resize(e);var r=ci(e,this.options.selfReference.angle,t,this.from);return[r.x,r.y,t]}},{key:"_pointOnCircle",value:function(e,t,r,i){var o=2*i*Math.PI;return{x:e+r*Math.cos(o),y:t-r*Math.sin(o)}}},{key:"_findBorderPositionCircle",value:function(e,t,r){var i,o=r.x,u=r.y,h=r.low,f=r.high,b=r.direction,E=this.options.selfReference.size,k=.5*(h+f),I=0;!0===this.options.arrowStrikethrough&&(-1===b?I=this.options.endPointOffset.from:1===b&&(I=this.options.endPointOffset.to));var $=0;do{k=.5*(h+f),i=this._pointOnCircle(o,u,E,k);var D=Math.atan2(e.y-i.y,e.x-i.x),N=e.distanceToBorder(t,D)+I-Math.sqrt(Math.pow(i.x-e.x,2)+Math.pow(i.y-e.y,2));if(Math.abs(N)<.05)break;N>0?b>0?h=k:f=k:b>0?f=k:h=k,++$}while(h<=f&&$<10);return Dm(Dm({},i),{},{t:k})}},{key:"getLineWidth",value:function(e,t){return!0===e?Math.max(this.selectionWidth,.3/this._body.view.scale):!0===t?Math.max(this.hoverWidth,.3/this._body.view.scale):Math.max(this.options.width,.3/this._body.view.scale)}},{key:"getColor",value:function(e,t){if(!1!==t.inheritsColor){if("both"===t.inheritsColor&&this.from.id!==this.to.id){var r=e.createLinearGradient(this.from.x,this.from.y,this.to.x,this.to.y),i=this.from.options.color.highlight.border,o=this.to.options.color.highlight.border;return!1===this.from.selected&&!1===this.to.selected?(i=Gn(this.from.options.color.border,t.opacity),o=Gn(this.to.options.color.border,t.opacity)):!0===this.from.selected&&!1===this.to.selected?o=this.to.options.color.border:!1===this.from.selected&&!0===this.to.selected&&(i=this.from.options.color.border),r.addColorStop(0,i),r.addColorStop(1,o),r}return"to"===t.inheritsColor?Gn(this.to.options.color.border,t.opacity):Gn(this.from.options.color.border,t.opacity)}return Gn(t.color,t.opacity)}},{key:"_circle",value:function(e,t,r,i,o){this.enableShadow(e,t);var u=0,h=2*Math.PI;if(!this.options.selfReference.renderBehindTheNode){var f=this.options.selfReference.angle,b=this.options.selfReference.angle+Math.PI,E=this._findBorderPositionCircle(this.from,e,{x:r,y:i,low:f,high:b,direction:-1}),k=this._findBorderPositionCircle(this.from,e,{x:r,y:i,low:f,high:b,direction:1});u=Math.atan2(E.y-i,E.x-r),h=Math.atan2(k.y-i,k.x-r)}e.beginPath(),e.arc(r,i,o,u,h,!1),e.stroke(),this.disableShadow(e,t)}},{key:"getDistanceToEdge",value:function(e,t,r,i,o,u){if(this.from!=this.to)return this._getDistanceToEdge(e,t,r,i,o,u);var h=At(this._getCircleData(void 0),3),f=h[0],b=h[1],E=h[2],k=f-o,I=b-u;return Math.abs(Math.sqrt(k*k+I*I)-E)}},{key:"_getDistanceToLine",value:function(e,t,r,i,o,u){var h=r-e,f=i-t,b=((o-e)*h+(u-t)*f)/(h*h+f*f);b>1?b=1:b<0&&(b=0);var E=e+b*h-o,k=t+b*f-u;return Math.sqrt(E*E+k*k)}},{key:"getArrowData",value:function(e,t,r,i,o,u){var h,f,b,E,k,I,$,D=u.width;"from"===t?(b=this.from,E=this.to,k=u.fromArrowScale<0,I=Math.abs(u.fromArrowScale),$=u.fromArrowType):"to"===t?(b=this.to,E=this.from,k=u.toArrowScale<0,I=Math.abs(u.toArrowScale),$=u.toArrowType):(b=this.to,E=this.from,k=u.middleArrowScale<0,I=Math.abs(u.middleArrowScale),$=u.middleArrowType);var N=15*I+3*D;if(b!=E){var W=N/Dx(b.x-E.x,b.y-E.y);if("middle"!==t)if(!0===this.options.smooth.enabled){var Y=this._findBorderPosition(b,e,{via:r}),J=this.getPoint(Y.t+W*("from"===t?1:-1),r);h=Math.atan2(Y.y-J.y,Y.x-J.x),f=Y}else h=Math.atan2(b.y-E.y,b.x-E.x),f=this._findBorderPosition(b,e);else{var ue=(k?-W:W)/2,he=this.getPoint(.5+ue,r),Pe=this.getPoint(.5-ue,r);h=Math.atan2(he.y-Pe.y,he.x-Pe.x),f=this.getPoint(.5,r)}}else{var Je=At(this._getCircleData(e),3),Ve=Je[0],Be=Je[1],Se=Je[2];if("from"===t){var kt=this.options.selfReference.angle,st=this.options.selfReference.angle+Math.PI,xt=this._findBorderPositionCircle(this.from,e,{x:Ve,y:Be,low:kt,high:st,direction:-1});h=-2*xt.t*Math.PI+1.5*Math.PI+.1*Math.PI,f=xt}else if("to"===t){var Nt=this.options.selfReference.angle,Ut=this.options.selfReference.angle+Math.PI,Xi=this._findBorderPositionCircle(this.from,e,{x:Ve,y:Be,low:Nt,high:Ut,direction:1});h=-2*Xi.t*Math.PI+1.5*Math.PI-1.1*Math.PI,f=Xi}else{var kr=this.options.selfReference.angle/(2*Math.PI);f=this._pointOnCircle(Ve,Be,Se,kr),h=-2*kr*Math.PI+1.5*Math.PI+.1*Math.PI}}return{point:f,core:{x:f.x-.9*N*Math.cos(h),y:f.y-.9*N*Math.sin(h)},angle:h,length:N,type:$}}},{key:"drawArrowHead",value:function(e,t,r,i,o){e.strokeStyle=this.getColor(e,t),e.fillStyle=e.strokeStyle,e.lineWidth=t.width,$m.draw(e,o)&&(this.enableShadow(e,t),qu(e).call(e),this.disableShadow(e,t))}},{key:"enableShadow",value:function(e,t){!0===t.shadow&&(e.shadowColor=t.shadowColor,e.shadowBlur=t.shadowSize,e.shadowOffsetX=t.shadowX,e.shadowOffsetY=t.shadowY)}},{key:"disableShadow",value:function(e,t){!0===t.shadow&&(e.shadowColor="rgba(0,0,0,0)",e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0)}},{key:"drawBackground",value:function(e,t){if(!1!==t.background){var r={strokeStyle:e.strokeStyle,lineWidth:e.lineWidth,dashes:e.dashes};e.strokeStyle=t.backgroundColor,e.lineWidth=t.backgroundSize,this.setStrokeDashed(e,t.backgroundDashes),e.stroke(),e.strokeStyle=r.strokeStyle,e.lineWidth=r.lineWidth,e.dashes=r.dashes,this.setStrokeDashed(e,t.dashes)}}},{key:"setStrokeDashed",value:function(e,t){if(!1!==t)if(void 0!==e.setLineDash){var r=gt(t)?t:[5,5];e.setLineDash(r)}else console.warn("setLineDash is not supported in this browser. The dashed stroke cannot be used.");else void 0!==e.setLineDash?e.setLineDash([]):console.warn("setLineDash is not supported in this browser. The dashed stroke cannot be used.")}}]),n}();function Mv(n,e){var t=Mt(n);if(zi){var r=zi(n);e&&(r=Vr(r).call(r,function(i){return xa(n,i).enumerable})),t.push.apply(t,r)}return t}function Nv(n){for(var e=1;e<arguments.length;e++){var t,r,i=null!=arguments[e]?arguments[e]:{};e%2?wt(t=Mv(Object(i),!0)).call(t,function(o){Ia(n,o,i[o])}):An?gl(n,An(i)):wt(r=Mv(Object(i))).call(r,function(o){Wi(n,o,xa(i,o))})}return n}function No(n){var e=function(){if(typeof Reflect>"u"||!K||K.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(K(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var t,r=be(n);if(e){var i=be(this).constructor;t=K(r,arguments,i)}else t=r.apply(this,arguments);return yt(this,t)}}var Rv=function(n){nt(t,n);var e=No(t);function t(r,i,o){return oe(this,t),e.call(this,r,i,o)}return ce(t,[{key:"_findBorderPositionBezier",value:function(r,i){var o,u,h=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this._getViaCoordinates(),f=!1,b=1,E=0,k=this.to,I=this.options.endPointOffset?this.options.endPointOffset.to:0;r.id===this.from.id&&(k=this.from,f=!0,I=this.options.endPointOffset?this.options.endPointOffset.from:0),!1===this.options.arrowStrikethrough&&(I=0);var $=0;do{u=.5*(E+b),o=this.getPoint(u,h);var D=Math.atan2(k.y-o.y,k.x-o.x),N=k.distanceToBorder(i,D)+I-Math.sqrt(Math.pow(o.x-k.x,2)+Math.pow(o.y-k.y,2));if(Math.abs(N)<.2)break;N<0?!1===f?E=u:b=u:!1===f?b=u:E=u,++$}while(E<=b&&$<10);return Nv(Nv({},o),{},{t:u})}},{key:"_getDistanceToBezierEdge",value:function(r,i,o,u,h,f,b){var E,k,I,$,D,N=1e9,W=r,Y=i;for(k=1;k<10;k++)I=.1*k,$=Math.pow(1-I,2)*r+2*I*(1-I)*b.x+Math.pow(I,2)*o,D=Math.pow(1-I,2)*i+2*I*(1-I)*b.y+Math.pow(I,2)*u,k>0&&(N=(E=this._getDistanceToLine(W,Y,$,D,h,f))<N?E:N),W=$,Y=D;return N}},{key:"_bezierCurve",value:function(r,i,o,u){r.beginPath(),r.moveTo(this.fromPoint.x,this.fromPoint.y),null!=o&&null!=o.x?null!=u&&null!=u.x?r.bezierCurveTo(o.x,o.y,u.x,u.y,this.toPoint.x,this.toPoint.y):r.quadraticCurveTo(o.x,o.y,this.toPoint.x,this.toPoint.y):r.lineTo(this.toPoint.x,this.toPoint.y),this.drawBackground(r,i),this.enableShadow(r,i),r.stroke(),this.disableShadow(r,i)}},{key:"getViaNode",value:function(){return this._getViaCoordinates()}}]),t}(V_);function Fx(n){var e=function(){if(typeof Reflect>"u"||!K||K.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(K(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var t,r=be(n);if(e){var i=be(this).constructor;t=K(r,arguments,i)}else t=r.apply(this,arguments);return yt(this,t)}}var q_=function(n){nt(t,n);var e=Fx(t);function t(r,i,o){var u;return oe(this,t),(u=e.call(this,r,i,o)).via=u.via,u._boundFunction=function(){u.positionBezierNode()},u._body.emitter.on("_repositionBezierNodes",u._boundFunction),u}return ce(t,[{key:"setOptions",value:function(r){di(be(t.prototype),"setOptions",this).call(this,r);var i=!1;this.options.physics!==r.physics&&(i=!0),this.options=r,this.id=this.options.id,this.from=this._body.nodes[this.options.from],this.to=this._body.nodes[this.options.to],this.setupSupportNode(),this.connect(),!0===i&&(this.via.setOptions({physics:this.options.physics}),this.positionBezierNode())}},{key:"connect",value:function(){this.from=this._body.nodes[this.options.from],this.to=this._body.nodes[this.options.to],void 0===this.from||void 0===this.to||!1===this.options.physics||this.from.id===this.to.id?this.via.setOptions({physics:!1}):this.via.setOptions({physics:!0})}},{key:"cleanup",value:function(){return this._body.emitter.off("_repositionBezierNodes",this._boundFunction),void 0!==this.via&&(delete this._body.nodes[this.via.id],this.via=void 0,!0)}},{key:"setupSupportNode",value:function(){if(void 0===this.via){var r="edgeId:"+this.id,i=this._body.functions.createNode({id:r,shape:"circle",physics:!0,hidden:!0});this._body.nodes[r]=i,this.via=i,this.via.parentEdgeId=this.id,this.positionBezierNode()}}},{key:"positionBezierNode",value:function(){void 0!==this.via&&void 0!==this.from&&void 0!==this.to?(this.via.x=.5*(this.from.x+this.to.x),this.via.y=.5*(this.from.y+this.to.y)):void 0!==this.via&&(this.via.x=0,this.via.y=0)}},{key:"_line",value:function(r,i,o){this._bezierCurve(r,i,o)}},{key:"_getViaCoordinates",value:function(){return this.via}},{key:"getViaNode",value:function(){return this.via}},{key:"getPoint",value:function(r){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.via;if(this.from===this.to){var o=At(this._getCircleData(),3),u=o[0],h=o[1],f=o[2],b=2*Math.PI*(1-r);return{x:u+f*Math.sin(b),y:h+f-f*(1-Math.cos(b))}}return{x:Math.pow(1-r,2)*this.fromPoint.x+2*r*(1-r)*i.x+Math.pow(r,2)*this.toPoint.x,y:Math.pow(1-r,2)*this.fromPoint.y+2*r*(1-r)*i.y+Math.pow(r,2)*this.toPoint.y}}},{key:"_findBorderPosition",value:function(r,i){return this._findBorderPositionBezier(r,i,this.via)}},{key:"_getDistanceToEdge",value:function(r,i,o,u,h,f){return this._getDistanceToBezierEdge(r,i,o,u,h,f,this.via)}}]),t}(Rv);function Bx(n){var e=function(){if(typeof Reflect>"u"||!K||K.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(K(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var t,r=be(n);if(e){var i=be(this).constructor;t=K(r,arguments,i)}else t=r.apply(this,arguments);return yt(this,t)}}var G_=function(n){nt(t,n);var e=Bx(t);function t(r,i,o){return oe(this,t),e.call(this,r,i,o)}return ce(t,[{key:"_line",value:function(r,i,o){this._bezierCurve(r,i,o)}},{key:"getViaNode",value:function(){return this._getViaCoordinates()}},{key:"_getViaCoordinates",value:function(){var r,i,o=this.options.smooth.roundness,u=this.options.smooth.type,h=Math.abs(this.from.x-this.to.x),f=Math.abs(this.from.y-this.to.y);if("discrete"===u||"diagonalCross"===u){var b,E;b=E=h<=f?o*f:o*h,this.from.x>this.to.x&&(b=-b),this.from.y>=this.to.y&&(E=-E);var k=this.from.x+b,I=this.from.y+E;return"discrete"===u&&(h<=f?k=h<o*f?this.from.x:k:I=f<o*h?this.from.y:I),{x:k,y:I}}if("straightCross"===u){var $=(1-o)*h,D=(1-o)*f;return h<=f?($=0,this.from.y<this.to.y&&(D=-D)):(this.from.x<this.to.x&&($=-$),D=0),{x:this.to.x+$,y:this.to.y+D}}if("horizontal"===u){var N=(1-o)*h;return this.from.x<this.to.x&&(N=-N),{x:this.to.x+N,y:this.from.y}}if("vertical"===u){var W=(1-o)*f;return this.from.y<this.to.y&&(W=-W),{x:this.from.x,y:this.to.y+W}}if("curvedCW"===u){h=this.to.x-this.from.x,f=this.from.y-this.to.y;var Y=Math.sqrt(h*h+f*f),J=Math.PI,ue=(Math.atan2(f,h)+(.5*o+.5)*J)%(2*J);return{x:this.from.x+(.5*o+.5)*Y*Math.sin(ue),y:this.from.y+(.5*o+.5)*Y*Math.cos(ue)}}if("curvedCCW"===u){h=this.to.x-this.from.x,f=this.from.y-this.to.y;var he=Math.sqrt(h*h+f*f),Pe=Math.PI,Je=(Math.atan2(f,h)+(.5*-o+.5)*Pe)%(2*Pe);return{x:this.from.x+(.5*o+.5)*he*Math.sin(Je),y:this.from.y+(.5*o+.5)*he*Math.cos(Je)}}r=i=h<=f?o*f:o*h,this.from.x>this.to.x&&(r=-r),this.from.y>=this.to.y&&(i=-i);var Ve=this.from.x+r,Be=this.from.y+i;return h<=f?Ve=this.from.x<=this.to.x?this.to.x<Ve?this.to.x:Ve:this.to.x>Ve?this.to.x:Ve:Be=this.from.y>=this.to.y?this.to.y>Be?this.to.y:Be:this.to.y<Be?this.to.y:Be,{x:Ve,y:Be}}},{key:"_findBorderPosition",value:function(r,i){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this._findBorderPositionBezier(r,i,o.via)}},{key:"_getDistanceToEdge",value:function(r,i,o,u,h,f){var b=arguments.length>6&&void 0!==arguments[6]?arguments[6]:this._getViaCoordinates();return this._getDistanceToBezierEdge(r,i,o,u,h,f,b)}},{key:"getPoint",value:function(r){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._getViaCoordinates(),o=r;return{x:Math.pow(1-o,2)*this.fromPoint.x+2*o*(1-o)*i.x+Math.pow(o,2)*this.toPoint.x,y:Math.pow(1-o,2)*this.fromPoint.y+2*o*(1-o)*i.y+Math.pow(o,2)*this.toPoint.y}}}]),t}(Rv);function Ro(n){var e=function(){if(typeof Reflect>"u"||!K||K.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(K(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var t,r=be(n);if(e){var i=be(this).constructor;t=K(r,arguments,i)}else t=r.apply(this,arguments);return yt(this,t)}}function Lx(n){var e=function(){if(typeof Reflect>"u"||!K||K.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(K(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var t,r=be(n);if(e){var i=be(this).constructor;t=K(r,arguments,i)}else t=r.apply(this,arguments);return yt(this,t)}}var Y_=function(n){nt(t,n);var e=Lx(t);function t(r,i,o){return oe(this,t),e.call(this,r,i,o)}return ce(t,[{key:"_line",value:function(r,i,o){var u=o[0],h=o[1];this._bezierCurve(r,i,u,h)}},{key:"_getViaCoordinates",value:function(){var r,i,o,u,h=this.from.x-this.to.x,f=this.from.y-this.to.y,b=this.options.smooth.roundness;return(Math.abs(h)>Math.abs(f)||!0===this.options.smooth.forceDirection||"horizontal"===this.options.smooth.forceDirection)&&"vertical"!==this.options.smooth.forceDirection?(i=this.from.y,u=this.to.y,r=this.from.x-b*h,o=this.to.x+b*h):(i=this.from.y-b*f,u=this.to.y+b*f,r=this.from.x,o=this.to.x),[{x:r,y:i},{x:o,y:u}]}},{key:"getViaNode",value:function(){return this._getViaCoordinates()}},{key:"_findBorderPosition",value:function(r,i){return this._findBorderPositionBezier(r,i)}},{key:"_getDistanceToEdge",value:function(r,i,o,u,h,f){var b=At(arguments.length>6&&void 0!==arguments[6]?arguments[6]:this._getViaCoordinates(),2),E=b[0],k=b[1];return this._getDistanceToBezierEdge2(r,i,o,u,h,f,E,k)}},{key:"getPoint",value:function(r){var i=At(arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._getViaCoordinates(),2),o=i[0],u=i[1],h=r,f=[Math.pow(1-h,3),3*h*Math.pow(1-h,2),3*Math.pow(h,2)*(1-h),Math.pow(h,3)];return{x:f[0]*this.fromPoint.x+f[1]*o.x+f[2]*u.x+f[3]*this.toPoint.x,y:f[0]*this.fromPoint.y+f[1]*o.y+f[2]*u.y+f[3]*this.toPoint.y}}}]),t}(function(n){nt(t,n);var e=Ro(t);function t(r,i,o){return oe(this,t),e.call(this,r,i,o)}return ce(t,[{key:"_getDistanceToBezierEdge2",value:function(r,i,o,u,h,f,b,E){for(var k=1e9,I=r,$=i,D=[0,0,0,0],N=1;N<10;N++){var W=.1*N;D[0]=Math.pow(1-W,3),D[1]=3*W*Math.pow(1-W,2),D[2]=3*Math.pow(W,2)*(1-W),D[3]=Math.pow(W,3);var Y=D[0]*r+D[1]*b.x+D[2]*E.x+D[3]*o,J=D[0]*i+D[1]*b.y+D[2]*E.y+D[3]*u;if(N>0){var ue=this._getDistanceToLine(I,$,Y,J,h,f);k=ue<k?ue:k}I=Y,$=J}return k}}]),t}(Rv));function Am(n){var e=function(){if(typeof Reflect>"u"||!K||K.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(K(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var t,r=be(n);if(e){var i=be(this).constructor;t=K(r,arguments,i)}else t=r.apply(this,arguments);return yt(this,t)}}var jv=function(n){nt(t,n);var e=Am(t);function t(r,i,o){return oe(this,t),e.call(this,r,i,o)}return ce(t,[{key:"_line",value:function(r,i){r.beginPath(),r.moveTo(this.fromPoint.x,this.fromPoint.y),r.lineTo(this.toPoint.x,this.toPoint.y),this.enableShadow(r,i),r.stroke(),this.disableShadow(r,i)}},{key:"getViaNode",value:function(){}},{key:"getPoint",value:function(r){return{x:(1-r)*this.fromPoint.x+r*this.toPoint.x,y:(1-r)*this.fromPoint.y+r*this.toPoint.y}}},{key:"_findBorderPosition",value:function(r,i){var o=this.to,u=this.from;r.id===this.from.id&&(o=this.from,u=this.to);var h=Math.atan2(o.y-u.y,o.x-u.x),f=o.x-u.x,b=o.y-u.y,E=Math.sqrt(f*f+b*b),k=(E-r.distanceToBorder(i,h))/E;return{x:(1-k)*u.x+k*o.x,y:(1-k)*u.y+k*o.y,t:0}}},{key:"_getDistanceToEdge",value:function(r,i,o,u,h,f){return this._getDistanceToLine(r,i,o,u,h,f)}}]),t}(V_),Ol=function(){function n(e,t,r,i,o){if(oe(this,n),void 0===t)throw new Error("No body provided");this.options=xo(i),this.globalOptions=i,this.defaultOptions=o,this.body=t,this.imagelist=r,this.id=void 0,this.fromId=void 0,this.toId=void 0,this.selected=!1,this.hover=!1,this.labelDirty=!0,this.baseWidth=this.options.width,this.baseFontSize=this.options.font.size,this.from=void 0,this.to=void 0,this.edgeType=void 0,this.connected=!1,this.labelModule=new Iv(this.body,this.options,!0),this.setOptions(e)}return ce(n,[{key:"setOptions",value:function(e){if(e){var t=void 0!==e.physics&&this.options.physics!==e.physics||void 0!==e.hidden&&(this.options.hidden||!1)!==(e.hidden||!1)||void 0!==e.from&&this.options.from!==e.from||void 0!==e.to&&this.options.to!==e.to;n.parseOptions(this.options,e,!0,this.globalOptions),void 0!==e.id&&(this.id=e.id),void 0!==e.from&&(this.fromId=e.from),void 0!==e.to&&(this.toId=e.to),void 0!==e.title&&(this.title=e.title),void 0!==e.value&&(e.value=im(e.value));var r=[e,this.options,this.defaultOptions];return this.chooser=Rs("edge",r),this.updateLabelModule(e),t=this.updateEdgeType()||t,this._setInteractionWidths(),this.connect(),t}}},{key:"getFormattingValues",value:function(){var e=!0===this.options.arrows.to||!0===this.options.arrows.to.enabled,t=!0===this.options.arrows.from||!0===this.options.arrows.from.enabled,r=!0===this.options.arrows.middle||!0===this.options.arrows.middle.enabled,i=this.options.color.inherit,o={toArrow:e,toArrowScale:this.options.arrows.to.scaleFactor,toArrowType:this.options.arrows.to.type,toArrowSrc:this.options.arrows.to.src,toArrowImageWidth:this.options.arrows.to.imageWidth,toArrowImageHeight:this.options.arrows.to.imageHeight,middleArrow:r,middleArrowScale:this.options.arrows.middle.scaleFactor,middleArrowType:this.options.arrows.middle.type,middleArrowSrc:this.options.arrows.middle.src,middleArrowImageWidth:this.options.arrows.middle.imageWidth,middleArrowImageHeight:this.options.arrows.middle.imageHeight,fromArrow:t,fromArrowScale:this.options.arrows.from.scaleFactor,fromArrowType:this.options.arrows.from.type,fromArrowSrc:this.options.arrows.from.src,fromArrowImageWidth:this.options.arrows.from.imageWidth,fromArrowImageHeight:this.options.arrows.from.imageHeight,arrowStrikethrough:this.options.arrowStrikethrough,color:i?void 0:this.options.color.color,inheritsColor:i,opacity:this.options.color.opacity,hidden:this.options.hidden,length:this.options.length,shadow:this.options.shadow.enabled,shadowColor:this.options.shadow.color,shadowSize:this.options.shadow.size,shadowX:this.options.shadow.x,shadowY:this.options.shadow.y,dashes:this.options.dashes,width:this.options.width,background:this.options.background.enabled,backgroundColor:this.options.background.color,backgroundSize:this.options.background.size,backgroundDashes:this.options.background.dashes};if(this.selected||this.hover)if(!0===this.chooser){if(this.selected){var u=this.options.selectionWidth;"function"==typeof u?o.width=u(o.width):"number"==typeof u&&(o.width+=u),o.width=Math.max(o.width,.3/this.body.view.scale),o.color=this.options.color.highlight,o.shadow=this.options.shadow.enabled}else if(this.hover){var h=this.options.hoverWidth;"function"==typeof h?o.width=h(o.width):"number"==typeof h&&(o.width+=h),o.width=Math.max(o.width,.3/this.body.view.scale),o.color=this.options.color.hover,o.shadow=this.options.shadow.enabled}}else"function"==typeof this.chooser&&(this.chooser(o,this.options.id,this.selected,this.hover),void 0!==o.color&&(o.inheritsColor=!1),!1===o.shadow&&(o.shadowColor===this.options.shadow.color&&o.shadowSize===this.options.shadow.size&&o.shadowX===this.options.shadow.x&&o.shadowY===this.options.shadow.y||(o.shadow=!0)));else o.shadow=this.options.shadow.enabled,o.width=Math.max(o.width,.3/this.body.view.scale);return o}},{key:"updateLabelModule",value:function(e){var t=[e,this.options,this.globalOptions,this.defaultOptions];this.labelModule.update(this.options,t),void 0!==this.labelModule.baseSize&&(this.baseFontSize=this.labelModule.baseSize)}},{key:"updateEdgeType",value:function(){var e=this.options.smooth,t=!1,r=!0;return void 0!==this.edgeType&&((this.edgeType instanceof q_&&!0===e.enabled&&"dynamic"===e.type||this.edgeType instanceof Y_&&!0===e.enabled&&"cubicBezier"===e.type||this.edgeType instanceof G_&&!0===e.enabled&&"dynamic"!==e.type&&"cubicBezier"!==e.type||this.edgeType instanceof jv&&!1===e.type.enabled)&&(r=!1),!0===r&&(t=this.cleanup())),!0===r?!0===e.enabled?"dynamic"===e.type?(t=!0,this.edgeType=new q_(this.options,this.body,this.labelModule)):"cubicBezier"===e.type?this.edgeType=new Y_(this.options,this.body,this.labelModule):this.edgeType=new G_(this.options,this.body,this.labelModule):this.edgeType=new jv(this.options,this.body,this.labelModule):this.edgeType.setOptions(this.options),t}},{key:"connect",value:function(){this.disconnect(),this.from=this.body.nodes[this.fromId]||void 0,this.to=this.body.nodes[this.toId]||void 0,this.connected=void 0!==this.from&&void 0!==this.to,!0===this.connected?(this.from.attachEdge(this),this.to.attachEdge(this)):(this.from&&this.from.detachEdge(this),this.to&&this.to.detachEdge(this)),this.edgeType.connect()}},{key:"disconnect",value:function(){this.from&&(this.from.detachEdge(this),this.from=void 0),this.to&&(this.to.detachEdge(this),this.to=void 0),this.connected=!1}},{key:"getTitle",value:function(){return this.title}},{key:"isSelected",value:function(){return this.selected}},{key:"getValue",value:function(){return this.options.value}},{key:"setValueRange",value:function(e,t,r){if(void 0!==this.options.value){var i=this.options.scaling.customScalingFunction(e,t,r,this.options.value),o=this.options.scaling.max-this.options.scaling.min;if(!0===this.options.scaling.label.enabled){var u=this.options.scaling.label.max-this.options.scaling.label.min;this.options.font.size=this.options.scaling.label.min+i*u}this.options.width=this.options.scaling.min+i*o}else this.options.width=this.baseWidth,this.options.font.size=this.baseFontSize;this._setInteractionWidths(),this.updateLabelModule()}},{key:"_setInteractionWidths",value:function(){"function"==typeof this.options.hoverWidth?this.edgeType.hoverWidth=this.options.hoverWidth(this.options.width):this.edgeType.hoverWidth=this.options.hoverWidth+this.options.width,"function"==typeof this.options.selectionWidth?this.edgeType.selectionWidth=this.options.selectionWidth(this.options.width):this.edgeType.selectionWidth=this.options.selectionWidth+this.options.width}},{key:"draw",value:function(e){var t=this.getFormattingValues();if(!t.hidden){var r=this.edgeType.getViaNode();this.edgeType.drawLine(e,t,this.selected,this.hover,r),this.drawLabel(e,r)}}},{key:"drawArrows",value:function(e){var t=this.getFormattingValues();if(!t.hidden){var r=this.edgeType.getViaNode(),i={};this.edgeType.fromPoint=this.edgeType.from,this.edgeType.toPoint=this.edgeType.to,t.fromArrow&&(i.from=this.edgeType.getArrowData(e,"from",r,this.selected,this.hover,t),!1===t.arrowStrikethrough&&(this.edgeType.fromPoint=i.from.core),t.fromArrowSrc&&(i.from.image=this.imagelist.load(t.fromArrowSrc)),t.fromArrowImageWidth&&(i.from.imageWidth=t.fromArrowImageWidth),t.fromArrowImageHeight&&(i.from.imageHeight=t.fromArrowImageHeight)),t.toArrow&&(i.to=this.edgeType.getArrowData(e,"to",r,this.selected,this.hover,t),!1===t.arrowStrikethrough&&(this.edgeType.toPoint=i.to.core),t.toArrowSrc&&(i.to.image=this.imagelist.load(t.toArrowSrc)),t.toArrowImageWidth&&(i.to.imageWidth=t.toArrowImageWidth),t.toArrowImageHeight&&(i.to.imageHeight=t.toArrowImageHeight)),t.middleArrow&&(i.middle=this.edgeType.getArrowData(e,"middle",r,this.selected,this.hover,t),t.middleArrowSrc&&(i.middle.image=this.imagelist.load(t.middleArrowSrc)),t.middleArrowImageWidth&&(i.middle.imageWidth=t.middleArrowImageWidth),t.middleArrowImageHeight&&(i.middle.imageHeight=t.middleArrowImageHeight)),t.fromArrow&&this.edgeType.drawArrowHead(e,t,this.selected,this.hover,i.from),t.middleArrow&&this.edgeType.drawArrowHead(e,t,this.selected,this.hover,i.middle),t.toArrow&&this.edgeType.drawArrowHead(e,t,this.selected,this.hover,i.to)}}},{key:"drawLabel",value:function(e,t){if(void 0!==this.options.label){var r,i=this.from,o=this.to;if(this.labelModule.differentState(this.selected,this.hover)&&this.labelModule.getTextSize(e,this.selected,this.hover),i.id!=o.id){this.labelModule.pointToSelf=!1,r=this.edgeType.getPoint(.5,t),e.save();var u=this._getRotation(e);0!=u.angle&&(e.translate(u.x,u.y),e.rotate(u.angle)),this.labelModule.draw(e,r.x,r.y,this.selected,this.hover),e.restore()}else{this.labelModule.pointToSelf=!0;var h=ci(e,this.options.selfReference.angle,this.options.selfReference.size,i);r=this._pointOnCircle(h.x,h.y,this.options.selfReference.size,this.options.selfReference.angle),this.labelModule.draw(e,r.x,r.y,this.selected,this.hover)}}}},{key:"getItemsOnPoint",value:function(e){var t=[];if(this.labelModule.visible()){var r=this._getRotation();js(this.labelModule.getSize(),e,r)&&t.push({edgeId:this.id,labelId:0})}var i={left:e.x,top:e.y};return this.isOverlappingWith(i)&&t.push({edgeId:this.id}),t}},{key:"isOverlappingWith",value:function(e){if(this.connected){var t=this.from.x,r=this.from.y,i=this.to.x,o=this.to.y,u=e.left,h=e.top;return this.edgeType.getDistanceToEdge(t,r,i,o,u,h)<10}return!1}},{key:"_getRotation",value:function(e){var t=this.edgeType.getViaNode(),r=this.edgeType.getPoint(.5,t);void 0!==e&&this.labelModule.calculateLabelSize(e,this.selected,this.hover,r.x,r.y);var i={x:r.x,y:this.labelModule.size.yLine,angle:0};if(!this.labelModule.visible()||"horizontal"===this.options.font.align)return i;var o=this.from.y-this.to.y,u=this.from.x-this.to.x,h=Math.atan2(o,u);return(h<-1&&u<0||h>0&&u<0)&&(h+=Math.PI),i.angle=h,i}},{key:"_pointOnCircle",value:function(e,t,r,i){return{x:e+r*Math.cos(i),y:t-r*Math.sin(i)}}},{key:"select",value:function(){this.selected=!0}},{key:"unselect",value:function(){this.selected=!1}},{key:"cleanup",value:function(){return this.edgeType.cleanup()}},{key:"remove",value:function(){this.cleanup(),this.disconnect(),delete this.body.edges[this.id]}},{key:"endPointsValid",value:function(){return void 0!==this.body.nodes[this.fromId]&&void 0!==this.body.nodes[this.toId]}}],[{key:"parseOptions",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(nl(["endPointOffset","arrowStrikethrough","id","from","hidden","hoverWidth","labelHighlightBold","length","line","opacity","physics","scaling","selectionWidth","selfReferenceSize","selfReference","to","title","value","width","font","chosen","widthConstraint"],e,t,r),void 0!==t.endPointOffset&&void 0!==t.endPointOffset.from&&(Co(t.endPointOffset.from)?e.endPointOffset.from=t.endPointOffset.from:(e.endPointOffset.from=void 0!==i.endPointOffset.from?i.endPointOffset.from:0,console.error("endPointOffset.from is not a valid number"))),void 0!==t.endPointOffset&&void 0!==t.endPointOffset.to&&(Co(t.endPointOffset.to)?e.endPointOffset.to=t.endPointOffset.to:(e.endPointOffset.to=void 0!==i.endPointOffset.to?i.endPointOffset.to:0,console.error("endPointOffset.to is not a valid number"))),$o(t.label)?e.label=t.label:$o(e.label)||(e.label=void 0),hr(e,t,"smooth",i),hr(e,t,"shadow",i),hr(e,t,"background",i),void 0!==t.dashes&&null!==t.dashes?e.dashes=t.dashes:!0===r&&null===t.dashes&&(e.dashes=dn(i.dashes)),void 0!==t.scaling&&null!==t.scaling?(void 0!==t.scaling.min&&(e.scaling.min=t.scaling.min),void 0!==t.scaling.max&&(e.scaling.max=t.scaling.max),hr(e.scaling,t.scaling,"label",i.scaling)):!0===r&&null===t.scaling&&(e.scaling=dn(i.scaling)),void 0!==t.arrows&&null!==t.arrows)if("string"==typeof t.arrows){var u=t.arrows.toLowerCase();e.arrows.to.enabled=-1!=at(u).call(u,"to"),e.arrows.middle.enabled=-1!=at(u).call(u,"middle"),e.arrows.from.enabled=-1!=at(u).call(u,"from")}else{if("object"!==ft(t.arrows))throw new Error("The arrow newOptions can only be an object or a string. Refer to the documentation. You used:"+ds(t.arrows));hr(e.arrows,t.arrows,"to",i.arrows),hr(e.arrows,t.arrows,"middle",i.arrows),hr(e.arrows,t.arrows,"from",i.arrows)}else!0===r&&null===t.arrows&&(e.arrows=dn(i.arrows));if(void 0!==t.color&&null!==t.color){var h=ma(t.color)?{color:t.color,highlight:t.color,hover:t.color,inherit:!1,opacity:1}:t.color,f=e.color;if(o)_t(f,i.color,!1,r);else for(var b in f)Object.prototype.hasOwnProperty.call(f,b)&&delete f[b];if(ma(f))f.color=f,f.highlight=f,f.hover=f,f.inherit=!1,void 0===h.opacity&&(f.opacity=1);else{var E=!1;void 0!==h.color&&(f.color=h.color,E=!0),void 0!==h.highlight&&(f.highlight=h.highlight,E=!0),void 0!==h.hover&&(f.hover=h.hover,E=!0),void 0!==h.inherit&&(f.inherit=h.inherit),void 0!==h.opacity&&(f.opacity=Math.min(1,Math.max(0,h.opacity))),!0===E?f.inherit=!1:void 0===f.inherit&&(f.inherit="from")}}else!0===r&&null===t.color&&(e.color=xo(i.color));!0===r&&null===t.font&&(e.font=xo(i.font)),Object.prototype.hasOwnProperty.call(t,"selfReferenceSize")&&(console.warn("The selfReferenceSize property has been deprecated. Please use selfReference property instead. The selfReference can be set like thise selfReference:{size:30, angle:Math.PI / 4}"),e.selfReference.size=t.selfReferenceSize)}}]),n}(),K_=function(){function n(e,t,r){var i,o=this;oe(this,n),this.body=e,this.images=t,this.groups=r,this.body.functions.createEdge=ee(i=this.create).call(i,this),this.edgesListeners={add:function(u,h){o.add(h.items)},update:function(u,h){o.update(h.items)},remove:function(u,h){o.remove(h.items)}},this.options={},this.defaultOptions={arrows:{to:{enabled:!1,scaleFactor:1,type:"arrow"},middle:{enabled:!1,scaleFactor:1,type:"arrow"},from:{enabled:!1,scaleFactor:1,type:"arrow"}},endPointOffset:{from:0,to:0},arrowStrikethrough:!0,color:{color:"#848484",highlight:"#848484",hover:"#848484",inherit:"from",opacity:1},dashes:!1,font:{color:"#343434",size:14,face:"arial",background:"none",strokeWidth:2,strokeColor:"#ffffff",align:"horizontal",multi:!1,vadjust:0,bold:{mod:"bold"},boldital:{mod:"bold italic"},ital:{mod:"italic"},mono:{mod:"",size:15,face:"courier new",vadjust:2}},hidden:!1,hoverWidth:1.5,label:void 0,labelHighlightBold:!0,length:void 0,physics:!0,scaling:{min:1,max:15,label:{enabled:!0,min:14,max:30,maxVisible:30,drawThreshold:5},customScalingFunction:function(u,h,f,b){if(h===u)return.5;var E=1/(h-u);return Math.max(0,(b-u)*E)}},selectionWidth:1.5,selfReference:{size:20,angle:Math.PI/4,renderBehindTheNode:!0},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:10,x:5,y:5},background:{enabled:!1,color:"rgba(111,111,111,1)",size:10,dashes:!1},smooth:{enabled:!0,type:"dynamic",forceDirection:"none",roundness:.5},title:void 0,width:1,value:void 0},_t(this.options,this.defaultOptions),this.bindEventListeners()}return ce(n,[{key:"bindEventListeners",value:function(){var e,t,r=this;this.body.emitter.on("_forceDisableDynamicCurves",function(i){var o=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];"dynamic"===i&&(i="continuous");var u=!1;for(var h in r.body.edges)if(Object.prototype.hasOwnProperty.call(r.body.edges,h)){var f=r.body.edges[h],b=r.body.data.edges.get(h);if(null!=b){var E=b.smooth;void 0!==E&&!0===E.enabled&&"dynamic"===E.type&&(void 0===i?f.setOptions({smooth:!1}):f.setOptions({smooth:{type:i}}),u=!0)}}!0===o&&!0===u&&r.body.emitter.emit("_dataChanged")}),this.body.emitter.on("_dataUpdated",function(){r.reconnectEdges()}),this.body.emitter.on("refreshEdges",ee(e=this.refresh).call(e,this)),this.body.emitter.on("refresh",ee(t=this.refresh).call(t,this)),this.body.emitter.on("destroy",function(){Ke(r.edgesListeners,function(i,o){r.body.data.edges&&r.body.data.edges.off(o,i)}),delete r.body.functions.createEdge,delete r.edgesListeners.add,delete r.edgesListeners.update,delete r.edgesListeners.remove,delete r.edgesListeners})}},{key:"setOptions",value:function(e){if(void 0!==e){Ol.parseOptions(this.options,e,!0,this.defaultOptions,!0);var t=!1;if(void 0!==e.smooth)for(var r in this.body.edges)Object.prototype.hasOwnProperty.call(this.body.edges,r)&&(t=this.body.edges[r].updateEdgeType()||t);if(void 0!==e.font)for(var i in this.body.edges)Object.prototype.hasOwnProperty.call(this.body.edges,i)&&this.body.edges[i].updateLabelModule();void 0===e.hidden&&void 0===e.physics&&!0!==t||this.body.emitter.emit("_dataChanged")}}},{key:"setData",value:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=this.body.data.edges;if(Qt.isDataViewLike("id",e))this.body.data.edges=e;else if(gt(e))this.body.data.edges=new Qt.DataSet,this.body.data.edges.add(e);else{if(e)throw new TypeError("Array or DataSet expected");this.body.data.edges=new Qt.DataSet}if(i&&Ke(this.edgesListeners,function(u,h){i.off(h,u)}),this.body.edges={},this.body.data.edges){Ke(this.edgesListeners,function(u,h){t.body.data.edges.on(h,u)});var o=this.body.data.edges.getIds();this.add(o,!0)}this.body.emitter.emit("_adjustEdgesForHierarchicalLayout"),!1===r&&this.body.emitter.emit("_dataChanged")}},{key:"add",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=this.body.edges,i=this.body.data.edges,o=0;o<e.length;o++){var u=e[o],h=r[u];h&&h.disconnect();var f=i.get(u,{showInternalIds:!0});r[u]=this.create(f)}this.body.emitter.emit("_adjustEdgesForHierarchicalLayout"),!1===t&&this.body.emitter.emit("_dataChanged")}},{key:"update",value:function(e){for(var t=this.body.edges,r=this.body.data.edges,i=!1,o=0;o<e.length;o++){var u=e[o],h=r.get(u),f=t[u];void 0!==f?(f.disconnect(),i=f.setOptions(h)||i,f.connect()):(this.body.edges[u]=this.create(h),i=!0)}!0===i?(this.body.emitter.emit("_adjustEdgesForHierarchicalLayout"),this.body.emitter.emit("_dataChanged")):this.body.emitter.emit("_dataUpdated")}},{key:"remove",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(0!==e.length){var r=this.body.edges;Ke(e,function(i){var o=r[i];void 0!==o&&o.remove()}),t&&this.body.emitter.emit("_dataChanged")}}},{key:"refresh",value:function(){var e=this;Ke(this.body.edges,function(t,r){var i=e.body.data.edges.get(r);void 0!==i&&t.setOptions(i)})}},{key:"create",value:function(e){return new Ol(e,this.body,this.images,this.options,this.defaultOptions)}},{key:"reconnectEdges",value:function(){var e,t=this.body.nodes,r=this.body.edges;for(e in t)Object.prototype.hasOwnProperty.call(t,e)&&(t[e].edges=[]);for(e in r)if(Object.prototype.hasOwnProperty.call(r,e)){var i=r[e];i.from=null,i.to=null,i.connect()}}},{key:"getConnectedNodes",value:function(e){var t=[];if(void 0!==this.body.edges[e]){var r=this.body.edges[e];void 0!==r.fromId&&t.push(r.fromId),void 0!==r.toId&&t.push(r.toId)}return t}},{key:"_updateState",value:function(){this._addMissingEdges(),this._removeInvalidEdges()}},{key:"_removeInvalidEdges",value:function(){var e=this,t=[];Ke(this.body.edges,function(r,i){var o=e.body.nodes[r.toId],u=e.body.nodes[r.fromId];void 0!==o&&!0===o.isCluster||void 0!==u&&!0===u.isCluster||void 0!==o&&void 0!==u||t.push(i)}),this.remove(t,!1)}},{key:"_addMissingEdges",value:function(){var e=this.body.data.edges;if(null!=e){var t=this.body.edges,r=[];wt(e).call(e,function(i,o){void 0===t[o]&&r.push(o)}),this.add(r,!0)}}}]),n}(),X_=function(){function n(e,t,r){oe(this,n),this.body=e,this.physicsBody=t,this.barnesHutTree,this.setOptions(r),this._rng=Zf("BARNES HUT SOLVER")}return ce(n,[{key:"setOptions",value:function(e){this.options=e,this.thetaInversed=1/this.options.theta,this.overlapAvoidanceFactor=1-Math.max(0,Math.min(1,this.options.avoidOverlap))}},{key:"solve",value:function(){if(0!==this.options.gravitationalConstant&&this.physicsBody.physicsNodeIndices.length>0){var e,t=this.body.nodes,r=this.physicsBody.physicsNodeIndices,i=r.length,o=this._formBarnesHutTree(t,r);this.barnesHutTree=o;for(var u=0;u<i;u++)(e=t[r[u]]).options.mass>0&&this._getForceContributions(o.root,e)}}},{key:"_getForceContributions",value:function(e,t){this._getForceContribution(e.children.NW,t),this._getForceContribution(e.children.NE,t),this._getForceContribution(e.children.SW,t),this._getForceContribution(e.children.SE,t)}},{key:"_getForceContribution",value:function(e,t){if(e.childrenCount>0){var r=e.centerOfMass.x-t.x,i=e.centerOfMass.y-t.y,o=Math.sqrt(r*r+i*i);o*e.calcSize>this.thetaInversed?this._calculateForces(o,r,i,t,e):4===e.childrenCount?this._getForceContributions(e,t):e.children.data.id!=t.id&&this._calculateForces(o,r,i,t,e)}}},{key:"_calculateForces",value:function(e,t,r,i,o){0===e&&(t=e=.1),this.overlapAvoidanceFactor<1&&i.shape.radius&&(e=Math.max(.1+this.overlapAvoidanceFactor*i.shape.radius,e-i.shape.radius));var u=this.options.gravitationalConstant*o.mass*i.options.mass/Math.pow(e,3),h=t*u,f=r*u;this.physicsBody.forces[i.id].x+=h,this.physicsBody.forces[i.id].y+=f}},{key:"_formBarnesHutTree",value:function(e,t){for(var r,i=t.length,o=e[t[0]].x,u=e[t[0]].y,h=e[t[0]].x,f=e[t[0]].y,b=1;b<i;b++){var E=e[t[b]],k=E.x,I=E.y;E.options.mass>0&&(k<o&&(o=k),k>h&&(h=k),I<u&&(u=I),I>f&&(f=I))}var $=Math.abs(h-o)-Math.abs(f-u);$>0?(u-=.5*$,f+=.5*$):(o+=.5*$,h-=.5*$);var D=Math.max(1e-5,Math.abs(h-o)),N=.5*D,W=.5*(o+h),Y=.5*(u+f),J={root:{centerOfMass:{x:0,y:0},mass:0,range:{minX:W-N,maxX:W+N,minY:Y-N,maxY:Y+N},size:D,calcSize:1/D,children:{data:null},maxWidth:0,level:0,childrenCount:4}};this._splitBranch(J.root);for(var ue=0;ue<i;ue++)(r=e[t[ue]]).options.mass>0&&this._placeInTree(J.root,r);return J}},{key:"_updateBranchMass",value:function(e,t){var r=e.centerOfMass,i=e.mass+t.options.mass,o=1/i;r.x=r.x*e.mass+t.x*t.options.mass,r.x*=o,r.y=r.y*e.mass+t.y*t.options.mass,r.y*=o,e.mass=i;var u=Math.max(Math.max(t.height,t.radius),t.width);e.maxWidth=e.maxWidth<u?u:e.maxWidth}},{key:"_placeInTree",value:function(e,t,r){1==r&&void 0!==r||this._updateBranchMass(e,t);var i,o=e.children.NW.range;i=o.maxX>t.x?o.maxY>t.y?"NW":"SW":o.maxY>t.y?"NE":"SE",this._placeInRegion(e,t,i)}},{key:"_placeInRegion",value:function(e,t,r){var i=e.children[r];switch(i.childrenCount){case 0:i.children.data=t,i.childrenCount=1,this._updateBranchMass(i,t);break;case 1:i.children.data.x===t.x&&i.children.data.y===t.y?(t.x+=this._rng(),t.y+=this._rng()):(this._splitBranch(i),this._placeInTree(i,t));break;case 4:this._placeInTree(i,t)}}},{key:"_splitBranch",value:function(e){var t=null;1===e.childrenCount&&(t=e.children.data,e.mass=0,e.centerOfMass.x=0,e.centerOfMass.y=0),e.childrenCount=4,e.children.data=null,this._insertRegion(e,"NW"),this._insertRegion(e,"NE"),this._insertRegion(e,"SW"),this._insertRegion(e,"SE"),null!=t&&this._placeInTree(e,t)}},{key:"_insertRegion",value:function(e,t){var r,i,o,u,h=.5*e.size;switch(t){case"NW":r=e.range.minX,i=e.range.minX+h,o=e.range.minY,u=e.range.minY+h;break;case"NE":r=e.range.minX+h,i=e.range.maxX,o=e.range.minY,u=e.range.minY+h;break;case"SW":r=e.range.minX,i=e.range.minX+h,o=e.range.minY+h,u=e.range.maxY;break;case"SE":r=e.range.minX+h,i=e.range.maxX,o=e.range.minY+h,u=e.range.maxY}e.children[t]={centerOfMass:{x:0,y:0},mass:0,range:{minX:r,maxX:i,minY:o,maxY:u},size:.5*e.size,calcSize:2*e.calcSize,children:{data:null},maxWidth:0,level:e.level+1,childrenCount:0}}},{key:"_debug",value:function(e,t){void 0!==this.barnesHutTree&&(e.lineWidth=1,this._drawBranch(this.barnesHutTree.root,e,t))}},{key:"_drawBranch",value:function(e,t,r){void 0===r&&(r="#FF0000"),4===e.childrenCount&&(this._drawBranch(e.children.NW,t),this._drawBranch(e.children.NE,t),this._drawBranch(e.children.SE,t),this._drawBranch(e.children.SW,t)),t.strokeStyle=r,t.beginPath(),t.moveTo(e.range.minX,e.range.minY),t.lineTo(e.range.maxX,e.range.minY),t.stroke(),t.beginPath(),t.moveTo(e.range.maxX,e.range.minY),t.lineTo(e.range.maxX,e.range.maxY),t.stroke(),t.beginPath(),t.moveTo(e.range.maxX,e.range.maxY),t.lineTo(e.range.minX,e.range.maxY),t.stroke(),t.beginPath(),t.moveTo(e.range.minX,e.range.maxY),t.lineTo(e.range.minX,e.range.minY),t.stroke()}}]),n}(),zx=function(){function n(e,t,r){oe(this,n),this._rng=Zf("REPULSION SOLVER"),this.body=e,this.physicsBody=t,this.setOptions(r)}return ce(n,[{key:"setOptions",value:function(e){this.options=e}},{key:"solve",value:function(){for(var e,t,r,i,o,u,h,f,b=this.body.nodes,E=this.physicsBody.physicsNodeIndices,k=this.physicsBody.forces,I=this.options.nodeDistance,$=-2/3/I,D=0;D<E.length-1;D++){h=b[E[D]];for(var N=D+1;N<E.length;N++)e=(f=b[E[N]]).x-h.x,t=f.y-h.y,0===(r=Math.sqrt(e*e+t*t))&&(e=r=.1*this._rng()),r<2*I&&(u=r<.5*I?1:$*r+1.3333333333333333,i=e*(u/=r),o=t*u,k[h.id].x-=i,k[h.id].y-=o,k[f.id].x+=i,k[f.id].y+=o)}}}]),n}(),Hx=function(){function n(e,t,r){oe(this,n),this.body=e,this.physicsBody=t,this.setOptions(r)}return ce(n,[{key:"setOptions",value:function(e){this.options=e,this.overlapAvoidanceFactor=Math.max(0,Math.min(1,this.options.avoidOverlap||0))}},{key:"solve",value:function(){for(var e=this.body.nodes,t=this.physicsBody.physicsNodeIndices,r=this.physicsBody.forces,i=this.options.nodeDistance,o=0;o<t.length-1;o++)for(var u=e[t[o]],h=o+1;h<t.length;h++){var f=e[t[h]];if(u.level===f.level){var b=i+this.overlapAvoidanceFactor*((u.shape.radius||0)/2+(f.shape.radius||0)/2),E=f.x-u.x,k=f.y-u.y,I=Math.sqrt(E*E+k*k),$=void 0;$=I<b?-Math.pow(.05*I,2)+Math.pow(.05*b,2):0,0!==I&&($/=I);var D=E*$,N=k*$;r[u.id].x-=D,r[u.id].y-=N,r[f.id].x+=D,r[f.id].y+=N}}}}]),n}(),Dh=function(){function n(e,t,r){oe(this,n),this.body=e,this.physicsBody=t,this.setOptions(r)}return ce(n,[{key:"setOptions",value:function(e){this.options=e}},{key:"solve",value:function(){for(var e,t,r,i,o,u=this.physicsBody.physicsEdgeIndices,h=this.body.edges,f=0;f<u.length;f++)!0===(t=h[u[f]]).connected&&t.toId!==t.fromId&&void 0!==this.body.nodes[t.toId]&&void 0!==this.body.nodes[t.fromId]&&(void 0!==t.edgeType.via?(e=void 0===t.options.length?this.options.springLength:t.options.length,r=t.to,i=t.edgeType.via,o=t.from,this._calculateSpringForce(r,i,.5*e),this._calculateSpringForce(i,o,.5*e)):(e=void 0===t.options.length?1.5*this.options.springLength:t.options.length,this._calculateSpringForce(t.from,t.to,e)))}},{key:"_calculateSpringForce",value:function(e,t,r){var i=e.x-t.x,o=e.y-t.y,u=Math.max(Math.sqrt(i*i+o*o),.01),h=this.options.springConstant*(r-u)/u,f=i*h,b=o*h;void 0!==this.physicsBody.forces[e.id]&&(this.physicsBody.forces[e.id].x+=f,this.physicsBody.forces[e.id].y+=b),void 0!==this.physicsBody.forces[t.id]&&(this.physicsBody.forces[t.id].x-=f,this.physicsBody.forces[t.id].y-=b)}}]),n}(),Wx=function(){function n(e,t,r){oe(this,n),this.body=e,this.physicsBody=t,this.setOptions(r)}return ce(n,[{key:"setOptions",value:function(e){this.options=e}},{key:"solve",value:function(){for(var e,t,r,i,o,u,h,f,b,E,k=this.body.edges,I=.5,$=this.physicsBody.physicsEdgeIndices,D=this.physicsBody.physicsNodeIndices,N=this.physicsBody.forces,W=0;W<D.length;W++){var Y=D[W];N[Y].springFx=0,N[Y].springFy=0}for(var J=0;J<$.length;J++)!0===(t=k[$[J]]).connected&&(e=void 0===t.options.length?this.options.springLength:t.options.length,r=t.from.x-t.to.x,i=t.from.y-t.to.y,f=0===(f=Math.sqrt(r*r+i*i))?.01:f,o=r*(h=this.options.springConstant*(e-f)/f),u=i*h,t.to.level!=t.from.level?(void 0!==N[t.toId]&&(N[t.toId].springFx-=o,N[t.toId].springFy-=u),void 0!==N[t.fromId]&&(N[t.fromId].springFx+=o,N[t.fromId].springFy+=u)):(void 0!==N[t.toId]&&(N[t.toId].x-=I*o,N[t.toId].y-=I*u),void 0!==N[t.fromId]&&(N[t.fromId].x+=I*o,N[t.fromId].y+=I*u)));h=1;for(var ue=0;ue<D.length;ue++){var he=D[ue];b=Math.min(h,Math.max(-h,N[he].springFx)),E=Math.min(h,Math.max(-h,N[he].springFy)),N[he].x+=b,N[he].y+=E}for(var Pe=0,Je=0,Ve=0;Ve<D.length;Ve++){var Be=D[Ve];Pe+=N[Be].x,Je+=N[Be].y}for(var Se=Pe/D.length,kt=Je/D.length,st=0;st<D.length;st++){var xt=D[st];N[xt].x-=Se,N[xt].y-=kt}}}]),n}(),Ah=function(){function n(e,t,r){oe(this,n),this.body=e,this.physicsBody=t,this.setOptions(r)}return ce(n,[{key:"setOptions",value:function(e){this.options=e}},{key:"solve",value:function(){for(var e,t,r,i,o=this.body.nodes,u=this.physicsBody.physicsNodeIndices,h=this.physicsBody.forces,f=0;f<u.length;f++)e=-(i=o[u[f]]).x,t=-i.y,r=Math.sqrt(e*e+t*t),this._calculateForces(r,e,t,h,i)}},{key:"_calculateForces",value:function(e,t,r,i,o){var u=0===e?0:this.options.centralGravity/e;i[o.id].x=t*u,i[o.id].y=r*u}}]),n}();function Ws(n){var e=function(){if(typeof Reflect>"u"||!K||K.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(K(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var t,r=be(n);if(e){var i=be(this).constructor;t=K(r,arguments,i)}else t=r.apply(this,arguments);return yt(this,t)}}var Ux=function(n){nt(t,n);var e=Ws(t);function t(r,i,o){var u;return oe(this,t),(u=e.call(this,r,i,o))._rng=Zf("FORCE ATLAS 2 BASED REPULSION SOLVER"),u}return ce(t,[{key:"_calculateForces",value:function(r,i,o,u,h){0===r&&(i=r=.1*this._rng()),this.overlapAvoidanceFactor<1&&u.shape.radius&&(r=Math.max(.1+this.overlapAvoidanceFactor*u.shape.radius,r-u.shape.radius));var f=u.edges.length+1,b=this.options.gravitationalConstant*h.mass*u.options.mass*f/Math.pow(r,2),E=i*b,k=o*b;this.physicsBody.forces[u.id].x+=E,this.physicsBody.forces[u.id].y+=k}}]),t}(X_);function Vx(n){var e=function(){if(typeof Reflect>"u"||!K||K.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(K(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var t,r=be(n);if(e){var i=be(this).constructor;t=K(r,arguments,i)}else t=r.apply(this,arguments);return yt(this,t)}}var qx=function(n){nt(t,n);var e=Vx(t);function t(r,i,o){return oe(this,t),e.call(this,r,i,o)}return ce(t,[{key:"_calculateForces",value:function(r,i,o,u,h){if(r>0){var f=h.edges.length+1,b=this.options.centralGravity*f*h.options.mass;u[h.id].x=i*b,u[h.id].y=o*b}}}]),t}(Ah),Gx=function(){function n(e){oe(this,n),this.body=e,this.physicsBody={physicsNodeIndices:[],physicsEdgeIndices:[],forces:{},velocities:{}},this.physicsEnabled=!0,this.simulationInterval=1e3/60,this.requiresTimeout=!0,this.previousStates={},this.referenceState={},this.freezeCache={},this.renderTimer=void 0,this.adaptiveTimestep=!1,this.adaptiveTimestepEnabled=!1,this.adaptiveCounter=0,this.adaptiveInterval=3,this.stabilized=!1,this.startedStabilization=!1,this.stabilizationIterations=0,this.ready=!1,this.options={},this.defaultOptions={enabled:!0,barnesHut:{theta:.5,gravitationalConstant:-2e3,centralGravity:.3,springLength:95,springConstant:.04,damping:.09,avoidOverlap:0},forceAtlas2Based:{theta:.5,gravitationalConstant:-50,centralGravity:.01,springConstant:.08,springLength:100,damping:.4,avoidOverlap:0},repulsion:{centralGravity:.2,springLength:200,springConstant:.05,nodeDistance:100,damping:.09,avoidOverlap:0},hierarchicalRepulsion:{centralGravity:0,springLength:100,springConstant:.01,nodeDistance:120,damping:.09},maxVelocity:50,minVelocity:.75,solver:"barnesHut",stabilization:{enabled:!0,iterations:1e3,updateInterval:50,onlyDynamicEdges:!1,fit:!0},timestep:.5,adaptiveTimestep:!0,wind:{x:0,y:0}},Ht(this.options,this.defaultOptions),this.timestep=.5,this.layoutFailed=!1,this.bindEventListeners()}return ce(n,[{key:"bindEventListeners",value:function(){var e=this;this.body.emitter.on("initPhysics",function(){e.initPhysics()}),this.body.emitter.on("_layoutFailed",function(){e.layoutFailed=!0}),this.body.emitter.on("resetPhysics",function(){e.stopSimulation(),e.ready=!1}),this.body.emitter.on("disablePhysics",function(){e.physicsEnabled=!1,e.stopSimulation()}),this.body.emitter.on("restorePhysics",function(){e.setOptions(e.options),!0===e.ready&&e.startSimulation()}),this.body.emitter.on("startSimulation",function(){!0===e.ready&&e.startSimulation()}),this.body.emitter.on("stopSimulation",function(){e.stopSimulation()}),this.body.emitter.on("destroy",function(){e.stopSimulation(!1),e.body.emitter.off()}),this.body.emitter.on("_dataChanged",function(){e.updatePhysicsData()})}},{key:"setOptions",value:function(e){if(void 0!==e)if(!1===e)this.options.enabled=!1,this.physicsEnabled=!1,this.stopSimulation();else if(!0===e)this.options.enabled=!0,this.physicsEnabled=!0,this.startSimulation();else{this.physicsEnabled=!0,ba(["stabilization"],this.options,e),hr(this.options,e,"stabilization"),void 0===e.enabled&&(this.options.enabled=!0),!1===this.options.enabled&&(this.physicsEnabled=!1,this.stopSimulation());var t=this.options.wind;t&&(("number"!=typeof t.x||bv(t.x))&&(t.x=0),("number"!=typeof t.y||bv(t.y))&&(t.y=0)),this.timestep=this.options.timestep}this.init()}},{key:"init",value:function(){var e;"forceAtlas2Based"===this.options.solver?(e=this.options.forceAtlas2Based,this.nodesSolver=new Ux(this.body,this.physicsBody,e),this.edgesSolver=new Dh(this.body,this.physicsBody,e),this.gravitySolver=new qx(this.body,this.physicsBody,e)):"repulsion"===this.options.solver?(e=this.options.repulsion,this.nodesSolver=new zx(this.body,this.physicsBody,e),this.edgesSolver=new Dh(this.body,this.physicsBody,e),this.gravitySolver=new Ah(this.body,this.physicsBody,e)):"hierarchicalRepulsion"===this.options.solver?(e=this.options.hierarchicalRepulsion,this.nodesSolver=new Hx(this.body,this.physicsBody,e),this.edgesSolver=new Wx(this.body,this.physicsBody,e),this.gravitySolver=new Ah(this.body,this.physicsBody,e)):(e=this.options.barnesHut,this.nodesSolver=new X_(this.body,this.physicsBody,e),this.edgesSolver=new Dh(this.body,this.physicsBody,e),this.gravitySolver=new Ah(this.body,this.physicsBody,e)),this.modelOptions=e}},{key:"initPhysics",value:function(){!0===this.physicsEnabled&&!0===this.options.enabled?!0===this.options.stabilization.enabled?this.stabilize():(this.stabilized=!1,this.ready=!0,this.body.emitter.emit("fit",{},this.layoutFailed),this.startSimulation()):(this.ready=!0,this.body.emitter.emit("fit"))}},{key:"startSimulation",value:function(){var e;!0===this.physicsEnabled&&!0===this.options.enabled?(this.stabilized=!1,this.adaptiveTimestep=!1,this.body.emitter.emit("_resizeNodes"),void 0===this.viewFunction&&(this.viewFunction=ee(e=this.simulationStep).call(e,this),this.body.emitter.on("initRedraw",this.viewFunction),this.body.emitter.emit("_startRendering"))):this.body.emitter.emit("_redraw")}},{key:"stopSimulation",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.stabilized=!0,!0===e&&this._emitStabilized(),void 0!==this.viewFunction&&(this.body.emitter.off("initRedraw",this.viewFunction),this.viewFunction=void 0,!0===e&&this.body.emitter.emit("_stopRendering"))}},{key:"simulationStep",value:function(){var e=Fc();this.physicsTick(),(Fc()-e<.4*this.simulationInterval||!0===this.runDoubleSpeed)&&!1===this.stabilized&&(this.physicsTick(),this.runDoubleSpeed=!0),!0===this.stabilized&&this.stopSimulation()}},{key:"_emitStabilized",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.stabilizationIterations;(this.stabilizationIterations>1||!0===this.startedStabilization)&&vn(function(){e.body.emitter.emit("stabilized",{iterations:t}),e.startedStabilization=!1,e.stabilizationIterations=0},0)}},{key:"physicsStep",value:function(){this.gravitySolver.solve(),this.nodesSolver.solve(),this.edgesSolver.solve(),this.moveNodes()}},{key:"adjustTimeStep",value:function(){!0===this._evaluateStepQuality()?this.timestep=1.2*this.timestep:this.timestep/1.2<this.options.timestep?this.timestep=this.options.timestep:(this.adaptiveCounter=-1,this.timestep=Math.max(this.options.timestep,this.timestep/1.2))}},{key:"physicsTick",value:function(){this._startStabilizing(),!0!==this.stabilized&&(!0===this.adaptiveTimestep&&!0===this.adaptiveTimestepEnabled?(this.adaptiveCounter%this.adaptiveInterval==0?(this.timestep=2*this.timestep,this.physicsStep(),this.revert(),this.timestep=.5*this.timestep,this.physicsStep(),this.physicsStep(),this.adjustTimeStep()):this.physicsStep(),this.adaptiveCounter+=1):(this.timestep=this.options.timestep,this.physicsStep()),!0===this.stabilized&&this.revert(),this.stabilizationIterations++)}},{key:"updatePhysicsData",value:function(){this.physicsBody.forces={},this.physicsBody.physicsNodeIndices=[],this.physicsBody.physicsEdgeIndices=[];var e=this.body.nodes,t=this.body.edges;for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&!0===e[r].options.physics&&this.physicsBody.physicsNodeIndices.push(e[r].id);for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&!0===t[i].options.physics&&this.physicsBody.physicsEdgeIndices.push(t[i].id);for(var o=0;o<this.physicsBody.physicsNodeIndices.length;o++){var u=this.physicsBody.physicsNodeIndices[o];this.physicsBody.forces[u]={x:0,y:0},void 0===this.physicsBody.velocities[u]&&(this.physicsBody.velocities[u]={x:0,y:0})}for(var h in this.physicsBody.velocities)void 0===e[h]&&delete this.physicsBody.velocities[h]}},{key:"revert",value:function(){var e=Mt(this.previousStates),t=this.body.nodes,r=this.physicsBody.velocities;this.referenceState={};for(var i=0;i<e.length;i++){var o=e[i];void 0!==t[o]?!0===t[o].options.physics&&(this.referenceState[o]={positions:{x:t[o].x,y:t[o].y}},r[o].x=this.previousStates[o].vx,r[o].y=this.previousStates[o].vy,t[o].x=this.previousStates[o].x,t[o].y=this.previousStates[o].y):delete this.previousStates[o]}}},{key:"_evaluateStepQuality",value:function(){var e,t,r=this.body.nodes,i=this.referenceState;for(var o in this.referenceState)if(Object.prototype.hasOwnProperty.call(this.referenceState,o)&&void 0!==r[o]&&(e=r[o].x-i[o].positions.x,t=r[o].y-i[o].positions.y,Math.sqrt(Math.pow(e,2)+Math.pow(t,2))>.3))return!1;return!0}},{key:"moveNodes",value:function(){for(var e=this.physicsBody.physicsNodeIndices,t=0,r=0,i=0;i<e.length;i++){var o=e[i],u=this._performStep(o);t=Math.max(t,u),r+=u}this.adaptiveTimestepEnabled=r/e.length<5,this.stabilized=t<this.options.minVelocity}},{key:"calculateComponentVelocity",value:function(e,t,r){e+=(t-this.modelOptions.damping*e)/r*this.timestep;var i=this.options.maxVelocity||1e9;return Math.abs(e)>i&&(e=e>0?i:-i),e}},{key:"_performStep",value:function(e){var t=this.body.nodes[e],r=this.physicsBody.forces[e];this.options.wind&&(r.x+=this.options.wind.x,r.y+=this.options.wind.y);var i=this.physicsBody.velocities[e];return this.previousStates[e]={x:t.x,y:t.y,vx:i.x,vy:i.y},!1===t.options.fixed.x?(i.x=this.calculateComponentVelocity(i.x,r.x,t.options.mass),t.x+=i.x*this.timestep):(r.x=0,i.x=0),!1===t.options.fixed.y?(i.y=this.calculateComponentVelocity(i.y,r.y,t.options.mass),t.y+=i.y*this.timestep):(r.y=0,i.y=0),Math.sqrt(Math.pow(i.x,2)+Math.pow(i.y,2))}},{key:"_freezeNodes",value:function(){var e=this.body.nodes;for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t)&&e[t].x&&e[t].y){var r=e[t].options.fixed;this.freezeCache[t]={x:r.x,y:r.y},r.x=!0,r.y=!0}}},{key:"_restoreFrozenNodes",value:function(){var e=this.body.nodes;for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&void 0!==this.freezeCache[t]&&(e[t].options.fixed.x=this.freezeCache[t].x,e[t].options.fixed.y=this.freezeCache[t].y);this.freezeCache={}}},{key:"stabilize",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.options.stabilization.iterations;"number"!=typeof t&&(t=this.options.stabilization.iterations,console.error("The stabilize method needs a numeric amount of iterations. Switching to default: ",t)),0!==this.physicsBody.physicsNodeIndices.length?(this.adaptiveTimestep=this.options.adaptiveTimestep,this.body.emitter.emit("_resizeNodes"),this.stopSimulation(),this.stabilized=!1,this.body.emitter.emit("_blockRedraw"),this.targetIterations=t,!0===this.options.stabilization.onlyDynamicEdges&&this._freezeNodes(),this.stabilizationIterations=0,vn(function(){return e._stabilizationBatch()},0)):this.ready=!0}},{key:"_startStabilizing",value:function(){return!0!==this.startedStabilization&&(this.body.emitter.emit("startStabilizing"),this.startedStabilization=!0,!0)}},{key:"_stabilizationBatch",value:function(){var e=this,t=function(){return!1===e.stabilized&&e.stabilizationIterations<e.targetIterations},r=function(){e.body.emitter.emit("stabilizationProgress",{iterations:e.stabilizationIterations,total:e.targetIterations})};this._startStabilizing()&&r();for(var i,o=0;t()&&o<this.options.stabilization.updateInterval;)this.physicsTick(),o++;r(),t()?vn(ee(i=this._stabilizationBatch).call(i,this),0):this._finalizeStabilization()}},{key:"_finalizeStabilization",value:function(){this.body.emitter.emit("_allowRedraw"),!0===this.options.stabilization.fit&&this.body.emitter.emit("fit"),!0===this.options.stabilization.onlyDynamicEdges&&this._restoreFrozenNodes(),this.body.emitter.emit("stabilizationIterationsDone"),this.body.emitter.emit("_requestRedraw"),!0===this.stabilized?this._emitStabilized():this.startSimulation(),this.ready=!0}},{key:"_drawForces",value:function(e){for(var t=0;t<this.physicsBody.physicsNodeIndices.length;t++){var r=this.physicsBody.physicsNodeIndices[t],i=this.body.nodes[r],o=this.physicsBody.forces[r],u=Math.sqrt(Math.pow(o.x,2)+Math.pow(o.x,2)),h=Math.min(Math.max(5,u),15),f=3*h,b=tv((180-180*Math.min(1,Math.max(0,.03*u)))/360,1,1),E={x:i.x+20*o.x,y:i.y+20*o.y};e.lineWidth=h,e.strokeStyle=b,e.beginPath(),e.moveTo(i.x,i.y),e.lineTo(E.x,E.y),e.stroke();var k=Math.atan2(o.y,o.x);e.fillStyle=b,$m.draw(e,{type:"arrow",point:E,angle:k,length:f}),qu(e).call(e)}}}]),n}();let Fv;const Bv=new Uint8Array(16);function Mm(){if(!Fv&&(Fv=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Fv))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Fv(Bv)}const _r=[];for(let n=0;n<256;++n)_r.push((n+256).toString(16).slice(1));var Mh={randomUUID:typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};function Nh(n,e,t){if(Mh.randomUUID&&!e&&!n)return Mh.randomUUID();const r=(n=n||{}).random||(n.rng||Mm)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,e){t=t||0;for(let i=0;i<16;++i)e[t+i]=r[i];return e}return function(i,o=0){return _r[i[o+0]]+_r[i[o+1]]+_r[i[o+2]]+_r[i[o+3]]+"-"+_r[i[o+4]]+_r[i[o+5]]+"-"+_r[i[o+6]]+_r[i[o+7]]+"-"+_r[i[o+8]]+_r[i[o+9]]+"-"+_r[i[o+10]]+_r[i[o+11]]+_r[i[o+12]]+_r[i[o+13]]+_r[i[o+14]]+_r[i[o+15]]}(r)}var Kr=function(){function n(){oe(this,n)}return ce(n,null,[{key:"getRange",value:function(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],i=1e9,o=-1e9,u=1e9,h=-1e9;if(r.length>0)for(var f=0;f<r.length;f++)u>(t=e[r[f]]).shape.boundingBox.left&&(u=t.shape.boundingBox.left),h<t.shape.boundingBox.right&&(h=t.shape.boundingBox.right),i>t.shape.boundingBox.top&&(i=t.shape.boundingBox.top),o<t.shape.boundingBox.bottom&&(o=t.shape.boundingBox.bottom);return 1e9===u&&-1e9===h&&1e9===i&&-1e9===o&&(i=0,o=0,u=0,h=0),{minX:u,maxX:h,minY:i,maxY:o}}},{key:"getRangeCore",value:function(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],i=1e9,o=-1e9,u=1e9,h=-1e9;if(r.length>0)for(var f=0;f<r.length;f++)u>(t=e[r[f]]).x&&(u=t.x),h<t.x&&(h=t.x),i>t.y&&(i=t.y),o<t.y&&(o=t.y);return 1e9===u&&-1e9===h&&1e9===i&&-1e9===o&&(i=0,o=0,u=0,h=0),{minX:u,maxX:h,minY:i,maxY:o}}},{key:"findCenter",value:function(e){return{x:.5*(e.maxX+e.minX),y:.5*(e.maxY+e.minY)}}},{key:"cloneOptions",value:function(e,t){var r={};return void 0===t||"node"===t?(_t(r,e.options,!0),r.x=e.x,r.y=e.y,r.amountOfConnections=e.edges.length):_t(r,e.options,!0),r}}]),n}();function Er(n){var e=function(){if(typeof Reflect>"u"||!K||K.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(K(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var t,r=be(n);if(e){var i=be(this).constructor;t=K(r,arguments,i)}else t=r.apply(this,arguments);return yt(this,t)}}var J_=function(n){nt(t,n);var e=Er(t);function t(r,i,o,u,h,f){var b;return oe(this,t),(b=e.call(this,r,i,o,u,h,f)).isCluster=!0,b.containedNodes={},b.containedEdges={},b}return ce(t,[{key:"_openChildCluster",value:function(r){var i=this,o=this.body.nodes[r];if(void 0===this.containedNodes[r])throw new Error("node with id: "+r+" not in current cluster");if(!o.isCluster)throw new Error("node with id: "+r+" is not a cluster");delete this.containedNodes[r],Ke(o.edges,function(u){delete i.containedEdges[u.id]}),Ke(o.containedNodes,function(u,h){i.containedNodes[h]=u}),o.containedNodes={},Ke(o.containedEdges,function(u,h){i.containedEdges[h]=u}),o.containedEdges={},Ke(o.edges,function(u){Ke(i.edges,function(h){var f,b,E=at(f=h.clusteringEdgeReplacingIds).call(f,u.id);-1!==E&&(Ke(u.clusteringEdgeReplacingIds,function(k){h.clusteringEdgeReplacingIds.push(k),i.body.edges[k].edgeReplacedById=h.id}),oi(b=h.clusteringEdgeReplacingIds).call(b,E,1))})}),o.edges=[]}}]),t}(Nn),Q_=function(){function n(e){var t=this;oe(this,n),this.body=e,this.clusteredNodes={},this.clusteredEdges={},this.options={},this.defaultOptions={},Ht(this.options,this.defaultOptions),this.body.emitter.on("_resetData",function(){t.clusteredNodes={},t.clusteredEdges={}})}return ce(n,[{key:"clusterByHubsize",value:function(e,t){void 0===e?e=this._getHubSize():"object"===ft(e)&&(t=this._checkOptions(e),e=this._getHubSize());for(var r=[],i=0;i<this.body.nodeIndices.length;i++){var o=this.body.nodes[this.body.nodeIndices[i]];o.edges.length>=e&&r.push(o.id)}for(var u=0;u<r.length;u++)this.clusterByConnection(r[u],t,!0);this.body.emitter.emit("_dataChanged")}},{key:"cluster",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(void 0===t.joinCondition)throw new Error("Cannot call clusterByNodeData without a joinCondition function in the options.");t=this._checkOptions(t);var i={},o={};Ke(this.body.nodes,function(u,h){u.options&&!0===t.joinCondition(u.options)&&(i[h]=u,Ke(u.edges,function(f){void 0===e.clusteredEdges[f.id]&&(o[f.id]=f)}))}),this._cluster(i,o,t,r)}},{key:"clusterByEdgeCount",value:function(e,t){var r=this,i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];t=this._checkOptions(t);for(var o,u,h,f=[],b={},E=function(){var $={},D={},N=r.body.nodeIndices[k],W=r.body.nodes[N];if(void 0===b[N]){h=0,u=[];for(var Y=0;Y<W.edges.length;Y++)o=W.edges[Y],void 0===r.clusteredEdges[o.id]&&(o.toId!==o.fromId&&h++,u.push(o));if(h===e){for(var J=function(Se){if(void 0===t.joinCondition||null===t.joinCondition)return!0;var kt=Kr.cloneOptions(Se);return t.joinCondition(kt)},ue=!0,he=0;he<u.length;he++){o=u[he];var Pe=r._getConnectedId(o,N);if(!J(W)){ue=!1;break}D[o.id]=o,$[N]=W,$[Pe]=r.body.nodes[Pe],b[N]=!0}if(Mt($).length>0&&Mt(D).length>0&&!0===ue){var Je=function(){for(var Se=0;Se<f.length;++Se)for(var kt in $)if(void 0!==f[Se].nodes[kt])return f[Se]}();if(void 0!==Je){for(var Ve in $)void 0===Je.nodes[Ve]&&(Je.nodes[Ve]=$[Ve]);for(var Be in D)void 0===Je.edges[Be]&&(Je.edges[Be]=D[Be])}else f.push({nodes:$,edges:D})}}}},k=0;k<this.body.nodeIndices.length;k++)E();for(var I=0;I<f.length;I++)this._cluster(f[I].nodes,f[I].edges,t,!1);!0===i&&this.body.emitter.emit("_dataChanged")}},{key:"clusterOutliers",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.clusterByEdgeCount(1,e,t)}},{key:"clusterBridges",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.clusterByEdgeCount(2,e,t)}},{key:"clusterByConnection",value:function(e,t){var r,i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(void 0===e)throw new Error("No nodeId supplied to clusterByConnection!");if(void 0===this.body.nodes[e])throw new Error("The nodeId given to clusterByConnection does not exist!");var o=this.body.nodes[e];void 0===(t=this._checkOptions(t,o)).clusterNodeProperties.x&&(t.clusterNodeProperties.x=o.x),void 0===t.clusterNodeProperties.y&&(t.clusterNodeProperties.y=o.y),void 0===t.clusterNodeProperties.fixed&&(t.clusterNodeProperties.fixed={},t.clusterNodeProperties.fixed.x=o.options.fixed.x,t.clusterNodeProperties.fixed.y=o.options.fixed.y);var u={},h={},f=o.id,b=Kr.cloneOptions(o);u[f]=o;for(var E=0;E<o.edges.length;E++){var k=o.edges[E];if(void 0===this.clusteredEdges[k.id]){var I=this._getConnectedId(k,f);if(void 0===this.clusteredNodes[I])if(I!==f)if(void 0===t.joinCondition)h[k.id]=k,u[I]=this.body.nodes[I];else{var $=Kr.cloneOptions(this.body.nodes[I]);!0===t.joinCondition(b,$)&&(h[k.id]=k,u[I]=this.body.nodes[I])}else h[k.id]=k}}var D=zu(r=Mt(u)).call(r,function(ue){return u[ue].id});for(var N in u)if(Object.prototype.hasOwnProperty.call(u,N))for(var W=u[N],Y=0;Y<W.edges.length;Y++){var J=W.edges[Y];at(D).call(D,this._getConnectedId(J,W.id))>-1&&(h[J.id]=J)}this._cluster(u,h,t,i)}},{key:"_createClusterEdges",value:function(e,t,r,i){for(var o,u,h,f,b,E,k=Mt(e),I=[],$=0;$<k.length;$++){h=e[u=k[$]];for(var D=0;D<h.edges.length;D++)o=h.edges[D],void 0===this.clusteredEdges[o.id]&&(o.toId==o.fromId?t[o.id]=o:o.toId==u?(f=r.id,E=b=o.fromId):(f=o.toId,b=r.id,E=f),void 0===e[E]&&I.push({edge:o,fromId:b,toId:f}))}for(var N=[],W=function(Pe){for(var Je=0;Je<N.length;Je++){var Ve=N[Je],Be=Pe.fromId===Ve.fromId&&Pe.toId===Ve.toId,Se=Pe.fromId===Ve.toId&&Pe.toId===Ve.fromId;if(Be||Se)return Ve}return null},Y=0;Y<I.length;Y++){var J=I[Y],ue=J.edge,he=W(J);null===he?(he=this._createClusteredEdge(J.fromId,J.toId,ue,i),N.push(he)):he.clusteringEdgeReplacingIds.push(ue.id),this.body.edges[ue.id].edgeReplacedById=he.id,this._backupEdgeOptions(ue),ue.setOptions({physics:!1})}}},{key:"_checkOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return void 0===e.clusterEdgeProperties&&(e.clusterEdgeProperties={}),void 0===e.clusterNodeProperties&&(e.clusterNodeProperties={}),e}},{key:"_cluster",value:function(e,t,r){var i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=[];for(var u in e)Object.prototype.hasOwnProperty.call(e,u)&&void 0!==this.clusteredNodes[u]&&o.push(u);for(var h=0;h<o.length;++h)delete e[o[h]];if(0!=Mt(e).length&&(1!=Mt(e).length||1==r.clusterNodeProperties.allowSingleNodeCluster)){var f=_t({},r.clusterNodeProperties);if(void 0!==r.processProperties){var b=[];for(var E in e)if(Object.prototype.hasOwnProperty.call(e,E)){var k=Kr.cloneOptions(e[E]);b.push(k)}var I=[];for(var $ in t)if(Object.prototype.hasOwnProperty.call(t,$)&&"clusterEdge:"!==$.substr(0,12)){var D=Kr.cloneOptions(t[$],"edge");I.push(D)}if(!(f=r.processProperties(f,b,I)))throw new Error("The processProperties function does not return properties!")}void 0===f.id&&(f.id="cluster:"+Nh());var N=f.id;void 0===f.label&&(f.label="cluster");var W=void 0;void 0===f.x&&(W=this._getClusterPosition(e),f.x=W.x),void 0===f.y&&(void 0===W&&(W=this._getClusterPosition(e)),f.y=W.y),f.id=N;var Y=this.body.functions.createNode(f,J_);Y.containedNodes=e,Y.containedEdges=t,Y.clusterEdgeProperties=r.clusterEdgeProperties,this.body.nodes[f.id]=Y,this._clusterEdges(e,t,f,r.clusterEdgeProperties),f.id=void 0,!0===i&&this.body.emitter.emit("_dataChanged")}}},{key:"_backupEdgeOptions",value:function(e){void 0===this.clusteredEdges[e.id]&&(this.clusteredEdges[e.id]={physics:e.options.physics})}},{key:"_restoreEdge",value:function(e){var t=this.clusteredEdges[e.id];void 0!==t&&(e.setOptions({physics:t.physics}),delete this.clusteredEdges[e.id])}},{key:"isCluster",value:function(e){return void 0!==this.body.nodes[e]?!0===this.body.nodes[e].isCluster:(console.error("Node does not exist."),!1)}},{key:"_getClusterPosition",value:function(e){for(var t,r=Mt(e),i=e[r[0]].x,o=e[r[0]].x,u=e[r[0]].y,h=e[r[0]].y,f=1;f<r.length;f++)i=(t=e[r[f]]).x<i?t.x:i,o=t.x>o?t.x:o,u=t.y<u?t.y:u,h=t.y>h?t.y:h;return{x:.5*(i+o),y:.5*(u+h)}}},{key:"openCluster",value:function(e,t){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(void 0===e)throw new Error("No clusterNodeId supplied to openCluster.");var i=this.body.nodes[e];if(void 0===i)throw new Error("The clusterNodeId supplied to openCluster does not exist.");if(!0!==i.isCluster||void 0===i.containedNodes||void 0===i.containedEdges)throw new Error("The node:"+e+" is not a valid cluster.");var o=this.findNode(e),u=at(o).call(o,e)-1;if(u>=0){var h=o[u];return this.body.nodes[h]._openChildCluster(e),delete this.body.nodes[e],void(!0===r&&this.body.emitter.emit("_dataChanged"))}var f=i.containedNodes,b=i.containedEdges;if(void 0!==t&&void 0!==t.releaseFunction&&"function"==typeof t.releaseFunction){var E={},k={x:i.x,y:i.y};for(var I in f)if(Object.prototype.hasOwnProperty.call(f,I)){var $=this.body.nodes[I];E[I]={x:$.x,y:$.y}}var D=t.releaseFunction(k,E);for(var N in f)if(Object.prototype.hasOwnProperty.call(f,N)){var W=this.body.nodes[N];void 0!==D[N]&&(W.x=void 0===D[N].x?i.x:D[N].x,W.y=void 0===D[N].y?i.y:D[N].y)}}else Ke(f,function(kr){!1===kr.options.fixed.x&&(kr.x=i.x),!1===kr.options.fixed.y&&(kr.y=i.y)});for(var Y in f)if(Object.prototype.hasOwnProperty.call(f,Y)){var J=this.body.nodes[Y];J.vx=i.vx,J.vy=i.vy,J.setOptions({physics:!0}),delete this.clusteredNodes[Y]}for(var ue=[],he=0;he<i.edges.length;he++)ue.push(i.edges[he]);for(var Pe=0;Pe<ue.length;Pe++){for(var Je=ue[Pe],Ve=this._getConnectedId(Je,e),Be=this.clusteredNodes[Ve],Se=0;Se<Je.clusteringEdgeReplacingIds.length;Se++){var kt=Je.clusteringEdgeReplacingIds[Se],st=this.body.edges[kt];if(void 0!==st)if(void 0!==Be){var xt=this.body.nodes[Be.clusterId];xt.containedEdges[st.id]=st,delete b[st.id];var Nt=st.fromId,Ut=st.toId;st.toId==Ve?Ut=Be.clusterId:Nt=Be.clusterId,this._createClusteredEdge(Nt,Ut,st,xt.clusterEdgeProperties,{hidden:!1,physics:!0})}else this._restoreEdge(st)}Je.remove()}for(var Xi in b)Object.prototype.hasOwnProperty.call(b,Xi)&&this._restoreEdge(b[Xi]);delete this.body.nodes[e],!0===r&&this.body.emitter.emit("_dataChanged")}},{key:"getNodesInCluster",value:function(e){var t=[];if(!0===this.isCluster(e)){var r=this.body.nodes[e].containedNodes;for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&t.push(this.body.nodes[i].id)}return t}},{key:"findNode",value:function(e){for(var t,r=[],i=0;void 0!==this.clusteredNodes[e]&&i<100;){if(void 0===(t=this.body.nodes[e]))return[];r.push(t.id),e=this.clusteredNodes[e].clusterId,i++}return void 0===(t=this.body.nodes[e])?[]:(r.push(t.id),ls(r).call(r),r)}},{key:"updateClusteredNode",value:function(e,t){if(void 0===e)throw new Error("No clusteredNodeId supplied to updateClusteredNode.");if(void 0===t)throw new Error("No newOptions supplied to updateClusteredNode.");if(void 0===this.body.nodes[e])throw new Error("The clusteredNodeId supplied to updateClusteredNode does not exist.");this.body.nodes[e].setOptions(t),this.body.emitter.emit("_dataChanged")}},{key:"updateEdge",value:function(e,t){if(void 0===e)throw new Error("No startEdgeId supplied to updateEdge.");if(void 0===t)throw new Error("No newOptions supplied to updateEdge.");if(void 0===this.body.edges[e])throw new Error("The startEdgeId supplied to updateEdge does not exist.");for(var r=this.getClusteredEdges(e),i=0;i<r.length;i++)this.body.edges[r[i]].setOptions(t);this.body.emitter.emit("_dataChanged")}},{key:"getClusteredEdges",value:function(e){for(var t=[],r=0;void 0!==e&&void 0!==this.body.edges[e]&&r<100;)t.push(this.body.edges[e].id),e=this.body.edges[e].edgeReplacedById,r++;return ls(t).call(t),t}},{key:"getBaseEdge",value:function(e){return this.getBaseEdges(e)[0]}},{key:"getBaseEdges",value:function(e){for(var t=[e],r=[],i=[],o=0;t.length>0&&o<100;){var u=t.pop();if(void 0!==u){var h=this.body.edges[u];if(void 0!==h){o++;var f=h.clusteringEdgeReplacingIds;if(void 0===f)i.push(u);else for(var b=0;b<f.length;++b){var E=f[b];-1===at(t).call(t,f)&&-1===at(r).call(r,f)&&t.push(E)}r.push(u)}}}return i}},{key:"_getConnectedId",value:function(e,t){return e.toId!=t?e.toId:(e.fromId,e.fromId)}},{key:"_getHubSize",value:function(){for(var e=0,t=0,r=0,i=0,o=0;o<this.body.nodeIndices.length;o++){var u=this.body.nodes[this.body.nodeIndices[o]];u.edges.length>i&&(i=u.edges.length),e+=u.edges.length,t+=Math.pow(u.edges.length,2),r+=1}e/=r;var h=(t/=r)-Math.pow(e,2),f=Math.sqrt(h),b=Math.floor(e+2*f);return b>i&&(b=i),b}},{key:"_createClusteredEdge",value:function(e,t,r,i,o){var u=Kr.cloneOptions(r,"edge");_t(u,i),u.from=e,u.to=t,u.id="clusterEdge:"+Nh(),void 0!==o&&_t(u,o);var h=this.body.functions.createEdge(u);return h.clusteringEdgeReplacingIds=[r.id],h.connect(),this.body.edges[h.id]=h,h}},{key:"_clusterEdges",value:function(e,t,r,i){if(t instanceof Ol){var o=t,u={};u[o.id]=o,t=u}if(e instanceof Nn){var h=e,f={};f[h.id]=h,e=f}if(null==r)throw new Error("_clusterEdges: parameter clusterNode required");for(var b in void 0===i&&(i=r.clusterEdgeProperties),this._createClusterEdges(e,t,r,i),t)if(Object.prototype.hasOwnProperty.call(t,b)&&void 0!==this.body.edges[b]){var E=this.body.edges[b];this._backupEdgeOptions(E),E.setOptions({physics:!1})}for(var k in e)Object.prototype.hasOwnProperty.call(e,k)&&(this.clusteredNodes[k]={clusterId:r.id,node:this.body.nodes[k]},this.body.nodes[k].setOptions({physics:!1}))}},{key:"_getClusterNodeForNode",value:function(e){if(void 0!==e){var t=this.clusteredNodes[e];if(void 0!==t){var r=t.clusterId;if(void 0!==r)return this.body.nodes[r]}}}},{key:"_filter",value:function(e,t){var r=[];return Ke(e,function(i){t(i)&&r.push(i)}),r}},{key:"_updateState",value:function(){var e,t=this,r=[],i={},o=function(E){Ke(t.body.nodes,function(k){!0===k.isCluster&&E(k)})};for(e in this.clusteredNodes)Object.prototype.hasOwnProperty.call(this.clusteredNodes,e)&&void 0===this.body.nodes[e]&&r.push(e);o(function(E){for(var k=0;k<r.length;k++)delete E.containedNodes[r[k]]});for(var u=0;u<r.length;u++)delete this.clusteredNodes[r[u]];Ke(this.clusteredEdges,function(E){var k=t.body.edges[E];void 0!==k&&k.endPointsValid()||(i[E]=E)}),o(function(E){Ke(E.containedEdges,function(k,I){k.endPointsValid()||i[I]||(i[I]=I)})}),Ke(this.body.edges,function(E,k){var I=!0,$=E.clusteringEdgeReplacingIds;if(void 0!==$){var D=0;Ke($,function(N){var W=t.body.edges[N];void 0!==W&&W.endPointsValid()&&(D+=1)}),I=D>0}E.endPointsValid()&&I||(i[k]=k)}),o(function(E){Ke(i,function(k){delete E.containedEdges[k],Ke(E.edges,function(I,$){I.id!==k?I.clusteringEdgeReplacingIds=t._filter(I.clusteringEdgeReplacingIds,function(D){return!i[D]}):E.edges[$]=null}),E.edges=t._filter(E.edges,function(I){return null!==I})})}),Ke(i,function(E){delete t.clusteredEdges[E]}),Ke(i,function(E){delete t.body.edges[E]}),Ke(Mt(this.body.edges),function(E){var k=t.body.edges[E],I=t._isClusteredNode(k.fromId)||t._isClusteredNode(k.toId);if(I!==t._isClusteredEdge(k.id))if(I){var $=t._getClusterNodeForNode(k.fromId);void 0!==$&&t._clusterEdges(t.body.nodes[k.fromId],k,$);var D=t._getClusterNodeForNode(k.toId);void 0!==D&&t._clusterEdges(t.body.nodes[k.toId],k,D)}else delete t._clusterEdges[E],t._restoreEdge(k)});for(var h=!1,f=!0,b=function(){var E=[];o(function(I){var $=Mt(I.containedNodes).length,D=!0===I.options.allowSingleNodeCluster;(D&&$<1||!D&&$<2)&&E.push(I.id)});for(var k=0;k<E.length;++k)t.openCluster(E[k],{},!1);f=E.length>0,h=h||f};f;)b();h&&this._updateState()}},{key:"_isClusteredNode",value:function(e){return void 0!==this.clusteredNodes[e]}},{key:"_isClusteredEdge",value:function(e){return void 0!==this.clusteredEdges[e]}}]),n}(),Rh=function(){function n(e,t){var r;oe(this,n),void 0!==window&&(r=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame),window.requestAnimationFrame=void 0===r?function(i){i()}:r,this.body=e,this.canvas=t,this.redrawRequested=!1,this.renderTimer=void 0,this.requiresTimeout=!0,this.renderingActive=!1,this.renderRequests=0,this.allowRedraw=!0,this.dragging=!1,this.zooming=!1,this.options={},this.defaultOptions={hideEdgesOnDrag:!1,hideEdgesOnZoom:!1,hideNodesOnDrag:!1},Ht(this.options,this.defaultOptions),this._determineBrowserMethod(),this.bindEventListeners()}return ce(n,[{key:"bindEventListeners",value:function(){var e,t=this;this.body.emitter.on("dragStart",function(){t.dragging=!0}),this.body.emitter.on("dragEnd",function(){t.dragging=!1}),this.body.emitter.on("zoom",function(){t.zooming=!0,window.clearTimeout(t.zoomTimeoutId),t.zoomTimeoutId=vn(function(){var r;t.zooming=!1,ee(r=t._requestRedraw).call(r,t)()},250)}),this.body.emitter.on("_resizeNodes",function(){t._resizeNodes()}),this.body.emitter.on("_redraw",function(){!1===t.renderingActive&&t._redraw()}),this.body.emitter.on("_blockRedraw",function(){t.allowRedraw=!1}),this.body.emitter.on("_allowRedraw",function(){t.allowRedraw=!0,t.redrawRequested=!1}),this.body.emitter.on("_requestRedraw",ee(e=this._requestRedraw).call(e,this)),this.body.emitter.on("_startRendering",function(){t.renderRequests+=1,t.renderingActive=!0,t._startRendering()}),this.body.emitter.on("_stopRendering",function(){t.renderRequests-=1,t.renderingActive=t.renderRequests>0,t.renderTimer=void 0}),this.body.emitter.on("destroy",function(){t.renderRequests=0,t.allowRedraw=!1,t.renderingActive=!1,!0===t.requiresTimeout?clearTimeout(t.renderTimer):window.cancelAnimationFrame(t.renderTimer),t.body.emitter.off()})}},{key:"setOptions",value:function(e){void 0!==e&&nl(["hideEdgesOnDrag","hideEdgesOnZoom","hideNodesOnDrag"],this.options,e)}},{key:"_requestNextFrame",value:function(e,t){if(typeof window<"u"){var r,i=window;return!0===this.requiresTimeout?r=vn(e,t):i.requestAnimationFrame&&(r=i.requestAnimationFrame(e)),r}}},{key:"_startRendering",value:function(){var e;!0===this.renderingActive&&void 0===this.renderTimer&&(this.renderTimer=this._requestNextFrame(ee(e=this._renderStep).call(e,this),this.simulationInterval))}},{key:"_renderStep",value:function(){!0===this.renderingActive&&(this.renderTimer=void 0,!0===this.requiresTimeout&&this._startRendering(),this._redraw(),!1===this.requiresTimeout&&this._startRendering())}},{key:"redraw",value:function(){this.body.emitter.emit("setSize"),this._redraw()}},{key:"_requestRedraw",value:function(){var e=this;!0!==this.redrawRequested&&!1===this.renderingActive&&!0===this.allowRedraw&&(this.redrawRequested=!0,this._requestNextFrame(function(){e._redraw(!1)},0))}},{key:"_redraw",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!0===this.allowRedraw){this.body.emitter.emit("initRedraw"),this.redrawRequested=!1;var t={drawExternalLabels:null};0!==this.canvas.frame.canvas.width&&0!==this.canvas.frame.canvas.height||this.canvas.setSize(),this.canvas.setTransform();var r=this.canvas.getContext(),i=this.canvas.frame.canvas.clientWidth,o=this.canvas.frame.canvas.clientHeight;if(r.clearRect(0,0,i,o),0===this.canvas.frame.clientWidth)return;if(r.save(),r.translate(this.body.view.translation.x,this.body.view.translation.y),r.scale(this.body.view.scale,this.body.view.scale),r.beginPath(),this.body.emitter.emit("beforeDrawing",r),r.closePath(),!1===e&&(!1===this.dragging||!0===this.dragging&&!1===this.options.hideEdgesOnDrag)&&(!1===this.zooming||!0===this.zooming&&!1===this.options.hideEdgesOnZoom)&&this._drawEdges(r),!1===this.dragging||!0===this.dragging&&!1===this.options.hideNodesOnDrag){var u=this._drawNodes(r,e).drawExternalLabels;t.drawExternalLabels=u}!1===e&&(!1===this.dragging||!0===this.dragging&&!1===this.options.hideEdgesOnDrag)&&(!1===this.zooming||!0===this.zooming&&!1===this.options.hideEdgesOnZoom)&&this._drawArrows(r),null!=t.drawExternalLabels&&t.drawExternalLabels(),!1===e&&this._drawSelectionBox(r),r.beginPath(),this.body.emitter.emit("afterDrawing",r),r.closePath(),r.restore(),!0===e&&r.clearRect(0,0,i,o)}}},{key:"_resizeNodes",value:function(){this.canvas.setTransform();var e=this.canvas.getContext();e.save(),e.translate(this.body.view.translation.x,this.body.view.translation.y),e.scale(this.body.view.scale,this.body.view.scale);var t,r=this.body.nodes;for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&((t=r[i]).resize(e),t.updateBoundingBox(e,t.selected));e.restore()}},{key:"_drawNodes",value:function(e){for(var t,r,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=this.body.nodes,u=this.body.nodeIndices,h=[],f=[],b=this.canvas.DOMtoCanvas({x:-20,y:-20}),E=this.canvas.DOMtoCanvas({x:this.canvas.frame.canvas.clientWidth+20,y:this.canvas.frame.canvas.clientHeight+20}),k={top:b.y,left:b.x,bottom:E.y,right:E.x},I=[],$=0;$<u.length;$++)if((t=o[u[$]]).hover)f.push(u[$]);else if(t.isSelected())h.push(u[$]);else if(!0===i){var D=t.draw(e);null!=D.drawExternalLabel&&I.push(D.drawExternalLabel)}else if(!0===t.isBoundingBoxOverlappingWith(k)){var N=t.draw(e);null!=N.drawExternalLabel&&I.push(N.drawExternalLabel)}else t.updateBoundingBox(e,t.selected);var W=h.length,Y=f.length;for(r=0;r<W;r++){var J=(t=o[h[r]]).draw(e);null!=J.drawExternalLabel&&I.push(J.drawExternalLabel)}for(r=0;r<Y;r++){var ue=(t=o[f[r]]).draw(e);null!=ue.drawExternalLabel&&I.push(ue.drawExternalLabel)}return{drawExternalLabels:function(){for(var he=0,Pe=I;he<Pe.length;he++)(0,Pe[he])()}}}},{key:"_drawEdges",value:function(e){for(var t=this.body.edges,r=this.body.edgeIndices,i=0;i<r.length;i++){var o=t[r[i]];!0===o.connected&&o.draw(e)}}},{key:"_drawArrows",value:function(e){for(var t=this.body.edges,r=this.body.edgeIndices,i=0;i<r.length;i++){var o=t[r[i]];!0===o.connected&&o.drawArrows(e)}}},{key:"_determineBrowserMethod",value:function(){if(typeof window<"u"){var e=navigator.userAgent.toLowerCase();this.requiresTimeout=!1,(-1!=at(e).call(e,"msie 9.0")||-1!=at(e).call(e,"safari")&&at(e).call(e,"chrome")<=-1)&&(this.requiresTimeout=!0)}else this.requiresTimeout=!0}},{key:"_drawSelectionBox",value:function(e){if(this.body.selectionBox.show){e.beginPath();var t=this.body.selectionBox.position.end.x-this.body.selectionBox.position.start.x,r=this.body.selectionBox.position.end.y-this.body.selectionBox.position.start.y;e.rect(this.body.selectionBox.position.start.x,this.body.selectionBox.position.start.y,t,r),e.fillStyle="rgba(151, 194, 252, 0.2)",e.fillRect(this.body.selectionBox.position.start.x,this.body.selectionBox.position.start.y,t,r),e.strokeStyle="rgba(151, 194, 252, 1)",e.stroke()}else e.closePath()}}]),n}(),Nm=ge(G.setInterval);function Sl(n,e){e.inputHandler=function(t){t.isFirst&&e(t)},n.on("hammer.input",e.inputHandler)}function Rm(n,e){return e.inputHandler=function(t){t.isFinal&&e(t)},n.on("hammer.input",e.inputHandler)}var Lv=function(){function n(e){oe(this,n),this.body=e,this.pixelRatio=1,this.cameraState={},this.initialized=!1,this.canvasViewCenter={},this._cleanupCallbacks=[],this.options={},this.defaultOptions={autoResize:!0,height:"100%",width:"100%"},Ht(this.options,this.defaultOptions),this.bindEventListeners()}return ce(n,[{key:"bindEventListeners",value:function(){var e,t=this;this.body.emitter.once("resize",function(r){0!==r.width&&(t.body.view.translation.x=.5*r.width),0!==r.height&&(t.body.view.translation.y=.5*r.height)}),this.body.emitter.on("setSize",ee(e=this.setSize).call(e,this)),this.body.emitter.on("destroy",function(){t.hammerFrame.destroy(),t.hammer.destroy(),t._cleanUp()})}},{key:"setOptions",value:function(e){var t=this;if(void 0!==e&&nl(["width","height","autoResize"],this.options,e),this._cleanUp(),!0===this.options.autoResize){var r;if(window.ResizeObserver){var i=new ResizeObserver(function(){!0===t.setSize()&&t.body.emitter.emit("_requestRedraw")}),o=this.frame;i.observe(o),this._cleanupCallbacks.push(function(){i.unobserve(o)})}else{var u=Nm(function(){!0===t.setSize()&&t.body.emitter.emit("_requestRedraw")},1e3);this._cleanupCallbacks.push(function(){clearInterval(u)})}var h=ee(r=this._onResize).call(r,this);window.addEventListener("resize",h),this._cleanupCallbacks.push(function(){window.removeEventListener("resize",h)})}}},{key:"_cleanUp",value:function(){var e,t,r;wt(e=ls(t=oi(r=this._cleanupCallbacks).call(r,0)).call(t)).call(e,function(i){try{i()}catch(o){console.error(o)}})}},{key:"_onResize",value:function(){this.setSize(),this.body.emitter.emit("_redraw")}},{key:"_getCameraState",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.pixelRatio;!0===this.initialized&&(this.cameraState.previousWidth=this.frame.canvas.width/e,this.cameraState.previousHeight=this.frame.canvas.height/e,this.cameraState.scale=this.body.view.scale,this.cameraState.position=this.DOMtoCanvas({x:.5*this.frame.canvas.width/e,y:.5*this.frame.canvas.height/e}))}},{key:"_setCameraState",value:function(){if(void 0!==this.cameraState.scale&&0!==this.frame.canvas.clientWidth&&0!==this.frame.canvas.clientHeight&&0!==this.pixelRatio&&this.cameraState.previousWidth>0&&this.cameraState.previousHeight>0){var e=this.frame.canvas.width/this.pixelRatio/this.cameraState.previousWidth,t=this.frame.canvas.height/this.pixelRatio/this.cameraState.previousHeight,r=this.cameraState.scale;1!=e&&1!=t?r=.5*this.cameraState.scale*(e+t):1!=e?r=this.cameraState.scale*e:1!=t&&(r=this.cameraState.scale*t),this.body.view.scale=r;var i=this.DOMtoCanvas({x:.5*this.frame.canvas.clientWidth,y:.5*this.frame.canvas.clientHeight}),o={x:i.x-this.cameraState.position.x,y:i.y-this.cameraState.position.y};this.body.view.translation.x+=o.x*this.body.view.scale,this.body.view.translation.y+=o.y*this.body.view.scale}}},{key:"_prepareValue",value:function(e){if("number"==typeof e)return e+"px";if("string"==typeof e){if(-1!==at(e).call(e,"%")||-1!==at(e).call(e,"px"))return e;if(-1===at(e).call(e,"%"))return e+"px"}throw new Error("Could not use the value supplied for width or height:"+e)}},{key:"_create",value:function(){for(;this.body.container.hasChildNodes();)this.body.container.removeChild(this.body.container.firstChild);if(this.frame=document.createElement("div"),this.frame.className="vis-network",this.frame.style.position="relative",this.frame.style.overflow="hidden",this.frame.tabIndex=0,this.frame.canvas=document.createElement("canvas"),this.frame.canvas.style.position="relative",this.frame.appendChild(this.frame.canvas),this.frame.canvas.getContext)this._setPixelRatio(),this.setTransform();else{var e=document.createElement("DIV");e.style.color="red",e.style.fontWeight="bold",e.style.padding="10px",e.innerText="Error: your browser does not support HTML canvas",this.frame.canvas.appendChild(e)}this.body.container.appendChild(this.frame),this.body.view.scale=1,this.body.view.translation={x:.5*this.frame.canvas.clientWidth,y:.5*this.frame.canvas.clientHeight},this._bindHammer()}},{key:"_bindHammer",value:function(){var e=this;void 0!==this.hammer&&this.hammer.destroy(),this.drag={},this.pinch={},this.hammer=new al(this.frame.canvas),this.hammer.get("pinch").set({enable:!0}),this.hammer.get("pan").set({threshold:5,direction:al.DIRECTION_ALL}),Sl(this.hammer,function(t){e.body.eventListeners.onTouch(t)}),this.hammer.on("tap",function(t){e.body.eventListeners.onTap(t)}),this.hammer.on("doubletap",function(t){e.body.eventListeners.onDoubleTap(t)}),this.hammer.on("press",function(t){e.body.eventListeners.onHold(t)}),this.hammer.on("panstart",function(t){e.body.eventListeners.onDragStart(t)}),this.hammer.on("panmove",function(t){e.body.eventListeners.onDrag(t)}),this.hammer.on("panend",function(t){e.body.eventListeners.onDragEnd(t)}),this.hammer.on("pinch",function(t){e.body.eventListeners.onPinch(t)}),this.frame.canvas.addEventListener("wheel",function(t){e.body.eventListeners.onMouseWheel(t)}),this.frame.canvas.addEventListener("mousemove",function(t){e.body.eventListeners.onMouseMove(t)}),this.frame.canvas.addEventListener("contextmenu",function(t){e.body.eventListeners.onContext(t)}),this.hammerFrame=new al(this.frame),Rm(this.hammerFrame,function(t){e.body.eventListeners.onRelease(t)})}},{key:"setSize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.options.width,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.options.height;e=this._prepareValue(e),t=this._prepareValue(t);var r=!1,i=this.frame.canvas.width,o=this.frame.canvas.height,u=this.pixelRatio;if(this._setPixelRatio(),e!=this.options.width||t!=this.options.height||this.frame.style.width!=e||this.frame.style.height!=t)this._getCameraState(u),this.frame.style.width=e,this.frame.style.height=t,this.frame.canvas.style.width="100%",this.frame.canvas.style.height="100%",this.frame.canvas.width=Math.round(this.frame.canvas.clientWidth*this.pixelRatio),this.frame.canvas.height=Math.round(this.frame.canvas.clientHeight*this.pixelRatio),this.options.width=e,this.options.height=t,this.canvasViewCenter={x:.5*this.frame.clientWidth,y:.5*this.frame.clientHeight},r=!0;else{var h=Math.round(this.frame.canvas.clientWidth*this.pixelRatio),f=Math.round(this.frame.canvas.clientHeight*this.pixelRatio);this.frame.canvas.width===h&&this.frame.canvas.height===f||this._getCameraState(u),this.frame.canvas.width!==h&&(this.frame.canvas.width=h,r=!0),this.frame.canvas.height!==f&&(this.frame.canvas.height=f,r=!0)}return!0===r&&(this.body.emitter.emit("resize",{width:Math.round(this.frame.canvas.width/this.pixelRatio),height:Math.round(this.frame.canvas.height/this.pixelRatio),oldWidth:Math.round(i/this.pixelRatio),oldHeight:Math.round(o/this.pixelRatio)}),this._setCameraState()),this.initialized=!0,r}},{key:"getContext",value:function(){return this.frame.canvas.getContext("2d")}},{key:"_determinePixelRatio",value:function(){var e=this.getContext();if(void 0===e)throw new Error("Could not get canvax context");var t=1;return typeof window<"u"&&(t=window.devicePixelRatio||1),t/(e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1)}},{key:"_setPixelRatio",value:function(){this.pixelRatio=this._determinePixelRatio()}},{key:"setTransform",value:function(){var e=this.getContext();if(void 0===e)throw new Error("Could not get canvax context");e.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0)}},{key:"_XconvertDOMtoCanvas",value:function(e){return(e-this.body.view.translation.x)/this.body.view.scale}},{key:"_XconvertCanvasToDOM",value:function(e){return e*this.body.view.scale+this.body.view.translation.x}},{key:"_YconvertDOMtoCanvas",value:function(e){return(e-this.body.view.translation.y)/this.body.view.scale}},{key:"_YconvertCanvasToDOM",value:function(e){return e*this.body.view.scale+this.body.view.translation.y}},{key:"canvasToDOM",value:function(e){return{x:this._XconvertCanvasToDOM(e.x),y:this._YconvertCanvasToDOM(e.y)}}},{key:"DOMtoCanvas",value:function(e){return{x:this._XconvertDOMtoCanvas(e.x),y:this._YconvertDOMtoCanvas(e.y)}}}]),n}(),jm=function(){function n(e,t){var r,i,o=this;oe(this,n),this.body=e,this.canvas=t,this.animationSpeed=1/this.renderRefreshRate,this.animationEasingFunction="easeInOutQuint",this.easingTime=0,this.sourceScale=0,this.targetScale=0,this.sourceTranslation=0,this.targetTranslation=0,this.lockedOnNodeId=void 0,this.lockedOnNodeOffset=void 0,this.touchTime=0,this.viewFunction=void 0,this.body.emitter.on("fit",ee(r=this.fit).call(r,this)),this.body.emitter.on("animationFinished",function(){o.body.emitter.emit("_stopRendering")}),this.body.emitter.on("unlockNode",ee(i=this.releaseNode).call(i,this))}return ce(n,[{key:"setOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.options=e}},{key:"fit",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e=function(I,$){var D=Ht({nodes:$,minZoomLevel:Number.MIN_VALUE,maxZoomLevel:1},I??{});if(!gt(D.nodes))throw new TypeError("Nodes has to be an array of ids.");if(0===D.nodes.length&&(D.nodes=$),!("number"==typeof D.minZoomLevel&&D.minZoomLevel>0))throw new TypeError("Min zoom level has to be a number higher than zero.");if(!("number"==typeof D.maxZoomLevel&&D.minZoomLevel<=D.maxZoomLevel))throw new TypeError("Max zoom level has to be a number higher than min zoom level.");return D}(e,this.body.nodeIndices);var r,i,o=this.canvas.frame.canvas.clientWidth,u=this.canvas.frame.canvas.clientHeight;if(0===o||0===u)i=1,r=Kr.getRange(this.body.nodes,e.nodes);else if(!0===t){var h=0;for(var f in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,f)&&!0===this.body.nodes[f].predefinedPosition&&(h+=1);if(h>.5*this.body.nodeIndices.length)return void this.fit(e,!1);r=Kr.getRange(this.body.nodes,e.nodes),i=12.662/(this.body.nodeIndices.length+7.4147)+.0964822,i*=Math.min(o/600,u/600)}else{this.body.emitter.emit("_resizeNodes"),r=Kr.getRange(this.body.nodes,e.nodes);var b=o/(1.1*Math.abs(r.maxX-r.minX)),E=u/(1.1*Math.abs(r.maxY-r.minY));i=b<=E?b:E}i>e.maxZoomLevel?i=e.maxZoomLevel:i<e.minZoomLevel&&(i=e.minZoomLevel);var k={position:Kr.findCenter(r),scale:i,animation:e.animation};this.moveTo(k)}},{key:"focus",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(void 0!==this.body.nodes[e]){var r={x:this.body.nodes[e].x,y:this.body.nodes[e].y};t.position=r,t.lockedOnNode=e,this.moveTo(t)}else console.error("Node: "+e+" cannot be found.")}},{key:"moveTo",value:function(e){if(void 0!==e){if(null!=e.offset){if(null!=e.offset.x){if(e.offset.x=+e.offset.x,!Co(e.offset.x))throw new TypeError('The option "offset.x" has to be a finite number.')}else e.offset.x=0;if(null!=e.offset.y){if(e.offset.y=+e.offset.y,!Co(e.offset.y))throw new TypeError('The option "offset.y" has to be a finite number.')}else e.offset.x=0}else e.offset={x:0,y:0};if(null!=e.position){if(null!=e.position.x){if(e.position.x=+e.position.x,!Co(e.position.x))throw new TypeError('The option "position.x" has to be a finite number.')}else e.position.x=0;if(null!=e.position.y){if(e.position.y=+e.position.y,!Co(e.position.y))throw new TypeError('The option "position.y" has to be a finite number.')}else e.position.x=0}else e.position=this.getViewPosition();if(null!=e.scale){if(e.scale=+e.scale,!(e.scale>0))throw new TypeError('The option "scale" has to be a number greater than zero.')}else e.scale=this.body.view.scale;void 0===e.animation&&(e.animation={duration:0}),!1===e.animation&&(e.animation={duration:0}),!0===e.animation&&(e.animation={}),void 0===e.animation.duration&&(e.animation.duration=1e3),void 0===e.animation.easingFunction&&(e.animation.easingFunction="easeInOutQuad"),this.animateView(e)}else e={}}},{key:"animateView",value:function(e){if(void 0!==e){this.animationEasingFunction=e.animation.easingFunction,this.releaseNode(),!0===e.locked&&(this.lockedOnNodeId=e.lockedOnNode,this.lockedOnNodeOffset=e.offset),0!=this.easingTime&&this._transitionRedraw(!0),this.sourceScale=this.body.view.scale,this.sourceTranslation=this.body.view.translation,this.targetScale=e.scale,this.body.view.scale=this.targetScale;var t,r,i=this.canvas.DOMtoCanvas({x:.5*this.canvas.frame.canvas.clientWidth,y:.5*this.canvas.frame.canvas.clientHeight}),o=i.x-e.position.x,u=i.y-e.position.y;this.targetTranslation={x:this.sourceTranslation.x+o*this.targetScale+e.offset.x,y:this.sourceTranslation.y+u*this.targetScale+e.offset.y},0===e.animation.duration?null!=this.lockedOnNodeId?(this.viewFunction=ee(t=this._lockedRedraw).call(t,this),this.body.emitter.on("initRedraw",this.viewFunction)):(this.body.view.scale=this.targetScale,this.body.view.translation=this.targetTranslation,this.body.emitter.emit("_requestRedraw")):(this.animationSpeed=1/(60*e.animation.duration*.001)||1/60,this.animationEasingFunction=e.animation.easingFunction,this.viewFunction=ee(r=this._transitionRedraw).call(r,this),this.body.emitter.on("initRedraw",this.viewFunction),this.body.emitter.emit("_startRendering"))}}},{key:"_lockedRedraw",value:function(){var e=this.body.nodes[this.lockedOnNodeId].x,t=this.body.nodes[this.lockedOnNodeId].y,r=this.canvas.DOMtoCanvas({x:.5*this.canvas.frame.canvas.clientWidth,y:.5*this.canvas.frame.canvas.clientHeight}),i=r.x-e,o=r.y-t,u=this.body.view.translation,h={x:u.x+i*this.body.view.scale+this.lockedOnNodeOffset.x,y:u.y+o*this.body.view.scale+this.lockedOnNodeOffset.y};this.body.view.translation=h}},{key:"releaseNode",value:function(){void 0!==this.lockedOnNodeId&&void 0!==this.viewFunction&&(this.body.emitter.off("initRedraw",this.viewFunction),this.lockedOnNodeId=void 0,this.lockedOnNodeOffset=void 0)}},{key:"_transitionRedraw",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.easingTime+=this.animationSpeed,this.easingTime=!0===e?1:this.easingTime;var r,t=BS[this.animationEasingFunction](this.easingTime);this.body.view.scale=this.sourceScale+(this.targetScale-this.sourceScale)*t,this.body.view.translation={x:this.sourceTranslation.x+(this.targetTranslation.x-this.sourceTranslation.x)*t,y:this.sourceTranslation.y+(this.targetTranslation.y-this.sourceTranslation.y)*t},this.easingTime>=1&&(this.body.emitter.off("initRedraw",this.viewFunction),this.easingTime=0,null!=this.lockedOnNodeId&&(this.viewFunction=ee(r=this._lockedRedraw).call(r,this),this.body.emitter.on("initRedraw",this.viewFunction)),this.body.emitter.emit("animationFinished"))}},{key:"getScale",value:function(){return this.body.view.scale}},{key:"getViewPosition",value:function(){return this.canvas.DOMtoCanvas({x:.5*this.canvas.frame.canvas.clientWidth,y:.5*this.canvas.frame.canvas.clientHeight})}}]),n}();function fi(n){var e,t=n&&n.preventDefault||!1,r=n&&n.container||window,i={},o={keydown:{},keyup:{}},u={};for(e=97;e<=122;e++)u[String.fromCharCode(e)]={code:e-97+65,shift:!1};for(e=65;e<=90;e++)u[String.fromCharCode(e)]={code:e,shift:!0};for(e=0;e<=9;e++)u[""+e]={code:48+e,shift:!1};for(e=1;e<=12;e++)u["F"+e]={code:111+e,shift:!1};for(e=0;e<=9;e++)u["num"+e]={code:96+e,shift:!1};u["num*"]={code:106,shift:!1},u["num+"]={code:107,shift:!1},u["num-"]={code:109,shift:!1},u["num/"]={code:111,shift:!1},u["num."]={code:110,shift:!1},u.left={code:37,shift:!1},u.up={code:38,shift:!1},u.right={code:39,shift:!1},u.down={code:40,shift:!1},u.space={code:32,shift:!1},u.enter={code:13,shift:!1},u.shift={code:16,shift:void 0},u.esc={code:27,shift:!1},u.backspace={code:8,shift:!1},u.tab={code:9,shift:!1},u.ctrl={code:17,shift:!1},u.alt={code:18,shift:!1},u.delete={code:46,shift:!1},u.pageup={code:33,shift:!1},u.pagedown={code:34,shift:!1},u["="]={code:187,shift:!1},u["-"]={code:189,shift:!1},u["]"]={code:221,shift:!1},u["["]={code:219,shift:!1};var h=function(E){b(E,"keydown")},f=function(E){b(E,"keyup")},b=function(E,k){if(void 0!==o[k][E.keyCode]){for(var I=o[k][E.keyCode],$=0;$<I.length;$++)(void 0===I[$].shift||1==I[$].shift&&1==E.shiftKey||0==I[$].shift&&0==E.shiftKey)&&I[$].fn(E);1==t&&E.preventDefault()}};return i.bind=function(E,k,I){if(void 0===I&&(I="keydown"),void 0===u[E])throw new Error("unsupported key: "+E);void 0===o[I][u[E].code]&&(o[I][u[E].code]=[]),o[I][u[E].code].push({fn:k,shift:u[E].shift})},i.bindAll=function(E,k){for(var I in void 0===k&&(k="keydown"),u)u.hasOwnProperty(I)&&i.bind(I,E,k)},i.getKey=function(E){for(var k in u)if(u.hasOwnProperty(k)&&(1==E.shiftKey&&1==u[k].shift&&E.keyCode==u[k].code||0==E.shiftKey&&0==u[k].shift&&E.keyCode==u[k].code||E.keyCode==u[k].code&&"shift"==k))return k;return"unknown key, currently not supported"},i.unbind=function(E,k,I){if(void 0===I&&(I="keydown"),void 0===u[E])throw new Error("unsupported key: "+E);if(void 0!==k){var $=[],D=o[I][u[E].code];if(void 0!==D)for(var N=0;N<D.length;N++)D[N].fn==k&&D[N].shift==u[E].shift||$.push(o[I][u[E].code][N]);o[I][u[E].code]=$}else o[I][u[E].code]=[]},i.reset=function(){o={keydown:{},keyup:{}}},i.destroy=function(){o={keydown:{},keyup:{}},r.removeEventListener("keydown",h,!0),r.removeEventListener("keyup",f,!0)},r.addEventListener("keydown",h,!0),r.addEventListener("keyup",f,!0),i}var Z_=function(){function n(e,t){var r=this;oe(this,n),this.body=e,this.canvas=t,this.iconsCreated=!1,this.navigationHammers=[],this.boundFunctions={},this.touchTime=0,this.activated=!1,this.body.emitter.on("activate",function(){r.activated=!0,r.configureKeyboardBindings()}),this.body.emitter.on("deactivate",function(){r.activated=!1,r.configureKeyboardBindings()}),this.body.emitter.on("destroy",function(){void 0!==r.keycharm&&r.keycharm.destroy()}),this.options={}}return ce(n,[{key:"setOptions",value:function(e){void 0!==e&&(this.options=e,this.create())}},{key:"create",value:function(){!0===this.options.navigationButtons?!1===this.iconsCreated&&this.loadNavigationElements():!0===this.iconsCreated&&this.cleanNavigation(),this.configureKeyboardBindings()}},{key:"cleanNavigation",value:function(){if(0!=this.navigationHammers.length){for(var e=0;e<this.navigationHammers.length;e++)this.navigationHammers[e].destroy();this.navigationHammers=[]}this.navigationDOM&&this.navigationDOM.wrapper&&this.navigationDOM.wrapper.parentNode&&this.navigationDOM.wrapper.parentNode.removeChild(this.navigationDOM.wrapper),this.iconsCreated=!1}},{key:"loadNavigationElements",value:function(){var e=this;this.cleanNavigation(),this.navigationDOM={};var t=["up","down","left","right","zoomIn","zoomOut","zoomExtends"],r=["_moveUp","_moveDown","_moveLeft","_moveRight","_zoomIn","_zoomOut","_fit"];this.navigationDOM.wrapper=document.createElement("div"),this.navigationDOM.wrapper.className="vis-navigation",this.canvas.frame.appendChild(this.navigationDOM.wrapper);for(var i=0;i<t.length;i++){this.navigationDOM[t[i]]=document.createElement("div"),this.navigationDOM[t[i]].className="vis-button vis-"+t[i],this.navigationDOM.wrapper.appendChild(this.navigationDOM[t[i]]);var o,u,h=new al(this.navigationDOM[t[i]]);"_fit"===r[i]?Sl(h,ee(o=this._fit).call(o,this)):Sl(h,ee(u=this.bindToRedraw).call(u,this,r[i])),this.navigationHammers.push(h)}var f=new al(this.canvas.frame);Rm(f,function(){e._stopMovement()}),this.navigationHammers.push(f),this.iconsCreated=!0}},{key:"bindToRedraw",value:function(e){var t;void 0===this.boundFunctions[e]&&(this.boundFunctions[e]=ee(t=this[e]).call(t,this),this.body.emitter.on("initRedraw",this.boundFunctions[e]),this.body.emitter.emit("_startRendering"))}},{key:"unbindFromRedraw",value:function(e){void 0!==this.boundFunctions[e]&&(this.body.emitter.off("initRedraw",this.boundFunctions[e]),this.body.emitter.emit("_stopRendering"),delete this.boundFunctions[e])}},{key:"_fit",value:function(){(new Date).valueOf()-this.touchTime>700&&(this.body.emitter.emit("fit",{duration:700}),this.touchTime=(new Date).valueOf())}},{key:"_stopMovement",value:function(){for(var e in this.boundFunctions)Object.prototype.hasOwnProperty.call(this.boundFunctions,e)&&(this.body.emitter.off("initRedraw",this.boundFunctions[e]),this.body.emitter.emit("_stopRendering"));this.boundFunctions={}}},{key:"_moveUp",value:function(){this.body.view.translation.y+=this.options.keyboard.speed.y}},{key:"_moveDown",value:function(){this.body.view.translation.y-=this.options.keyboard.speed.y}},{key:"_moveLeft",value:function(){this.body.view.translation.x+=this.options.keyboard.speed.x}},{key:"_moveRight",value:function(){this.body.view.translation.x-=this.options.keyboard.speed.x}},{key:"_zoomIn",value:function(){var e=this.body.view.scale,t=this.body.view.scale*(1+this.options.keyboard.speed.zoom),r=this.body.view.translation,i=t/e,o=(1-i)*this.canvas.canvasViewCenter.x+r.x*i,u=(1-i)*this.canvas.canvasViewCenter.y+r.y*i;this.body.view.scale=t,this.body.view.translation={x:o,y:u},this.body.emitter.emit("zoom",{direction:"+",scale:this.body.view.scale,pointer:null})}},{key:"_zoomOut",value:function(){var e=this.body.view.scale,t=this.body.view.scale/(1+this.options.keyboard.speed.zoom),r=this.body.view.translation,i=t/e,o=(1-i)*this.canvas.canvasViewCenter.x+r.x*i,u=(1-i)*this.canvas.canvasViewCenter.y+r.y*i;this.body.view.scale=t,this.body.view.translation={x:o,y:u},this.body.emitter.emit("zoom",{direction:"-",scale:this.body.view.scale,pointer:null})}},{key:"configureKeyboardBindings",value:function(){var e,t,r,i,o,u,h,f,b,E,k,I,$,D,N,W,Y,J,ue,he,Pe,Je,Ve,Be,Se=this;void 0!==this.keycharm&&this.keycharm.destroy(),!0===this.options.keyboard.enabled&&(!0===this.options.keyboard.bindToWindow?this.keycharm=fi({container:window,preventDefault:!0}):this.keycharm=fi({container:this.canvas.frame,preventDefault:!0}),this.keycharm.reset(),!0===this.activated&&(ee(e=this.keycharm).call(e,"up",function(){Se.bindToRedraw("_moveUp")},"keydown"),ee(t=this.keycharm).call(t,"down",function(){Se.bindToRedraw("_moveDown")},"keydown"),ee(r=this.keycharm).call(r,"left",function(){Se.bindToRedraw("_moveLeft")},"keydown"),ee(i=this.keycharm).call(i,"right",function(){Se.bindToRedraw("_moveRight")},"keydown"),ee(o=this.keycharm).call(o,"=",function(){Se.bindToRedraw("_zoomIn")},"keydown"),ee(u=this.keycharm).call(u,"num+",function(){Se.bindToRedraw("_zoomIn")},"keydown"),ee(h=this.keycharm).call(h,"num-",function(){Se.bindToRedraw("_zoomOut")},"keydown"),ee(f=this.keycharm).call(f,"-",function(){Se.bindToRedraw("_zoomOut")},"keydown"),ee(b=this.keycharm).call(b,"[",function(){Se.bindToRedraw("_zoomOut")},"keydown"),ee(E=this.keycharm).call(E,"]",function(){Se.bindToRedraw("_zoomIn")},"keydown"),ee(k=this.keycharm).call(k,"pageup",function(){Se.bindToRedraw("_zoomIn")},"keydown"),ee(I=this.keycharm).call(I,"pagedown",function(){Se.bindToRedraw("_zoomOut")},"keydown"),ee($=this.keycharm).call($,"up",function(){Se.unbindFromRedraw("_moveUp")},"keyup"),ee(D=this.keycharm).call(D,"down",function(){Se.unbindFromRedraw("_moveDown")},"keyup"),ee(N=this.keycharm).call(N,"left",function(){Se.unbindFromRedraw("_moveLeft")},"keyup"),ee(W=this.keycharm).call(W,"right",function(){Se.unbindFromRedraw("_moveRight")},"keyup"),ee(Y=this.keycharm).call(Y,"=",function(){Se.unbindFromRedraw("_zoomIn")},"keyup"),ee(J=this.keycharm).call(J,"num+",function(){Se.unbindFromRedraw("_zoomIn")},"keyup"),ee(ue=this.keycharm).call(ue,"num-",function(){Se.unbindFromRedraw("_zoomOut")},"keyup"),ee(he=this.keycharm).call(he,"-",function(){Se.unbindFromRedraw("_zoomOut")},"keyup"),ee(Pe=this.keycharm).call(Pe,"[",function(){Se.unbindFromRedraw("_zoomOut")},"keyup"),ee(Je=this.keycharm).call(Je,"]",function(){Se.unbindFromRedraw("_zoomIn")},"keyup"),ee(Ve=this.keycharm).call(Ve,"pageup",function(){Se.unbindFromRedraw("_zoomIn")},"keyup"),ee(Be=this.keycharm).call(Be,"pagedown",function(){Se.unbindFromRedraw("_zoomOut")},"keyup")))}}]),n}();function zv(n,e){var t=void 0!==mo&&Ir(n)||n["@@iterator"];if(!t){if(gt(n)||(t=function(f,b){var E;if(f){if("string"==typeof f)return Hv(f,b);var k=br(E=Object.prototype.toString.call(f)).call(E,8,-1);if("Object"===k&&f.constructor&&(k=f.constructor.name),"Map"===k||"Set"===k)return ns(f);if("Arguments"===k||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(k))return Hv(f,b)}}(n))||e&&n&&"number"==typeof n.length){t&&(n=t);var r=0,i=function(){};return{s:i,n:function(){return r>=n.length?{done:!0}:{done:!1,value:n[r++]}},e:function(f){throw f},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,u=!0,h=!1;return{s:function(){t=t.call(n)},n:function(){var f=t.next();return u=f.done,f},e:function(f){h=!0,o=f},f:function(){try{u||null==t.return||t.return()}finally{if(h)throw o}}}}function Hv(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}var Us=function(){function n(e,t,r){var i,o,u,h,f,b,E,k,I,$,D,N,W;oe(this,n),this.body=e,this.canvas=t,this.selectionHandler=r,this.navigationHandler=new Z_(e,t),this.body.eventListeners.onTap=ee(i=this.onTap).call(i,this),this.body.eventListeners.onTouch=ee(o=this.onTouch).call(o,this),this.body.eventListeners.onDoubleTap=ee(u=this.onDoubleTap).call(u,this),this.body.eventListeners.onHold=ee(h=this.onHold).call(h,this),this.body.eventListeners.onDragStart=ee(f=this.onDragStart).call(f,this),this.body.eventListeners.onDrag=ee(b=this.onDrag).call(b,this),this.body.eventListeners.onDragEnd=ee(E=this.onDragEnd).call(E,this),this.body.eventListeners.onMouseWheel=ee(k=this.onMouseWheel).call(k,this),this.body.eventListeners.onPinch=ee(I=this.onPinch).call(I,this),this.body.eventListeners.onMouseMove=ee($=this.onMouseMove).call($,this),this.body.eventListeners.onRelease=ee(D=this.onRelease).call(D,this),this.body.eventListeners.onContext=ee(N=this.onContext).call(N,this),this.touchTime=0,this.drag={},this.pinch={},this.popup=void 0,this.popupObj=void 0,this.popupTimer=void 0,this.body.functions.getPointer=ee(W=this.getPointer).call(W,this),this.options={},this.defaultOptions={dragNodes:!0,dragView:!0,hover:!1,keyboard:{enabled:!1,speed:{x:10,y:10,zoom:.02},bindToWindow:!0,autoFocus:!0},navigationButtons:!1,tooltipDelay:300,zoomView:!0,zoomSpeed:1},Ht(this.options,this.defaultOptions),this.bindEventListeners()}return ce(n,[{key:"bindEventListeners",value:function(){var e=this;this.body.emitter.on("destroy",function(){clearTimeout(e.popupTimer),delete e.body.functions.getPointer})}},{key:"setOptions",value:function(e){void 0!==e&&(ba(["hideEdgesOnDrag","hideEdgesOnZoom","hideNodesOnDrag","keyboard","multiselect","selectable","selectConnectedEdges"],this.options,e),hr(this.options,e,"keyboard"),e.tooltip&&(Ht(this.options.tooltip,e.tooltip),e.tooltip.color&&(this.options.tooltip.color=sh(e.tooltip.color)))),this.navigationHandler.setOptions(this.options)}},{key:"getPointer",value:function(e){return{x:e.x-(t=this.canvas.frame.canvas,t.getBoundingClientRect().left),y:e.y-FS(this.canvas.frame.canvas)};var t}},{key:"onTouch",value:function(e){(new Date).valueOf()-this.touchTime>50&&(this.drag.pointer=this.getPointer(e.center),this.drag.pinched=!1,this.pinch.scale=this.body.view.scale,this.touchTime=(new Date).valueOf())}},{key:"onTap",value:function(e){var t=this.getPointer(e.center),r=this.selectionHandler.options.multiselect&&(e.changedPointers[0].ctrlKey||e.changedPointers[0].metaKey);this.checkSelectionChanges(t,r),this.selectionHandler.commitAndEmit(t,e),this.selectionHandler.generateClickEvent("click",e,t)}},{key:"onDoubleTap",value:function(e){var t=this.getPointer(e.center);this.selectionHandler.generateClickEvent("doubleClick",e,t)}},{key:"onHold",value:function(e){var t=this.getPointer(e.center),r=this.selectionHandler.options.multiselect;this.checkSelectionChanges(t,r),this.selectionHandler.commitAndEmit(t,e),this.selectionHandler.generateClickEvent("click",e,t),this.selectionHandler.generateClickEvent("hold",e,t)}},{key:"onRelease",value:function(e){if((new Date).valueOf()-this.touchTime>10){var t=this.getPointer(e.center);this.selectionHandler.generateClickEvent("release",e,t),this.touchTime=(new Date).valueOf()}}},{key:"onContext",value:function(e){var t=this.getPointer({x:e.clientX,y:e.clientY});this.selectionHandler.generateClickEvent("oncontext",e,t)}},{key:"checkSelectionChanges",value:function(e){!0===(arguments.length>1&&void 0!==arguments[1]&&arguments[1])?this.selectionHandler.selectAdditionalOnPoint(e):this.selectionHandler.selectOnPoint(e)}},{key:"_determineDifference",value:function(e,t){var r=function(i,o){for(var u=[],h=0;h<i.length;h++){var f=i[h];-1===at(o).call(o,f)&&u.push(f)}return u};return{nodes:r(e.nodes,t.nodes),edges:r(e.edges,t.edges)}}},{key:"onDragStart",value:function(e){if(!this.drag.dragging){void 0===this.drag.pointer&&this.onTouch(e);var t=this.selectionHandler.getNodeAt(this.drag.pointer);if(this.drag.dragging=!0,this.drag.selection=[],this.drag.translation=Ht({},this.body.view.translation),this.drag.nodeId=void 0,e.srcEvent.shiftKey){this.body.selectionBox.show=!0;var r=this.getPointer(e.center);this.body.selectionBox.position.start={x:this.canvas._XconvertDOMtoCanvas(r.x),y:this.canvas._YconvertDOMtoCanvas(r.y)},this.body.selectionBox.position.end={x:this.canvas._XconvertDOMtoCanvas(r.x),y:this.canvas._YconvertDOMtoCanvas(r.y)}}else if(void 0!==t&&!0===this.options.dragNodes){this.drag.nodeId=t.id,!1===t.isSelected()&&this.selectionHandler.setSelection({nodes:[t.id]}),this.selectionHandler.generateClickEvent("dragStart",e,this.drag.pointer);var i,o=zv(this.selectionHandler.getSelectedNodes());try{for(o.s();!(i=o.n()).done;){var u=i.value,h={id:u.id,node:u,x:u.x,y:u.y,xFixed:u.options.fixed.x,yFixed:u.options.fixed.y};u.options.fixed.x=!0,u.options.fixed.y=!0,this.drag.selection.push(h)}}catch(f){o.e(f)}finally{o.f()}}else this.selectionHandler.generateClickEvent("dragStart",e,this.drag.pointer,void 0,!0)}}},{key:"onDrag",value:function(e){var t=this;if(!0!==this.drag.pinched){this.body.emitter.emit("unlockNode");var r=this.getPointer(e.center),i=this.drag.selection;if(i&&i.length&&!0===this.options.dragNodes){this.selectionHandler.generateClickEvent("dragging",e,r);var o=r.x-this.drag.pointer.x,u=r.y-this.drag.pointer.y;wt(i).call(i,function(b){var E=b.node;!1===b.xFixed&&(E.x=t.canvas._XconvertDOMtoCanvas(t.canvas._XconvertCanvasToDOM(b.x)+o)),!1===b.yFixed&&(E.y=t.canvas._YconvertDOMtoCanvas(t.canvas._YconvertCanvasToDOM(b.y)+u))}),this.body.emitter.emit("startSimulation")}else{if(e.srcEvent.shiftKey){if(this.selectionHandler.generateClickEvent("dragging",e,r,void 0,!0),void 0===this.drag.pointer)return void this.onDragStart(e);this.body.selectionBox.position.end={x:this.canvas._XconvertDOMtoCanvas(r.x),y:this.canvas._YconvertDOMtoCanvas(r.y)},this.body.emitter.emit("_requestRedraw")}if(!0===this.options.dragView&&!e.srcEvent.shiftKey){if(this.selectionHandler.generateClickEvent("dragging",e,r,void 0,!0),void 0===this.drag.pointer)return void this.onDragStart(e);var h=r.x-this.drag.pointer.x,f=r.y-this.drag.pointer.y;this.body.view.translation={x:this.drag.translation.x+h,y:this.drag.translation.y+f},this.body.emitter.emit("_requestRedraw")}}}}},{key:"onDragEnd",value:function(e){var t=this;if(this.drag.dragging=!1,this.body.selectionBox.show){var r;this.body.selectionBox.show=!1;var i=this.body.selectionBox.position,o={minX:Math.min(i.start.x,i.end.x),minY:Math.min(i.start.y,i.end.y),maxX:Math.max(i.start.x,i.end.x),maxY:Math.max(i.start.y,i.end.y)},u=Vr(r=this.body.nodeIndices).call(r,function(b){var E=t.body.nodes[b];return E.x>=o.minX&&E.x<=o.maxX&&E.y>=o.minY&&E.y<=o.maxY});wt(u).call(u,function(b){return t.selectionHandler.selectObject(t.body.nodes[b])});var h=this.getPointer(e.center);this.selectionHandler.commitAndEmit(h,e),this.selectionHandler.generateClickEvent("dragEnd",e,this.getPointer(e.center),void 0,!0),this.body.emitter.emit("_requestRedraw")}else{var f=this.drag.selection;f&&f.length?(wt(f).call(f,function(b){b.node.options.fixed.x=b.xFixed,b.node.options.fixed.y=b.yFixed}),this.selectionHandler.generateClickEvent("dragEnd",e,this.getPointer(e.center)),this.body.emitter.emit("startSimulation")):(this.selectionHandler.generateClickEvent("dragEnd",e,this.getPointer(e.center),void 0,!0),this.body.emitter.emit("_requestRedraw"))}}},{key:"onPinch",value:function(e){var t=this.getPointer(e.center);this.drag.pinched=!0,void 0===this.pinch.scale&&(this.pinch.scale=1);var r=this.pinch.scale*e.scale;this.zoom(r,t)}},{key:"zoom",value:function(e,t){if(!0===this.options.zoomView){var r=this.body.view.scale;e<1e-5&&(e=1e-5),e>10&&(e=10);var i=void 0;void 0!==this.drag&&!0===this.drag.dragging&&(i=this.canvas.DOMtoCanvas(this.drag.pointer));var o=this.body.view.translation,u=e/r,h=(1-u)*t.x+o.x*u,f=(1-u)*t.y+o.y*u;if(this.body.view.scale=e,this.body.view.translation={x:h,y:f},null!=i){var b=this.canvas.canvasToDOM(i);this.drag.pointer.x=b.x,this.drag.pointer.y=b.y}this.body.emitter.emit("_requestRedraw"),r<e?this.body.emitter.emit("zoom",{direction:"+",scale:this.body.view.scale,pointer:t}):this.body.emitter.emit("zoom",{direction:"-",scale:this.body.view.scale,pointer:t})}}},{key:"onMouseWheel",value:function(e){if(!0===this.options.zoomView){if(0!==e.deltaY){var t=this.body.view.scale;t*=1+(e.deltaY<0?1:-1)*(.1*this.options.zoomSpeed);var r=this.getPointer({x:e.clientX,y:e.clientY});this.zoom(t,r)}e.preventDefault()}}},{key:"onMouseMove",value:function(e){var t=this,r=this.getPointer({x:e.clientX,y:e.clientY}),i=!1;void 0!==this.popup&&(!1===this.popup.hidden&&this._checkHidePopup(r),!1===this.popup.hidden&&(i=!0,this.popup.setPosition(r.x+3,r.y-5),this.popup.show())),this.options.keyboard.autoFocus&&!1===this.options.keyboard.bindToWindow&&!0===this.options.keyboard.enabled&&this.canvas.frame.focus(),!1===i&&(void 0!==this.popupTimer&&(clearInterval(this.popupTimer),this.popupTimer=void 0),this.drag.dragging||(this.popupTimer=vn(function(){return t._checkShowPopup(r)},this.options.tooltipDelay))),!0===this.options.hover&&this.selectionHandler.hoverObject(e,r)}},{key:"_checkShowPopup",value:function(e){var t=this.canvas._XconvertDOMtoCanvas(e.x),r=this.canvas._YconvertDOMtoCanvas(e.y),i={left:t,top:r,right:t,bottom:r},o=void 0===this.popupObj?void 0:this.popupObj.id,u=!1,h="node";if(void 0===this.popupObj){for(var f,b=this.body.nodeIndices,E=this.body.nodes,k=[],I=0;I<b.length;I++)!0===(f=E[b[I]]).isOverlappingWith(i)&&(u=!0,void 0!==f.getTitle()&&k.push(b[I]));k.length>0&&(this.popupObj=E[k[k.length-1]],u=!0)}if(void 0===this.popupObj&&!1===u){for(var $,D=this.body.edgeIndices,N=this.body.edges,W=[],Y=0;Y<D.length;Y++)!0===($=N[D[Y]]).isOverlappingWith(i)&&!0===$.connected&&void 0!==$.getTitle()&&W.push(D[Y]);W.length>0&&(this.popupObj=N[W[W.length-1]],h="edge")}void 0!==this.popupObj?this.popupObj.id!==o&&(void 0===this.popup&&(this.popup=new nv(this.canvas.frame)),this.popup.popupTargetType=h,this.popup.popupTargetId=this.popupObj.id,this.popup.setPosition(e.x+3,e.y-5),this.popup.setText(this.popupObj.getTitle()),this.popup.show(),this.body.emitter.emit("showPopup",this.popupObj.id)):void 0!==this.popup&&(this.popup.hide(),this.body.emitter.emit("hidePopup"))}},{key:"_checkHidePopup",value:function(e){var t=this.selectionHandler._pointerToPositionObject(e),r=!1;if("node"===this.popup.popupTargetType){if(void 0!==this.body.nodes[this.popup.popupTargetId]&&!0===(r=this.body.nodes[this.popup.popupTargetId].isOverlappingWith(t))){var i=this.selectionHandler.getNodeAt(e);r=void 0!==i&&i.id===this.popup.popupTargetId}}else void 0===this.selectionHandler.getNodeAt(e)&&void 0!==this.body.edges[this.popup.popupTargetId]&&(r=this.body.edges[this.popup.popupTargetId].isOverlappingWith(t));!1===r&&(this.popupObj=void 0,this.popup.hide(),this.body.emitter.emit("hidePopup"))}}]),n}();vv("Set",function(n){return function(){return n(this,arguments.length?arguments[0]:void 0)}},f_);var Gi=ge(G.Set),Fm=Ee,eE=Xy,jh=lv.getWeakData,Yx=fv,tE=On,Kx=Fr,Bm=L,rE=ka,s=or,c=Hn.set,d=Hn.getterFor,p=$i.find,m=$i.findIndex,_=Fm([].splice),S=0,T=function(n){return n.frozen||(n.frozen=new C)},C=function(){this.entries=[]},A=function(n,e){return p(n.entries,function(t){return t[0]===e})};C.prototype={get:function(n){var e=A(this,n);if(e)return e[1]},has:function(n){return!!A(this,n)},set:function(n,e){var t=A(this,n);t?t[1]=e:this.entries.push([n,e])},delete:function(n){var e=m(this.entries,function(t){return t[0]===n});return~e&&_(this.entries,e,1),!!~e}};var z,q=Hy,ae=ye,ve=Ee,de=Xy,ke=lv,Fe=vv,Te={getConstructor:function(n,e,t,r){var i=n(function(f,b){Yx(f,o),c(f,{type:e,id:S++,frozen:void 0}),Kx(b)||rE(b,f[r],{that:f,AS_ENTRIES:t})}),o=i.prototype,u=d(e),h=function(f,b,E){var k=u(f),I=jh(tE(b),!0);return!0===I?T(k).set(b,E):I[k.id]=E,f};return eE(o,{delete:function(f){var b=u(this);if(!Bm(f))return!1;var E=jh(f);return!0===E?T(b).delete(f):E&&s(E,b.id)&&delete E[b.id]},has:function(f){var b=u(this);if(!Bm(f))return!1;var E=jh(f);return!0===E?T(b).has(f):E&&s(E,b.id)}}),eE(o,t?{get:function(f){var b=u(this);if(Bm(f)){var E=jh(f);return!0===E?T(b).get(f):E?E[b.id]:void 0}},set:function(f,b){return h(this,f,b)}}:{add:function(f){return h(this,f,!0)}}),i}},vt=L,Xe=Hn.enforce,Tt=re,Yi=Ql,zt=Object,_n=Array.isArray,vr=zt.isExtensible,Xr=zt.isFrozen,Fh=zt.isSealed,Vs=zt.freeze,Ki=zt.seal,Lm={},Bh={},nE=!ae.ActiveXObject&&"ActiveXObject"in ae,zm=function(n){return function(){return n(this,arguments.length?arguments[0]:void 0)}},Lh=Fe("WeakMap",zm,Te),jo=Lh.prototype,Kn=ve(jo.set);if(Yi)if(nE){z=Te.getConstructor(zm,"WeakMap",!0),ke.enable();var Wv=ve(jo.delete),zh=ve(jo.has),ie=ve(jo.get);de(jo,{delete:function(n){if(vt(n)&&!vr(n)){var e=Xe(this);return e.frozen||(e.frozen=new z),Wv(this,n)||e.frozen.delete(n)}return Wv(this,n)},has:function(n){if(vt(n)&&!vr(n)){var e=Xe(this);return e.frozen||(e.frozen=new z),zh(this,n)||e.frozen.has(n)}return zh(this,n)},get:function(n){if(vt(n)&&!vr(n)){var e=Xe(this);return e.frozen||(e.frozen=new z),zh(this,n)?ie(this,n):e.frozen.get(n)}return ie(this,n)},set:function(n,e){if(vt(n)&&!vr(n)){var t=Xe(this);t.frozen||(t.frozen=new z),zh(this,n)?Kn(this,n,e):t.frozen.set(n,e)}else Kn(this,n,e);return this}})}else q&&Tt(function(){var n=Vs([]);return Kn(new Lh,n,1),!Xr(n)})&&de(jo,{set:function(n,e){var t;return _n(n)&&(Xr(n)?t=Lm:Fh(n)&&(t=Bh)),Kn(this,n,e),t===Lm&&Vs(n),t===Bh&&Ki(n),this}});var Q,te,Ae,we,lt,It=ge(G.WeakMap);function Ge(n,e,t,r){if("a"===t&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof e?n!==e||!r:!e.has(n))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===t?r:"a"===t?r.call(n):r?r.value:e.get(n)}function Jr(n,e,t,r,i){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof e?n!==e||!i:!e.has(n))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?i.call(n,t):i?i.value=t:e.set(n,t),t}function Da(n,e){var t=void 0!==mo&&Ir(n)||n["@@iterator"];if(!t){if(gt(n)||(t=function(f,b){var E;if(f){if("string"==typeof f)return xl(f,b);var k=br(E=Object.prototype.toString.call(f)).call(E,8,-1);if("Object"===k&&f.constructor&&(k=f.constructor.name),"Map"===k||"Set"===k)return ns(f);if("Arguments"===k||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(k))return xl(f,b)}}(n))||e&&n&&"number"==typeof n.length){t&&(n=t);var r=0,i=function(){};return{s:i,n:function(){return r>=n.length?{done:!0}:{done:!1,value:n[r++]}},e:function(f){throw f},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,u=!0,h=!1;return{s:function(){t=t.call(n)},n:function(){var f=t.next();return u=f.done,f},e:function(f){h=!0,o=f},f:function(){try{u||null==t.return||t.return()}finally{if(h)throw o}}}}function xl(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function Aa(n,e){var t,r=new Gi,i=Da(e);try{for(i.s();!(t=i.n()).done;){var o=t.value;n.has(o)||r.add(o)}}catch(u){i.e(u)}finally{i.f()}return r}"function"==typeof SuppressedError&&SuppressedError;var yT=function(){function n(){oe(this,n),Q.set(this,new Gi),te.set(this,new Gi)}return ce(n,[{key:"size",get:function(){return Ge(this,te,"f").size}},{key:"add",value:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];for(var i=0,o=t;i<o.length;i++){var u=o[i];Ge(this,te,"f").add(u)}}},{key:"delete",value:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];for(var i=0,o=t;i<o.length;i++){var u=o[i];Ge(this,te,"f").delete(u)}}},{key:"clear",value:function(){Ge(this,te,"f").clear()}},{key:"getSelection",value:function(){return ii(Ge(this,te,"f"))}},{key:"getChanges",value:function(){return{added:ii(Aa(Ge(this,Q,"f"),Ge(this,te,"f"))),deleted:ii(Aa(Ge(this,te,"f"),Ge(this,Q,"f"))),previous:ii(new Gi(Ge(this,Q,"f"))),current:ii(new Gi(Ge(this,te,"f")))}}},{key:"commit",value:function(){var e=this.getChanges();Jr(this,Q,Ge(this,te,"f"),"f"),Jr(this,te,new Gi(Ge(this,Q,"f")),"f");var t,r=Da(e.added);try{for(r.s();!(t=r.n()).done;)t.value.select()}catch(u){r.e(u)}finally{r.f()}var i,o=Da(e.deleted);try{for(o.s();!(i=o.n()).done;)i.value.unselect()}catch(u){o.e(u)}finally{o.f()}return e}}]),n}();Q=new It,te=new It;var UT=function(){function n(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){};oe(this,n),Ae.set(this,new yT),we.set(this,new yT),lt.set(this,void 0),Jr(this,lt,e,"f")}return ce(n,[{key:"sizeNodes",get:function(){return Ge(this,Ae,"f").size}},{key:"sizeEdges",get:function(){return Ge(this,we,"f").size}},{key:"getNodes",value:function(){return Ge(this,Ae,"f").getSelection()}},{key:"getEdges",value:function(){return Ge(this,we,"f").getSelection()}},{key:"addNodes",value:function(){var e;(e=Ge(this,Ae,"f")).add.apply(e,arguments)}},{key:"addEdges",value:function(){var e;(e=Ge(this,we,"f")).add.apply(e,arguments)}},{key:"deleteNodes",value:function(e){Ge(this,Ae,"f").delete(e)}},{key:"deleteEdges",value:function(e){Ge(this,we,"f").delete(e)}},{key:"clear",value:function(){Ge(this,Ae,"f").clear(),Ge(this,we,"f").clear()}},{key:"commit",value:function(){for(var e,t,r={nodes:Ge(this,Ae,"f").commit(),edges:Ge(this,we,"f").commit()},i=arguments.length,o=new Array(i),u=0;u<i;u++)o[u]=arguments[u];return(e=Ge(this,lt,"f")).call.apply(e,Rc(t=[this,r]).call(t,o)),r}}]),n}();function Hm(n,e){var t=void 0!==mo&&Ir(n)||n["@@iterator"];if(!t){if(gt(n)||(t=function(f,b){var E;if(f){if("string"==typeof f)return mT(f,b);var k=br(E=Object.prototype.toString.call(f)).call(E,8,-1);if("Object"===k&&f.constructor&&(k=f.constructor.name),"Map"===k||"Set"===k)return ns(f);if("Arguments"===k||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(k))return mT(f,b)}}(n))||e&&n&&"number"==typeof n.length){t&&(n=t);var r=0,i=function(){};return{s:i,n:function(){return r>=n.length?{done:!0}:{done:!1,value:n[r++]}},e:function(f){throw f},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,u=!0,h=!1;return{s:function(){t=t.call(n)},n:function(){var f=t.next();return u=f.done,f},e:function(f){h=!0,o=f},f:function(){try{u||null==t.return||t.return()}finally{if(h)throw o}}}}function mT(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}Ae=new It,we=new It,lt=new It;var Uv=function(){function n(e,t){var r=this;oe(this,n),this.body=e,this.canvas=t,this._selectionAccumulator=new UT,this.hoverObj={nodes:{},edges:{}},this.options={},this.defaultOptions={multiselect:!1,selectable:!0,selectConnectedEdges:!0,hoverConnectedEdges:!0},Ht(this.options,this.defaultOptions),this.body.emitter.on("_dataChanged",function(){r.updateSelection()})}return ce(n,[{key:"setOptions",value:function(e){void 0!==e&&nl(["multiselect","hoverConnectedEdges","selectable","selectConnectedEdges"],this.options,e)}},{key:"selectOnPoint",value:function(e){var t=!1;if(!0===this.options.selectable){var r=this.getNodeAt(e)||this.getEdgeAt(e);this.unselectAll(),void 0!==r&&(t=this.selectObject(r)),this.body.emitter.emit("_requestRedraw")}return t}},{key:"selectAdditionalOnPoint",value:function(e){var t=!1;if(!0===this.options.selectable){var r=this.getNodeAt(e)||this.getEdgeAt(e);void 0!==r&&(t=!0,!0===r.isSelected()?this.deselectObject(r):this.selectObject(r),this.body.emitter.emit("_requestRedraw"))}return t}},{key:"_initBaseEvent",value:function(e,t){var r={};return r.pointer={DOM:{x:t.x,y:t.y},canvas:this.canvas.DOMtoCanvas(t)},r.event=e,r}},{key:"generateClickEvent",value:function(e,t,r,i){var o=arguments.length>4&&void 0!==arguments[4]&&arguments[4],u=this._initBaseEvent(t,r);if(!0===o)u.nodes=[],u.edges=[];else{var h=this.getSelection();u.nodes=h.nodes,u.edges=h.edges}void 0!==i&&(u.previousSelection=i),"click"==e&&(u.items=this.getClickedItems(r)),void 0!==t.controlEdge&&(u.controlEdge=t.controlEdge),this.body.emitter.emit(e,u)}},{key:"selectObject",value:function(e){var r,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.options.selectConnectedEdges;return void 0!==e&&(e instanceof Nn?(!0===t&&(r=this._selectionAccumulator).addEdges.apply(r,ii(e.edges)),this._selectionAccumulator.addNodes(e)):this._selectionAccumulator.addEdges(e),!0)}},{key:"deselectObject",value:function(e){!0===e.isSelected()&&(e.selected=!1,this._removeFromSelection(e))}},{key:"_getAllNodesOverlappingWith",value:function(e){for(var t=[],r=this.body.nodes,i=0;i<this.body.nodeIndices.length;i++){var o=this.body.nodeIndices[i];r[o].isOverlappingWith(e)&&t.push(o)}return t}},{key:"_pointerToPositionObject",value:function(e){var t=this.canvas.DOMtoCanvas(e);return{left:t.x-1,top:t.y+1,right:t.x+1,bottom:t.y-1}}},{key:"getNodeAt",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=this._pointerToPositionObject(e),i=this._getAllNodesOverlappingWith(r);return i.length>0?!0===t?this.body.nodes[i[i.length-1]]:i[i.length-1]:void 0}},{key:"_getEdgesOverlappingWith",value:function(e,t){for(var r=this.body.edges,i=0;i<this.body.edgeIndices.length;i++){var o=this.body.edgeIndices[i];r[o].isOverlappingWith(e)&&t.push(o)}}},{key:"_getAllEdgesOverlappingWith",value:function(e){var t=[];return this._getEdgesOverlappingWith(e,t),t}},{key:"getEdgeAt",value:function(e){for(var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=this.canvas.DOMtoCanvas(e),i=10,o=null,u=this.body.edges,h=0;h<this.body.edgeIndices.length;h++){var f=this.body.edgeIndices[h],b=u[f];if(b.connected){var E=b.from.x,k=b.from.y,I=b.to.x,$=b.to.y,D=b.edgeType.getDistanceToEdge(E,k,I,$,r.x,r.y);D<i&&(o=f,i=D)}}return null!==o?!0===t?this.body.edges[o]:o:void 0}},{key:"_addToHover",value:function(e){e instanceof Nn?this.hoverObj.nodes[e.id]=e:this.hoverObj.edges[e.id]=e}},{key:"_removeFromSelection",value:function(e){var t;e instanceof Nn?(this._selectionAccumulator.deleteNodes(e),(t=this._selectionAccumulator).deleteEdges.apply(t,ii(e.edges))):this._selectionAccumulator.deleteEdges(e)}},{key:"unselectAll",value:function(){this._selectionAccumulator.clear()}},{key:"getSelectedNodeCount",value:function(){return this._selectionAccumulator.sizeNodes}},{key:"getSelectedEdgeCount",value:function(){return this._selectionAccumulator.sizeEdges}},{key:"_hoverConnectedEdges",value:function(e){for(var t=0;t<e.edges.length;t++){var r=e.edges[t];r.hover=!0,this._addToHover(r)}}},{key:"emitBlurEvent",value:function(e,t,r){var i=this._initBaseEvent(e,t);!0===r.hover&&(r.hover=!1,r instanceof Nn?(i.node=r.id,this.body.emitter.emit("blurNode",i)):(i.edge=r.id,this.body.emitter.emit("blurEdge",i)))}},{key:"emitHoverEvent",value:function(e,t,r){var i=this._initBaseEvent(e,t),o=!1;return!1===r.hover&&(r.hover=!0,this._addToHover(r),o=!0,r instanceof Nn?(i.node=r.id,this.body.emitter.emit("hoverNode",i)):(i.edge=r.id,this.body.emitter.emit("hoverEdge",i))),o}},{key:"hoverObject",value:function(e,t){var r=this.getNodeAt(t);void 0===r&&(r=this.getEdgeAt(t));var i=!1;for(var o in this.hoverObj.nodes)Object.prototype.hasOwnProperty.call(this.hoverObj.nodes,o)&&(void 0===r||r instanceof Nn&&r.id!=o||r instanceof Ol)&&(this.emitBlurEvent(e,t,this.hoverObj.nodes[o]),delete this.hoverObj.nodes[o],i=!0);for(var u in this.hoverObj.edges)Object.prototype.hasOwnProperty.call(this.hoverObj.edges,u)&&(!0===i?(this.hoverObj.edges[u].hover=!1,delete this.hoverObj.edges[u]):(void 0===r||r instanceof Ol&&r.id!=u||r instanceof Nn&&!r.hover)&&(this.emitBlurEvent(e,t,this.hoverObj.edges[u]),delete this.hoverObj.edges[u],i=!0));if(void 0!==r){var h=Mt(this.hoverObj.edges).length,f=Mt(this.hoverObj.nodes).length;(i||r instanceof Ol&&0===h&&0===f||r instanceof Nn&&0===h&&0===f)&&(i=this.emitHoverEvent(e,t,r)),r instanceof Nn&&!0===this.options.hoverConnectedEdges&&this._hoverConnectedEdges(r)}!0===i&&this.body.emitter.emit("_requestRedraw")}},{key:"commitWithoutEmitting",value:function(){this._selectionAccumulator.commit()}},{key:"commitAndEmit",value:function(e,t){var r=!1,i=this._selectionAccumulator.commit(),o={nodes:i.nodes.previous,edges:i.edges.previous};i.edges.deleted.length>0&&(this.generateClickEvent("deselectEdge",t,e,o),r=!0),i.nodes.deleted.length>0&&(this.generateClickEvent("deselectNode",t,e,o),r=!0),i.nodes.added.length>0&&(this.generateClickEvent("selectNode",t,e),r=!0),i.edges.added.length>0&&(this.generateClickEvent("selectEdge",t,e),r=!0),!0===r&&this.generateClickEvent("select",t,e)}},{key:"getSelection",value:function(){return{nodes:this.getSelectedNodeIds(),edges:this.getSelectedEdgeIds()}}},{key:"getSelectedNodes",value:function(){return this._selectionAccumulator.getNodes()}},{key:"getSelectedEdges",value:function(){return this._selectionAccumulator.getEdges()}},{key:"getSelectedNodeIds",value:function(){var e;return zu(e=this._selectionAccumulator.getNodes()).call(e,function(t){return t.id})}},{key:"getSelectedEdgeIds",value:function(){var e;return zu(e=this._selectionAccumulator.getEdges()).call(e,function(t){return t.id})}},{key:"setSelection",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e||!e.nodes&&!e.edges)throw new TypeError("Selection must be an object with nodes and/or edges properties");if((t.unselectAll||void 0===t.unselectAll)&&this.unselectAll(),e.nodes){var r,i=Hm(e.nodes);try{for(i.s();!(r=i.n()).done;){var o=r.value,u=this.body.nodes[o];if(!u)throw new RangeError('Node with id "'+o+'" not found');this.selectObject(u,t.highlightEdges)}}catch(k){i.e(k)}finally{i.f()}}if(e.edges){var h,f=Hm(e.edges);try{for(f.s();!(h=f.n()).done;){var b=h.value,E=this.body.edges[b];if(!E)throw new RangeError('Edge with id "'+b+'" not found');this.selectObject(E)}}catch(k){f.e(k)}finally{f.f()}}this.body.emitter.emit("_requestRedraw"),this._selectionAccumulator.commit()}},{key:"selectNodes",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!e||void 0===e.length)throw"Selection must be an array with ids";this.setSelection({nodes:e},{highlightEdges:t})}},{key:"selectEdges",value:function(e){if(!e||void 0===e.length)throw"Selection must be an array with ids";this.setSelection({edges:e})}},{key:"updateSelection",value:function(){for(var e in this._selectionAccumulator.getNodes())Object.prototype.hasOwnProperty.call(this.body.nodes,e.id)||this._selectionAccumulator.deleteNodes(e);for(var t in this._selectionAccumulator.getEdges())Object.prototype.hasOwnProperty.call(this.body.edges,t.id)||this._selectionAccumulator.deleteEdges(t)}},{key:"getClickedItems",value:function(e){for(var t=this.canvas.DOMtoCanvas(e),r=[],i=this.body.nodeIndices,o=this.body.nodes,u=i.length-1;u>=0;u--){var h=o[i[u]].getItemsOnPoint(t);r.push.apply(r,h)}for(var f=this.body.edgeIndices,b=this.body.edges,E=f.length-1;E>=0;E--){var k=b[f[E]].getItemsOnPoint(t);r.push.apply(r,k)}return r}}]),n}(),iE=W0,VT=Math.floor,Xx=function(n,e){var t=n.length,r=VT(t/2);return t<8?qT(n,e):GT(n,Xx(iE(n,0,r),e),Xx(iE(n,r),e),e)},qT=function(n,e){for(var t,r,i=n.length,o=1;o<i;){for(r=o,t=n[o];r&&e(n[r-1],t)>0;)n[r]=n[--r];r!==o++&&(n[r]=t)}return n},GT=function(n,e,t,r){for(var i=e.length,o=t.length,u=0,h=0;u<i||h<o;)n[u+h]=u<i&&h<o?r(e[u],t[h])<=0?e[u++]:t[h++]:u<i?e[u++]:t[h++];return n},bT=Xx,Jx=Br.match(/firefox\/(\d+)/i),YT=!!Jx&&+Jx[1],KT=/MSIE|Trident/.test(Br),oE=Br.match(/AppleWebKit\/(\d+)\./),wT=!!oE&&+oE[1],XT=De,_T=Ee,JT=za,QT=tn,Qx=Gt,ZT=e1,Zx=on,jn=re,eI=bT,tI=Hu,eT=YT,rI=KT,tT=Qr,rT=wT,Tl=[],nT=_T(Tl.sort),nI=_T(Tl.push),iI=jn(function(){Tl.sort(void 0)}),oI=jn(function(){Tl.sort(null)}),iT=tI("sort"),aE=!jn(function(){if(tT)return tT<70;if(!(eT&&eT>3)){if(rI)return!0;if(rT)return rT<603;var n,e,t,r,i="";for(n=65;n<76;n++){switch(e=String.fromCharCode(n),n){case 66:case 69:case 70:case 72:t=3;break;case 68:case 71:t=4;break;default:t=2}for(r=0;r<47;r++)Tl.push({k:e+r,v:t})}for(Tl.sort(function(o,u){return u.v-o.v}),r=0;r<Tl.length;r++)e=Tl[r].k.charAt(0),i.charAt(i.length-1)!==e&&(i+=e);return"DGBEFHACIJK"!==i}});XT({target:"Array",proto:!0,forced:iI||!oI||!iT||!aE},{sort:function(n){void 0!==n&&JT(n);var e=QT(this);if(aE)return void 0===n?nT(e):nT(e,n);var t,r,i=[],o=Qx(e);for(r=0;r<o;r++)r in e&&nI(i,e[r]);for(eI(i,function(u){return function(h,f){return void 0===f?-1:void 0===h?1:void 0!==u?+u(h,f)||0:Zx(h)>Zx(f)?1:-1}}(n)),t=Qx(i),r=0;r<t;)e[r]=i[r++];for(;r<o;)ZT(e,r++);return e}});var aI=Dt("Array").sort,oT=xe,sI=aI,sE=Array.prototype,Hh=ge(function(n){var e=n.sort;return n===sE||oT(sE,n)&&e===sE.sort?sI:e}),Wm=za,ET=tn,Um=Zi,Wh=Gt,aT=TypeError,uE=function(n){return function(e,t,r,i){Wm(t);var o=ET(e),u=Um(o),h=Wh(o),f=n?h-1:0,b=n?-1:1;if(r<2)for(;;){if(f in u){i=u[f],f+=b;break}if(f+=b,n?f<0:h<=f)throw new aT("Reduce of empty array with no initial value")}for(;n?f>=0:h>f;f+=b)f in u&&(i=t(i,u[f],f,o));return i}},sT={left:uE(!1),right:uE(!0)},uT="process"===ir(ye.process),kT=sT.left;De({target:"Array",proto:!0,forced:!uT&&Qr>79&&Qr<83||!Hu("reduce")},{reduce:function(n){var e=arguments.length;return kT(this,n,e,e>1?arguments[1]:void 0)}});var OT=Dt("Array").reduce,ST=xe,xT=OT,lE=Array.prototype,TT=ge(function(n){var e=n.reduce;return n===lE||ST(lE,n)&&e===lE.reduce?xT:e});function IT(n){var e=function(){if(typeof Reflect>"u"||!K||K.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(K(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var t,r=be(n);if(e){var i=be(this).constructor;t=K(r,arguments,i)}else t=r.apply(this,arguments);return yt(this,t)}}var PT=function(){function n(){oe(this,n)}return ce(n,[{key:"abstract",value:function(){throw new Error("Can't instantiate abstract class!")}},{key:"fake_use",value:function(){}},{key:"curveType",value:function(){return this.abstract()}},{key:"getPosition",value:function(e){return this.fake_use(e),this.abstract()}},{key:"setPosition",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;this.fake_use(e,t,r),this.abstract()}},{key:"getTreeSize",value:function(e){return this.fake_use(e),this.abstract()}},{key:"sort",value:function(e){this.fake_use(e),this.abstract()}},{key:"fix",value:function(e,t){this.fake_use(e,t),this.abstract()}},{key:"shift",value:function(e,t){this.fake_use(e,t),this.abstract()}}]),n}(),Uh=function(n){nt(t,n);var e=IT(t);function t(r){var i;return oe(this,t),(i=e.call(this)).layout=r,i}return ce(t,[{key:"curveType",value:function(){return"horizontal"}},{key:"getPosition",value:function(r){return r.x}},{key:"setPosition",value:function(r,i){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;void 0!==o&&this.layout.hierarchical.addToOrdering(r,o),r.x=i}},{key:"getTreeSize",value:function(r){var i=this.layout.hierarchical.getTreeSize(this.layout.body.nodes,r);return{min:i.min_x,max:i.max_x}}},{key:"sort",value:function(r){Hh(r).call(r,function(i,o){return i.x-o.x})}},{key:"fix",value:function(r,i){r.y=this.layout.options.hierarchical.levelSeparation*i,r.options.fixed.y=!0}},{key:"shift",value:function(r,i){this.layout.body.nodes[r].x+=i}}]),t}(PT),CT=function(n){nt(t,n);var e=IT(t);function t(r){var i;return oe(this,t),(i=e.call(this)).layout=r,i}return ce(t,[{key:"curveType",value:function(){return"vertical"}},{key:"getPosition",value:function(r){return r.y}},{key:"setPosition",value:function(r,i){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;void 0!==o&&this.layout.hierarchical.addToOrdering(r,o),r.y=i}},{key:"getTreeSize",value:function(r){var i=this.layout.hierarchical.getTreeSize(this.layout.body.nodes,r);return{min:i.min_y,max:i.max_y}}},{key:"sort",value:function(r){Hh(r).call(r,function(i,o){return i.y-o.y})}},{key:"fix",value:function(r,i){r.x=this.layout.options.hierarchical.levelSeparation*i,r.options.fixed.x=!0}},{key:"shift",value:function(r,i){this.layout.body.nodes[r].y+=i}}]),t}(PT),cI=$i.every;De({target:"Array",proto:!0,forced:!Hu("every")},{every:function(n){return cI(this,n,arguments.length>1?arguments[1]:void 0)}});var lT=Dt("Array").every,hI=xe,dI=lT,cT=Array.prototype,cE=ge(function(n){var e=n.every;return n===cT||hI(cT,n)&&e===cT.every?dI:e});function $T(n,e){var t=void 0!==mo&&Ir(n)||n["@@iterator"];if(!t){if(gt(n)||(t=function(f,b){var E;if(f){if("string"==typeof f)return hT(f,b);var k=br(E=Object.prototype.toString.call(f)).call(E,8,-1);if("Object"===k&&f.constructor&&(k=f.constructor.name),"Map"===k||"Set"===k)return ns(f);if("Arguments"===k||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(k))return hT(f,b)}}(n))||e&&n&&"number"==typeof n.length){t&&(n=t);var r=0,i=function(){};return{s:i,n:function(){return r>=n.length?{done:!0}:{done:!1,value:n[r++]}},e:function(f){throw f},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,u=!0,h=!1;return{s:function(){t=t.call(n)},n:function(){var f=t.next();return u=f.done,f},e:function(f){h=!0,o=f},f:function(){try{u||null==t.return||t.return()}finally{if(h)throw o}}}}function hT(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function DT(n,e){var t=new Gi;return wt(n).call(n,function(r){var i;wt(i=r.edges).call(i,function(o){o.connected&&t.add(o)})}),wt(t).call(t,function(r){var i=r.from.id,o=r.to.id;null==e[i]&&(e[i]=0),(null==e[o]||e[i]>=e[o])&&(e[o]=e[i]+1)}),e}function Vm(n,e,t,r){var i,o,u=dn(null),h=TT(i=ii(om(r).call(r))).call(i,function($,D){return $+1+D.edges.length},0),f=t+"Id",b="to"===t?1:-1,E=$T(r);try{var k,I=function(){var $=At(o.value,2),D=$[0],N=$[1];if(!r.has(D)||!n(N))return 0;u[D]=0;for(var W,Y,J=[N],ue=0,he=function(){var Pe,Je;if(!r.has(D))return 0;var Ve=u[W.id]+b;if(wt(Pe=Vr(Je=W.edges).call(Je,function(Be){return Be.connected&&Be.to!==Be.from&&Be[t]!==W&&r.has(Be.toId)&&r.has(Be.fromId)})).call(Pe,function(Be){var Se=Be[f],kt=u[Se];(null==kt||e(Ve,kt))&&(u[Se]=Ve,J.push(Be[t]))}),ue>h)return{v:{v:DT(r,u)}};++ue};W=J.pop();)if(0!==(Y=he())&&Y)return Y.v};for(E.s();!(o=E.n()).done;)if(0!==(k=I())&&k)return k.v}catch($){E.e($)}finally{E.f()}return u}var AT=function(){function n(){oe(this,n),this.childrenReference={},this.parentReference={},this.trees={},this.distributionOrdering={},this.levels={},this.distributionIndex={},this.isTree=!1,this.treeIndex=-1}return ce(n,[{key:"addRelation",value:function(e,t){void 0===this.childrenReference[e]&&(this.childrenReference[e]=[]),this.childrenReference[e].push(t),void 0===this.parentReference[t]&&(this.parentReference[t]=[]),this.parentReference[t].push(e)}},{key:"checkIfTree",value:function(){for(var e in this.parentReference)if(this.parentReference[e].length>1)return void(this.isTree=!1);this.isTree=!0}},{key:"numTrees",value:function(){return this.treeIndex+1}},{key:"setTreeIndex",value:function(e,t){void 0!==t&&void 0===this.trees[e.id]&&(this.trees[e.id]=t,this.treeIndex=Math.max(t,this.treeIndex))}},{key:"ensureLevel",value:function(e){void 0===this.levels[e]&&(this.levels[e]=0)}},{key:"getMaxLevel",value:function(e){var t=this,r={};return function i(o){if(void 0!==r[o])return r[o];var u=t.levels[o];if(t.childrenReference[o]){var h=t.childrenReference[o];if(h.length>0)for(var f=0;f<h.length;f++)u=Math.max(u,i(h[f]))}return r[o]=u,u}(e)}},{key:"levelDownstream",value:function(e,t){void 0===this.levels[t.id]&&(void 0===this.levels[e.id]&&(this.levels[e.id]=0),this.levels[t.id]=this.levels[e.id]+1)}},{key:"setMinLevelToZero",value:function(e){var t=1e9;for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&void 0!==this.levels[r]&&(t=Math.min(this.levels[r],t));for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&void 0!==this.levels[i]&&(this.levels[i]-=t)}},{key:"getTreeSize",value:function(e,t){var r=1e9,i=-1e9,o=1e9,u=-1e9;for(var h in this.trees)if(Object.prototype.hasOwnProperty.call(this.trees,h)&&this.trees[h]===t){var f=e[h];r=Math.min(f.x,r),i=Math.max(f.x,i),o=Math.min(f.y,o),u=Math.max(f.y,u)}return{min_x:r,max_x:i,min_y:o,max_y:u}}},{key:"hasSameParent",value:function(e,t){var r=this.parentReference[e.id],i=this.parentReference[t.id];if(void 0===r||void 0===i)return!1;for(var o=0;o<r.length;o++)for(var u=0;u<i.length;u++)if(r[o]==i[u])return!0;return!1}},{key:"inSameSubNetwork",value:function(e,t){return this.trees[e.id]===this.trees[t.id]}},{key:"getLevels",value:function(){return Mt(this.distributionOrdering)}},{key:"addToOrdering",value:function(e,t){void 0===this.distributionOrdering[t]&&(this.distributionOrdering[t]=[]);var r=!1,i=this.distributionOrdering[t];for(var o in i)if(i[o]===e){r=!0;break}r||(this.distributionOrdering[t].push(e),this.distributionIndex[e.id]=this.distributionOrdering[t].length-1)}}]),n}(),dT=function(){function n(e){oe(this,n),this.body=e,this._resetRNG(Math.random()+":"+Fc()),this.setPhysics=!1,this.options={},this.optionsBackup={physics:{}},this.defaultOptions={randomSeed:void 0,improvedLayout:!0,clusterThreshold:150,hierarchical:{enabled:!1,levelSeparation:150,nodeSpacing:100,treeSpacing:200,blockShifting:!0,edgeMinimization:!0,parentCentralization:!0,direction:"UD",sortMethod:"hubsize"}},Ht(this.options,this.defaultOptions),this.bindEventListeners()}return ce(n,[{key:"bindEventListeners",value:function(){var e=this;this.body.emitter.on("_dataChanged",function(){e.setupHierarchicalLayout()}),this.body.emitter.on("_dataLoaded",function(){e.layoutNetwork()}),this.body.emitter.on("_resetHierarchicalLayout",function(){e.setupHierarchicalLayout()}),this.body.emitter.on("_adjustEdgesForHierarchicalLayout",function(){if(!0===e.options.hierarchical.enabled){var t=e.direction.curveType();e.body.emitter.emit("_forceDisableDynamicCurves",t,!1)}})}},{key:"setOptions",value:function(e,t){if(void 0!==e){var r=this.options.hierarchical,i=r.enabled;if(nl(["randomSeed","improvedLayout","clusterThreshold"],this.options,e),hr(this.options,e,"hierarchical"),void 0!==e.randomSeed&&this._resetRNG(e.randomSeed),!0===r.enabled)return!0===i&&this.body.emitter.emit("refresh",!0),"RL"===r.direction||"DU"===r.direction?r.levelSeparation>0&&(r.levelSeparation*=-1):r.levelSeparation<0&&(r.levelSeparation*=-1),this.setDirectionStrategy(),this.body.emitter.emit("_resetHierarchicalLayout"),this.adaptAllOptionsForHierarchicalLayout(t);if(!0===i)return this.body.emitter.emit("refresh"),_t(t,this.optionsBackup)}return t}},{key:"_resetRNG",value:function(e){this.initialRandomSeed=e,this._rng=Zf(this.initialRandomSeed)}},{key:"adaptAllOptionsForHierarchicalLayout",value:function(e){if(!0===this.options.hierarchical.enabled){var t=this.optionsBackup.physics;void 0===e.physics||!0===e.physics?(e.physics={enabled:void 0===t.enabled||t.enabled,solver:"hierarchicalRepulsion"},t.enabled=void 0===t.enabled||t.enabled,t.solver=t.solver||"barnesHut"):"object"===ft(e.physics)?(t.enabled=void 0===e.physics.enabled||e.physics.enabled,t.solver=e.physics.solver||"barnesHut",e.physics.solver="hierarchicalRepulsion"):!1!==e.physics&&(t.solver="barnesHut",e.physics={solver:"hierarchicalRepulsion"});var r=this.direction.curveType();if(void 0===e.edges)this.optionsBackup.edges={smooth:{enabled:!0,type:"dynamic"}},e.edges={smooth:!1};else if(void 0===e.edges.smooth)this.optionsBackup.edges={smooth:{enabled:!0,type:"dynamic"}},e.edges.smooth=!1;else if("boolean"==typeof e.edges.smooth)this.optionsBackup.edges={smooth:e.edges.smooth},e.edges.smooth={enabled:e.edges.smooth,type:r};else{var i=e.edges.smooth;void 0!==i.type&&"dynamic"!==i.type&&(r=i.type),this.optionsBackup.edges={smooth:{enabled:void 0===i.enabled||i.enabled,type:void 0===i.type?"dynamic":i.type,roundness:void 0===i.roundness?.5:i.roundness,forceDirection:void 0!==i.forceDirection&&i.forceDirection}},e.edges.smooth={enabled:void 0===i.enabled||i.enabled,type:r,roundness:void 0===i.roundness?.5:i.roundness,forceDirection:void 0!==i.forceDirection&&i.forceDirection}}this.body.emitter.emit("_forceDisableDynamicCurves",r)}return e}},{key:"positionInitially",value:function(e){if(!0!==this.options.hierarchical.enabled){this._resetRNG(this.initialRandomSeed);for(var t=e.length+50,r=0;r<e.length;r++){var i=e[r],o=2*Math.PI*this._rng();void 0===i.x&&(i.x=t*Math.cos(o)),void 0===i.y&&(i.y=t*Math.sin(o))}}}},{key:"layoutNetwork",value:function(){if(!0!==this.options.hierarchical.enabled&&!0===this.options.improvedLayout){for(var e=this.body.nodeIndices,t=0,r=0;r<e.length;r++)!0===this.body.nodes[e[r]].predefinedPosition&&(t+=1);if(t<.5*e.length){var i=0,o=this.options.clusterThreshold,u={clusterNodeProperties:{shape:"ellipse",label:"",group:"",font:{multi:!1}},clusterEdgeProperties:{label:"",font:{multi:!1},smooth:{enabled:!1}}};if(e.length>o){for(var h=e.length;e.length>o&&i<=10;){i+=1;var f=e.length;if(i%3==0?this.body.modules.clustering.clusterBridges(u):this.body.modules.clustering.clusterOutliers(u),f==e.length&&i%3!=0)return this._declusterAll(),this.body.emitter.emit("_layoutFailed"),void console.info("This network could not be positioned by this version of the improved layout algorithm. Please disable improvedLayout for better performance.")}this.body.modules.kamadaKawai.setOptions({springLength:Math.max(150,2*h)})}i>10&&console.info("The clustering didn't succeed within the amount of interations allowed, progressing with partial result."),this.body.modules.kamadaKawai.solve(e,this.body.edgeIndices,!0),this._shiftToCenter();for(var b=0;b<e.length;b++){var E=this.body.nodes[e[b]];!1===E.predefinedPosition&&(E.x+=70*(.5-this._rng()),E.y+=70*(.5-this._rng()))}this._declusterAll(),this.body.emitter.emit("_repositionBezierNodes")}}}},{key:"_shiftToCenter",value:function(){for(var e=Kr.getRangeCore(this.body.nodes,this.body.nodeIndices),t=Kr.findCenter(e),r=0;r<this.body.nodeIndices.length;r++){var i=this.body.nodes[this.body.nodeIndices[r]];i.x-=t.x,i.y-=t.y}}},{key:"_declusterAll",value:function(){for(var e=!0;!0===e;){e=!1;for(var t=0;t<this.body.nodeIndices.length;t++)!0===this.body.nodes[this.body.nodeIndices[t]].isCluster&&(e=!0,this.body.modules.clustering.openCluster(this.body.nodeIndices[t],{},!1));!0===e&&this.body.emitter.emit("_dataChanged")}}},{key:"getSeed",value:function(){return this.initialRandomSeed}},{key:"setupHierarchicalLayout",value:function(){if(!0===this.options.hierarchical.enabled&&this.body.nodeIndices.length>0){var e,t,r=!1,i=!1;for(t in this.lastNodeOnLevel={},this.hierarchical=new AT,this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,t)&&(void 0!==(e=this.body.nodes[t]).options.level?(r=!0,this.hierarchical.levels[t]=e.options.level):i=!0);if(!0===i&&!0===r)throw new Error("To use the hierarchical layout, nodes require either no predefined levels or levels have to be defined for all nodes.");if(!0===i){var o=this.options.hierarchical.sortMethod;"hubsize"===o?this._determineLevelsByHubsize():"directed"===o?this._determineLevelsDirected():"custom"===o&&this._determineLevelsCustomCallback()}for(var u in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,u)&&this.hierarchical.ensureLevel(u);var h=this._getDistribution();this._generateMap(),this._placeNodesByHierarchy(h),this._condenseHierarchy(),this._shiftToCenter()}}},{key:"_condenseHierarchy",value:function(){var e=this,t=!1,r={},i=function(k,I){var $=e.hierarchical.trees;for(var D in $)Object.prototype.hasOwnProperty.call($,D)&&$[D]===k&&e.direction.shift(D,I)},o=function(){for(var k=[],I=0;I<e.hierarchical.numTrees();I++)k.push(e.direction.getTreeSize(I));return k},u=function k(I,$){if(!$[I.id]&&($[I.id]=!0,e.hierarchical.childrenReference[I.id])){var D=e.hierarchical.childrenReference[I.id];if(D.length>0)for(var N=0;N<D.length;N++)k(e.body.nodes[D[N]],$)}},h=function(k){var I=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e9,$=1e9,D=1e9,N=1e9,W=-1e9;for(var Y in k)if(Object.prototype.hasOwnProperty.call(k,Y)){var J=e.body.nodes[Y],ue=e.hierarchical.levels[J.id],he=e.direction.getPosition(J),Pe=At(e._getSpaceAroundNode(J,k),2),Je=Pe[0],Ve=Pe[1];$=Math.min(Je,$),D=Math.min(Ve,D),ue<=I&&(N=Math.min(he,N),W=Math.max(he,W))}return[N,W,$,D]},f=function(k,I,$){for(var D=e.hierarchical,N=0;N<I.length;N++){var W=I[N],Y=D.distributionOrdering[W];if(Y.length>1)for(var J=0;J<Y.length-1;J++){var ue=Y[J],he=Y[J+1];D.hasSameParent(ue,he)&&D.inSameSubNetwork(ue,he)&&k(ue,he,$)}}},b=function(k,I){var st,xt,Nt,Ut,$=arguments.length>2&&void 0!==arguments[2]&&arguments[2],D=e.direction.getPosition(k),N=e.direction.getPosition(I),W=Math.abs(N-D),Y=e.options.hierarchical.nodeSpacing;if(W>Y){var J={},ue={};u(k,J),u(I,ue);var he=(st=k,xt=I,Nt=e.hierarchical.getMaxLevel(st.id),Ut=e.hierarchical.getMaxLevel(xt.id),Math.min(Nt,Ut)),Pe=h(J,he),Je=h(ue,he),Ve=Pe[1],Be=Je[0],Se=Je[2];if(Math.abs(Ve-Be)>Y){var kt=Ve-Be+Y;kt<-Se+Y&&(kt=-Se+Y),kt<0&&(e._shiftBlock(I.id,kt),t=!0,!0===$&&e._centerParent(I))}}},E=function(k,I){for(var $=I.id,D=I.edges,N=e.hierarchical.levels[I.id],W=e.options.hierarchical.levelSeparation*e.options.hierarchical.levelSeparation,Y={},J=[],ue=0;ue<D.length;ue++){var he=D[ue];if(he.toId!=he.fromId){var Pe=he.toId==$?he.from:he.to;Y[D[ue].id]=Pe,e.hierarchical.levels[Pe.id]<N&&J.push(he)}}var kt,st,xt,Nt,Ut,Xi,kr,Je=function(kt,st){for(var xt=0,Nt=0;Nt<st.length;Nt++)if(void 0!==Y[st[Nt].id]){var Ut=e.direction.getPosition(Y[st[Nt].id])-kt;xt+=Ut/Math.sqrt(Ut*Ut+W)}return xt},Ve=function(kt,st){for(var xt=0,Nt=0;Nt<st.length;Nt++)if(void 0!==Y[st[Nt].id]){var Ut=e.direction.getPosition(Y[st[Nt].id])-kt;xt-=W*Math.pow(Ut*Ut+W,-1.5)}return xt},Be=function(kt,st){for(var xt=e.direction.getPosition(I),Nt={},Ut=0;Ut<kt;Ut++){var Xi=Je(xt,st),kr=Ve(xt,st);if(void 0!==Nt[xt-=Math.max(-40,Math.min(40,Math.round(Xi/kr)))])break;Nt[xt]=Ut}return xt},Se=Be(k,J);(function(kt){var st=e.direction.getPosition(I);if(void 0===r[I.id]){var xt={};u(I,xt),r[I.id]=xt}var Nt=h(r[I.id]),Ut=Nt[2],Xi=Nt[3],kr=kt-st,dE=0;kr>0?dE=Math.min(kr,Xi-e.options.hierarchical.nodeSpacing):kr<0&&(dE=-Math.min(-kr,Ut-e.options.hierarchical.nodeSpacing)),0!=dE&&(e._shiftBlock(I.id,dE),t=!0)})(Se),kt=Se=Be(k,D),st=e.direction.getPosition(I),xt=At(e._getSpaceAroundNode(I),2),Nt=xt[0],Ut=xt[1],kr=st,(Xi=kt-st)>0?kr=Math.min(st+(Ut-e.options.hierarchical.nodeSpacing),kt):Xi<0&&(kr=Math.max(st-(Nt-e.options.hierarchical.nodeSpacing),kt)),kr!==st&&(e.direction.setPosition(I,kr),t=!0)};!0===this.options.hierarchical.blockShifting&&(function(k){var I=e.hierarchical.getLevels();I=ls(I).call(I);for(var $=0;$<k&&(t=!1,f(b,I,!0),!0===t);$++);}(5),function(){for(var k in e.body.nodes)Object.prototype.hasOwnProperty.call(e.body.nodes,k)&&e._centerParent(e.body.nodes[k])}()),!0===this.options.hierarchical.edgeMinimization&&function(k){var I=e.hierarchical.getLevels();I=ls(I).call(I);for(var $=0;$<k;$++){t=!1;for(var D=0;D<I.length;D++)for(var N=I[D],W=e.hierarchical.distributionOrdering[N],Y=0;Y<W.length;Y++)E(1e3,W[Y]);if(!0!==t)break}}(20),!0===this.options.hierarchical.parentCentralization&&function(){var k=e.hierarchical.getLevels();k=ls(k).call(k);for(var I=0;I<k.length;I++)for(var $=k[I],D=e.hierarchical.distributionOrdering[$],N=0;N<D.length;N++)e._centerParent(D[N])}(),function(){for(var k=o(),I=0,$=0;$<k.length-1;$++)I+=k[$].max-k[$+1].min+e.options.hierarchical.treeSpacing,i($+1,I)}()}},{key:"_getSpaceAroundNode",value:function(e,t){var r=!0;void 0===t&&(r=!1);var i=this.hierarchical.levels[e.id];if(void 0!==i){var o=this.hierarchical.distributionIndex[e.id],u=this.direction.getPosition(e),h=this.hierarchical.distributionOrdering[i],f=1e9,b=1e9;if(0!==o){var E=h[o-1];(!0===r&&void 0===t[E.id]||!1===r)&&(f=u-this.direction.getPosition(E))}if(o!=h.length-1){var k=h[o+1];if(!0===r&&void 0===t[k.id]||!1===r){var I=this.direction.getPosition(k);b=Math.min(b,I-u)}}return[f,b]}return[0,0]}},{key:"_centerParent",value:function(e){if(this.hierarchical.parentReference[e.id])for(var t=this.hierarchical.parentReference[e.id],r=0;r<t.length;r++){var i=t[r],o=this.body.nodes[i],u=this.hierarchical.childrenReference[i];if(void 0!==u){var h=this._getCenterPosition(u),f=this.direction.getPosition(o),b=At(this._getSpaceAroundNode(o),2),E=b[0],k=b[1],I=f-h;(I<0&&Math.abs(I)<k-this.options.hierarchical.nodeSpacing||I>0&&Math.abs(I)<E-this.options.hierarchical.nodeSpacing)&&this.direction.setPosition(o,h)}}}},{key:"_placeNodesByHierarchy",value:function(e){for(var t in this.positionedNodes={},e)if(Object.prototype.hasOwnProperty.call(e,t)){var r,i=Mt(e[t]);i=this._indexArrayToNodes(i),Hh(r=this.direction).call(r,i);for(var o=0,u=0;u<i.length;u++){var h=i[u];if(void 0===this.positionedNodes[h.id]){var f=this.options.hierarchical.nodeSpacing,b=f*o;o>0&&(b=this.direction.getPosition(i[u-1])+f),this.direction.setPosition(h,b,t),this._validatePositionAndContinue(h,t,b),o++}}}}},{key:"_placeBranchNodes",value:function(e,t){var r,i=this.hierarchical.childrenReference[e];if(void 0!==i){for(var o=[],u=0;u<i.length;u++)o.push(this.body.nodes[i[u]]);Hh(r=this.direction).call(r,o);for(var h=0;h<o.length;h++){var f=o[h],b=this.hierarchical.levels[f.id];if(!(b>t&&void 0===this.positionedNodes[f.id]))return;var E=this.options.hierarchical.nodeSpacing,k=void 0;k=0===h?this.direction.getPosition(this.body.nodes[e]):this.direction.getPosition(o[h-1])+E,this.direction.setPosition(f,k,b),this._validatePositionAndContinue(f,b,k)}var I=this._getCenterPosition(o);this.direction.setPosition(this.body.nodes[e],I,t)}}},{key:"_validatePositionAndContinue",value:function(e,t,r){if(this.hierarchical.isTree){if(void 0!==this.lastNodeOnLevel[t]){var i=this.direction.getPosition(this.body.nodes[this.lastNodeOnLevel[t]]);if(r-i<this.options.hierarchical.nodeSpacing){var o=i+this.options.hierarchical.nodeSpacing-r,u=this._findCommonParent(this.lastNodeOnLevel[t],e.id);this._shiftBlock(u.withChild,o)}}this.lastNodeOnLevel[t]=e.id,this.positionedNodes[e.id]=!0,this._placeBranchNodes(e.id,t)}}},{key:"_indexArrayToNodes",value:function(e){for(var t=[],r=0;r<e.length;r++)t.push(this.body.nodes[e[r]]);return t}},{key:"_getDistribution",value:function(){var e,t,r={};for(e in this.body.nodes)if(Object.prototype.hasOwnProperty.call(this.body.nodes,e)){t=this.body.nodes[e];var i=void 0===this.hierarchical.levels[e]?0:this.hierarchical.levels[e];this.direction.fix(t,i),void 0===r[i]&&(r[i]={}),r[i][e]=t}return r}},{key:"_getActiveEdges",value:function(e){var t=this,r=[];return Ke(e.edges,function(i){var o;-1!==at(o=t.body.edgeIndices).call(o,i.id)&&r.push(i)}),r}},{key:"_getHubSizes",value:function(){var e=this,t={};Ke(this.body.nodeIndices,function(i){var o=e.body.nodes[i],u=e._getActiveEdges(o).length;t[u]=!0});var r=[];return Ke(t,function(i){r.push(Number(i))}),Hh(r).call(r,function(i,o){return o-i}),r}},{key:"_determineLevelsByHubsize",value:function(){for(var e=this,t=function(u,h){e.hierarchical.levelDownstream(u,h)},r=this._getHubSizes(),i=function(){var u=r[o];if(0===u)return 1;Ke(e.body.nodeIndices,function(h){var f=e.body.nodes[h];u===e._getActiveEdges(f).length&&e._crawlNetwork(t,h)})},o=0;o<r.length&&!i();++o);}},{key:"_determineLevelsCustomCallback",value:function(){var e=this;this._crawlNetwork(function(t,r,i){var o=e.hierarchical.levels[t.id];void 0===o&&(o=e.hierarchical.levels[t.id]=1e5);var u=(Kr.cloneOptions(t,"node"),Kr.cloneOptions(r,"node"),void Kr.cloneOptions(i,"edge"));e.hierarchical.levels[r.id]=o+u}),this.hierarchical.setMinLevelToZero(this.body.nodes)}},{key:"_determineLevelsDirected",value:function(){var e,i,t=this,r=TT(e=this.body.nodeIndices).call(e,function(i,o){return i.set(o,t.body.nodes[o]),i},new Zy);"roots"===this.options.hierarchical.shakeTowards?this.hierarchical.levels=Vm(function(o){var u,h;return cE(u=Vr(h=o.edges).call(h,function(f){return i.has(f.toId)})).call(u,function(f){return f.from===o})},function(o,u){return u<o},"to",i=r):this.hierarchical.levels=function(i){return Vm(function(o){var u,h;return cE(u=Vr(h=o.edges).call(h,function(f){return i.has(f.toId)})).call(u,function(f){return f.to===o})},function(o,u){return u>o},"from",i)}(r),this.hierarchical.setMinLevelToZero(this.body.nodes)}},{key:"_generateMap",value:function(){var e=this;this._crawlNetwork(function(t,r){e.hierarchical.levels[r.id]>e.hierarchical.levels[t.id]&&e.hierarchical.addRelation(t.id,r.id)}),this.hierarchical.checkIfTree()}},{key:"_crawlNetwork",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){},r=arguments.length>1?arguments[1]:void 0,i={},o=function E(k,I){if(void 0===i[k.id]){var $;e.hierarchical.setTreeIndex(k,I),i[k.id]=!0;for(var D=e._getActiveEdges(k),N=0;N<D.length;N++){var W=D[N];!0===W.connected&&($=W.toId==k.id?W.from:W.to,k.id!=$.id&&(t(k,$,W),E($,I)))}}};if(void 0===r)for(var u=0,h=0;h<this.body.nodeIndices.length;h++){var f=this.body.nodeIndices[h];void 0===i[f]&&(o(this.body.nodes[f],u),u+=1)}else{var b=this.body.nodes[r];if(void 0===b)return void console.error("Node not found:",r);o(b)}}},{key:"_shiftBlock",value:function(e,t){var r=this,i={};!function o(u){if(!i[u]){i[u]=!0,r.direction.shift(u,t);var h=r.hierarchical.childrenReference[u];if(void 0!==h)for(var f=0;f<h.length;f++)o(h[f])}}(e)}},{key:"_findCommonParent",value:function(e,t){var r=this,i={};return function o(u,h){var f=r.hierarchical.parentReference[h];if(void 0!==f)for(var b=0;b<f.length;b++){var E=f[b];u[E]=!0,o(u,E)}}(i,e),function o(u,h){var f=r.hierarchical.parentReference[h];if(void 0!==f)for(var b=0;b<f.length;b++){var E=f[b];if(void 0!==u[E])return{foundParent:E,withChild:h};var k=o(u,E);if(null!==k.foundParent)return k}return{foundParent:null,withChild:h}}(i,t)}},{key:"setDirectionStrategy",value:function(){var e="UD"===this.options.hierarchical.direction||"DU"===this.options.hierarchical.direction;this.direction=e?new Uh(this):new CT(this)}},{key:"_getCenterPosition",value:function(e){for(var t=1e9,r=-1e9,i=0;i<e.length;i++){var o=void 0;if(void 0!==e[i].id)o=e[i];else{var u=e[i];o=this.body.nodes[u]}var h=this.direction.getPosition(o);t=Math.min(t,h),r=Math.max(r,h)}return.5*(t+r)}}]),n}();function Vv(n,e){var t=void 0!==mo&&Ir(n)||n["@@iterator"];if(!t){if(gt(n)||(t=function(f,b){var E;if(f){if("string"==typeof f)return hE(f,b);var k=br(E=Object.prototype.toString.call(f)).call(E,8,-1);if("Object"===k&&f.constructor&&(k=f.constructor.name),"Map"===k||"Set"===k)return ns(f);if("Arguments"===k||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(k))return hE(f,b)}}(n))||e&&n&&"number"==typeof n.length){t&&(n=t);var r=0,i=function(){};return{s:i,n:function(){return r>=n.length?{done:!0}:{done:!1,value:n[r++]}},e:function(f){throw f},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,u=!0,h=!1;return{s:function(){t=t.call(n)},n:function(){var f=t.next();return u=f.done,f},e:function(f){h=!0,o=f},f:function(){try{u||null==t.return||t.return()}finally{if(h)throw o}}}}function hE(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}var fT=function(){function n(e,t,r,i){var o,u,h=this;oe(this,n),this.body=e,this.canvas=t,this.selectionHandler=r,this.interactionHandler=i,this.editMode=!1,this.manipulationDiv=void 0,this.editModeDiv=void 0,this.closeDiv=void 0,this._domEventListenerCleanupQueue=[],this.temporaryUIFunctions={},this.temporaryEventFunctions=[],this.touchTime=0,this.temporaryIds={nodes:[],edges:[]},this.guiEnabled=!1,this.inMode=!1,this.selectedControlNode=void 0,this.options={},this.defaultOptions={enabled:!1,initiallyActive:!1,addNode:!0,addEdge:!0,editNode:void 0,editEdge:!0,deleteNode:!0,deleteEdge:!0,controlNodeStyle:{shape:"dot",size:6,color:{background:"#ff0000",border:"#3c3c3c",highlight:{background:"#07f968",border:"#3c3c3c"}},borderWidth:2,borderWidthSelected:2}},Ht(this.options,this.defaultOptions),this.body.emitter.on("destroy",function(){h._clean()}),this.body.emitter.on("_dataChanged",ee(o=this._restore).call(o,this)),this.body.emitter.on("_resetData",ee(u=this._restore).call(u,this))}return ce(n,[{key:"_restore",value:function(){!1!==this.inMode&&(!0===this.options.initiallyActive?this.enableEditMode():this.disableEditMode())}},{key:"setOptions",value:function(e,t,r){void 0!==t&&(void 0!==t.locale?this.options.locale=t.locale:this.options.locale=r.locale,void 0!==t.locales?this.options.locales=t.locales:this.options.locales=r.locales),void 0!==e&&("boolean"==typeof e?this.options.enabled=e:(this.options.enabled=!0,_t(this.options,e)),!0===this.options.initiallyActive&&(this.editMode=!0),this._setup())}},{key:"toggleEditMode",value:function(){!0===this.editMode?this.disableEditMode():this.enableEditMode()}},{key:"enableEditMode",value:function(){this.editMode=!0,this._clean(),!0===this.guiEnabled&&(this.manipulationDiv.style.display="block",this.closeDiv.style.display="block",this.editModeDiv.style.display="none",this.showManipulatorToolbar())}},{key:"disableEditMode",value:function(){this.editMode=!1,this._clean(),!0===this.guiEnabled&&(this.manipulationDiv.style.display="none",this.closeDiv.style.display="none",this.editModeDiv.style.display="block",this._createEditButton())}},{key:"showManipulatorToolbar",value:function(){if(this._clean(),this.manipulationDOM={},!0===this.guiEnabled){var e,t;this.editMode=!0,this.manipulationDiv.style.display="block",this.closeDiv.style.display="block";var r=this.selectionHandler.getSelectedNodeCount(),i=this.selectionHandler.getSelectedEdgeCount(),o=r+i,u=this.options.locales[this.options.locale],h=!1;!1!==this.options.addNode&&(this._createAddNodeButton(u),h=!0),!1!==this.options.addEdge&&(!0===h?this._createSeperator(1):h=!0,this._createAddEdgeButton(u)),1===r&&"function"==typeof this.options.editNode?(!0===h?this._createSeperator(2):h=!0,this._createEditNodeButton(u)):1===i&&0===r&&!1!==this.options.editEdge&&(!0===h?this._createSeperator(3):h=!0,this._createEditEdgeButton(u)),0!==o&&(r>0&&!1!==this.options.deleteNode||0===r&&!1!==this.options.deleteEdge)&&(!0===h&&this._createSeperator(4),this._createDeleteButton(u)),this._bindElementEvents(this.closeDiv,ee(e=this.toggleEditMode).call(e,this)),this._temporaryBindEvent("select",ee(t=this.showManipulatorToolbar).call(t,this))}this.body.emitter.emit("_redraw")}},{key:"addNodeMode",value:function(){var e;if(!0!==this.editMode&&this.enableEditMode(),this._clean(),this.inMode="addNode",!0===this.guiEnabled){var t,r=this.options.locales[this.options.locale];this.manipulationDOM={},this._createBackButton(r),this._createSeperator(),this._createDescription(r.addDescription||this.options.locales.en.addDescription),this._bindElementEvents(this.closeDiv,ee(t=this.toggleEditMode).call(t,this))}this._temporaryBindEvent("click",ee(e=this._performAddNode).call(e,this))}},{key:"editNode",value:function(){var e=this;!0!==this.editMode&&this.enableEditMode(),this._clean();var t=this.selectionHandler.getSelectedNodes()[0];if(void 0!==t){if(this.inMode="editNode","function"!=typeof this.options.editNode)throw new Error("No function has been configured to handle the editing of nodes.");if(!0!==t.isCluster){var r=_t({},t.options,!1);if(r.x=t.x,r.y=t.y,2!==this.options.editNode.length)throw new Error("The function for edit does not support two arguments (data, callback)");this.options.editNode(r,function(i){null!=i&&"editNode"===e.inMode&&e.body.data.nodes.getDataSet().update(i),e.showManipulatorToolbar()})}else alert(this.options.locales[this.options.locale].editClusterError||this.options.locales.en.editClusterError)}else this.showManipulatorToolbar()}},{key:"addEdgeMode",value:function(){var e,t,r,i,o;if(!0!==this.editMode&&this.enableEditMode(),this._clean(),this.inMode="addEdge",!0===this.guiEnabled){var u,h=this.options.locales[this.options.locale];this.manipulationDOM={},this._createBackButton(h),this._createSeperator(),this._createDescription(h.edgeDescription||this.options.locales.en.edgeDescription),this._bindElementEvents(this.closeDiv,ee(u=this.toggleEditMode).call(u,this))}this._temporaryBindUI("onTouch",ee(e=this._handleConnect).call(e,this)),this._temporaryBindUI("onDragEnd",ee(t=this._finishConnect).call(t,this)),this._temporaryBindUI("onDrag",ee(r=this._dragControlNode).call(r,this)),this._temporaryBindUI("onRelease",ee(i=this._finishConnect).call(i,this)),this._temporaryBindUI("onDragStart",ee(o=this._dragStartEdge).call(o,this)),this._temporaryBindUI("onHold",function(){})}},{key:"editEdgeMode",value:function(){if(!0!==this.editMode&&this.enableEditMode(),this._clean(),this.inMode="editEdge","object"!==ft(this.options.editEdge)||"function"!=typeof this.options.editEdge.editWithoutDrag||(this.edgeBeingEditedId=this.selectionHandler.getSelectedEdgeIds()[0],void 0===this.edgeBeingEditedId)){if(!0===this.guiEnabled){var e,t=this.options.locales[this.options.locale];this.manipulationDOM={},this._createBackButton(t),this._createSeperator(),this._createDescription(t.editEdgeDescription||this.options.locales.en.editEdgeDescription),this._bindElementEvents(this.closeDiv,ee(e=this.toggleEditMode).call(e,this))}if(this.edgeBeingEditedId=this.selectionHandler.getSelectedEdgeIds()[0],void 0!==this.edgeBeingEditedId){var r,i,o,u,h=this.body.edges[this.edgeBeingEditedId],f=this._getNewTargetNode(h.from.x,h.from.y),b=this._getNewTargetNode(h.to.x,h.to.y);this.temporaryIds.nodes.push(f.id),this.temporaryIds.nodes.push(b.id),this.body.nodes[f.id]=f,this.body.nodeIndices.push(f.id),this.body.nodes[b.id]=b,this.body.nodeIndices.push(b.id),this._temporaryBindUI("onTouch",ee(r=this._controlNodeTouch).call(r,this)),this._temporaryBindUI("onTap",function(){}),this._temporaryBindUI("onHold",function(){}),this._temporaryBindUI("onDragStart",ee(i=this._controlNodeDragStart).call(i,this)),this._temporaryBindUI("onDrag",ee(o=this._controlNodeDrag).call(o,this)),this._temporaryBindUI("onDragEnd",ee(u=this._controlNodeDragEnd).call(u,this)),this._temporaryBindUI("onMouseMove",function(){}),this._temporaryBindEvent("beforeDrawing",function(k){var I=h.edgeType.findBorderPositions(k);!1===f.selected&&(f.x=I.from.x,f.y=I.from.y),!1===b.selected&&(b.x=I.to.x,b.y=I.to.y)}),this.body.emitter.emit("_redraw")}else this.showManipulatorToolbar()}else{var E=this.body.edges[this.edgeBeingEditedId];this._performEditEdge(E.from.id,E.to.id)}}},{key:"deleteSelected",value:function(){var e=this;!0!==this.editMode&&this.enableEditMode(),this._clean(),this.inMode="delete";var t=this.selectionHandler.getSelectedNodeIds(),r=this.selectionHandler.getSelectedEdgeIds(),i=void 0;if(t.length>0){for(var o=0;o<t.length;o++)if(!0===this.body.nodes[t[o]].isCluster)return void alert(this.options.locales[this.options.locale].deleteClusterError||this.options.locales.en.deleteClusterError);"function"==typeof this.options.deleteNode&&(i=this.options.deleteNode)}else r.length>0&&"function"==typeof this.options.deleteEdge&&(i=this.options.deleteEdge);if("function"==typeof i){var u={nodes:t,edges:r};if(2!==i.length)throw new Error("The function for delete does not support two arguments (data, callback)");i(u,function(h){null!=h&&"delete"===e.inMode?(e.body.data.edges.getDataSet().remove(h.edges),e.body.data.nodes.getDataSet().remove(h.nodes),e.body.emitter.emit("startSimulation"),e.showManipulatorToolbar()):(e.body.emitter.emit("startSimulation"),e.showManipulatorToolbar())})}else this.body.data.edges.getDataSet().remove(r),this.body.data.nodes.getDataSet().remove(t),this.body.emitter.emit("startSimulation"),this.showManipulatorToolbar()}},{key:"_setup",value:function(){!0===this.options.enabled?(this.guiEnabled=!0,this._createWrappers(),!1===this.editMode?this._createEditButton():this.showManipulatorToolbar()):(this._removeManipulationDOM(),this.guiEnabled=!1)}},{key:"_createWrappers",value:function(){var e,t;void 0===this.manipulationDiv&&(this.manipulationDiv=document.createElement("div"),this.manipulationDiv.className="vis-manipulation",!0===this.editMode?this.manipulationDiv.style.display="block":this.manipulationDiv.style.display="none",this.canvas.frame.appendChild(this.manipulationDiv)),void 0===this.editModeDiv&&(this.editModeDiv=document.createElement("div"),this.editModeDiv.className="vis-edit-mode",!0===this.editMode?this.editModeDiv.style.display="none":this.editModeDiv.style.display="block",this.canvas.frame.appendChild(this.editModeDiv)),void 0===this.closeDiv&&(this.closeDiv=document.createElement("button"),this.closeDiv.className="vis-close",this.closeDiv.setAttribute("aria-label",null!==(e=null===(t=this.options.locales[this.options.locale])||void 0===t?void 0:t.close)&&void 0!==e?e:this.options.locales.en.close),this.closeDiv.style.display=this.manipulationDiv.style.display,this.canvas.frame.appendChild(this.closeDiv))}},{key:"_getNewTargetNode",value:function(e,t){var r=_t({},this.options.controlNodeStyle);r.id="targetNode"+Nh(),r.hidden=!1,r.physics=!1,r.x=e,r.y=t;var i=this.body.functions.createNode(r);return i.shape.boundingBox={left:e,right:e,top:t,bottom:t},i}},{key:"_createEditButton",value:function(){var e;this._clean(),this.manipulationDOM={},So(this.editModeDiv);var t=this.options.locales[this.options.locale],r=this._createButton("editMode","vis-edit vis-edit-mode",t.edit||this.options.locales.en.edit);this.editModeDiv.appendChild(r),this._bindElementEvents(r,ee(e=this.toggleEditMode).call(e,this))}},{key:"_clean",value:function(){this.inMode=!1,!0===this.guiEnabled&&(So(this.editModeDiv),So(this.manipulationDiv),this._cleanupDOMEventListeners()),this._cleanupTemporaryNodesAndEdges(),this._unbindTemporaryUIs(),this._unbindTemporaryEvents(),this.body.emitter.emit("restorePhysics")}},{key:"_cleanupDOMEventListeners",value:function(){var e,t,r=Vv(oi(e=this._domEventListenerCleanupQueue).call(e,0));try{for(r.s();!(t=r.n()).done;)(0,t.value)()}catch(i){r.e(i)}finally{r.f()}}},{key:"_removeManipulationDOM",value:function(){this._clean(),So(this.manipulationDiv),So(this.editModeDiv),So(this.closeDiv),this.manipulationDiv&&this.canvas.frame.removeChild(this.manipulationDiv),this.editModeDiv&&this.canvas.frame.removeChild(this.editModeDiv),this.closeDiv&&this.canvas.frame.removeChild(this.closeDiv),this.manipulationDiv=void 0,this.editModeDiv=void 0,this.closeDiv=void 0}},{key:"_createSeperator",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.manipulationDOM["seperatorLineDiv"+e]=document.createElement("div"),this.manipulationDOM["seperatorLineDiv"+e].className="vis-separator-line",this.manipulationDiv.appendChild(this.manipulationDOM["seperatorLineDiv"+e])}},{key:"_createAddNodeButton",value:function(e){var t,r=this._createButton("addNode","vis-add",e.addNode||this.options.locales.en.addNode);this.manipulationDiv.appendChild(r),this._bindElementEvents(r,ee(t=this.addNodeMode).call(t,this))}},{key:"_createAddEdgeButton",value:function(e){var t,r=this._createButton("addEdge","vis-connect",e.addEdge||this.options.locales.en.addEdge);this.manipulationDiv.appendChild(r),this._bindElementEvents(r,ee(t=this.addEdgeMode).call(t,this))}},{key:"_createEditNodeButton",value:function(e){var t,r=this._createButton("editNode","vis-edit",e.editNode||this.options.locales.en.editNode);this.manipulationDiv.appendChild(r),this._bindElementEvents(r,ee(t=this.editNode).call(t,this))}},{key:"_createEditEdgeButton",value:function(e){var t,r=this._createButton("editEdge","vis-edit",e.editEdge||this.options.locales.en.editEdge);this.manipulationDiv.appendChild(r),this._bindElementEvents(r,ee(t=this.editEdgeMode).call(t,this))}},{key:"_createDeleteButton",value:function(e){var t,r;r=this.options.rtl?"vis-delete-rtl":"vis-delete";var i=this._createButton("delete",r,e.del||this.options.locales.en.del);this.manipulationDiv.appendChild(i),this._bindElementEvents(i,ee(t=this.deleteSelected).call(t,this))}},{key:"_createBackButton",value:function(e){var t,r=this._createButton("back","vis-back",e.back||this.options.locales.en.back);this.manipulationDiv.appendChild(r),this._bindElementEvents(r,ee(t=this.showManipulatorToolbar).call(t,this))}},{key:"_createButton",value:function(e,t,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"vis-label";return this.manipulationDOM[e+"Div"]=document.createElement("button"),this.manipulationDOM[e+"Div"].className="vis-button "+t,this.manipulationDOM[e+"Label"]=document.createElement("div"),this.manipulationDOM[e+"Label"].className=i,this.manipulationDOM[e+"Label"].innerText=r,this.manipulationDOM[e+"Div"].appendChild(this.manipulationDOM[e+"Label"]),this.manipulationDOM[e+"Div"]}},{key:"_createDescription",value:function(e){this.manipulationDOM.descriptionLabel=document.createElement("div"),this.manipulationDOM.descriptionLabel.className="vis-none",this.manipulationDOM.descriptionLabel.innerText=e,this.manipulationDiv.appendChild(this.manipulationDOM.descriptionLabel)}},{key:"_temporaryBindEvent",value:function(e,t){this.temporaryEventFunctions.push({event:e,boundFunction:t}),this.body.emitter.on(e,t)}},{key:"_temporaryBindUI",value:function(e,t){if(void 0===this.body.eventListeners[e])throw new Error("This UI function does not exist. Typo? You tried: "+e+" possible are: "+ds(Mt(this.body.eventListeners)));this.temporaryUIFunctions[e]=this.body.eventListeners[e],this.body.eventListeners[e]=t}},{key:"_unbindTemporaryUIs",value:function(){for(var e in this.temporaryUIFunctions)Object.prototype.hasOwnProperty.call(this.temporaryUIFunctions,e)&&(this.body.eventListeners[e]=this.temporaryUIFunctions[e],delete this.temporaryUIFunctions[e]);this.temporaryUIFunctions={}}},{key:"_unbindTemporaryEvents",value:function(){for(var e=0;e<this.temporaryEventFunctions.length;e++){var t=this.temporaryEventFunctions[e].event,r=this.temporaryEventFunctions[e].boundFunction;this.body.emitter.off(t,r)}this.temporaryEventFunctions=[]}},{key:"_bindElementEvents",value:function(e,t){var r=new al(e,{});Sl(r,t),this._domEventListenerCleanupQueue.push(function(){r.destroy()});var i=function(o){var u=o.keyCode,h=o.key;"Enter"!==h&&" "!==h&&13!==u&&32!==u||t()};e.addEventListener("keyup",i,!1),this._domEventListenerCleanupQueue.push(function(){e.removeEventListener("keyup",i,!1)})}},{key:"_cleanupTemporaryNodesAndEdges",value:function(){for(var e=0;e<this.temporaryIds.edges.length;e++){var t;this.body.edges[this.temporaryIds.edges[e]].disconnect(),delete this.body.edges[this.temporaryIds.edges[e]];var r,i=at(t=this.body.edgeIndices).call(t,this.temporaryIds.edges[e]);-1!==i&&oi(r=this.body.edgeIndices).call(r,i,1)}for(var o=0;o<this.temporaryIds.nodes.length;o++){var u;delete this.body.nodes[this.temporaryIds.nodes[o]];var h,f=at(u=this.body.nodeIndices).call(u,this.temporaryIds.nodes[o]);-1!==f&&oi(h=this.body.nodeIndices).call(h,f,1)}this.temporaryIds={nodes:[],edges:[]}}},{key:"_controlNodeTouch",value:function(e){this.selectionHandler.unselectAll(),this.lastTouch=this.body.functions.getPointer(e.center),this.lastTouch.translation=Ht({},this.body.view.translation)}},{key:"_controlNodeDragStart",value:function(){var e=this.lastTouch,t=this.selectionHandler._pointerToPositionObject(e),r=this.body.nodes[this.temporaryIds.nodes[0]],i=this.body.nodes[this.temporaryIds.nodes[1]],o=this.body.edges[this.edgeBeingEditedId];this.selectedControlNode=void 0;var u=r.isOverlappingWith(t),h=i.isOverlappingWith(t);!0===u?(this.selectedControlNode=r,o.edgeType.from=r):!0===h&&(this.selectedControlNode=i,o.edgeType.to=i),void 0!==this.selectedControlNode&&this.selectionHandler.selectObject(this.selectedControlNode),this.body.emitter.emit("_redraw")}},{key:"_controlNodeDrag",value:function(e){this.body.emitter.emit("disablePhysics");var t=this.body.functions.getPointer(e.center),r=this.canvas.DOMtoCanvas(t);void 0!==this.selectedControlNode?(this.selectedControlNode.x=r.x,this.selectedControlNode.y=r.y):this.interactionHandler.onDrag(e),this.body.emitter.emit("_redraw")}},{key:"_controlNodeDragEnd",value:function(e){var t=this.body.functions.getPointer(e.center),r=this.selectionHandler._pointerToPositionObject(t),i=this.body.edges[this.edgeBeingEditedId];if(void 0!==this.selectedControlNode){this.selectionHandler.unselectAll();for(var o=this.selectionHandler._getAllNodesOverlappingWith(r),u=void 0,h=o.length-1;h>=0;h--)if(o[h]!==this.selectedControlNode.id){u=this.body.nodes[o[h]];break}if(void 0!==u&&void 0!==this.selectedControlNode)if(!0===u.isCluster)alert(this.options.locales[this.options.locale].createEdgeError||this.options.locales.en.createEdgeError);else{var f=this.body.nodes[this.temporaryIds.nodes[0]];this.selectedControlNode.id===f.id?this._performEditEdge(u.id,i.to.id):this._performEditEdge(i.from.id,u.id)}else i.updateEdgeType(),this.body.emitter.emit("restorePhysics");this.body.emitter.emit("_redraw")}}},{key:"_handleConnect",value:function(e){if((new Date).valueOf()-this.touchTime>100){this.lastTouch=this.body.functions.getPointer(e.center),this.lastTouch.translation=Ht({},this.body.view.translation),this.interactionHandler.drag.pointer=this.lastTouch,this.interactionHandler.drag.translation=this.lastTouch.translation;var t=this.lastTouch,r=this.selectionHandler.getNodeAt(t);if(void 0!==r)if(!0===r.isCluster)alert(this.options.locales[this.options.locale].createEdgeError||this.options.locales.en.createEdgeError);else{var i=this._getNewTargetNode(r.x,r.y);this.body.nodes[i.id]=i,this.body.nodeIndices.push(i.id);var o=this.body.functions.createEdge({id:"connectionEdge"+Nh(),from:r.id,to:i.id,physics:!1,smooth:{enabled:!0,type:"continuous",roundness:.5}});this.body.edges[o.id]=o,this.body.edgeIndices.push(o.id),this.temporaryIds.nodes.push(i.id),this.temporaryIds.edges.push(o.id)}this.touchTime=(new Date).valueOf()}}},{key:"_dragControlNode",value:function(e){var t=this.body.functions.getPointer(e.center),r=this.selectionHandler._pointerToPositionObject(t),i=void 0;void 0!==this.temporaryIds.edges[0]&&(i=this.body.edges[this.temporaryIds.edges[0]].fromId);for(var o=this.selectionHandler._getAllNodesOverlappingWith(r),u=void 0,h=o.length-1;h>=0;h--){var f;if(-1===at(f=this.temporaryIds.nodes).call(f,o[h])){u=this.body.nodes[o[h]];break}}if(e.controlEdge={from:i,to:u?u.id:void 0},this.selectionHandler.generateClickEvent("controlNodeDragging",e,t),void 0!==this.temporaryIds.nodes[0]){var b=this.body.nodes[this.temporaryIds.nodes[0]];b.x=this.canvas._XconvertDOMtoCanvas(t.x),b.y=this.canvas._YconvertDOMtoCanvas(t.y),this.body.emitter.emit("_redraw")}else this.interactionHandler.onDrag(e)}},{key:"_finishConnect",value:function(e){var t=this.body.functions.getPointer(e.center),r=this.selectionHandler._pointerToPositionObject(t),i=void 0;void 0!==this.temporaryIds.edges[0]&&(i=this.body.edges[this.temporaryIds.edges[0]].fromId);for(var o=this.selectionHandler._getAllNodesOverlappingWith(r),u=void 0,h=o.length-1;h>=0;h--){var f;if(-1===at(f=this.temporaryIds.nodes).call(f,o[h])){u=this.body.nodes[o[h]];break}}this._cleanupTemporaryNodesAndEdges(),void 0!==u&&(!0===u.isCluster?alert(this.options.locales[this.options.locale].createEdgeError||this.options.locales.en.createEdgeError):void 0!==this.body.nodes[i]&&void 0!==this.body.nodes[u.id]&&this._performAddEdge(i,u.id)),e.controlEdge={from:i,to:u?u.id:void 0},this.selectionHandler.generateClickEvent("controlNodeDragEnd",e,t),this.body.emitter.emit("_redraw")}},{key:"_dragStartEdge",value:function(e){var t=this.lastTouch;this.selectionHandler.generateClickEvent("dragStart",e,t,void 0,!0)}},{key:"_performAddNode",value:function(e){var t=this,r={id:Nh(),x:e.pointer.canvas.x,y:e.pointer.canvas.y,label:"new"};if("function"==typeof this.options.addNode){if(2!==this.options.addNode.length)throw this.showManipulatorToolbar(),new Error("The function for add does not support two arguments (data,callback)");this.options.addNode(r,function(i){null!=i&&"addNode"===t.inMode&&t.body.data.nodes.getDataSet().add(i),t.showManipulatorToolbar()})}else this.body.data.nodes.getDataSet().add(r),this.showManipulatorToolbar()}},{key:"_performAddEdge",value:function(e,t){var r=this,i={from:e,to:t};if("function"==typeof this.options.addEdge){if(2!==this.options.addEdge.length)throw new Error("The function for connect does not support two arguments (data,callback)");this.options.addEdge(i,function(o){null!=o&&"addEdge"===r.inMode&&(r.body.data.edges.getDataSet().add(o),r.selectionHandler.unselectAll(),r.showManipulatorToolbar())})}else this.body.data.edges.getDataSet().add(i),this.selectionHandler.unselectAll(),this.showManipulatorToolbar()}},{key:"_performEditEdge",value:function(e,t){var r=this,i={id:this.edgeBeingEditedId,from:e,to:t,label:this.body.data.edges.get(this.edgeBeingEditedId).label},o=this.options.editEdge;if("object"===ft(o)&&(o=o.editWithoutDrag),"function"==typeof o){if(2!==o.length)throw new Error("The function for edit does not support two arguments (data, callback)");o(i,function(u){null==u||"editEdge"!==r.inMode?(r.body.edges[i.id].updateEdgeType(),r.body.emitter.emit("_redraw"),r.showManipulatorToolbar()):(r.body.data.edges.getDataSet().update(u),r.selectionHandler.unselectAll(),r.showManipulatorToolbar())})}else this.body.data.edges.getDataSet().update(i),this.selectionHandler.unselectAll(),this.showManipulatorToolbar()}}]),n}(),le="string",ne="boolean",U="number",Il="array",Oe="object",vT=["arrow","bar","box","circle","crow","curve","diamond","image","inv_curve","inv_triangle","triangle","vee"],Pl={borderWidth:{number:U},borderWidthSelected:{number:U,undefined:"undefined"},brokenImage:{string:le,undefined:"undefined"},chosen:{label:{boolean:ne,function:"function"},node:{boolean:ne,function:"function"},__type__:{object:Oe,boolean:ne}},color:{border:{string:le},background:{string:le},highlight:{border:{string:le},background:{string:le},__type__:{object:Oe,string:le}},hover:{border:{string:le},background:{string:le},__type__:{object:Oe,string:le}},__type__:{object:Oe,string:le}},opacity:{number:U,undefined:"undefined"},fixed:{x:{boolean:ne},y:{boolean:ne},__type__:{object:Oe,boolean:ne}},font:{align:{string:le},color:{string:le},size:{number:U},face:{string:le},background:{string:le},strokeWidth:{number:U},strokeColor:{string:le},vadjust:{number:U},multi:{boolean:ne,string:le},bold:{color:{string:le},size:{number:U},face:{string:le},mod:{string:le},vadjust:{number:U},__type__:{object:Oe,string:le}},boldital:{color:{string:le},size:{number:U},face:{string:le},mod:{string:le},vadjust:{number:U},__type__:{object:Oe,string:le}},ital:{color:{string:le},size:{number:U},face:{string:le},mod:{string:le},vadjust:{number:U},__type__:{object:Oe,string:le}},mono:{color:{string:le},size:{number:U},face:{string:le},mod:{string:le},vadjust:{number:U},__type__:{object:Oe,string:le}},__type__:{object:Oe,string:le}},group:{string:le,number:U,undefined:"undefined"},heightConstraint:{minimum:{number:U},valign:{string:le},__type__:{object:Oe,boolean:ne,number:U}},hidden:{boolean:ne},icon:{face:{string:le},code:{string:le},size:{number:U},color:{string:le},weight:{string:le,number:U},__type__:{object:Oe}},id:{string:le,number:U},image:{selected:{string:le,undefined:"undefined"},unselected:{string:le,undefined:"undefined"},__type__:{object:Oe,string:le}},imagePadding:{top:{number:U},right:{number:U},bottom:{number:U},left:{number:U},__type__:{object:Oe,number:U}},label:{string:le,undefined:"undefined"},labelHighlightBold:{boolean:ne},level:{number:U,undefined:"undefined"},margin:{top:{number:U},right:{number:U},bottom:{number:U},left:{number:U},__type__:{object:Oe,number:U}},mass:{number:U},physics:{boolean:ne},scaling:{min:{number:U},max:{number:U},label:{enabled:{boolean:ne},min:{number:U},max:{number:U},maxVisible:{number:U},drawThreshold:{number:U},__type__:{object:Oe,boolean:ne}},customScalingFunction:{function:"function"},__type__:{object:Oe}},shadow:{enabled:{boolean:ne},color:{string:le},size:{number:U},x:{number:U},y:{number:U},__type__:{object:Oe,boolean:ne}},shape:{string:["custom","ellipse","circle","database","box","text","image","circularImage","diamond","dot","star","triangle","triangleDown","square","icon","hexagon"]},ctxRenderer:{function:"function"},shapeProperties:{borderDashes:{boolean:ne,array:Il},borderRadius:{number:U},interpolation:{boolean:ne},useImageSize:{boolean:ne},useBorderWithImage:{boolean:ne},coordinateOrigin:{string:["center","top-left"]},__type__:{object:Oe}},size:{number:U},title:{string:le,dom:"dom",undefined:"undefined"},value:{number:U,undefined:"undefined"},widthConstraint:{minimum:{number:U},maximum:{number:U},__type__:{object:Oe,boolean:ne,number:U}},x:{number:U},y:{number:U},__type__:{object:Oe}},MT={configure:{enabled:{boolean:ne},filter:{boolean:ne,string:le,array:Il,function:"function"},container:{dom:"dom"},showButton:{boolean:ne},__type__:{object:Oe,boolean:ne,string:le,array:Il,function:"function"}},edges:{arrows:{to:{enabled:{boolean:ne},scaleFactor:{number:U},type:{string:vT},imageHeight:{number:U},imageWidth:{number:U},src:{string:le},__type__:{object:Oe,boolean:ne}},middle:{enabled:{boolean:ne},scaleFactor:{number:U},type:{string:vT},imageWidth:{number:U},imageHeight:{number:U},src:{string:le},__type__:{object:Oe,boolean:ne}},from:{enabled:{boolean:ne},scaleFactor:{number:U},type:{string:vT},imageWidth:{number:U},imageHeight:{number:U},src:{string:le},__type__:{object:Oe,boolean:ne}},__type__:{string:["from","to","middle"],object:Oe}},endPointOffset:{from:{number:U},to:{number:U},__type__:{object:Oe,number:U}},arrowStrikethrough:{boolean:ne},background:{enabled:{boolean:ne},color:{string:le},size:{number:U},dashes:{boolean:ne,array:Il},__type__:{object:Oe,boolean:ne}},chosen:{label:{boolean:ne,function:"function"},edge:{boolean:ne,function:"function"},__type__:{object:Oe,boolean:ne}},color:{color:{string:le},highlight:{string:le},hover:{string:le},inherit:{string:["from","to","both"],boolean:ne},opacity:{number:U},__type__:{object:Oe,string:le}},dashes:{boolean:ne,array:Il},font:{color:{string:le},size:{number:U},face:{string:le},background:{string:le},strokeWidth:{number:U},strokeColor:{string:le},align:{string:["horizontal","top","middle","bottom"]},vadjust:{number:U},multi:{boolean:ne,string:le},bold:{color:{string:le},size:{number:U},face:{string:le},mod:{string:le},vadjust:{number:U},__type__:{object:Oe,string:le}},boldital:{color:{string:le},size:{number:U},face:{string:le},mod:{string:le},vadjust:{number:U},__type__:{object:Oe,string:le}},ital:{color:{string:le},size:{number:U},face:{string:le},mod:{string:le},vadjust:{number:U},__type__:{object:Oe,string:le}},mono:{color:{string:le},size:{number:U},face:{string:le},mod:{string:le},vadjust:{number:U},__type__:{object:Oe,string:le}},__type__:{object:Oe,string:le}},hidden:{boolean:ne},hoverWidth:{function:"function",number:U},label:{string:le,undefined:"undefined"},labelHighlightBold:{boolean:ne},length:{number:U,undefined:"undefined"},physics:{boolean:ne},scaling:{min:{number:U},max:{number:U},label:{enabled:{boolean:ne},min:{number:U},max:{number:U},maxVisible:{number:U},drawThreshold:{number:U},__type__:{object:Oe,boolean:ne}},customScalingFunction:{function:"function"},__type__:{object:Oe}},selectionWidth:{function:"function",number:U},selfReferenceSize:{number:U},selfReference:{size:{number:U},angle:{number:U},renderBehindTheNode:{boolean:ne},__type__:{object:Oe}},shadow:{enabled:{boolean:ne},color:{string:le},size:{number:U},x:{number:U},y:{number:U},__type__:{object:Oe,boolean:ne}},smooth:{enabled:{boolean:ne},type:{string:["dynamic","continuous","discrete","diagonalCross","straightCross","horizontal","vertical","curvedCW","curvedCCW","cubicBezier"]},roundness:{number:U},forceDirection:{string:["horizontal","vertical","none"],boolean:ne},__type__:{object:Oe,boolean:ne}},title:{string:le,undefined:"undefined"},width:{number:U},widthConstraint:{maximum:{number:U},__type__:{object:Oe,boolean:ne,number:U}},value:{number:U,undefined:"undefined"},__type__:{object:Oe}},groups:{useDefaultGroups:{boolean:ne},__any__:Pl,__type__:{object:Oe}},interaction:{dragNodes:{boolean:ne},dragView:{boolean:ne},hideEdgesOnDrag:{boolean:ne},hideEdgesOnZoom:{boolean:ne},hideNodesOnDrag:{boolean:ne},hover:{boolean:ne},keyboard:{enabled:{boolean:ne},speed:{x:{number:U},y:{number:U},zoom:{number:U},__type__:{object:Oe}},bindToWindow:{boolean:ne},autoFocus:{boolean:ne},__type__:{object:Oe,boolean:ne}},multiselect:{boolean:ne},navigationButtons:{boolean:ne},selectable:{boolean:ne},selectConnectedEdges:{boolean:ne},hoverConnectedEdges:{boolean:ne},tooltipDelay:{number:U},zoomView:{boolean:ne},zoomSpeed:{number:U},__type__:{object:Oe}},layout:{randomSeed:{undefined:"undefined",number:U,string:le},improvedLayout:{boolean:ne},clusterThreshold:{number:U},hierarchical:{enabled:{boolean:ne},levelSeparation:{number:U},nodeSpacing:{number:U},treeSpacing:{number:U},blockShifting:{boolean:ne},edgeMinimization:{boolean:ne},parentCentralization:{boolean:ne},direction:{string:["UD","DU","LR","RL"]},sortMethod:{string:["hubsize","directed"]},shakeTowards:{string:["leaves","roots"]},__type__:{object:Oe,boolean:ne}},__type__:{object:Oe}},manipulation:{enabled:{boolean:ne},initiallyActive:{boolean:ne},addNode:{boolean:ne,function:"function"},addEdge:{boolean:ne,function:"function"},editNode:{function:"function"},editEdge:{editWithoutDrag:{function:"function"},__type__:{object:Oe,boolean:ne,function:"function"}},deleteNode:{boolean:ne,function:"function"},deleteEdge:{boolean:ne,function:"function"},controlNodeStyle:Pl,__type__:{object:Oe,boolean:ne}},nodes:Pl,physics:{enabled:{boolean:ne},barnesHut:{theta:{number:U},gravitationalConstant:{number:U},centralGravity:{number:U},springLength:{number:U},springConstant:{number:U},damping:{number:U},avoidOverlap:{number:U},__type__:{object:Oe}},forceAtlas2Based:{theta:{number:U},gravitationalConstant:{number:U},centralGravity:{number:U},springLength:{number:U},springConstant:{number:U},damping:{number:U},avoidOverlap:{number:U},__type__:{object:Oe}},repulsion:{centralGravity:{number:U},springLength:{number:U},springConstant:{number:U},nodeDistance:{number:U},damping:{number:U},__type__:{object:Oe}},hierarchicalRepulsion:{centralGravity:{number:U},springLength:{number:U},springConstant:{number:U},nodeDistance:{number:U},damping:{number:U},avoidOverlap:{number:U},__type__:{object:Oe}},maxVelocity:{number:U},minVelocity:{number:U},solver:{string:["barnesHut","repulsion","hierarchicalRepulsion","forceAtlas2Based"]},stabilization:{enabled:{boolean:ne},iterations:{number:U},updateInterval:{number:U},onlyDynamicEdges:{boolean:ne},fit:{boolean:ne},__type__:{object:Oe,boolean:ne}},timestep:{number:U},adaptiveTimestep:{boolean:ne},wind:{x:{number:U},y:{number:U},__type__:{object:Oe}},__type__:{object:Oe,boolean:ne}},autoResize:{boolean:ne},clickToUse:{boolean:ne},locale:{string:le},locales:{__any__:{any:"any"},__type__:{object:Oe}},height:{string:le},width:{string:le},__type__:{object:Oe}},Cl={nodes:{borderWidth:[1,0,10,1],borderWidthSelected:[2,0,10,1],color:{border:["color","#2B7CE9"],background:["color","#97C2FC"],highlight:{border:["color","#2B7CE9"],background:["color","#D2E5FF"]},hover:{border:["color","#2B7CE9"],background:["color","#D2E5FF"]}},opacity:[0,0,1,.1],fixed:{x:!1,y:!1},font:{color:["color","#343434"],size:[14,0,100,1],face:["arial","verdana","tahoma"],background:["color","none"],strokeWidth:[0,0,50,1],strokeColor:["color","#ffffff"]},hidden:!1,labelHighlightBold:!0,physics:!0,scaling:{min:[10,0,200,1],max:[30,0,200,1],label:{enabled:!1,min:[14,0,200,1],max:[30,0,200,1],maxVisible:[30,0,200,1],drawThreshold:[5,0,20,1]}},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:[10,0,20,1],x:[5,-30,30,1],y:[5,-30,30,1]},shape:["ellipse","box","circle","database","diamond","dot","square","star","text","triangle","triangleDown","hexagon"],shapeProperties:{borderDashes:!1,borderRadius:[6,0,20,1],interpolation:!0,useImageSize:!1},size:[25,0,200,1]},edges:{arrows:{to:{enabled:!1,scaleFactor:[1,0,3,.05],type:"arrow"},middle:{enabled:!1,scaleFactor:[1,0,3,.05],type:"arrow"},from:{enabled:!1,scaleFactor:[1,0,3,.05],type:"arrow"}},endPointOffset:{from:[0,-10,10,1],to:[0,-10,10,1]},arrowStrikethrough:!0,color:{color:["color","#848484"],highlight:["color","#848484"],hover:["color","#848484"],inherit:["from","to","both",!0,!1],opacity:[1,0,1,.05]},dashes:!1,font:{color:["color","#343434"],size:[14,0,100,1],face:["arial","verdana","tahoma"],background:["color","none"],strokeWidth:[2,0,50,1],strokeColor:["color","#ffffff"],align:["horizontal","top","middle","bottom"]},hidden:!1,hoverWidth:[1.5,0,5,.1],labelHighlightBold:!0,physics:!0,scaling:{min:[1,0,100,1],max:[15,0,100,1],label:{enabled:!0,min:[14,0,200,1],max:[30,0,200,1],maxVisible:[30,0,200,1],drawThreshold:[5,0,20,1]}},selectionWidth:[1.5,0,5,.1],selfReferenceSize:[20,0,200,1],selfReference:{size:[20,0,200,1],angle:[Math.PI/2,-6*Math.PI,6*Math.PI,Math.PI/8],renderBehindTheNode:!0},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:[10,0,20,1],x:[5,-30,30,1],y:[5,-30,30,1]},smooth:{enabled:!0,type:["dynamic","continuous","discrete","diagonalCross","straightCross","horizontal","vertical","curvedCW","curvedCCW","cubicBezier"],forceDirection:["horizontal","vertical","none"],roundness:[.5,0,1,.05]},width:[1,0,30,1]},layout:{hierarchical:{enabled:!1,levelSeparation:[150,20,500,5],nodeSpacing:[100,20,500,5],treeSpacing:[200,20,500,5],blockShifting:!0,edgeMinimization:!0,parentCentralization:!0,direction:["UD","DU","LR","RL"],sortMethod:["hubsize","directed"],shakeTowards:["leaves","roots"]}},interaction:{dragNodes:!0,dragView:!0,hideEdgesOnDrag:!1,hideEdgesOnZoom:!1,hideNodesOnDrag:!1,hover:!1,keyboard:{enabled:!1,speed:{x:[10,0,40,1],y:[10,0,40,1],zoom:[.02,0,.1,.005]},bindToWindow:!0,autoFocus:!0},multiselect:!1,navigationButtons:!1,selectable:!0,selectConnectedEdges:!0,hoverConnectedEdges:!0,tooltipDelay:[300,0,1e3,25],zoomView:!0,zoomSpeed:[1,.1,2,.1]},manipulation:{enabled:!1,initiallyActive:!1},physics:{enabled:!0,barnesHut:{theta:[.5,.1,1,.05],gravitationalConstant:[-2e3,-3e4,0,50],centralGravity:[.3,0,10,.05],springLength:[95,0,500,5],springConstant:[.04,0,1.2,.005],damping:[.09,0,1,.01],avoidOverlap:[0,0,1,.01]},forceAtlas2Based:{theta:[.5,.1,1,.05],gravitationalConstant:[-50,-500,0,1],centralGravity:[.01,0,1,.005],springLength:[95,0,500,5],springConstant:[.08,0,1.2,.005],damping:[.4,0,1,.01],avoidOverlap:[0,0,1,.01]},repulsion:{centralGravity:[.2,0,10,.05],springLength:[200,0,500,5],springConstant:[.05,0,1.2,.005],nodeDistance:[100,0,500,5],damping:[.09,0,1,.01]},hierarchicalRepulsion:{centralGravity:[.2,0,10,.05],springLength:[100,0,500,5],springConstant:[.01,0,1.2,.005],nodeDistance:[120,0,500,5],damping:[.09,0,1,.01],avoidOverlap:[0,0,1,.01]},maxVelocity:[50,0,150,1],minVelocity:[.1,.01,.5,.01],solver:["barnesHut","forceAtlas2Based","repulsion","hierarchicalRepulsion"],timestep:[.5,.01,1,.01],wind:{x:[0,-10,10,.1],y:[0,-10,10,.1]}}},pT=function(n,e,t){var r;return!(!Ur(n).call(n,"physics")||!Ur(r=Cl.physics.solver).call(r,e)||t.physics.solver===e||"wind"===e)},vI=Object.freeze({__proto__:null,allOptions:MT,configuratorHideOption:pT,configureOptions:Cl}),pI=function(){function n(){oe(this,n)}return ce(n,[{key:"getDistances",value:function(e,t,r){for(var i={},o=e.edges,u=0;u<t.length;u++){var h={};i[t[u]]=h;for(var f=0;f<t.length;f++)h[t[f]]=u==f?0:1e9}for(var b=0;b<r.length;b++){var E=o[r[b]];!0===E.connected&&void 0!==i[E.fromId]&&void 0!==i[E.toId]&&(i[E.fromId][E.toId]=1,i[E.toId][E.fromId]=1)}for(var k=t.length,I=0;I<k;I++)for(var $=t[I],D=i[$],N=0;N<k-1;N++)for(var W=t[N],Y=i[W],J=N+1;J<k;J++){var ue=t[J],he=i[ue],Pe=Math.min(Y[ue],Y[$]+D[ue]);Y[ue]=Pe,he[W]=Pe}return i}}]),n}(),gI=function(){function n(e,t,r){oe(this,n),this.body=e,this.springLength=t,this.springConstant=r,this.distanceSolver=new pI}return ce(n,[{key:"setOptions",value:function(e){e&&(e.springLength&&(this.springLength=e.springLength),e.springConstant&&(this.springConstant=e.springConstant))}},{key:"solve",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=this.distanceSolver.getDistances(this.body,e,t);this._createL_matrix(i),this._createK_matrix(i),this._createE_matrix();for(var o=0,u=Math.max(1e3,Math.min(10*this.body.nodeIndices.length,6e3)),h=1e9,f=0,b=0,E=0,k=0,I=0;h>.01&&o<u;){o+=1;var $=At(this._getHighestEnergyNode(r),4);for(f=$[0],h=$[1],b=$[2],E=$[3],k=h,I=0;k>1&&I<5;){I+=1,this._moveNode(f,b,E);var D=At(this._getEnergy(f),3);k=D[0],b=D[1],E=D[2]}}}},{key:"_getHighestEnergyNode",value:function(e){for(var t=this.body.nodeIndices,r=this.body.nodes,i=0,o=t[0],u=0,h=0,f=0;f<t.length;f++){var b=t[f];if(!0!==r[b].predefinedPosition||!0===r[b].isCluster&&!0===e||!0!==r[b].options.fixed.x||!0!==r[b].options.fixed.y){var E=At(this._getEnergy(b),3),k=E[0],I=E[1],$=E[2];i<k&&(i=k,o=b,u=I,h=$)}}return[o,i,u,h]}},{key:"_getEnergy",value:function(e){var t=At(this.E_sums[e],2),r=t[0],i=t[1];return[Math.sqrt(Math.pow(r,2)+Math.pow(i,2)),r,i]}},{key:"_moveNode",value:function(e,t,r){for(var i=this.body.nodeIndices,o=this.body.nodes,u=0,h=0,f=0,b=o[e].x,E=o[e].y,k=this.K_matrix[e],I=this.L_matrix[e],$=0;$<i.length;$++){var D=i[$];if(D!==e){var N=o[D].x,W=o[D].y,Y=k[D],J=I[D],ue=1/Math.pow(Math.pow(b-N,2)+Math.pow(E-W,2),1.5);u+=Y*(1-J*Math.pow(E-W,2)*ue),h+=Y*(J*(b-N)*(E-W)*ue),f+=Y*(1-J*Math.pow(b-N,2)*ue)}}var he=(t/u+r/h)/(h/u-f/h),Pe=-(h*he+t)/u;o[e].x+=Pe,o[e].y+=he,this._updateE_matrix(e)}},{key:"_createL_matrix",value:function(e){var t=this.body.nodeIndices,r=this.springLength;this.L_matrix=[];for(var i=0;i<t.length;i++){this.L_matrix[t[i]]={};for(var o=0;o<t.length;o++)this.L_matrix[t[i]][t[o]]=r*e[t[i]][t[o]]}}},{key:"_createK_matrix",value:function(e){var t=this.body.nodeIndices,r=this.springConstant;this.K_matrix=[];for(var i=0;i<t.length;i++){this.K_matrix[t[i]]={};for(var o=0;o<t.length;o++)this.K_matrix[t[i]][t[o]]=r*Math.pow(e[t[i]][t[o]],-2)}}},{key:"_createE_matrix",value:function(){var e=this.body.nodeIndices,t=this.body.nodes;this.E_matrix={},this.E_sums={};for(var r=0;r<e.length;r++)this.E_matrix[e[r]]=[];for(var i=0;i<e.length;i++){for(var o=e[i],u=t[o].x,h=t[o].y,f=0,b=0,E=i;E<e.length;E++){var k=e[E];if(k!==o){var I=t[k].x,$=t[k].y,D=1/Math.sqrt(Math.pow(u-I,2)+Math.pow(h-$,2));this.E_matrix[o][E]=[this.K_matrix[o][k]*(u-I-this.L_matrix[o][k]*(u-I)*D),this.K_matrix[o][k]*(h-$-this.L_matrix[o][k]*(h-$)*D)],this.E_matrix[k][i]=this.E_matrix[o][E],f+=this.E_matrix[o][E][0],b+=this.E_matrix[o][E][1]}}this.E_sums[o]=[f,b]}}},{key:"_updateE_matrix",value:function(e){for(var t=this.body.nodeIndices,r=this.body.nodes,i=this.E_matrix[e],o=this.K_matrix[e],u=this.L_matrix[e],h=r[e].x,f=r[e].y,b=0,E=0,k=0;k<t.length;k++){var I=t[k];if(I!==e){var $=i[k],D=$[0],N=$[1],W=r[I].x,Y=r[I].y,J=1/Math.sqrt(Math.pow(h-W,2)+Math.pow(f-Y,2)),ue=o[I]*(h-W-u[I]*(h-W)*J),he=o[I]*(f-Y-u[I]*(f-Y)*J);i[k]=[ue,he],b+=ue,E+=he;var Pe=this.E_sums[I];Pe[0]+=ue-D,Pe[1]+=he-N}}this.E_sums[e]=[b,E]}}]),n}();function _e(n,e,t){var r,i,o,u,h=this;if(!(this instanceof _e))throw new SyntaxError("Constructor must be called with the new operator");this.options={},this.defaultOptions={locale:"en",locales:Fy,clickToUse:!1},Ht(this.options,this.defaultOptions),this.body={container:n,nodes:{},nodeIndices:[],edges:{},edgeIndices:[],emitter:{on:ee(r=this.on).call(r,this),off:ee(i=this.off).call(i,this),emit:ee(o=this.emit).call(o,this),once:ee(u=this.once).call(u,this)},eventListeners:{onTap:function(){},onTouch:function(){},onDoubleTap:function(){},onHold:function(){},onDragStart:function(){},onDrag:function(){},onDragEnd:function(){},onMouseWheel:function(){},onPinch:function(){},onMouseMove:function(){},onRelease:function(){},onContext:function(){}},data:{nodes:null,edges:null},functions:{createNode:function(){},createEdge:function(){},getPointer:function(){}},modules:{},view:{scale:1,translation:{x:0,y:0}},selectionBox:{show:!1,position:{start:{x:0,y:0},end:{x:0,y:0}}}},this.bindEventListeners(),this.images=new sv(function(){return h.body.emitter.emit("_requestRedraw")}),this.groups=new mv,this.canvas=new Lv(this.body),this.selectionHandler=new Uv(this.body,this.canvas),this.interactionHandler=new Us(this.body,this.canvas,this.selectionHandler),this.view=new jm(this.body,this.canvas),this.renderer=new Rh(this.body,this.canvas),this.physics=new Gx(this.body),this.layoutEngine=new dT(this.body),this.clustering=new Q_(this.body),this.manipulation=new fT(this.body,this.canvas,this.selectionHandler,this.interactionHandler),this.nodesHandler=new xx(this.body,this.images,this.groups,this.layoutEngine),this.edgesHandler=new K_(this.body,this.images,this.groups),this.body.modules.kamadaKawai=new gI(this.body,150,.05),this.body.modules.clustering=this.clustering,this.canvas._create(),this.setOptions(t),this.setData(e)}Rb(_e.prototype),_e.prototype.setOptions=function(n){var e=this;if(null===n&&(n=void 0),void 0!==n){if(!0===sl.validate(n,MT)&&console.error("%cErrors have been found in the supplied options object.",z1),nl(["locale","locales","clickToUse"],this.options,n),void 0!==n.locale&&(n.locale=function(r,i){try{var o=At(i.split(/[-_ /]/,2),2),u=o[0],h=o[1],f=null!=u?u.toLowerCase():null,b=null!=h?h.toUpperCase():null;if(f&&b){var E,k=f+"-"+b;if(Object.prototype.hasOwnProperty.call(r,k))return k;console.warn(Rc(E="Unknown variant ".concat(b," of language ")).call(E,f,"."))}if(f){var I=f;if(Object.prototype.hasOwnProperty.call(r,I))return I;console.warn("Unknown language ".concat(f))}return console.warn("Unknown locale ".concat(i,", falling back to English.")),"en"}catch($){return console.error($),console.warn("Unexpected error while normalizing locale ".concat(i,", falling back to English.")),"en"}}(n.locales||this.options.locales,n.locale)),n=this.layoutEngine.setOptions(n.layout,n),this.canvas.setOptions(n),this.groups.setOptions(n.groups),this.nodesHandler.setOptions(n.nodes),this.edgesHandler.setOptions(n.edges),this.physics.setOptions(n.physics),this.manipulation.setOptions(n.manipulation,n,this.options),this.interactionHandler.setOptions(n.interaction),this.renderer.setOptions(n.interaction),this.selectionHandler.setOptions(n.interaction),void 0!==n.groups&&this.body.emitter.emit("refreshNodes"),"configure"in n&&(this.configurator||(this.configurator=new WS(this,this.body.container,Cl,this.canvas.pixelRatio,pT)),this.configurator.setOptions(n.configure)),this.configurator&&!0===this.configurator.options.enabled){var t={nodes:{},edges:{},layout:{},interaction:{},manipulation:{},physics:{},global:{}};_t(t.nodes,this.nodesHandler.options),_t(t.edges,this.edgesHandler.options),_t(t.layout,this.layoutEngine.options),_t(t.interaction,this.selectionHandler.options),_t(t.interaction,this.renderer.options),_t(t.interaction,this.interactionHandler.options),_t(t.manipulation,this.manipulation.options),_t(t.physics,this.physics.options),_t(t.global,this.canvas.options),_t(t.global,this.options),this.configurator.setModuleOptions(t)}void 0!==n.clickToUse?!0===n.clickToUse?void 0===this.activator&&(this.activator=new L1(this.canvas.frame),this.activator.on("change",function(){e.body.emitter.emit("activate")})):(void 0!==this.activator&&(this.activator.destroy(),delete this.activator),this.body.emitter.emit("activate")):this.body.emitter.emit("activate"),this.canvas.setSize(),this.body.emitter.emit("startSimulation")}},_e.prototype._updateVisibleIndices=function(){var n=this.body.nodes,e=this.body.edges;for(var t in this.body.nodeIndices=[],this.body.edgeIndices=[],n)Object.prototype.hasOwnProperty.call(n,t)&&(this.clustering._isClusteredNode(t)||!1!==n[t].options.hidden||this.body.nodeIndices.push(n[t].id));for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var i=e[r],o=n[i.fromId],u=n[i.toId],h=void 0!==o&&void 0!==u;!this.clustering._isClusteredEdge(r)&&!1===i.options.hidden&&h&&!1===o.options.hidden&&!1===u.options.hidden&&this.body.edgeIndices.push(i.id)}},_e.prototype.bindEventListeners=function(){var n=this;this.body.emitter.on("_dataChanged",function(){n.edgesHandler._updateState(),n.body.emitter.emit("_dataUpdated")}),this.body.emitter.on("_dataUpdated",function(){n.clustering._updateState(),n._updateVisibleIndices(),n._updateValueRange(n.body.nodes),n._updateValueRange(n.body.edges),n.body.emitter.emit("startSimulation"),n.body.emitter.emit("_requestRedraw")})},_e.prototype.setData=function(n){if(this.body.emitter.emit("resetPhysics"),this.body.emitter.emit("_resetData"),this.selectionHandler.unselectAll(),n&&n.dot&&(n.nodes||n.edges))throw new SyntaxError('Data must contain either parameter "dot" or  parameter pair "nodes" and "edges", but not both.');if(this.setOptions(n&&n.options),n&&n.dot){console.warn("The dot property has been deprecated. Please use the static convertDot method to convert DOT into vis.network format and use the normal data format with nodes and edges. This converter is used like this: var data = vis.network.convertDot(dotString);");var e=Ry(n.dot);this.setData(e)}else if(n&&n.gephi){console.warn("The gephi property has been deprecated. Please use the static convertGephi method to convert gephi into vis.network format and use the normal data format with nodes and edges. This converter is used like this: var data = vis.network.convertGephi(gephiJson);");var t=jy(n.gephi);this.setData(t)}else this.nodesHandler.setData(n&&n.nodes,!0),this.edgesHandler.setData(n&&n.edges,!0),this.body.emitter.emit("_dataChanged"),this.body.emitter.emit("_dataLoaded"),this.body.emitter.emit("initPhysics")},_e.prototype.destroy=function(){for(var n in this.body.emitter.emit("destroy"),this.body.emitter.off(),this.off(),delete this.groups,delete this.canvas,delete this.selectionHandler,delete this.interactionHandler,delete this.view,delete this.renderer,delete this.physics,delete this.layoutEngine,delete this.clustering,delete this.manipulation,delete this.nodesHandler,delete this.edgesHandler,delete this.configurator,delete this.images,this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,n)&&delete this.body.nodes[n];for(var e in this.body.edges)Object.prototype.hasOwnProperty.call(this.body.edges,e)&&delete this.body.edges[e];So(this.body.container)},_e.prototype._updateValueRange=function(n){var e,t=void 0,r=void 0,i=0;for(e in n)if(Object.prototype.hasOwnProperty.call(n,e)){var o=n[e].getValue();void 0!==o&&(t=void 0===t?o:Math.min(o,t),r=void 0===r?o:Math.max(o,r),i+=o)}if(void 0!==t&&void 0!==r)for(e in n)Object.prototype.hasOwnProperty.call(n,e)&&n[e].setValueRange(t,r,i)},_e.prototype.isActive=function(){return!this.activator||this.activator.active},_e.prototype.setSize=function(){return this.canvas.setSize.apply(this.canvas,arguments)},_e.prototype.canvasToDOM=function(){return this.canvas.canvasToDOM.apply(this.canvas,arguments)},_e.prototype.DOMtoCanvas=function(){return this.canvas.DOMtoCanvas.apply(this.canvas,arguments)},_e.prototype.findNode=function(){return this.clustering.findNode.apply(this.clustering,arguments)},_e.prototype.isCluster=function(){return this.clustering.isCluster.apply(this.clustering,arguments)},_e.prototype.openCluster=function(){return this.clustering.openCluster.apply(this.clustering,arguments)},_e.prototype.cluster=function(){return this.clustering.cluster.apply(this.clustering,arguments)},_e.prototype.getNodesInCluster=function(){return this.clustering.getNodesInCluster.apply(this.clustering,arguments)},_e.prototype.clusterByConnection=function(){return this.clustering.clusterByConnection.apply(this.clustering,arguments)},_e.prototype.clusterByHubsize=function(){return this.clustering.clusterByHubsize.apply(this.clustering,arguments)},_e.prototype.updateClusteredNode=function(){return this.clustering.updateClusteredNode.apply(this.clustering,arguments)},_e.prototype.getClusteredEdges=function(){return this.clustering.getClusteredEdges.apply(this.clustering,arguments)},_e.prototype.getBaseEdge=function(){return this.clustering.getBaseEdge.apply(this.clustering,arguments)},_e.prototype.getBaseEdges=function(){return this.clustering.getBaseEdges.apply(this.clustering,arguments)},_e.prototype.updateEdge=function(){return this.clustering.updateEdge.apply(this.clustering,arguments)},_e.prototype.clusterOutliers=function(){return this.clustering.clusterOutliers.apply(this.clustering,arguments)},_e.prototype.getSeed=function(){return this.layoutEngine.getSeed.apply(this.layoutEngine,arguments)},_e.prototype.enableEditMode=function(){return this.manipulation.enableEditMode.apply(this.manipulation,arguments)},_e.prototype.disableEditMode=function(){return this.manipulation.disableEditMode.apply(this.manipulation,arguments)},_e.prototype.addNodeMode=function(){return this.manipulation.addNodeMode.apply(this.manipulation,arguments)},_e.prototype.editNode=function(){return this.manipulation.editNode.apply(this.manipulation,arguments)},_e.prototype.editNodeMode=function(){return console.warn("Deprecated: Please use editNode instead of editNodeMode."),this.manipulation.editNode.apply(this.manipulation,arguments)},_e.prototype.addEdgeMode=function(){return this.manipulation.addEdgeMode.apply(this.manipulation,arguments)},_e.prototype.editEdgeMode=function(){return this.manipulation.editEdgeMode.apply(this.manipulation,arguments)},_e.prototype.deleteSelected=function(){return this.manipulation.deleteSelected.apply(this.manipulation,arguments)},_e.prototype.getPositions=function(){return this.nodesHandler.getPositions.apply(this.nodesHandler,arguments)},_e.prototype.getPosition=function(){return this.nodesHandler.getPosition.apply(this.nodesHandler,arguments)},_e.prototype.storePositions=function(){return this.nodesHandler.storePositions.apply(this.nodesHandler,arguments)},_e.prototype.moveNode=function(){return this.nodesHandler.moveNode.apply(this.nodesHandler,arguments)},_e.prototype.getBoundingBox=function(){return this.nodesHandler.getBoundingBox.apply(this.nodesHandler,arguments)},_e.prototype.getConnectedNodes=function(n){return void 0!==this.body.nodes[n]?this.nodesHandler.getConnectedNodes.apply(this.nodesHandler,arguments):this.edgesHandler.getConnectedNodes.apply(this.edgesHandler,arguments)},_e.prototype.getConnectedEdges=function(){return this.nodesHandler.getConnectedEdges.apply(this.nodesHandler,arguments)},_e.prototype.startSimulation=function(){return this.physics.startSimulation.apply(this.physics,arguments)},_e.prototype.stopSimulation=function(){return this.physics.stopSimulation.apply(this.physics,arguments)},_e.prototype.stabilize=function(){return this.physics.stabilize.apply(this.physics,arguments)},_e.prototype.getSelection=function(){return this.selectionHandler.getSelection.apply(this.selectionHandler,arguments)},_e.prototype.setSelection=function(){return this.selectionHandler.setSelection.apply(this.selectionHandler,arguments)},_e.prototype.getSelectedNodes=function(){return this.selectionHandler.getSelectedNodeIds.apply(this.selectionHandler,arguments)},_e.prototype.getSelectedEdges=function(){return this.selectionHandler.getSelectedEdgeIds.apply(this.selectionHandler,arguments)},_e.prototype.getNodeAt=function(){var n=this.selectionHandler.getNodeAt.apply(this.selectionHandler,arguments);return void 0!==n&&void 0!==n.id?n.id:n},_e.prototype.getEdgeAt=function(){var n=this.selectionHandler.getEdgeAt.apply(this.selectionHandler,arguments);return void 0!==n&&void 0!==n.id?n.id:n},_e.prototype.selectNodes=function(){return this.selectionHandler.selectNodes.apply(this.selectionHandler,arguments)},_e.prototype.selectEdges=function(){return this.selectionHandler.selectEdges.apply(this.selectionHandler,arguments)},_e.prototype.unselectAll=function(){this.selectionHandler.unselectAll.apply(this.selectionHandler,arguments),this.selectionHandler.commitWithoutEmitting.apply(this.selectionHandler),this.redraw()},_e.prototype.redraw=function(){return this.renderer.redraw.apply(this.renderer,arguments)},_e.prototype.getScale=function(){return this.view.getScale.apply(this.view,arguments)},_e.prototype.getViewPosition=function(){return this.view.getViewPosition.apply(this.view,arguments)},_e.prototype.fit=function(){return this.view.fit.apply(this.view,arguments)},_e.prototype.moveTo=function(){return this.view.moveTo.apply(this.view,arguments)},_e.prototype.focus=function(){return this.view.focus.apply(this.view,arguments)},_e.prototype.releaseNode=function(){return this.view.releaseNode.apply(this.view,arguments)},_e.prototype.getOptionsFromConfigurator=function(){var n={};return this.configurator&&(n=this.configurator.getOptions.apply(this.configurator)),n};var qm=Ry;dt.Network=_e,dt.NetworkImages=sv,dt.networkDOTParser=q1,dt.networkGephiParser=av,dt.networkOptions=vI,dt.parseDOTNetwork=qm,dt.parseGephiNetwork=jy}(ht,Pt(543))},696:Rr=>{"use strict";Rr.exports=XP},314:Rr=>{"use strict";Rr.exports=JP},960:Rr=>{"use strict";Rr.exports=QP},147:Rr=>{"use strict";Rr.exports=ZP},91:Rr=>{"use strict";Rr.exports=eC}},qI={};function Kh(Rr){var ht=qI[Rr];if(void 0!==ht)return ht.exports;var Pt=qI[Rr]={exports:{}};return tC[Rr].call(Pt.exports,Pt,Pt.exports,Kh),Pt.exports}return(()=>{"use strict";var Rr=Kh(147),ht=Kh(314),Pt=Kh(960),dt=Kh(91);function Qt(Z){return"function"==typeof Z}function ge(Z){return F=>{if(function X(Z){return Qt(Z?.lift)}(F))return F.lift(function(L){try{return Z(L,this)}catch(G){this.error(G)}});throw new TypeError("Unable to lift unknown Observable type")}}const ye=function Ln(Z){const L=Z(G=>{Error.call(G),G.stack=(new Error).stack});return L.prototype=Object.create(Error.prototype),L.prototype.constructor=L,L}(Z=>function(L){Z(this),this.message=L?`${L.length} errors occurred during unsubscription:\n${L.map((G,Ye)=>`${Ye+1}) ${G.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=L});function re(Z,F){if(Z){const L=Z.indexOf(F);0<=L&&Z.splice(L,1)}}class nr{constructor(F){this.initialTeardown=F,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let F;if(!this.closed){this.closed=!0;const{_parentage:L}=this;if(L)if(this._parentage=null,Array.isArray(L))for(const tt of L)tt.remove(this);else L.remove(this);const{initialTeardown:G}=this;if(Qt(G))try{G()}catch(tt){F=tt instanceof ye?tt.errors:[tt]}const{_finalizers:Ye}=this;if(Ye){this._finalizers=null;for(const tt of Ye)try{Na(tt)}catch(ut){F=F??[],ut instanceof ye?F=[...F,...ut.errors]:F.push(ut)}}if(F)throw new ye(F)}}add(F){var L;if(F&&F!==this)if(this.closed)Na(F);else{if(F instanceof nr){if(F.closed||F._hasParent(this))return;F._addParent(this)}(this._finalizers=null!==(L=this._finalizers)&&void 0!==L?L:[]).push(F)}}_hasParent(F){const{_parentage:L}=this;return L===F||Array.isArray(L)&&L.includes(F)}_addParent(F){const{_parentage:L}=this;this._parentage=Array.isArray(L)?(L.push(F),L):L?[L,F]:F}_removeParent(F){const{_parentage:L}=this;L===F?this._parentage=null:Array.isArray(L)&&re(L,F)}remove(F){const{_finalizers:L}=this;L&&re(L,F),F instanceof nr&&F._removeParent(this)}}nr.EMPTY=(()=>{const Z=new nr;return Z.closed=!0,Z})();nr.EMPTY;function Na(Z){Qt(Z)?Z():Z.unsubscribe()}const pi={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Sr={setTimeout(Z,F,...L){const{delegate:G}=Sr;return G?.setTimeout?G.setTimeout(Z,F,...L):setTimeout(Z,F,...L)},clearTimeout(Z){const{delegate:F}=Sr;return(F?.clearTimeout||clearTimeout)(Z)},delegate:void 0};function Ra(){}const Bo=ct("C",void 0,void 0);function ct(Z,F,L){return{kind:Z,value:F,error:L}}let yi=null;class Qn extends nr{constructor(F){super(),this.isStopped=!1,F?(this.destination=F,function Al(Z){return Z instanceof nr||Z&&"closed"in Z&&Qt(Z.remove)&&Qt(Z.add)&&Qt(Z.unsubscribe)}(F)&&F.add(this)):this.destination=et}static create(F,L,G){return new Zn(F,L,G)}next(F){this.isStopped?pr(function Ee(Z){return ct("N",Z,void 0)}(F),this):this._next(F)}error(F){this.isStopped?pr(function Ml(Z){return ct("E",void 0,Z)}(F),this):(this.isStopped=!0,this._error(F))}complete(){this.isStopped?pr(Bo,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(F){this.destination.next(F)}_error(F){try{this.destination.error(F)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Yv=Function.prototype.bind;function mi(Z,F){return Yv.call(Z,F)}class Lo{constructor(F){this.partialObserver=F}next(F){const{partialObserver:L}=this;if(L.next)try{L.next(F)}catch(G){Gs(G)}}error(F){const{partialObserver:L}=this;if(L.error)try{L.error(F)}catch(G){Gs(G)}else Gs(F)}complete(){const{partialObserver:F}=this;if(F.complete)try{F.complete()}catch(L){Gs(L)}}}class Zn extends Qn{constructor(F,L,G){let Ye;if(super(),Qt(F)||!F)Ye={next:F??void 0,error:L??void 0,complete:G??void 0};else{let tt;this&&pi.useDeprecatedNextContext?(tt=Object.create(F),tt.unsubscribe=()=>this.unsubscribe(),Ye={next:F.next&&mi(F.next,tt),error:F.error&&mi(F.error,tt),complete:F.complete&&mi(F.complete,tt)}):Ye=F}this.destination=new Lo(Ye)}}function Gs(Z){pi.useDeprecatedSynchronousErrorHandling?function ir(Z){pi.useDeprecatedSynchronousErrorHandling&&yi&&(yi.errorThrown=!0,yi.error=Z)}(Z):function gi(Z){Sr.setTimeout(()=>{const{onUnhandledError:F}=pi;if(!F)throw Z;F(Z)})}(Z)}function pr(Z,F){const{onStoppedNotification:L}=pi;L&&Sr.setTimeout(()=>L(Z,F))}const et={closed:!0,next:Ra,error:function ze(Z){throw Z},complete:Ra};function bt(Z,F,L,G,Ye){return new jr(Z,F,L,G,Ye)}class jr extends Qn{constructor(F,L,G,Ye,tt,ut){super(F),this.onFinalize=tt,this.shouldUnsubscribe=ut,this._next=L?function(qe){try{L(qe)}catch($e){F.error($e)}}:super._next,this._error=Ye?function(qe){try{Ye(qe)}catch($e){F.error($e)}finally{this.unsubscribe()}}:super._error,this._complete=G?function(){try{G()}catch(qe){F.error(qe)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var F;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:L}=this;super.unsubscribe(),!L&&(null===(F=this.onFinalize)||void 0===F||F.call(this))}}}function ot(Z,F){return ge((L,G)=>{let Ye=0;L.subscribe(bt(G,tt=>{G.next(Z.call(F,tt,Ye++))}))})}var Ot=Kh(877),Ys=Kh(377);class zo{constructor(F){this.data={nodes:new Ys.DataSet(F.nodes),edges:new Ys.DataSet(F.edges)},this.options=F.options}}const Vt=["visNetworkContainer"];class Ct{constructor(){this._networkDataSubject=new dt.ReplaySubject,this.nodeDoubleClick=new ht.EventEmitter}set networkData(F){F&&this._networkDataSubject.next(F)}_renderVisNetwork(F){const L=this.visNetworkContainer.nativeElement;this.visNetworkInstance=new Ot.Network(L,F.data,F.options),this.visNetworkInstance.on("doubleClick",this.onNodeDoubleClick.bind(this))}onNodeDoubleClick(F){const L=this.visNetworkInstance.getNodeAt(F.pointer.DOM);L&&this.nodeDoubleClick.emit(L)}_reRenderVisNetwork(F){this.visNetworkInstance.setData(F.data),this.visNetworkInstance.setOptions(F.options),this.visNetworkInstance.redraw()}ngOnInit(){this._networkDataSubject.pipe(ot(F=>new zo(F))).subscribe(F=>{this.visNetworkInstance?this._reRenderVisNetwork(F):this._renderVisNetwork(F)})}static{this.\u0275fac=function(L){return new(L||Ct)}}static{this.\u0275cmp=ht.\u0275\u0275defineComponent({type:Ct,selectors:[["ts-vis-network"]],viewQuery:function(L,G){if(1&L&&ht.\u0275\u0275viewQuery(Vt,7),2&L){let Ye;ht.\u0275\u0275queryRefresh(Ye=ht.\u0275\u0275loadQuery())&&(G.visNetworkContainer=Ye.first)}},inputs:{networkData:"networkData"},outputs:{nodeDoubleClick:"nodeDoubleClick"},decls:2,vars:0,consts:[["visNetworkContainer",""],[1,"vis-network-container"]],template:function(L,G){1&L&&ht.\u0275\u0275element(0,"div",1,0)},styles:[".vis-network-container[_ngcontent-%COMP%]{height:100%}"]})}}var ei=Kh(696);class gr{static{this.\u0275fac=function(L){return new(L||gr)}}static{this.\u0275mod=ht.\u0275\u0275defineNgModule({type:gr})}static{this.\u0275inj=ht.\u0275\u0275defineInjector({imports:[ei.CommonModule]})}}class Kv{constructor(F){this.nodes=F.nodes||[],this.edges=F.edges||[],this.options=F.options||{}}}function bi(Z,F){return ge((L,G)=>{let Ye=0;L.subscribe(bt(G,tt=>Z.call(F,tt,Ye++)&&G.next(tt)))})}function Xv(Z,F){return ge(function ja(Z,F,L,G,Ye){return(tt,ut)=>{let qe=L,$e=F,xe=0;tt.subscribe(bt(ut,Br=>{const Xs=xe++;$e=qe?Z($e,Br,Xs):(qe=!0,Br),G&&ut.next($e)},Ye&&(()=>{qe&&ut.next($e),ut.complete()})))}}(Z,F,arguments.length>=2,!1,!0))}const Zi=(Z,F)=>(Z.push(F),Z);function Fr(){return ge((Z,F)=>{Xv(Zi,[])(Z).subscribe(F)})}function Jv(Z){return Z}function Fa(Z,F,L){const G=Qt(Z)||F||L?{next:Z,error:F,complete:L}:Z;return G?ge((Ye,tt)=>{var ut;null===(ut=G.subscribe)||void 0===ut||ut.call(G);let qe=!0;Ye.subscribe(bt(tt,$e=>{var xe;null===(xe=G.next)||void 0===xe||xe.call(G,$e),tt.next($e)},()=>{var $e;qe=!1,null===($e=G.complete)||void 0===$e||$e.call(G),tt.complete()},$e=>{var xe;qe=!1,null===(xe=G.error)||void 0===xe||xe.call(G,$e),tt.error($e)},()=>{var $e,xe;qe&&(null===($e=G.unsubscribe)||void 0===$e||$e.call(G)),null===(xe=G.finalize)||void 0===xe||xe.call(G)}))}):Jv}var xr,Z;(Z=xr||(xr={}))[Z.Node=1]="Node",Z[Z.Edge=2]="Edge";class Ho{constructor(){this._networkDataSubject=new dt.ReplaySubject(1),this.networkData$=this._networkDataSubject.asObservable()}_getNodesObservable(F){return(0,dt.from)(F).pipe(bi(L=>L.nodeType===xr.Node),ot(L=>({id:L.name,label:L.labels[0].text,image:L.shape.src,schemaName:L.schemaName,shape:L.shape.type,color:{background:L.styles.fill}})),Fr())}_getEdgesObservable(F){return(0,dt.from)(F).pipe(bi(L=>L.nodeType===xr.Edge),ot(L=>({from:L.sourceNode,to:L.targetNode,arrows:"to",color:L.lineColor,length:300})),Fr())}initNetworkData(F){const L=this._getNodesObservable(F).pipe(Fa(Ye=>this._nodesStore=Ye)),G=this._getEdgesObservable(F).pipe(Fa(Ye=>this._edgesStore=Ye));(0,dt.forkJoin)(L,G).subscribe(Ye=>{this._networkDataSubject.next(new Kv({nodes:this._nodesStore,edges:this._edgesStore,options:{nodes:{shapeProperties:{useBorderWithImage:!0},borderWidth:0},physics:{enabled:!1}}}))})}getNodeDetail(F){return this._nodesStore.find(L=>L.id===F)}static{this.\u0275fac=function(L){return new(L||Ho)}}static{this.\u0275prov=ht.\u0275\u0275defineInjectable({token:Ho,factory:Ho.\u0275fac,providedIn:"root"})}}class Ks{constructor(F,L){this._element=F,this._transformDataService=L}set isNodeLoaded(F){this._isNodeLoaded="true"===F,this._draw()}_draw(){if(this._isNodeLoaded){const F=JSON.parse(this._element.nativeElement.nodes);this.networkData$=this._transformDataService.networkData$,this._transformDataService.initNetworkData(F)}}onNodeDoubleClick(F){const L=this._transformDataService.getNodeDetail(F);if(L){const G={name:L.id,schemaName:L.schemaName};this._element.nativeElement.dispatchEvent(new CustomEvent("nodeClicked",{detail:{nodeData:G},bubbles:!0}))}}static{this.\u0275fac=function(L){return new(L||Ks)(ht.\u0275\u0275directiveInject(ht.ElementRef),ht.\u0275\u0275directiveInject(Ho))}}static{this.\u0275cmp=ht.\u0275\u0275defineComponent({type:Ks,selectors:[["ts-service-model-network"]],inputs:{isNodeLoaded:[ht.\u0275\u0275InputFlags.None,"is-nodes-loaded","isNodeLoaded"]},features:[ht.\u0275\u0275ProvidersFeature([Ho])],decls:2,vars:3,consts:[[3,"nodeDoubleClick","networkData"]],template:function(L,G){1&L&&(ht.\u0275\u0275elementStart(0,"ts-vis-network",0),ht.\u0275\u0275pipe(1,"async"),ht.\u0275\u0275listener("nodeDoubleClick",function(tt){return G.onNodeDoubleClick(tt)}),ht.\u0275\u0275elementEnd()),2&L&&ht.\u0275\u0275property("networkData",ht.\u0275\u0275pipeBind1(1,1,G.networkData$))},dependencies:[Ct,ei.AsyncPipe],encapsulation:3})}}class St{constructor(F){this._injector=F}ngDoBootstrap(){const F=(0,Pt.createCustomElement)(Ks,{injector:this._injector});customElements.get("ts-service-model-network")||customElements.define("ts-service-model-network",F)}static{this.\u0275fac=function(L){return new(L||St)(ht.\u0275\u0275inject(ht.Injector))}}static{this.\u0275mod=ht.\u0275\u0275defineNgModule({type:St})}static{this.\u0275inj=ht.\u0275\u0275defineInjector({imports:[Rr.BrowserModule,gr]})}}Rr.platformBrowser().bootstrapModule(St).catch(Z=>console.error(Z))})(),{}})());